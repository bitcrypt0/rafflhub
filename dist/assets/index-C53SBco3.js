var D8=Object.defineProperty;var O8=(t,e,r)=>e in t?D8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var _y=(t,e,r)=>O8(t,typeof e!="symbol"?e+"":e,r);function aM(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var L8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function El(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function aC(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var hw={exports:{}},op={},pw={exports:{}},Qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uN;function F8(){if(uN)return Qt;uN=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(O){return O===null||typeof O!="object"?null:(O=p&&O[p]||O["@@iterator"],typeof O=="function"?O:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,x={};function w(O,N,I){this.props=O,this.context=N,this.refs=x,this.updater=I||m}w.prototype.isReactComponent={},w.prototype.setState=function(O,N){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,N,"setState")},w.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function E(){}E.prototype=w.prototype;function P(O,N,I){this.props=O,this.context=N,this.refs=x,this.updater=I||m}var R=P.prototype=new E;R.constructor=P,v(R,w.prototype),R.isPureReactComponent=!0;var S=Array.isArray,B=Object.prototype.hasOwnProperty,$={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function G(O,N,I){var Q,z={},V=null,Y=null;if(N!=null)for(Q in N.ref!==void 0&&(Y=N.ref),N.key!==void 0&&(V=""+N.key),N)B.call(N,Q)&&!q.hasOwnProperty(Q)&&(z[Q]=N[Q]);var Z=arguments.length-2;if(Z===1)z.children=I;else if(1<Z){for(var ee=Array(Z),ae=0;ae<Z;ae++)ee[ae]=arguments[ae+2];z.children=ee}if(O&&O.defaultProps)for(Q in Z=O.defaultProps,Z)z[Q]===void 0&&(z[Q]=Z[Q]);return{$$typeof:t,type:O,key:V,ref:Y,props:z,_owner:$.current}}function H(O,N){return{$$typeof:t,type:O.type,key:N,ref:O.ref,props:O.props,_owner:O._owner}}function K(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function J(O){var N={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(I){return N[I]})}var W=/\/+/g;function F(O,N){return typeof O=="object"&&O!==null&&O.key!=null?J(""+O.key):N.toString(36)}function b(O,N,I,Q,z){var V=typeof O;(V==="undefined"||V==="boolean")&&(O=null);var Y=!1;if(O===null)Y=!0;else switch(V){case"string":case"number":Y=!0;break;case"object":switch(O.$$typeof){case t:case e:Y=!0}}if(Y)return Y=O,z=z(Y),O=Q===""?"."+F(Y,0):Q,S(z)?(I="",O!=null&&(I=O.replace(W,"$&/")+"/"),b(z,N,I,"",function(ae){return ae})):z!=null&&(K(z)&&(z=H(z,I+(!z.key||Y&&Y.key===z.key?"":(""+z.key).replace(W,"$&/")+"/")+O)),N.push(z)),1;if(Y=0,Q=Q===""?".":Q+":",S(O))for(var Z=0;Z<O.length;Z++){V=O[Z];var ee=Q+F(V,Z);Y+=b(V,N,I,ee,z)}else if(ee=g(O),typeof ee=="function")for(O=ee.call(O),Z=0;!(V=O.next()).done;)V=V.value,ee=Q+F(V,Z++),Y+=b(V,N,I,ee,z);else if(V==="object")throw N=String(O),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return Y}function A(O,N,I){if(O==null)return O;var Q=[],z=0;return b(O,Q,"","",function(V){return N.call(I,V,z++)}),Q}function D(O){if(O._status===-1){var N=O._result;N=N(),N.then(function(I){(O._status===0||O._status===-1)&&(O._status=1,O._result=I)},function(I){(O._status===0||O._status===-1)&&(O._status=2,O._result=I)}),O._status===-1&&(O._status=0,O._result=N)}if(O._status===1)return O._result.default;throw O._result}var j={current:null},k={transition:null},M={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:k,ReactCurrentOwner:$};function T(){throw Error("act(...) is not supported in production builds of React.")}return Qt.Children={map:A,forEach:function(O,N,I){A(O,function(){N.apply(this,arguments)},I)},count:function(O){var N=0;return A(O,function(){N++}),N},toArray:function(O){return A(O,function(N){return N})||[]},only:function(O){if(!K(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Qt.Component=w,Qt.Fragment=r,Qt.Profiler=i,Qt.PureComponent=P,Qt.StrictMode=n,Qt.Suspense=c,Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,Qt.act=T,Qt.cloneElement=function(O,N,I){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Q=v({},O.props),z=O.key,V=O.ref,Y=O._owner;if(N!=null){if(N.ref!==void 0&&(V=N.ref,Y=$.current),N.key!==void 0&&(z=""+N.key),O.type&&O.type.defaultProps)var Z=O.type.defaultProps;for(ee in N)B.call(N,ee)&&!q.hasOwnProperty(ee)&&(Q[ee]=N[ee]===void 0&&Z!==void 0?Z[ee]:N[ee])}var ee=arguments.length-2;if(ee===1)Q.children=I;else if(1<ee){Z=Array(ee);for(var ae=0;ae<ee;ae++)Z[ae]=arguments[ae+2];Q.children=Z}return{$$typeof:t,type:O.type,key:z,ref:V,props:Q,_owner:Y}},Qt.createContext=function(O){return O={$$typeof:o,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:s,_context:O},O.Consumer=O},Qt.createElement=G,Qt.createFactory=function(O){var N=G.bind(null,O);return N.type=O,N},Qt.createRef=function(){return{current:null}},Qt.forwardRef=function(O){return{$$typeof:a,render:O}},Qt.isValidElement=K,Qt.lazy=function(O){return{$$typeof:f,_payload:{_status:-1,_result:O},_init:D}},Qt.memo=function(O,N){return{$$typeof:d,type:O,compare:N===void 0?null:N}},Qt.startTransition=function(O){var N=k.transition;k.transition={};try{O()}finally{k.transition=N}},Qt.unstable_act=T,Qt.useCallback=function(O,N){return j.current.useCallback(O,N)},Qt.useContext=function(O){return j.current.useContext(O)},Qt.useDebugValue=function(){},Qt.useDeferredValue=function(O){return j.current.useDeferredValue(O)},Qt.useEffect=function(O,N){return j.current.useEffect(O,N)},Qt.useId=function(){return j.current.useId()},Qt.useImperativeHandle=function(O,N,I){return j.current.useImperativeHandle(O,N,I)},Qt.useInsertionEffect=function(O,N){return j.current.useInsertionEffect(O,N)},Qt.useLayoutEffect=function(O,N){return j.current.useLayoutEffect(O,N)},Qt.useMemo=function(O,N){return j.current.useMemo(O,N)},Qt.useReducer=function(O,N,I){return j.current.useReducer(O,N,I)},Qt.useRef=function(O){return j.current.useRef(O)},Qt.useState=function(O){return j.current.useState(O)},Qt.useSyncExternalStore=function(O,N,I){return j.current.useSyncExternalStore(O,N,I)},Qt.useTransition=function(){return j.current.useTransition()},Qt.version="18.3.1",Qt}var dN;function lC(){return dN||(dN=1,pw.exports=F8()),pw.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fN;function z8(){if(fN)return op;fN=1;var t=lC(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,c,d){var f,p={},g=null,m=null;d!==void 0&&(g=""+d),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(m=c.ref);for(f in c)n.call(c,f)&&!s.hasOwnProperty(f)&&(p[f]=c[f]);if(a&&a.defaultProps)for(f in c=a.defaultProps,c)p[f]===void 0&&(p[f]=c[f]);return{$$typeof:e,type:a,key:g,ref:m,props:p,_owner:i.current}}return op.Fragment=r,op.jsx=o,op.jsxs=o,op}var hN;function B8(){return hN||(hN=1,hw.exports=z8()),hw.exports}var l=B8(),C=lC();const be=El(C),cC=aM({__proto__:null,default:be},[C]);var Cy={},mw={exports:{}},os={},gw={exports:{}},yw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pN;function $8(){return pN||(pN=1,function(t){function e(k,M){var T=k.length;k.push(M);e:for(;0<T;){var O=T-1>>>1,N=k[O];if(0<i(N,M))k[O]=M,k[T]=N,T=O;else break e}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var M=k[0],T=k.pop();if(T!==M){k[0]=T;e:for(var O=0,N=k.length,I=N>>>1;O<I;){var Q=2*(O+1)-1,z=k[Q],V=Q+1,Y=k[V];if(0>i(z,T))V<N&&0>i(Y,z)?(k[O]=Y,k[V]=T,O=V):(k[O]=z,k[Q]=T,O=Q);else if(V<N&&0>i(Y,T))k[O]=Y,k[V]=T,O=V;else break e}}return M}function i(k,M){var T=k.sortIndex-M.sortIndex;return T!==0?T:k.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],f=1,p=null,g=3,m=!1,v=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(k){for(var M=r(d);M!==null;){if(M.callback===null)n(d);else if(M.startTime<=k)n(d),M.sortIndex=M.expirationTime,e(c,M);else break;M=r(d)}}function S(k){if(x=!1,R(k),!v)if(r(c)!==null)v=!0,D(B);else{var M=r(d);M!==null&&j(S,M.startTime-k)}}function B(k,M){v=!1,x&&(x=!1,E(G),G=-1),m=!0;var T=g;try{for(R(M),p=r(c);p!==null&&(!(p.expirationTime>M)||k&&!J());){var O=p.callback;if(typeof O=="function"){p.callback=null,g=p.priorityLevel;var N=O(p.expirationTime<=M);M=t.unstable_now(),typeof N=="function"?p.callback=N:p===r(c)&&n(c),R(M)}else n(c);p=r(c)}if(p!==null)var I=!0;else{var Q=r(d);Q!==null&&j(S,Q.startTime-M),I=!1}return I}finally{p=null,g=T,m=!1}}var $=!1,q=null,G=-1,H=5,K=-1;function J(){return!(t.unstable_now()-K<H)}function W(){if(q!==null){var k=t.unstable_now();K=k;var M=!0;try{M=q(!0,k)}finally{M?F():($=!1,q=null)}}else $=!1}var F;if(typeof P=="function")F=function(){P(W)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,A=b.port2;b.port1.onmessage=W,F=function(){A.postMessage(null)}}else F=function(){w(W,0)};function D(k){q=k,$||($=!0,F())}function j(k,M){G=w(function(){k(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,D(B))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(k){switch(g){case 1:case 2:case 3:var M=3;break;default:M=g}var T=g;g=M;try{return k()}finally{g=T}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,M){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var T=g;g=k;try{return M()}finally{g=T}},t.unstable_scheduleCallback=function(k,M,T){var O=t.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?O+T:O):T=O,k){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=T+N,k={id:f++,callback:M,priorityLevel:k,startTime:T,expirationTime:N,sortIndex:-1},T>O?(k.sortIndex=T,e(d,k),r(c)===null&&k===r(d)&&(x?(E(G),G=-1):x=!0,j(S,T-O))):(k.sortIndex=N,e(c,k),v||m||(v=!0,D(B))),k},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(k){var M=g;return function(){var T=g;g=M;try{return k.apply(this,arguments)}finally{g=T}}}}(yw)),yw}var mN;function U8(){return mN||(mN=1,gw.exports=$8()),gw.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gN;function V8(){if(gN)return os;gN=1;var t=lC(),e=U8();function r(u){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+u,y=1;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(u,h){o(u,h),o(u+"Capture",h)}function o(u,h){for(i[u]=h,u=0;u<h.length;u++)n.add(h[u])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(u){return c.call(p,u)?!0:c.call(f,u)?!1:d.test(u)?p[u]=!0:(f[u]=!0,!1)}function m(u,h,y,_){if(y!==null&&y.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return _?!1:y!==null?!y.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function v(u,h,y,_){if(h===null||typeof h>"u"||m(u,h,y,_))return!0;if(_)return!1;if(y!==null)switch(y.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function x(u,h,y,_,L,U,X){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=_,this.attributeNamespace=L,this.mustUseProperty=y,this.propertyName=u,this.type=h,this.sanitizeURL=U,this.removeEmptyString=X}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){w[u]=new x(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var h=u[0];w[h]=new x(h,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){w[u]=new x(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){w[u]=new x(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){w[u]=new x(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){w[u]=new x(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){w[u]=new x(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){w[u]=new x(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){w[u]=new x(u,5,!1,u.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function P(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var h=u.replace(E,P);w[h]=new x(h,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var h=u.replace(E,P);w[h]=new x(h,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var h=u.replace(E,P);w[h]=new x(h,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){w[u]=new x(u,1,!1,u.toLowerCase(),null,!1,!1)}),w.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){w[u]=new x(u,1,!1,u.toLowerCase(),null,!0,!0)});function R(u,h,y,_){var L=w.hasOwnProperty(h)?w[h]:null;(L!==null?L.type!==0:_||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(v(h,y,L,_)&&(y=null),_||L===null?g(h)&&(y===null?u.removeAttribute(h):u.setAttribute(h,""+y)):L.mustUseProperty?u[L.propertyName]=y===null?L.type===3?!1:"":y:(h=L.attributeName,_=L.attributeNamespace,y===null?u.removeAttribute(h):(L=L.type,y=L===3||L===4&&y===!0?"":""+y,_?u.setAttributeNS(_,h,y):u.setAttribute(h,y))))}var S=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),$=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),J=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),k=Symbol.iterator;function M(u){return u===null||typeof u!="object"?null:(u=k&&u[k]||u["@@iterator"],typeof u=="function"?u:null)}var T=Object.assign,O;function N(u){if(O===void 0)try{throw Error()}catch(y){var h=y.stack.trim().match(/\n( *(at )?)/);O=h&&h[1]||""}return`
`+O+u}var I=!1;function Q(u,h){if(!u||I)return"";I=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(ge){var _=ge}Reflect.construct(u,[],h)}else{try{h.call()}catch(ge){_=ge}u.call(h.prototype)}else{try{throw Error()}catch(ge){_=ge}u()}}catch(ge){if(ge&&_&&typeof ge.stack=="string"){for(var L=ge.stack.split(`
`),U=_.stack.split(`
`),X=L.length-1,re=U.length-1;1<=X&&0<=re&&L[X]!==U[re];)re--;for(;1<=X&&0<=re;X--,re--)if(L[X]!==U[re]){if(X!==1||re!==1)do if(X--,re--,0>re||L[X]!==U[re]){var ie=`
`+L[X].replace(" at new "," at ");return u.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",u.displayName)),ie}while(1<=X&&0<=re);break}}}finally{I=!1,Error.prepareStackTrace=y}return(u=u?u.displayName||u.name:"")?N(u):""}function z(u){switch(u.tag){case 5:return N(u.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return u=Q(u.type,!1),u;case 11:return u=Q(u.type.render,!1),u;case 1:return u=Q(u.type,!0),u;default:return""}}function V(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case q:return"Fragment";case $:return"Portal";case H:return"Profiler";case G:return"StrictMode";case F:return"Suspense";case b:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case J:return(u.displayName||"Context")+".Consumer";case K:return(u._context.displayName||"Context")+".Provider";case W:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case A:return h=u.displayName||null,h!==null?h:V(u.type)||"Memo";case D:h=u._payload,u=u._init;try{return V(u(h))}catch{}}return null}function Y(u){var h=u.type;switch(u.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=h.render,u=u.displayName||u.name||"",h.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(h);case 8:return h===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function Z(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function ee(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function ae(u){var h=ee(u)?"checked":"value",y=Object.getOwnPropertyDescriptor(u.constructor.prototype,h),_=""+u[h];if(!u.hasOwnProperty(h)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var L=y.get,U=y.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return L.call(this)},set:function(X){_=""+X,U.call(this,X)}}),Object.defineProperty(u,h,{enumerable:y.enumerable}),{getValue:function(){return _},setValue:function(X){_=""+X},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function ne(u){u._valueTracker||(u._valueTracker=ae(u))}function de(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var y=h.getValue(),_="";return u&&(_=ee(u)?u.checked?"true":"false":u.value),u=_,u!==y?(h.setValue(u),!0):!1}function xe(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function me(u,h){var y=h.checked;return T({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??u._wrapperState.initialChecked})}function Ce(u,h){var y=h.defaultValue==null?"":h.defaultValue,_=h.checked!=null?h.checked:h.defaultChecked;y=Z(h.value!=null?h.value:y),u._wrapperState={initialChecked:_,initialValue:y,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function ct(u,h){h=h.checked,h!=null&&R(u,"checked",h,!1)}function le(u,h){ct(u,h);var y=Z(h.value),_=h.type;if(y!=null)_==="number"?(y===0&&u.value===""||u.value!=y)&&(u.value=""+y):u.value!==""+y&&(u.value=""+y);else if(_==="submit"||_==="reset"){u.removeAttribute("value");return}h.hasOwnProperty("value")?jt(u,h.type,y):h.hasOwnProperty("defaultValue")&&jt(u,h.type,Z(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(u.defaultChecked=!!h.defaultChecked)}function Ye(u,h,y){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var _=h.type;if(!(_!=="submit"&&_!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+u._wrapperState.initialValue,y||h===u.value||(u.value=h),u.defaultValue=h}y=u.name,y!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,y!==""&&(u.name=y)}function jt(u,h,y){(h!=="number"||xe(u.ownerDocument)!==u)&&(y==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+y&&(u.defaultValue=""+y))}var it=Array.isArray;function De(u,h,y,_){if(u=u.options,h){h={};for(var L=0;L<y.length;L++)h["$"+y[L]]=!0;for(y=0;y<u.length;y++)L=h.hasOwnProperty("$"+u[y].value),u[y].selected!==L&&(u[y].selected=L),L&&_&&(u[y].defaultSelected=!0)}else{for(y=""+Z(y),h=null,L=0;L<u.length;L++){if(u[L].value===y){u[L].selected=!0,_&&(u[L].defaultSelected=!0);return}h!==null||u[L].disabled||(h=u[L])}h!==null&&(h.selected=!0)}}function Jt(u,h){if(h.dangerouslySetInnerHTML!=null)throw Error(r(91));return T({},h,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function st(u,h){var y=h.value;if(y==null){if(y=h.children,h=h.defaultValue,y!=null){if(h!=null)throw Error(r(92));if(it(y)){if(1<y.length)throw Error(r(93));y=y[0]}h=y}h==null&&(h=""),y=h}u._wrapperState={initialValue:Z(y)}}function ft(u,h){var y=Z(h.value),_=Z(h.defaultValue);y!=null&&(y=""+y,y!==u.value&&(u.value=y),h.defaultValue==null&&u.defaultValue!==y&&(u.defaultValue=y)),_!=null&&(u.defaultValue=""+_)}function Ie(u){var h=u.textContent;h===u._wrapperState.initialValue&&h!==""&&h!==null&&(u.value=h)}function se(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(u,h){return u==null||u==="http://www.w3.org/1999/xhtml"?se(h):u==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var Le,Ae=function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,y,_,L){MSApp.execUnsafeLocalFunction(function(){return u(h,y,_,L)})}:u}(function(u,h){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=h;else{for(Le=Le||document.createElement("div"),Le.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=Le.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;h.firstChild;)u.appendChild(h.firstChild)}});function Me(u,h){if(h){var y=u.firstChild;if(y&&y===u.lastChild&&y.nodeType===3){y.nodeValue=h;return}}u.textContent=h}var Gt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xe=["Webkit","ms","Moz","O"];Object.keys(Gt).forEach(function(u){Xe.forEach(function(h){h=h+u.charAt(0).toUpperCase()+u.substring(1),Gt[h]=Gt[u]})});function _t(u,h,y){return h==null||typeof h=="boolean"||h===""?"":y||typeof h!="number"||h===0||Gt.hasOwnProperty(u)&&Gt[u]?(""+h).trim():h+"px"}function Wt(u,h){u=u.style;for(var y in h)if(h.hasOwnProperty(y)){var _=y.indexOf("--")===0,L=_t(y,h[y],_);y==="float"&&(y="cssFloat"),_?u.setProperty(y,L):u[y]=L}}var Ct=T({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rt(u,h){if(h){if(Ct[u]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(r(137,u));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(r(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(r(61))}if(h.style!=null&&typeof h.style!="object")throw Error(r(62))}}function Xt(u,h){if(u.indexOf("-")===-1)return typeof h.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xt=null;function Fe(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Vr=null,Tt=null,St=null;function pr(u){if(u=qh(u)){if(typeof Vr!="function")throw Error(r(280));var h=u.stateNode;h&&(h=Fg(h),Vr(u.stateNode,u.type,h))}}function qt(u){Tt?St?St.push(u):St=[u]:Tt=u}function Pe(){if(Tt){var u=Tt,h=St;if(St=Tt=null,pr(u),h)for(u=0;u<h.length;u++)pr(h[u])}}function yt(u,h){return u(h)}function ot(){}var Re=!1;function Be(u,h,y){if(Re)return u(h,y);Re=!0;try{return yt(u,h,y)}finally{Re=!1,(Tt!==null||St!==null)&&(ot(),Pe())}}function ze(u,h){var y=u.stateNode;if(y===null)return null;var _=Fg(y);if(_===null)return null;y=_[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(u=u.type,_=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!_;break e;default:u=!1}if(u)return null;if(y&&typeof y!="function")throw Error(r(231,h,typeof y));return y}var we=!1;if(a)try{var Ue={};Object.defineProperty(Ue,"passive",{get:function(){we=!0}}),window.addEventListener("test",Ue,Ue),window.removeEventListener("test",Ue,Ue)}catch{we=!1}function Te(u,h,y,_,L,U,X,re,ie){var ge=Array.prototype.slice.call(arguments,3);try{h.apply(y,ge)}catch(Se){this.onError(Se)}}var Oe=!1,mr=null,Ge=!1,pt=null,Nr={onError:function(u){Oe=!0,mr=u}};function vt(u,h,y,_,L,U,X,re,ie){Oe=!1,mr=null,Te.apply(Nr,arguments)}function mt(u,h,y,_,L,U,X,re,ie){if(vt.apply(this,arguments),Oe){if(Oe){var ge=mr;Oe=!1,mr=null}else throw Error(r(198));Ge||(Ge=!0,pt=ge)}}function Ot(u){var h=u,y=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(y=h.return),u=h.return;while(u)}return h.tag===3?y:null}function zt(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function gt(u){if(Ot(u)!==u)throw Error(r(188))}function Mr(u){var h=u.alternate;if(!h){if(h=Ot(u),h===null)throw Error(r(188));return h!==u?null:u}for(var y=u,_=h;;){var L=y.return;if(L===null)break;var U=L.alternate;if(U===null){if(_=L.return,_!==null){y=_;continue}break}if(L.child===U.child){for(U=L.child;U;){if(U===y)return gt(L),u;if(U===_)return gt(L),h;U=U.sibling}throw Error(r(188))}if(y.return!==_.return)y=L,_=U;else{for(var X=!1,re=L.child;re;){if(re===y){X=!0,y=L,_=U;break}if(re===_){X=!0,_=L,y=U;break}re=re.sibling}if(!X){for(re=U.child;re;){if(re===y){X=!0,y=U,_=L;break}if(re===_){X=!0,_=U,y=L;break}re=re.sibling}if(!X)throw Error(r(189))}}if(y.alternate!==_)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?u:h}function Gr(u){return u=Mr(u),u!==null?vr(u):null}function vr(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var h=vr(u);if(h!==null)return h;u=u.sibling}return null}var kr=e.unstable_scheduleCallback,_r=e.unstable_cancelCallback,Di=e.unstable_shouldYield,Qi=e.unstable_requestPaint,Lt=e.unstable_now,Sr=e.unstable_getCurrentPriorityLevel,zn=e.unstable_ImmediatePriority,To=e.unstable_UserBlockingPriority,hi=e.unstable_NormalPriority,pi=e.unstable_LowPriority,Zr=e.unstable_IdlePriority,Hn=null,mn=null;function mi(u){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(Hn,u,void 0,(u.current.flags&128)===128)}catch{}}var ri=Math.clz32?Math.clz32:Bv,Vc=Math.log,zv=Math.LN2;function Bv(u){return u>>>=0,u===0?32:31-(Vc(u)/zv|0)|0}var wd=64,kd=4194304;function aa(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Wc(u,h){var y=u.pendingLanes;if(y===0)return 0;var _=0,L=u.suspendedLanes,U=u.pingedLanes,X=y&268435455;if(X!==0){var re=X&~L;re!==0?_=aa(re):(U&=X,U!==0&&(_=aa(U)))}else X=y&~L,X!==0?_=aa(X):U!==0&&(_=aa(U));if(_===0)return 0;if(h!==0&&h!==_&&(h&L)===0&&(L=_&-_,U=h&-h,L>=U||L===16&&(U&4194240)!==0))return h;if((_&4)!==0&&(_|=y&16),h=u.entangledLanes,h!==0)for(u=u.entanglements,h&=_;0<h;)y=31-ri(h),L=1<<y,_|=u[y],h&=~L;return _}function Cg(u,h){switch(u){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sg(u,h){for(var y=u.suspendedLanes,_=u.pingedLanes,L=u.expirationTimes,U=u.pendingLanes;0<U;){var X=31-ri(U),re=1<<X,ie=L[X];ie===-1?((re&y)===0||(re&_)!==0)&&(L[X]=Cg(re,h)):ie<=h&&(u.expiredLanes|=re),U&=~re}}function _d(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function ve(){var u=wd;return wd<<=1,(wd&4194240)===0&&(wd=64),u}function ye(u){for(var h=[],y=0;31>y;y++)h.push(u);return h}function Ve(u,h,y){u.pendingLanes|=h,h!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,h=31-ri(h),u[h]=y}function Bt(u,h){var y=u.pendingLanes&~h;u.pendingLanes=h,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=h,u.mutableReadLanes&=h,u.entangledLanes&=h,h=u.entanglements;var _=u.eventTimes;for(u=u.expirationTimes;0<y;){var L=31-ri(y),U=1<<L;h[L]=0,_[L]=-1,u[L]=-1,y&=~U}}function or(u,h){var y=u.entangledLanes|=h;for(u=u.entanglements;y;){var _=31-ri(y),L=1<<_;L&h|u[_]&h&&(u[_]|=h),y&=~L}}var Nt=0;function En(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var Zi,No,ni,bs,jh,ar=!1,Cd=[],Ao=null,jo=null,la=null,qc=new Map,Hc=new Map,ca=[],$v="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Eg(u,h){switch(u){case"focusin":case"focusout":Ao=null;break;case"dragenter":case"dragleave":jo=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":qc.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hc.delete(h.pointerId)}}function Gc(u,h,y,_,L,U){return u===null||u.nativeEvent!==U?(u={blockedOn:h,domEventName:y,eventSystemFlags:_,nativeEvent:U,targetContainers:[L]},h!==null&&(h=qh(h),h!==null&&No(h)),u):(u.eventSystemFlags|=_,h=u.targetContainers,L!==null&&h.indexOf(L)===-1&&h.push(L),u)}function Uv(u,h,y,_,L){switch(h){case"focusin":return Ao=Gc(Ao,u,h,y,_,L),!0;case"dragenter":return jo=Gc(jo,u,h,y,_,L),!0;case"mouseover":return la=Gc(la,u,h,y,_,L),!0;case"pointerover":var U=L.pointerId;return qc.set(U,Gc(qc.get(U)||null,u,h,y,_,L)),!0;case"gotpointercapture":return U=L.pointerId,Hc.set(U,Gc(Hc.get(U)||null,u,h,y,_,L)),!0}return!1}function Tg(u){var h=Zc(u.target);if(h!==null){var y=Ot(h);if(y!==null){if(h=y.tag,h===13){if(h=zt(y),h!==null){u.blockedOn=h,jh(u.priority,function(){ni(y)});return}}else if(h===3&&y.stateNode.current.memoizedState.isDehydrated){u.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Ha(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var y=Mh(u.domEventName,u.eventSystemFlags,h[0],u.nativeEvent);if(y===null){y=u.nativeEvent;var _=new y.constructor(y.type,y);xt=_,y.target.dispatchEvent(_),xt=null}else return h=qh(y),h!==null&&No(h),u.blockedOn=y,!1;h.shift()}return!0}function Ph(u,h,y){Ha(u)&&y.delete(h)}function Ng(){ar=!1,Ao!==null&&Ha(Ao)&&(Ao=null),jo!==null&&Ha(jo)&&(jo=null),la!==null&&Ha(la)&&(la=null),qc.forEach(Ph),Hc.forEach(Ph)}function Kc(u,h){u.blockedOn===h&&(u.blockedOn=null,ar||(ar=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ng)))}function Yc(u){function h(L){return Kc(L,u)}if(0<Cd.length){Kc(Cd[0],u);for(var y=1;y<Cd.length;y++){var _=Cd[y];_.blockedOn===u&&(_.blockedOn=null)}}for(Ao!==null&&Kc(Ao,u),jo!==null&&Kc(jo,u),la!==null&&Kc(la,u),qc.forEach(h),Hc.forEach(h),y=0;y<ca.length;y++)_=ca[y],_.blockedOn===u&&(_.blockedOn=null);for(;0<ca.length&&(y=ca[0],y.blockedOn===null);)Tg(y),y.blockedOn===null&&ca.shift()}var ua=S.ReactCurrentBatchConfig,Sd=!0;function Vv(u,h,y,_){var L=Nt,U=ua.transition;ua.transition=null;try{Nt=1,Rh(u,h,y,_)}finally{Nt=L,ua.transition=U}}function Wv(u,h,y,_){var L=Nt,U=ua.transition;ua.transition=null;try{Nt=4,Rh(u,h,y,_)}finally{Nt=L,ua.transition=U}}function Rh(u,h,y,_){if(Sd){var L=Mh(u,h,y,_);if(L===null)nb(u,h,_,Ih,y),Eg(u,_);else if(Uv(L,u,h,y,_))_.stopPropagation();else if(Eg(u,_),h&4&&-1<$v.indexOf(u)){for(;L!==null;){var U=qh(L);if(U!==null&&Zi(U),U=Mh(u,h,y,_),U===null&&nb(u,h,_,Ih,y),U===L)break;L=U}L!==null&&_.stopPropagation()}else nb(u,h,_,null,y)}}var Ih=null;function Mh(u,h,y,_){if(Ih=null,u=Fe(_),u=Zc(u),u!==null)if(h=Ot(u),h===null)u=null;else if(y=h.tag,y===13){if(u=zt(h),u!==null)return u;u=null}else if(y===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null);return Ih=u,null}function Dh(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sr()){case zn:return 1;case To:return 4;case hi:case pi:return 16;case Zr:return 536870912;default:return 16}default:return 16}}var ws=null,Dl=null,da=null;function Ag(){if(da)return da;var u,h=Dl,y=h.length,_,L="value"in ws?ws.value:ws.textContent,U=L.length;for(u=0;u<y&&h[u]===L[u];u++);var X=y-u;for(_=1;_<=X&&h[y-_]===L[U-_];_++);return da=L.slice(u,1<_?1-_:void 0)}function Ed(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function Ga(){return!0}function Jc(){return!1}function gi(u){function h(y,_,L,U,X){this._reactName=y,this._targetInst=L,this.type=_,this.nativeEvent=U,this.target=X,this.currentTarget=null;for(var re in u)u.hasOwnProperty(re)&&(y=u[re],this[re]=y?y(U):U[re]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?Ga:Jc,this.isPropagationStopped=Jc,this}return T(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Ga)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Ga)},persist:function(){},isPersistent:Ga}),h}var Xc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jg=gi(Xc),Qc=T({},Xc,{view:0,detail:0}),fa=gi(Qc),Oi,Td,Dr,es=T({},Qc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hv,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Dr&&(Dr&&u.type==="mousemove"?(Oi=u.screenX-Dr.screenX,Td=u.screenY-Dr.screenY):Td=Oi=0,Dr=u),Oi)},movementY:function(u){return"movementY"in u?u.movementY:Td}}),Ol=gi(es),cB=T({},es,{dataTransfer:0}),uB=gi(cB),dB=T({},Qc,{relatedTarget:0}),qv=gi(dB),fB=T({},Xc,{animationName:0,elapsedTime:0,pseudoElement:0}),hB=gi(fB),pB=T({},Xc,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),mB=gi(pB),gB=T({},Xc,{data:0}),eE=gi(gB),yB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bB(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=vB[u])?!!h[u]:!1}function Hv(){return bB}var wB=T({},Qc,{key:function(u){if(u.key){var h=yB[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=Ed(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?xB[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hv,charCode:function(u){return u.type==="keypress"?Ed(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Ed(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),kB=gi(wB),_B=T({},es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tE=gi(_B),CB=T({},Qc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hv}),SB=gi(CB),EB=T({},Xc,{propertyName:0,elapsedTime:0,pseudoElement:0}),TB=gi(EB),NB=T({},es,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),AB=gi(NB),jB=[9,13,27,32],Gv=a&&"CompositionEvent"in window,Oh=null;a&&"documentMode"in document&&(Oh=document.documentMode);var PB=a&&"TextEvent"in window&&!Oh,rE=a&&(!Gv||Oh&&8<Oh&&11>=Oh),nE=" ",iE=!1;function sE(u,h){switch(u){case"keyup":return jB.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oE(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Nd=!1;function RB(u,h){switch(u){case"compositionend":return oE(h);case"keypress":return h.which!==32?null:(iE=!0,nE);case"textInput":return u=h.data,u===nE&&iE?null:u;default:return null}}function IB(u,h){if(Nd)return u==="compositionend"||!Gv&&sE(u,h)?(u=Ag(),da=Dl=ws=null,Nd=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return rE&&h.locale!=="ko"?null:h.data;default:return null}}var MB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aE(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!MB[u.type]:h==="textarea"}function lE(u,h,y,_){qt(_),h=Dg(h,"onChange"),0<h.length&&(y=new jg("onChange","change",null,y,_),u.push({event:y,listeners:h}))}var Lh=null,Fh=null;function DB(u){EE(u,0)}function Pg(u){var h=Id(u);if(de(h))return u}function OB(u,h){if(u==="change")return h}var cE=!1;if(a){var Kv;if(a){var Yv="oninput"in document;if(!Yv){var uE=document.createElement("div");uE.setAttribute("oninput","return;"),Yv=typeof uE.oninput=="function"}Kv=Yv}else Kv=!1;cE=Kv&&(!document.documentMode||9<document.documentMode)}function dE(){Lh&&(Lh.detachEvent("onpropertychange",fE),Fh=Lh=null)}function fE(u){if(u.propertyName==="value"&&Pg(Fh)){var h=[];lE(h,Fh,u,Fe(u)),Be(DB,h)}}function LB(u,h,y){u==="focusin"?(dE(),Lh=h,Fh=y,Lh.attachEvent("onpropertychange",fE)):u==="focusout"&&dE()}function FB(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Pg(Fh)}function zB(u,h){if(u==="click")return Pg(h)}function BB(u,h){if(u==="input"||u==="change")return Pg(h)}function $B(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var Po=typeof Object.is=="function"?Object.is:$B;function zh(u,h){if(Po(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var y=Object.keys(u),_=Object.keys(h);if(y.length!==_.length)return!1;for(_=0;_<y.length;_++){var L=y[_];if(!c.call(h,L)||!Po(u[L],h[L]))return!1}return!0}function hE(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function pE(u,h){var y=hE(u);u=0;for(var _;y;){if(y.nodeType===3){if(_=u+y.textContent.length,u<=h&&_>=h)return{node:y,offset:h-u};u=_}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=hE(y)}}function mE(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?mE(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function gE(){for(var u=window,h=xe();h instanceof u.HTMLIFrameElement;){try{var y=typeof h.contentWindow.location.href=="string"}catch{y=!1}if(y)u=h.contentWindow;else break;h=xe(u.document)}return h}function Jv(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}function UB(u){var h=gE(),y=u.focusedElem,_=u.selectionRange;if(h!==y&&y&&y.ownerDocument&&mE(y.ownerDocument.documentElement,y)){if(_!==null&&Jv(y)){if(h=_.start,u=_.end,u===void 0&&(u=h),"selectionStart"in y)y.selectionStart=h,y.selectionEnd=Math.min(u,y.value.length);else if(u=(h=y.ownerDocument||document)&&h.defaultView||window,u.getSelection){u=u.getSelection();var L=y.textContent.length,U=Math.min(_.start,L);_=_.end===void 0?U:Math.min(_.end,L),!u.extend&&U>_&&(L=_,_=U,U=L),L=pE(y,U);var X=pE(y,_);L&&X&&(u.rangeCount!==1||u.anchorNode!==L.node||u.anchorOffset!==L.offset||u.focusNode!==X.node||u.focusOffset!==X.offset)&&(h=h.createRange(),h.setStart(L.node,L.offset),u.removeAllRanges(),U>_?(u.addRange(h),u.extend(X.node,X.offset)):(h.setEnd(X.node,X.offset),u.addRange(h)))}}for(h=[],u=y;u=u.parentNode;)u.nodeType===1&&h.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<h.length;y++)u=h[y],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var VB=a&&"documentMode"in document&&11>=document.documentMode,Ad=null,Xv=null,Bh=null,Qv=!1;function yE(u,h,y){var _=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;Qv||Ad==null||Ad!==xe(_)||(_=Ad,"selectionStart"in _&&Jv(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),Bh&&zh(Bh,_)||(Bh=_,_=Dg(Xv,"onSelect"),0<_.length&&(h=new jg("onSelect","select",null,h,y),u.push({event:h,listeners:_}),h.target=Ad)))}function Rg(u,h){var y={};return y[u.toLowerCase()]=h.toLowerCase(),y["Webkit"+u]="webkit"+h,y["Moz"+u]="moz"+h,y}var jd={animationend:Rg("Animation","AnimationEnd"),animationiteration:Rg("Animation","AnimationIteration"),animationstart:Rg("Animation","AnimationStart"),transitionend:Rg("Transition","TransitionEnd")},Zv={},xE={};a&&(xE=document.createElement("div").style,"AnimationEvent"in window||(delete jd.animationend.animation,delete jd.animationiteration.animation,delete jd.animationstart.animation),"TransitionEvent"in window||delete jd.transitionend.transition);function Ig(u){if(Zv[u])return Zv[u];if(!jd[u])return u;var h=jd[u],y;for(y in h)if(h.hasOwnProperty(y)&&y in xE)return Zv[u]=h[y];return u}var vE=Ig("animationend"),bE=Ig("animationiteration"),wE=Ig("animationstart"),kE=Ig("transitionend"),_E=new Map,CE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ll(u,h){_E.set(u,h),s(h,[u])}for(var eb=0;eb<CE.length;eb++){var tb=CE[eb],WB=tb.toLowerCase(),qB=tb[0].toUpperCase()+tb.slice(1);Ll(WB,"on"+qB)}Ll(vE,"onAnimationEnd"),Ll(bE,"onAnimationIteration"),Ll(wE,"onAnimationStart"),Ll("dblclick","onDoubleClick"),Ll("focusin","onFocus"),Ll("focusout","onBlur"),Ll(kE,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $h="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HB=new Set("cancel close invalid load scroll toggle".split(" ").concat($h));function SE(u,h,y){var _=u.type||"unknown-event";u.currentTarget=y,mt(_,h,void 0,u),u.currentTarget=null}function EE(u,h){h=(h&4)!==0;for(var y=0;y<u.length;y++){var _=u[y],L=_.event;_=_.listeners;e:{var U=void 0;if(h)for(var X=_.length-1;0<=X;X--){var re=_[X],ie=re.instance,ge=re.currentTarget;if(re=re.listener,ie!==U&&L.isPropagationStopped())break e;SE(L,re,ge),U=ie}else for(X=0;X<_.length;X++){if(re=_[X],ie=re.instance,ge=re.currentTarget,re=re.listener,ie!==U&&L.isPropagationStopped())break e;SE(L,re,ge),U=ie}}}if(Ge)throw u=pt,Ge=!1,pt=null,u}function Wr(u,h){var y=h[cb];y===void 0&&(y=h[cb]=new Set);var _=u+"__bubble";y.has(_)||(TE(h,u,2,!1),y.add(_))}function rb(u,h,y){var _=0;h&&(_|=4),TE(y,u,_,h)}var Mg="_reactListening"+Math.random().toString(36).slice(2);function Uh(u){if(!u[Mg]){u[Mg]=!0,n.forEach(function(y){y!=="selectionchange"&&(HB.has(y)||rb(y,!1,u),rb(y,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[Mg]||(h[Mg]=!0,rb("selectionchange",!1,h))}}function TE(u,h,y,_){switch(Dh(h)){case 1:var L=Vv;break;case 4:L=Wv;break;default:L=Rh}y=L.bind(null,h,y,u),L=void 0,!we||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(L=!0),_?L!==void 0?u.addEventListener(h,y,{capture:!0,passive:L}):u.addEventListener(h,y,!0):L!==void 0?u.addEventListener(h,y,{passive:L}):u.addEventListener(h,y,!1)}function nb(u,h,y,_,L){var U=_;if((h&1)===0&&(h&2)===0&&_!==null)e:for(;;){if(_===null)return;var X=_.tag;if(X===3||X===4){var re=_.stateNode.containerInfo;if(re===L||re.nodeType===8&&re.parentNode===L)break;if(X===4)for(X=_.return;X!==null;){var ie=X.tag;if((ie===3||ie===4)&&(ie=X.stateNode.containerInfo,ie===L||ie.nodeType===8&&ie.parentNode===L))return;X=X.return}for(;re!==null;){if(X=Zc(re),X===null)return;if(ie=X.tag,ie===5||ie===6){_=U=X;continue e}re=re.parentNode}}_=_.return}Be(function(){var ge=U,Se=Fe(y),Ee=[];e:{var _e=_E.get(u);if(_e!==void 0){var We=jg,Ze=u;switch(u){case"keypress":if(Ed(y)===0)break e;case"keydown":case"keyup":We=kB;break;case"focusin":Ze="focus",We=qv;break;case"focusout":Ze="blur",We=qv;break;case"beforeblur":case"afterblur":We=qv;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":We=Ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":We=uB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":We=SB;break;case vE:case bE:case wE:We=hB;break;case kE:We=TB;break;case"scroll":We=fa;break;case"wheel":We=AB;break;case"copy":case"cut":case"paste":We=mB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":We=tE}var nt=(h&4)!==0,gn=!nt&&u==="scroll",fe=nt?_e!==null?_e+"Capture":null:_e;nt=[];for(var ce=ge,pe;ce!==null;){pe=ce;var je=pe.stateNode;if(pe.tag===5&&je!==null&&(pe=je,fe!==null&&(je=ze(ce,fe),je!=null&&nt.push(Vh(ce,je,pe)))),gn)break;ce=ce.return}0<nt.length&&(_e=new We(_e,Ze,null,y,Se),Ee.push({event:_e,listeners:nt}))}}if((h&7)===0){e:{if(_e=u==="mouseover"||u==="pointerover",We=u==="mouseout"||u==="pointerout",_e&&y!==xt&&(Ze=y.relatedTarget||y.fromElement)&&(Zc(Ze)||Ze[Ka]))break e;if((We||_e)&&(_e=Se.window===Se?Se:(_e=Se.ownerDocument)?_e.defaultView||_e.parentWindow:window,We?(Ze=y.relatedTarget||y.toElement,We=ge,Ze=Ze?Zc(Ze):null,Ze!==null&&(gn=Ot(Ze),Ze!==gn||Ze.tag!==5&&Ze.tag!==6)&&(Ze=null)):(We=null,Ze=ge),We!==Ze)){if(nt=Ol,je="onMouseLeave",fe="onMouseEnter",ce="mouse",(u==="pointerout"||u==="pointerover")&&(nt=tE,je="onPointerLeave",fe="onPointerEnter",ce="pointer"),gn=We==null?_e:Id(We),pe=Ze==null?_e:Id(Ze),_e=new nt(je,ce+"leave",We,y,Se),_e.target=gn,_e.relatedTarget=pe,je=null,Zc(Se)===ge&&(nt=new nt(fe,ce+"enter",Ze,y,Se),nt.target=pe,nt.relatedTarget=gn,je=nt),gn=je,We&&Ze)t:{for(nt=We,fe=Ze,ce=0,pe=nt;pe;pe=Pd(pe))ce++;for(pe=0,je=fe;je;je=Pd(je))pe++;for(;0<ce-pe;)nt=Pd(nt),ce--;for(;0<pe-ce;)fe=Pd(fe),pe--;for(;ce--;){if(nt===fe||fe!==null&&nt===fe.alternate)break t;nt=Pd(nt),fe=Pd(fe)}nt=null}else nt=null;We!==null&&NE(Ee,_e,We,nt,!1),Ze!==null&&gn!==null&&NE(Ee,gn,Ze,nt,!0)}}e:{if(_e=ge?Id(ge):window,We=_e.nodeName&&_e.nodeName.toLowerCase(),We==="select"||We==="input"&&_e.type==="file")var lt=OB;else if(aE(_e))if(cE)lt=BB;else{lt=FB;var bt=LB}else(We=_e.nodeName)&&We.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(lt=zB);if(lt&&(lt=lt(u,ge))){lE(Ee,lt,y,Se);break e}bt&&bt(u,_e,ge),u==="focusout"&&(bt=_e._wrapperState)&&bt.controlled&&_e.type==="number"&&jt(_e,"number",_e.value)}switch(bt=ge?Id(ge):window,u){case"focusin":(aE(bt)||bt.contentEditable==="true")&&(Ad=bt,Xv=ge,Bh=null);break;case"focusout":Bh=Xv=Ad=null;break;case"mousedown":Qv=!0;break;case"contextmenu":case"mouseup":case"dragend":Qv=!1,yE(Ee,y,Se);break;case"selectionchange":if(VB)break;case"keydown":case"keyup":yE(Ee,y,Se)}var wt;if(Gv)e:{switch(u){case"compositionstart":var It="onCompositionStart";break e;case"compositionend":It="onCompositionEnd";break e;case"compositionupdate":It="onCompositionUpdate";break e}It=void 0}else Nd?sE(u,y)&&(It="onCompositionEnd"):u==="keydown"&&y.keyCode===229&&(It="onCompositionStart");It&&(rE&&y.locale!=="ko"&&(Nd||It!=="onCompositionStart"?It==="onCompositionEnd"&&Nd&&(wt=Ag()):(ws=Se,Dl="value"in ws?ws.value:ws.textContent,Nd=!0)),bt=Dg(ge,It),0<bt.length&&(It=new eE(It,u,null,y,Se),Ee.push({event:It,listeners:bt}),wt?It.data=wt:(wt=oE(y),wt!==null&&(It.data=wt)))),(wt=PB?RB(u,y):IB(u,y))&&(ge=Dg(ge,"onBeforeInput"),0<ge.length&&(Se=new eE("onBeforeInput","beforeinput",null,y,Se),Ee.push({event:Se,listeners:ge}),Se.data=wt))}EE(Ee,h)})}function Vh(u,h,y){return{instance:u,listener:h,currentTarget:y}}function Dg(u,h){for(var y=h+"Capture",_=[];u!==null;){var L=u,U=L.stateNode;L.tag===5&&U!==null&&(L=U,U=ze(u,y),U!=null&&_.unshift(Vh(u,U,L)),U=ze(u,h),U!=null&&_.push(Vh(u,U,L))),u=u.return}return _}function Pd(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function NE(u,h,y,_,L){for(var U=h._reactName,X=[];y!==null&&y!==_;){var re=y,ie=re.alternate,ge=re.stateNode;if(ie!==null&&ie===_)break;re.tag===5&&ge!==null&&(re=ge,L?(ie=ze(y,U),ie!=null&&X.unshift(Vh(y,ie,re))):L||(ie=ze(y,U),ie!=null&&X.push(Vh(y,ie,re)))),y=y.return}X.length!==0&&u.push({event:h,listeners:X})}var GB=/\r\n?/g,KB=/\u0000|\uFFFD/g;function AE(u){return(typeof u=="string"?u:""+u).replace(GB,`
`).replace(KB,"")}function Og(u,h,y){if(h=AE(h),AE(u)!==h&&y)throw Error(r(425))}function Lg(){}var ib=null,sb=null;function ob(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var ab=typeof setTimeout=="function"?setTimeout:void 0,YB=typeof clearTimeout=="function"?clearTimeout:void 0,jE=typeof Promise=="function"?Promise:void 0,JB=typeof queueMicrotask=="function"?queueMicrotask:typeof jE<"u"?function(u){return jE.resolve(null).then(u).catch(XB)}:ab;function XB(u){setTimeout(function(){throw u})}function lb(u,h){var y=h,_=0;do{var L=y.nextSibling;if(u.removeChild(y),L&&L.nodeType===8)if(y=L.data,y==="/$"){if(_===0){u.removeChild(L),Yc(h);return}_--}else y!=="$"&&y!=="$?"&&y!=="$!"||_++;y=L}while(y);Yc(h)}function Fl(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return u}function PE(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var y=u.data;if(y==="$"||y==="$!"||y==="$?"){if(h===0)return u;h--}else y==="/$"&&h++}u=u.previousSibling}return null}var Rd=Math.random().toString(36).slice(2),ha="__reactFiber$"+Rd,Wh="__reactProps$"+Rd,Ka="__reactContainer$"+Rd,cb="__reactEvents$"+Rd,QB="__reactListeners$"+Rd,ZB="__reactHandles$"+Rd;function Zc(u){var h=u[ha];if(h)return h;for(var y=u.parentNode;y;){if(h=y[Ka]||y[ha]){if(y=h.alternate,h.child!==null||y!==null&&y.child!==null)for(u=PE(u);u!==null;){if(y=u[ha])return y;u=PE(u)}return h}u=y,y=u.parentNode}return null}function qh(u){return u=u[ha]||u[Ka],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Id(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(r(33))}function Fg(u){return u[Wh]||null}var ub=[],Md=-1;function zl(u){return{current:u}}function qr(u){0>Md||(u.current=ub[Md],ub[Md]=null,Md--)}function zr(u,h){Md++,ub[Md]=u.current,u.current=h}var Bl={},yi=zl(Bl),ts=zl(!1),eu=Bl;function Dd(u,h){var y=u.type.contextTypes;if(!y)return Bl;var _=u.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===h)return _.__reactInternalMemoizedMaskedChildContext;var L={},U;for(U in y)L[U]=h[U];return _&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=h,u.__reactInternalMemoizedMaskedChildContext=L),L}function rs(u){return u=u.childContextTypes,u!=null}function zg(){qr(ts),qr(yi)}function RE(u,h,y){if(yi.current!==Bl)throw Error(r(168));zr(yi,h),zr(ts,y)}function IE(u,h,y){var _=u.stateNode;if(h=h.childContextTypes,typeof _.getChildContext!="function")return y;_=_.getChildContext();for(var L in _)if(!(L in h))throw Error(r(108,Y(u)||"Unknown",L));return T({},y,_)}function Bg(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Bl,eu=yi.current,zr(yi,u),zr(ts,ts.current),!0}function ME(u,h,y){var _=u.stateNode;if(!_)throw Error(r(169));y?(u=IE(u,h,eu),_.__reactInternalMemoizedMergedChildContext=u,qr(ts),qr(yi),zr(yi,u)):qr(ts),zr(ts,y)}var Ya=null,$g=!1,db=!1;function DE(u){Ya===null?Ya=[u]:Ya.push(u)}function e8(u){$g=!0,DE(u)}function $l(){if(!db&&Ya!==null){db=!0;var u=0,h=Nt;try{var y=Ya;for(Nt=1;u<y.length;u++){var _=y[u];do _=_(!0);while(_!==null)}Ya=null,$g=!1}catch(L){throw Ya!==null&&(Ya=Ya.slice(u+1)),kr(zn,$l),L}finally{Nt=h,db=!1}}return null}var Od=[],Ld=0,Ug=null,Vg=0,Qs=[],Zs=0,tu=null,Ja=1,Xa="";function ru(u,h){Od[Ld++]=Vg,Od[Ld++]=Ug,Ug=u,Vg=h}function OE(u,h,y){Qs[Zs++]=Ja,Qs[Zs++]=Xa,Qs[Zs++]=tu,tu=u;var _=Ja;u=Xa;var L=32-ri(_)-1;_&=~(1<<L),y+=1;var U=32-ri(h)+L;if(30<U){var X=L-L%5;U=(_&(1<<X)-1).toString(32),_>>=X,L-=X,Ja=1<<32-ri(h)+L|y<<L|_,Xa=U+u}else Ja=1<<U|y<<L|_,Xa=u}function fb(u){u.return!==null&&(ru(u,1),OE(u,1,0))}function hb(u){for(;u===Ug;)Ug=Od[--Ld],Od[Ld]=null,Vg=Od[--Ld],Od[Ld]=null;for(;u===tu;)tu=Qs[--Zs],Qs[Zs]=null,Xa=Qs[--Zs],Qs[Zs]=null,Ja=Qs[--Zs],Qs[Zs]=null}var ks=null,_s=null,Kr=!1,Ro=null;function LE(u,h){var y=no(5,null,null,0);y.elementType="DELETED",y.stateNode=h,y.return=u,h=u.deletions,h===null?(u.deletions=[y],u.flags|=16):h.push(y)}function FE(u,h){switch(u.tag){case 5:var y=u.type;return h=h.nodeType!==1||y.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(u.stateNode=h,ks=u,_s=Fl(h.firstChild),!0):!1;case 6:return h=u.pendingProps===""||h.nodeType!==3?null:h,h!==null?(u.stateNode=h,ks=u,_s=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(y=tu!==null?{id:Ja,overflow:Xa}:null,u.memoizedState={dehydrated:h,treeContext:y,retryLane:1073741824},y=no(18,null,null,0),y.stateNode=h,y.return=u,u.child=y,ks=u,_s=null,!0):!1;default:return!1}}function pb(u){return(u.mode&1)!==0&&(u.flags&128)===0}function mb(u){if(Kr){var h=_s;if(h){var y=h;if(!FE(u,h)){if(pb(u))throw Error(r(418));h=Fl(y.nextSibling);var _=ks;h&&FE(u,h)?LE(_,y):(u.flags=u.flags&-4097|2,Kr=!1,ks=u)}}else{if(pb(u))throw Error(r(418));u.flags=u.flags&-4097|2,Kr=!1,ks=u}}}function zE(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;ks=u}function Wg(u){if(u!==ks)return!1;if(!Kr)return zE(u),Kr=!0,!1;var h;if((h=u.tag!==3)&&!(h=u.tag!==5)&&(h=u.type,h=h!=="head"&&h!=="body"&&!ob(u.type,u.memoizedProps)),h&&(h=_s)){if(pb(u))throw BE(),Error(r(418));for(;h;)LE(u,h),h=Fl(h.nextSibling)}if(zE(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));e:{for(u=u.nextSibling,h=0;u;){if(u.nodeType===8){var y=u.data;if(y==="/$"){if(h===0){_s=Fl(u.nextSibling);break e}h--}else y!=="$"&&y!=="$!"&&y!=="$?"||h++}u=u.nextSibling}_s=null}}else _s=ks?Fl(u.stateNode.nextSibling):null;return!0}function BE(){for(var u=_s;u;)u=Fl(u.nextSibling)}function Fd(){_s=ks=null,Kr=!1}function gb(u){Ro===null?Ro=[u]:Ro.push(u)}var t8=S.ReactCurrentBatchConfig;function Hh(u,h,y){if(u=y.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(r(309));var _=y.stateNode}if(!_)throw Error(r(147,u));var L=_,U=""+u;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===U?h.ref:(h=function(X){var re=L.refs;X===null?delete re[U]:re[U]=X},h._stringRef=U,h)}if(typeof u!="string")throw Error(r(284));if(!y._owner)throw Error(r(290,u))}return u}function qg(u,h){throw u=Object.prototype.toString.call(h),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u))}function $E(u){var h=u._init;return h(u._payload)}function UE(u){function h(fe,ce){if(u){var pe=fe.deletions;pe===null?(fe.deletions=[ce],fe.flags|=16):pe.push(ce)}}function y(fe,ce){if(!u)return null;for(;ce!==null;)h(fe,ce),ce=ce.sibling;return null}function _(fe,ce){for(fe=new Map;ce!==null;)ce.key!==null?fe.set(ce.key,ce):fe.set(ce.index,ce),ce=ce.sibling;return fe}function L(fe,ce){return fe=Yl(fe,ce),fe.index=0,fe.sibling=null,fe}function U(fe,ce,pe){return fe.index=pe,u?(pe=fe.alternate,pe!==null?(pe=pe.index,pe<ce?(fe.flags|=2,ce):pe):(fe.flags|=2,ce)):(fe.flags|=1048576,ce)}function X(fe){return u&&fe.alternate===null&&(fe.flags|=2),fe}function re(fe,ce,pe,je){return ce===null||ce.tag!==6?(ce=aw(pe,fe.mode,je),ce.return=fe,ce):(ce=L(ce,pe),ce.return=fe,ce)}function ie(fe,ce,pe,je){var lt=pe.type;return lt===q?Se(fe,ce,pe.props.children,je,pe.key):ce!==null&&(ce.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===D&&$E(lt)===ce.type)?(je=L(ce,pe.props),je.ref=Hh(fe,ce,pe),je.return=fe,je):(je=my(pe.type,pe.key,pe.props,null,fe.mode,je),je.ref=Hh(fe,ce,pe),je.return=fe,je)}function ge(fe,ce,pe,je){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==pe.containerInfo||ce.stateNode.implementation!==pe.implementation?(ce=lw(pe,fe.mode,je),ce.return=fe,ce):(ce=L(ce,pe.children||[]),ce.return=fe,ce)}function Se(fe,ce,pe,je,lt){return ce===null||ce.tag!==7?(ce=uu(pe,fe.mode,je,lt),ce.return=fe,ce):(ce=L(ce,pe),ce.return=fe,ce)}function Ee(fe,ce,pe){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return ce=aw(""+ce,fe.mode,pe),ce.return=fe,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case B:return pe=my(ce.type,ce.key,ce.props,null,fe.mode,pe),pe.ref=Hh(fe,null,ce),pe.return=fe,pe;case $:return ce=lw(ce,fe.mode,pe),ce.return=fe,ce;case D:var je=ce._init;return Ee(fe,je(ce._payload),pe)}if(it(ce)||M(ce))return ce=uu(ce,fe.mode,pe,null),ce.return=fe,ce;qg(fe,ce)}return null}function _e(fe,ce,pe,je){var lt=ce!==null?ce.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number")return lt!==null?null:re(fe,ce,""+pe,je);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case B:return pe.key===lt?ie(fe,ce,pe,je):null;case $:return pe.key===lt?ge(fe,ce,pe,je):null;case D:return lt=pe._init,_e(fe,ce,lt(pe._payload),je)}if(it(pe)||M(pe))return lt!==null?null:Se(fe,ce,pe,je,null);qg(fe,pe)}return null}function We(fe,ce,pe,je,lt){if(typeof je=="string"&&je!==""||typeof je=="number")return fe=fe.get(pe)||null,re(ce,fe,""+je,lt);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case B:return fe=fe.get(je.key===null?pe:je.key)||null,ie(ce,fe,je,lt);case $:return fe=fe.get(je.key===null?pe:je.key)||null,ge(ce,fe,je,lt);case D:var bt=je._init;return We(fe,ce,pe,bt(je._payload),lt)}if(it(je)||M(je))return fe=fe.get(pe)||null,Se(ce,fe,je,lt,null);qg(ce,je)}return null}function Ze(fe,ce,pe,je){for(var lt=null,bt=null,wt=ce,It=ce=0,Yn=null;wt!==null&&It<pe.length;It++){wt.index>It?(Yn=wt,wt=null):Yn=wt.sibling;var br=_e(fe,wt,pe[It],je);if(br===null){wt===null&&(wt=Yn);break}u&&wt&&br.alternate===null&&h(fe,wt),ce=U(br,ce,It),bt===null?lt=br:bt.sibling=br,bt=br,wt=Yn}if(It===pe.length)return y(fe,wt),Kr&&ru(fe,It),lt;if(wt===null){for(;It<pe.length;It++)wt=Ee(fe,pe[It],je),wt!==null&&(ce=U(wt,ce,It),bt===null?lt=wt:bt.sibling=wt,bt=wt);return Kr&&ru(fe,It),lt}for(wt=_(fe,wt);It<pe.length;It++)Yn=We(wt,fe,It,pe[It],je),Yn!==null&&(u&&Yn.alternate!==null&&wt.delete(Yn.key===null?It:Yn.key),ce=U(Yn,ce,It),bt===null?lt=Yn:bt.sibling=Yn,bt=Yn);return u&&wt.forEach(function(Jl){return h(fe,Jl)}),Kr&&ru(fe,It),lt}function nt(fe,ce,pe,je){var lt=M(pe);if(typeof lt!="function")throw Error(r(150));if(pe=lt.call(pe),pe==null)throw Error(r(151));for(var bt=lt=null,wt=ce,It=ce=0,Yn=null,br=pe.next();wt!==null&&!br.done;It++,br=pe.next()){wt.index>It?(Yn=wt,wt=null):Yn=wt.sibling;var Jl=_e(fe,wt,br.value,je);if(Jl===null){wt===null&&(wt=Yn);break}u&&wt&&Jl.alternate===null&&h(fe,wt),ce=U(Jl,ce,It),bt===null?lt=Jl:bt.sibling=Jl,bt=Jl,wt=Yn}if(br.done)return y(fe,wt),Kr&&ru(fe,It),lt;if(wt===null){for(;!br.done;It++,br=pe.next())br=Ee(fe,br.value,je),br!==null&&(ce=U(br,ce,It),bt===null?lt=br:bt.sibling=br,bt=br);return Kr&&ru(fe,It),lt}for(wt=_(fe,wt);!br.done;It++,br=pe.next())br=We(wt,fe,It,br.value,je),br!==null&&(u&&br.alternate!==null&&wt.delete(br.key===null?It:br.key),ce=U(br,ce,It),bt===null?lt=br:bt.sibling=br,bt=br);return u&&wt.forEach(function(M8){return h(fe,M8)}),Kr&&ru(fe,It),lt}function gn(fe,ce,pe,je){if(typeof pe=="object"&&pe!==null&&pe.type===q&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case B:e:{for(var lt=pe.key,bt=ce;bt!==null;){if(bt.key===lt){if(lt=pe.type,lt===q){if(bt.tag===7){y(fe,bt.sibling),ce=L(bt,pe.props.children),ce.return=fe,fe=ce;break e}}else if(bt.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===D&&$E(lt)===bt.type){y(fe,bt.sibling),ce=L(bt,pe.props),ce.ref=Hh(fe,bt,pe),ce.return=fe,fe=ce;break e}y(fe,bt);break}else h(fe,bt);bt=bt.sibling}pe.type===q?(ce=uu(pe.props.children,fe.mode,je,pe.key),ce.return=fe,fe=ce):(je=my(pe.type,pe.key,pe.props,null,fe.mode,je),je.ref=Hh(fe,ce,pe),je.return=fe,fe=je)}return X(fe);case $:e:{for(bt=pe.key;ce!==null;){if(ce.key===bt)if(ce.tag===4&&ce.stateNode.containerInfo===pe.containerInfo&&ce.stateNode.implementation===pe.implementation){y(fe,ce.sibling),ce=L(ce,pe.children||[]),ce.return=fe,fe=ce;break e}else{y(fe,ce);break}else h(fe,ce);ce=ce.sibling}ce=lw(pe,fe.mode,je),ce.return=fe,fe=ce}return X(fe);case D:return bt=pe._init,gn(fe,ce,bt(pe._payload),je)}if(it(pe))return Ze(fe,ce,pe,je);if(M(pe))return nt(fe,ce,pe,je);qg(fe,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"?(pe=""+pe,ce!==null&&ce.tag===6?(y(fe,ce.sibling),ce=L(ce,pe),ce.return=fe,fe=ce):(y(fe,ce),ce=aw(pe,fe.mode,je),ce.return=fe,fe=ce),X(fe)):y(fe,ce)}return gn}var zd=UE(!0),VE=UE(!1),Hg=zl(null),Gg=null,Bd=null,yb=null;function xb(){yb=Bd=Gg=null}function vb(u){var h=Hg.current;qr(Hg),u._currentValue=h}function bb(u,h,y){for(;u!==null;){var _=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,_!==null&&(_.childLanes|=h)):_!==null&&(_.childLanes&h)!==h&&(_.childLanes|=h),u===y)break;u=u.return}}function $d(u,h){Gg=u,yb=Bd=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&h)!==0&&(ns=!0),u.firstContext=null)}function eo(u){var h=u._currentValue;if(yb!==u)if(u={context:u,memoizedValue:h,next:null},Bd===null){if(Gg===null)throw Error(r(308));Bd=u,Gg.dependencies={lanes:0,firstContext:u}}else Bd=Bd.next=u;return h}var nu=null;function wb(u){nu===null?nu=[u]:nu.push(u)}function WE(u,h,y,_){var L=h.interleaved;return L===null?(y.next=y,wb(h)):(y.next=L.next,L.next=y),h.interleaved=y,Qa(u,_)}function Qa(u,h){u.lanes|=h;var y=u.alternate;for(y!==null&&(y.lanes|=h),y=u,u=u.return;u!==null;)u.childLanes|=h,y=u.alternate,y!==null&&(y.childLanes|=h),y=u,u=u.return;return y.tag===3?y.stateNode:null}var Ul=!1;function kb(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qE(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Za(u,h){return{eventTime:u,lane:h,tag:0,payload:null,callback:null,next:null}}function Vl(u,h,y){var _=u.updateQueue;if(_===null)return null;if(_=_.shared,(gr&2)!==0){var L=_.pending;return L===null?h.next=h:(h.next=L.next,L.next=h),_.pending=h,Qa(u,y)}return L=_.interleaved,L===null?(h.next=h,wb(_)):(h.next=L.next,L.next=h),_.interleaved=h,Qa(u,y)}function Kg(u,h,y){if(h=h.updateQueue,h!==null&&(h=h.shared,(y&4194240)!==0)){var _=h.lanes;_&=u.pendingLanes,y|=_,h.lanes=y,or(u,y)}}function HE(u,h){var y=u.updateQueue,_=u.alternate;if(_!==null&&(_=_.updateQueue,y===_)){var L=null,U=null;if(y=y.firstBaseUpdate,y!==null){do{var X={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};U===null?L=U=X:U=U.next=X,y=y.next}while(y!==null);U===null?L=U=h:U=U.next=h}else L=U=h;y={baseState:_.baseState,firstBaseUpdate:L,lastBaseUpdate:U,shared:_.shared,effects:_.effects},u.updateQueue=y;return}u=y.lastBaseUpdate,u===null?y.firstBaseUpdate=h:u.next=h,y.lastBaseUpdate=h}function Yg(u,h,y,_){var L=u.updateQueue;Ul=!1;var U=L.firstBaseUpdate,X=L.lastBaseUpdate,re=L.shared.pending;if(re!==null){L.shared.pending=null;var ie=re,ge=ie.next;ie.next=null,X===null?U=ge:X.next=ge,X=ie;var Se=u.alternate;Se!==null&&(Se=Se.updateQueue,re=Se.lastBaseUpdate,re!==X&&(re===null?Se.firstBaseUpdate=ge:re.next=ge,Se.lastBaseUpdate=ie))}if(U!==null){var Ee=L.baseState;X=0,Se=ge=ie=null,re=U;do{var _e=re.lane,We=re.eventTime;if((_&_e)===_e){Se!==null&&(Se=Se.next={eventTime:We,lane:0,tag:re.tag,payload:re.payload,callback:re.callback,next:null});e:{var Ze=u,nt=re;switch(_e=h,We=y,nt.tag){case 1:if(Ze=nt.payload,typeof Ze=="function"){Ee=Ze.call(We,Ee,_e);break e}Ee=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=nt.payload,_e=typeof Ze=="function"?Ze.call(We,Ee,_e):Ze,_e==null)break e;Ee=T({},Ee,_e);break e;case 2:Ul=!0}}re.callback!==null&&re.lane!==0&&(u.flags|=64,_e=L.effects,_e===null?L.effects=[re]:_e.push(re))}else We={eventTime:We,lane:_e,tag:re.tag,payload:re.payload,callback:re.callback,next:null},Se===null?(ge=Se=We,ie=Ee):Se=Se.next=We,X|=_e;if(re=re.next,re===null){if(re=L.shared.pending,re===null)break;_e=re,re=_e.next,_e.next=null,L.lastBaseUpdate=_e,L.shared.pending=null}}while(!0);if(Se===null&&(ie=Ee),L.baseState=ie,L.firstBaseUpdate=ge,L.lastBaseUpdate=Se,h=L.shared.interleaved,h!==null){L=h;do X|=L.lane,L=L.next;while(L!==h)}else U===null&&(L.shared.lanes=0);ou|=X,u.lanes=X,u.memoizedState=Ee}}function GE(u,h,y){if(u=h.effects,h.effects=null,u!==null)for(h=0;h<u.length;h++){var _=u[h],L=_.callback;if(L!==null){if(_.callback=null,_=y,typeof L!="function")throw Error(r(191,L));L.call(_)}}}var Gh={},pa=zl(Gh),Kh=zl(Gh),Yh=zl(Gh);function iu(u){if(u===Gh)throw Error(r(174));return u}function _b(u,h){switch(zr(Yh,h),zr(Kh,u),zr(pa,Gh),u=h.nodeType,u){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:he(null,"");break;default:u=u===8?h.parentNode:h,h=u.namespaceURI||null,u=u.tagName,h=he(h,u)}qr(pa),zr(pa,h)}function Ud(){qr(pa),qr(Kh),qr(Yh)}function KE(u){iu(Yh.current);var h=iu(pa.current),y=he(h,u.type);h!==y&&(zr(Kh,u),zr(pa,y))}function Cb(u){Kh.current===u&&(qr(pa),qr(Kh))}var en=zl(0);function Jg(u){for(var h=u;h!==null;){if(h.tag===13){var y=h.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Sb=[];function Eb(){for(var u=0;u<Sb.length;u++)Sb[u]._workInProgressVersionPrimary=null;Sb.length=0}var Xg=S.ReactCurrentDispatcher,Tb=S.ReactCurrentBatchConfig,su=0,tn=null,Bn=null,Gn=null,Qg=!1,Jh=!1,Xh=0,r8=0;function xi(){throw Error(r(321))}function Nb(u,h){if(h===null)return!1;for(var y=0;y<h.length&&y<u.length;y++)if(!Po(u[y],h[y]))return!1;return!0}function Ab(u,h,y,_,L,U){if(su=U,tn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Xg.current=u===null||u.memoizedState===null?o8:a8,u=y(_,L),Jh){U=0;do{if(Jh=!1,Xh=0,25<=U)throw Error(r(301));U+=1,Gn=Bn=null,h.updateQueue=null,Xg.current=l8,u=y(_,L)}while(Jh)}if(Xg.current=ty,h=Bn!==null&&Bn.next!==null,su=0,Gn=Bn=tn=null,Qg=!1,h)throw Error(r(300));return u}function jb(){var u=Xh!==0;return Xh=0,u}function ma(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gn===null?tn.memoizedState=Gn=u:Gn=Gn.next=u,Gn}function to(){if(Bn===null){var u=tn.alternate;u=u!==null?u.memoizedState:null}else u=Bn.next;var h=Gn===null?tn.memoizedState:Gn.next;if(h!==null)Gn=h,Bn=u;else{if(u===null)throw Error(r(310));Bn=u,u={memoizedState:Bn.memoizedState,baseState:Bn.baseState,baseQueue:Bn.baseQueue,queue:Bn.queue,next:null},Gn===null?tn.memoizedState=Gn=u:Gn=Gn.next=u}return Gn}function Qh(u,h){return typeof h=="function"?h(u):h}function Pb(u){var h=to(),y=h.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=u;var _=Bn,L=_.baseQueue,U=y.pending;if(U!==null){if(L!==null){var X=L.next;L.next=U.next,U.next=X}_.baseQueue=L=U,y.pending=null}if(L!==null){U=L.next,_=_.baseState;var re=X=null,ie=null,ge=U;do{var Se=ge.lane;if((su&Se)===Se)ie!==null&&(ie=ie.next={lane:0,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),_=ge.hasEagerState?ge.eagerState:u(_,ge.action);else{var Ee={lane:Se,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null};ie===null?(re=ie=Ee,X=_):ie=ie.next=Ee,tn.lanes|=Se,ou|=Se}ge=ge.next}while(ge!==null&&ge!==U);ie===null?X=_:ie.next=re,Po(_,h.memoizedState)||(ns=!0),h.memoizedState=_,h.baseState=X,h.baseQueue=ie,y.lastRenderedState=_}if(u=y.interleaved,u!==null){L=u;do U=L.lane,tn.lanes|=U,ou|=U,L=L.next;while(L!==u)}else L===null&&(y.lanes=0);return[h.memoizedState,y.dispatch]}function Rb(u){var h=to(),y=h.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=u;var _=y.dispatch,L=y.pending,U=h.memoizedState;if(L!==null){y.pending=null;var X=L=L.next;do U=u(U,X.action),X=X.next;while(X!==L);Po(U,h.memoizedState)||(ns=!0),h.memoizedState=U,h.baseQueue===null&&(h.baseState=U),y.lastRenderedState=U}return[U,_]}function YE(){}function JE(u,h){var y=tn,_=to(),L=h(),U=!Po(_.memoizedState,L);if(U&&(_.memoizedState=L,ns=!0),_=_.queue,Ib(ZE.bind(null,y,_,u),[u]),_.getSnapshot!==h||U||Gn!==null&&Gn.memoizedState.tag&1){if(y.flags|=2048,Zh(9,QE.bind(null,y,_,L,h),void 0,null),Kn===null)throw Error(r(349));(su&30)!==0||XE(y,h,L)}return L}function XE(u,h,y){u.flags|=16384,u={getSnapshot:h,value:y},h=tn.updateQueue,h===null?(h={lastEffect:null,stores:null},tn.updateQueue=h,h.stores=[u]):(y=h.stores,y===null?h.stores=[u]:y.push(u))}function QE(u,h,y,_){h.value=y,h.getSnapshot=_,eT(h)&&tT(u)}function ZE(u,h,y){return y(function(){eT(h)&&tT(u)})}function eT(u){var h=u.getSnapshot;u=u.value;try{var y=h();return!Po(u,y)}catch{return!0}}function tT(u){var h=Qa(u,1);h!==null&&Oo(h,u,1,-1)}function rT(u){var h=ma();return typeof u=="function"&&(u=u()),h.memoizedState=h.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qh,lastRenderedState:u},h.queue=u,u=u.dispatch=s8.bind(null,tn,u),[h.memoizedState,u]}function Zh(u,h,y,_){return u={tag:u,create:h,destroy:y,deps:_,next:null},h=tn.updateQueue,h===null?(h={lastEffect:null,stores:null},tn.updateQueue=h,h.lastEffect=u.next=u):(y=h.lastEffect,y===null?h.lastEffect=u.next=u:(_=y.next,y.next=u,u.next=_,h.lastEffect=u)),u}function nT(){return to().memoizedState}function Zg(u,h,y,_){var L=ma();tn.flags|=u,L.memoizedState=Zh(1|h,y,void 0,_===void 0?null:_)}function ey(u,h,y,_){var L=to();_=_===void 0?null:_;var U=void 0;if(Bn!==null){var X=Bn.memoizedState;if(U=X.destroy,_!==null&&Nb(_,X.deps)){L.memoizedState=Zh(h,y,U,_);return}}tn.flags|=u,L.memoizedState=Zh(1|h,y,U,_)}function iT(u,h){return Zg(8390656,8,u,h)}function Ib(u,h){return ey(2048,8,u,h)}function sT(u,h){return ey(4,2,u,h)}function oT(u,h){return ey(4,4,u,h)}function aT(u,h){if(typeof h=="function")return u=u(),h(u),function(){h(null)};if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function lT(u,h,y){return y=y!=null?y.concat([u]):null,ey(4,4,aT.bind(null,h,u),y)}function Mb(){}function cT(u,h){var y=to();h=h===void 0?null:h;var _=y.memoizedState;return _!==null&&h!==null&&Nb(h,_[1])?_[0]:(y.memoizedState=[u,h],u)}function uT(u,h){var y=to();h=h===void 0?null:h;var _=y.memoizedState;return _!==null&&h!==null&&Nb(h,_[1])?_[0]:(u=u(),y.memoizedState=[u,h],u)}function dT(u,h,y){return(su&21)===0?(u.baseState&&(u.baseState=!1,ns=!0),u.memoizedState=y):(Po(y,h)||(y=ve(),tn.lanes|=y,ou|=y,u.baseState=!0),h)}function n8(u,h){var y=Nt;Nt=y!==0&&4>y?y:4,u(!0);var _=Tb.transition;Tb.transition={};try{u(!1),h()}finally{Nt=y,Tb.transition=_}}function fT(){return to().memoizedState}function i8(u,h,y){var _=Gl(u);if(y={lane:_,action:y,hasEagerState:!1,eagerState:null,next:null},hT(u))pT(h,y);else if(y=WE(u,h,y,_),y!==null){var L=Fi();Oo(y,u,_,L),mT(y,h,_)}}function s8(u,h,y){var _=Gl(u),L={lane:_,action:y,hasEagerState:!1,eagerState:null,next:null};if(hT(u))pT(h,L);else{var U=u.alternate;if(u.lanes===0&&(U===null||U.lanes===0)&&(U=h.lastRenderedReducer,U!==null))try{var X=h.lastRenderedState,re=U(X,y);if(L.hasEagerState=!0,L.eagerState=re,Po(re,X)){var ie=h.interleaved;ie===null?(L.next=L,wb(h)):(L.next=ie.next,ie.next=L),h.interleaved=L;return}}catch{}finally{}y=WE(u,h,L,_),y!==null&&(L=Fi(),Oo(y,u,_,L),mT(y,h,_))}}function hT(u){var h=u.alternate;return u===tn||h!==null&&h===tn}function pT(u,h){Jh=Qg=!0;var y=u.pending;y===null?h.next=h:(h.next=y.next,y.next=h),u.pending=h}function mT(u,h,y){if((y&4194240)!==0){var _=h.lanes;_&=u.pendingLanes,y|=_,h.lanes=y,or(u,y)}}var ty={readContext:eo,useCallback:xi,useContext:xi,useEffect:xi,useImperativeHandle:xi,useInsertionEffect:xi,useLayoutEffect:xi,useMemo:xi,useReducer:xi,useRef:xi,useState:xi,useDebugValue:xi,useDeferredValue:xi,useTransition:xi,useMutableSource:xi,useSyncExternalStore:xi,useId:xi,unstable_isNewReconciler:!1},o8={readContext:eo,useCallback:function(u,h){return ma().memoizedState=[u,h===void 0?null:h],u},useContext:eo,useEffect:iT,useImperativeHandle:function(u,h,y){return y=y!=null?y.concat([u]):null,Zg(4194308,4,aT.bind(null,h,u),y)},useLayoutEffect:function(u,h){return Zg(4194308,4,u,h)},useInsertionEffect:function(u,h){return Zg(4,2,u,h)},useMemo:function(u,h){var y=ma();return h=h===void 0?null:h,u=u(),y.memoizedState=[u,h],u},useReducer:function(u,h,y){var _=ma();return h=y!==void 0?y(h):h,_.memoizedState=_.baseState=h,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:h},_.queue=u,u=u.dispatch=i8.bind(null,tn,u),[_.memoizedState,u]},useRef:function(u){var h=ma();return u={current:u},h.memoizedState=u},useState:rT,useDebugValue:Mb,useDeferredValue:function(u){return ma().memoizedState=u},useTransition:function(){var u=rT(!1),h=u[0];return u=n8.bind(null,u[1]),ma().memoizedState=u,[h,u]},useMutableSource:function(){},useSyncExternalStore:function(u,h,y){var _=tn,L=ma();if(Kr){if(y===void 0)throw Error(r(407));y=y()}else{if(y=h(),Kn===null)throw Error(r(349));(su&30)!==0||XE(_,h,y)}L.memoizedState=y;var U={value:y,getSnapshot:h};return L.queue=U,iT(ZE.bind(null,_,U,u),[u]),_.flags|=2048,Zh(9,QE.bind(null,_,U,y,h),void 0,null),y},useId:function(){var u=ma(),h=Kn.identifierPrefix;if(Kr){var y=Xa,_=Ja;y=(_&~(1<<32-ri(_)-1)).toString(32)+y,h=":"+h+"R"+y,y=Xh++,0<y&&(h+="H"+y.toString(32)),h+=":"}else y=r8++,h=":"+h+"r"+y.toString(32)+":";return u.memoizedState=h},unstable_isNewReconciler:!1},a8={readContext:eo,useCallback:cT,useContext:eo,useEffect:Ib,useImperativeHandle:lT,useInsertionEffect:sT,useLayoutEffect:oT,useMemo:uT,useReducer:Pb,useRef:nT,useState:function(){return Pb(Qh)},useDebugValue:Mb,useDeferredValue:function(u){var h=to();return dT(h,Bn.memoizedState,u)},useTransition:function(){var u=Pb(Qh)[0],h=to().memoizedState;return[u,h]},useMutableSource:YE,useSyncExternalStore:JE,useId:fT,unstable_isNewReconciler:!1},l8={readContext:eo,useCallback:cT,useContext:eo,useEffect:Ib,useImperativeHandle:lT,useInsertionEffect:sT,useLayoutEffect:oT,useMemo:uT,useReducer:Rb,useRef:nT,useState:function(){return Rb(Qh)},useDebugValue:Mb,useDeferredValue:function(u){var h=to();return Bn===null?h.memoizedState=u:dT(h,Bn.memoizedState,u)},useTransition:function(){var u=Rb(Qh)[0],h=to().memoizedState;return[u,h]},useMutableSource:YE,useSyncExternalStore:JE,useId:fT,unstable_isNewReconciler:!1};function Io(u,h){if(u&&u.defaultProps){h=T({},h),u=u.defaultProps;for(var y in u)h[y]===void 0&&(h[y]=u[y]);return h}return h}function Db(u,h,y,_){h=u.memoizedState,y=y(_,h),y=y==null?h:T({},h,y),u.memoizedState=y,u.lanes===0&&(u.updateQueue.baseState=y)}var ry={isMounted:function(u){return(u=u._reactInternals)?Ot(u)===u:!1},enqueueSetState:function(u,h,y){u=u._reactInternals;var _=Fi(),L=Gl(u),U=Za(_,L);U.payload=h,y!=null&&(U.callback=y),h=Vl(u,U,L),h!==null&&(Oo(h,u,L,_),Kg(h,u,L))},enqueueReplaceState:function(u,h,y){u=u._reactInternals;var _=Fi(),L=Gl(u),U=Za(_,L);U.tag=1,U.payload=h,y!=null&&(U.callback=y),h=Vl(u,U,L),h!==null&&(Oo(h,u,L,_),Kg(h,u,L))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var y=Fi(),_=Gl(u),L=Za(y,_);L.tag=2,h!=null&&(L.callback=h),h=Vl(u,L,_),h!==null&&(Oo(h,u,_,y),Kg(h,u,_))}};function gT(u,h,y,_,L,U,X){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(_,U,X):h.prototype&&h.prototype.isPureReactComponent?!zh(y,_)||!zh(L,U):!0}function yT(u,h,y){var _=!1,L=Bl,U=h.contextType;return typeof U=="object"&&U!==null?U=eo(U):(L=rs(h)?eu:yi.current,_=h.contextTypes,U=(_=_!=null)?Dd(u,L):Bl),h=new h(y,U),u.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=ry,u.stateNode=h,h._reactInternals=u,_&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=L,u.__reactInternalMemoizedMaskedChildContext=U),h}function xT(u,h,y,_){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(y,_),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(y,_),h.state!==u&&ry.enqueueReplaceState(h,h.state,null)}function Ob(u,h,y,_){var L=u.stateNode;L.props=y,L.state=u.memoizedState,L.refs={},kb(u);var U=h.contextType;typeof U=="object"&&U!==null?L.context=eo(U):(U=rs(h)?eu:yi.current,L.context=Dd(u,U)),L.state=u.memoizedState,U=h.getDerivedStateFromProps,typeof U=="function"&&(Db(u,h,U,y),L.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(h=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),h!==L.state&&ry.enqueueReplaceState(L,L.state,null),Yg(u,y,L,_),L.state=u.memoizedState),typeof L.componentDidMount=="function"&&(u.flags|=4194308)}function Vd(u,h){try{var y="",_=h;do y+=z(_),_=_.return;while(_);var L=y}catch(U){L=`
Error generating stack: `+U.message+`
`+U.stack}return{value:u,source:h,stack:L,digest:null}}function Lb(u,h,y){return{value:u,source:null,stack:y??null,digest:h??null}}function Fb(u,h){try{console.error(h.value)}catch(y){setTimeout(function(){throw y})}}var c8=typeof WeakMap=="function"?WeakMap:Map;function vT(u,h,y){y=Za(-1,y),y.tag=3,y.payload={element:null};var _=h.value;return y.callback=function(){cy||(cy=!0,Zb=_),Fb(u,h)},y}function bT(u,h,y){y=Za(-1,y),y.tag=3;var _=u.type.getDerivedStateFromError;if(typeof _=="function"){var L=h.value;y.payload=function(){return _(L)},y.callback=function(){Fb(u,h)}}var U=u.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(y.callback=function(){Fb(u,h),typeof _!="function"&&(ql===null?ql=new Set([this]):ql.add(this));var X=h.stack;this.componentDidCatch(h.value,{componentStack:X!==null?X:""})}),y}function wT(u,h,y){var _=u.pingCache;if(_===null){_=u.pingCache=new c8;var L=new Set;_.set(h,L)}else L=_.get(h),L===void 0&&(L=new Set,_.set(h,L));L.has(y)||(L.add(y),u=_8.bind(null,u,h,y),h.then(u,u))}function kT(u){do{var h;if((h=u.tag===13)&&(h=u.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return u;u=u.return}while(u!==null);return null}function _T(u,h,y,_,L){return(u.mode&1)===0?(u===h?u.flags|=65536:(u.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(h=Za(-1,1),h.tag=2,Vl(y,h,1))),y.lanes|=1),u):(u.flags|=65536,u.lanes=L,u)}var u8=S.ReactCurrentOwner,ns=!1;function Li(u,h,y,_){h.child=u===null?VE(h,null,y,_):zd(h,u.child,y,_)}function CT(u,h,y,_,L){y=y.render;var U=h.ref;return $d(h,L),_=Ab(u,h,y,_,U,L),y=jb(),u!==null&&!ns?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~L,el(u,h,L)):(Kr&&y&&fb(h),h.flags|=1,Li(u,h,_,L),h.child)}function ST(u,h,y,_,L){if(u===null){var U=y.type;return typeof U=="function"&&!ow(U)&&U.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(h.tag=15,h.type=U,ET(u,h,U,_,L)):(u=my(y.type,null,_,h,h.mode,L),u.ref=h.ref,u.return=h,h.child=u)}if(U=u.child,(u.lanes&L)===0){var X=U.memoizedProps;if(y=y.compare,y=y!==null?y:zh,y(X,_)&&u.ref===h.ref)return el(u,h,L)}return h.flags|=1,u=Yl(U,_),u.ref=h.ref,u.return=h,h.child=u}function ET(u,h,y,_,L){if(u!==null){var U=u.memoizedProps;if(zh(U,_)&&u.ref===h.ref)if(ns=!1,h.pendingProps=_=U,(u.lanes&L)!==0)(u.flags&131072)!==0&&(ns=!0);else return h.lanes=u.lanes,el(u,h,L)}return zb(u,h,y,_,L)}function TT(u,h,y){var _=h.pendingProps,L=_.children,U=u!==null?u.memoizedState:null;if(_.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},zr(qd,Cs),Cs|=y;else{if((y&1073741824)===0)return u=U!==null?U.baseLanes|y:y,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:u,cachePool:null,transitions:null},h.updateQueue=null,zr(qd,Cs),Cs|=u,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=U!==null?U.baseLanes:y,zr(qd,Cs),Cs|=_}else U!==null?(_=U.baseLanes|y,h.memoizedState=null):_=y,zr(qd,Cs),Cs|=_;return Li(u,h,L,y),h.child}function NT(u,h){var y=h.ref;(u===null&&y!==null||u!==null&&u.ref!==y)&&(h.flags|=512,h.flags|=2097152)}function zb(u,h,y,_,L){var U=rs(y)?eu:yi.current;return U=Dd(h,U),$d(h,L),y=Ab(u,h,y,_,U,L),_=jb(),u!==null&&!ns?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~L,el(u,h,L)):(Kr&&_&&fb(h),h.flags|=1,Li(u,h,y,L),h.child)}function AT(u,h,y,_,L){if(rs(y)){var U=!0;Bg(h)}else U=!1;if($d(h,L),h.stateNode===null)iy(u,h),yT(h,y,_),Ob(h,y,_,L),_=!0;else if(u===null){var X=h.stateNode,re=h.memoizedProps;X.props=re;var ie=X.context,ge=y.contextType;typeof ge=="object"&&ge!==null?ge=eo(ge):(ge=rs(y)?eu:yi.current,ge=Dd(h,ge));var Se=y.getDerivedStateFromProps,Ee=typeof Se=="function"||typeof X.getSnapshotBeforeUpdate=="function";Ee||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(re!==_||ie!==ge)&&xT(h,X,_,ge),Ul=!1;var _e=h.memoizedState;X.state=_e,Yg(h,_,X,L),ie=h.memoizedState,re!==_||_e!==ie||ts.current||Ul?(typeof Se=="function"&&(Db(h,y,Se,_),ie=h.memoizedState),(re=Ul||gT(h,y,re,_,_e,ie,ge))?(Ee||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(h.flags|=4194308)):(typeof X.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=_,h.memoizedState=ie),X.props=_,X.state=ie,X.context=ge,_=re):(typeof X.componentDidMount=="function"&&(h.flags|=4194308),_=!1)}else{X=h.stateNode,qE(u,h),re=h.memoizedProps,ge=h.type===h.elementType?re:Io(h.type,re),X.props=ge,Ee=h.pendingProps,_e=X.context,ie=y.contextType,typeof ie=="object"&&ie!==null?ie=eo(ie):(ie=rs(y)?eu:yi.current,ie=Dd(h,ie));var We=y.getDerivedStateFromProps;(Se=typeof We=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(re!==Ee||_e!==ie)&&xT(h,X,_,ie),Ul=!1,_e=h.memoizedState,X.state=_e,Yg(h,_,X,L);var Ze=h.memoizedState;re!==Ee||_e!==Ze||ts.current||Ul?(typeof We=="function"&&(Db(h,y,We,_),Ze=h.memoizedState),(ge=Ul||gT(h,y,ge,_,_e,Ze,ie)||!1)?(Se||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(_,Ze,ie),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(_,Ze,ie)),typeof X.componentDidUpdate=="function"&&(h.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof X.componentDidUpdate!="function"||re===u.memoizedProps&&_e===u.memoizedState||(h.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||re===u.memoizedProps&&_e===u.memoizedState||(h.flags|=1024),h.memoizedProps=_,h.memoizedState=Ze),X.props=_,X.state=Ze,X.context=ie,_=ge):(typeof X.componentDidUpdate!="function"||re===u.memoizedProps&&_e===u.memoizedState||(h.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||re===u.memoizedProps&&_e===u.memoizedState||(h.flags|=1024),_=!1)}return Bb(u,h,y,_,U,L)}function Bb(u,h,y,_,L,U){NT(u,h);var X=(h.flags&128)!==0;if(!_&&!X)return L&&ME(h,y,!1),el(u,h,U);_=h.stateNode,u8.current=h;var re=X&&typeof y.getDerivedStateFromError!="function"?null:_.render();return h.flags|=1,u!==null&&X?(h.child=zd(h,u.child,null,U),h.child=zd(h,null,re,U)):Li(u,h,re,U),h.memoizedState=_.state,L&&ME(h,y,!0),h.child}function jT(u){var h=u.stateNode;h.pendingContext?RE(u,h.pendingContext,h.pendingContext!==h.context):h.context&&RE(u,h.context,!1),_b(u,h.containerInfo)}function PT(u,h,y,_,L){return Fd(),gb(L),h.flags|=256,Li(u,h,y,_),h.child}var $b={dehydrated:null,treeContext:null,retryLane:0};function Ub(u){return{baseLanes:u,cachePool:null,transitions:null}}function RT(u,h,y){var _=h.pendingProps,L=en.current,U=!1,X=(h.flags&128)!==0,re;if((re=X)||(re=u!==null&&u.memoizedState===null?!1:(L&2)!==0),re?(U=!0,h.flags&=-129):(u===null||u.memoizedState!==null)&&(L|=1),zr(en,L&1),u===null)return mb(h),u=h.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((h.mode&1)===0?h.lanes=1:u.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(X=_.children,u=_.fallback,U?(_=h.mode,U=h.child,X={mode:"hidden",children:X},(_&1)===0&&U!==null?(U.childLanes=0,U.pendingProps=X):U=gy(X,_,0,null),u=uu(u,_,y,null),U.return=h,u.return=h,U.sibling=u,h.child=U,h.child.memoizedState=Ub(y),h.memoizedState=$b,u):Vb(h,X));if(L=u.memoizedState,L!==null&&(re=L.dehydrated,re!==null))return d8(u,h,X,_,re,L,y);if(U){U=_.fallback,X=h.mode,L=u.child,re=L.sibling;var ie={mode:"hidden",children:_.children};return(X&1)===0&&h.child!==L?(_=h.child,_.childLanes=0,_.pendingProps=ie,h.deletions=null):(_=Yl(L,ie),_.subtreeFlags=L.subtreeFlags&14680064),re!==null?U=Yl(re,U):(U=uu(U,X,y,null),U.flags|=2),U.return=h,_.return=h,_.sibling=U,h.child=_,_=U,U=h.child,X=u.child.memoizedState,X=X===null?Ub(y):{baseLanes:X.baseLanes|y,cachePool:null,transitions:X.transitions},U.memoizedState=X,U.childLanes=u.childLanes&~y,h.memoizedState=$b,_}return U=u.child,u=U.sibling,_=Yl(U,{mode:"visible",children:_.children}),(h.mode&1)===0&&(_.lanes=y),_.return=h,_.sibling=null,u!==null&&(y=h.deletions,y===null?(h.deletions=[u],h.flags|=16):y.push(u)),h.child=_,h.memoizedState=null,_}function Vb(u,h){return h=gy({mode:"visible",children:h},u.mode,0,null),h.return=u,u.child=h}function ny(u,h,y,_){return _!==null&&gb(_),zd(h,u.child,null,y),u=Vb(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function d8(u,h,y,_,L,U,X){if(y)return h.flags&256?(h.flags&=-257,_=Lb(Error(r(422))),ny(u,h,X,_)):h.memoizedState!==null?(h.child=u.child,h.flags|=128,null):(U=_.fallback,L=h.mode,_=gy({mode:"visible",children:_.children},L,0,null),U=uu(U,L,X,null),U.flags|=2,_.return=h,U.return=h,_.sibling=U,h.child=_,(h.mode&1)!==0&&zd(h,u.child,null,X),h.child.memoizedState=Ub(X),h.memoizedState=$b,U);if((h.mode&1)===0)return ny(u,h,X,null);if(L.data==="$!"){if(_=L.nextSibling&&L.nextSibling.dataset,_)var re=_.dgst;return _=re,U=Error(r(419)),_=Lb(U,_,void 0),ny(u,h,X,_)}if(re=(X&u.childLanes)!==0,ns||re){if(_=Kn,_!==null){switch(X&-X){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}L=(L&(_.suspendedLanes|X))!==0?0:L,L!==0&&L!==U.retryLane&&(U.retryLane=L,Qa(u,L),Oo(_,u,L,-1))}return sw(),_=Lb(Error(r(421))),ny(u,h,X,_)}return L.data==="$?"?(h.flags|=128,h.child=u.child,h=C8.bind(null,u),L._reactRetry=h,null):(u=U.treeContext,_s=Fl(L.nextSibling),ks=h,Kr=!0,Ro=null,u!==null&&(Qs[Zs++]=Ja,Qs[Zs++]=Xa,Qs[Zs++]=tu,Ja=u.id,Xa=u.overflow,tu=h),h=Vb(h,_.children),h.flags|=4096,h)}function IT(u,h,y){u.lanes|=h;var _=u.alternate;_!==null&&(_.lanes|=h),bb(u.return,h,y)}function Wb(u,h,y,_,L){var U=u.memoizedState;U===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:_,tail:y,tailMode:L}:(U.isBackwards=h,U.rendering=null,U.renderingStartTime=0,U.last=_,U.tail=y,U.tailMode=L)}function MT(u,h,y){var _=h.pendingProps,L=_.revealOrder,U=_.tail;if(Li(u,h,_.children,y),_=en.current,(_&2)!==0)_=_&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&IT(u,y,h);else if(u.tag===19)IT(u,y,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}_&=1}if(zr(en,_),(h.mode&1)===0)h.memoizedState=null;else switch(L){case"forwards":for(y=h.child,L=null;y!==null;)u=y.alternate,u!==null&&Jg(u)===null&&(L=y),y=y.sibling;y=L,y===null?(L=h.child,h.child=null):(L=y.sibling,y.sibling=null),Wb(h,!1,L,y,U);break;case"backwards":for(y=null,L=h.child,h.child=null;L!==null;){if(u=L.alternate,u!==null&&Jg(u)===null){h.child=L;break}u=L.sibling,L.sibling=y,y=L,L=u}Wb(h,!0,y,null,U);break;case"together":Wb(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function iy(u,h){(h.mode&1)===0&&u!==null&&(u.alternate=null,h.alternate=null,h.flags|=2)}function el(u,h,y){if(u!==null&&(h.dependencies=u.dependencies),ou|=h.lanes,(y&h.childLanes)===0)return null;if(u!==null&&h.child!==u.child)throw Error(r(153));if(h.child!==null){for(u=h.child,y=Yl(u,u.pendingProps),h.child=y,y.return=h;u.sibling!==null;)u=u.sibling,y=y.sibling=Yl(u,u.pendingProps),y.return=h;y.sibling=null}return h.child}function f8(u,h,y){switch(h.tag){case 3:jT(h),Fd();break;case 5:KE(h);break;case 1:rs(h.type)&&Bg(h);break;case 4:_b(h,h.stateNode.containerInfo);break;case 10:var _=h.type._context,L=h.memoizedProps.value;zr(Hg,_._currentValue),_._currentValue=L;break;case 13:if(_=h.memoizedState,_!==null)return _.dehydrated!==null?(zr(en,en.current&1),h.flags|=128,null):(y&h.child.childLanes)!==0?RT(u,h,y):(zr(en,en.current&1),u=el(u,h,y),u!==null?u.sibling:null);zr(en,en.current&1);break;case 19:if(_=(y&h.childLanes)!==0,(u.flags&128)!==0){if(_)return MT(u,h,y);h.flags|=128}if(L=h.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),zr(en,en.current),_)break;return null;case 22:case 23:return h.lanes=0,TT(u,h,y)}return el(u,h,y)}var DT,qb,OT,LT;DT=function(u,h){for(var y=h.child;y!==null;){if(y.tag===5||y.tag===6)u.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===h)break;for(;y.sibling===null;){if(y.return===null||y.return===h)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},qb=function(){},OT=function(u,h,y,_){var L=u.memoizedProps;if(L!==_){u=h.stateNode,iu(pa.current);var U=null;switch(y){case"input":L=me(u,L),_=me(u,_),U=[];break;case"select":L=T({},L,{value:void 0}),_=T({},_,{value:void 0}),U=[];break;case"textarea":L=Jt(u,L),_=Jt(u,_),U=[];break;default:typeof L.onClick!="function"&&typeof _.onClick=="function"&&(u.onclick=Lg)}rt(y,_);var X;y=null;for(ge in L)if(!_.hasOwnProperty(ge)&&L.hasOwnProperty(ge)&&L[ge]!=null)if(ge==="style"){var re=L[ge];for(X in re)re.hasOwnProperty(X)&&(y||(y={}),y[X]="")}else ge!=="dangerouslySetInnerHTML"&&ge!=="children"&&ge!=="suppressContentEditableWarning"&&ge!=="suppressHydrationWarning"&&ge!=="autoFocus"&&(i.hasOwnProperty(ge)?U||(U=[]):(U=U||[]).push(ge,null));for(ge in _){var ie=_[ge];if(re=L!=null?L[ge]:void 0,_.hasOwnProperty(ge)&&ie!==re&&(ie!=null||re!=null))if(ge==="style")if(re){for(X in re)!re.hasOwnProperty(X)||ie&&ie.hasOwnProperty(X)||(y||(y={}),y[X]="");for(X in ie)ie.hasOwnProperty(X)&&re[X]!==ie[X]&&(y||(y={}),y[X]=ie[X])}else y||(U||(U=[]),U.push(ge,y)),y=ie;else ge==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,re=re?re.__html:void 0,ie!=null&&re!==ie&&(U=U||[]).push(ge,ie)):ge==="children"?typeof ie!="string"&&typeof ie!="number"||(U=U||[]).push(ge,""+ie):ge!=="suppressContentEditableWarning"&&ge!=="suppressHydrationWarning"&&(i.hasOwnProperty(ge)?(ie!=null&&ge==="onScroll"&&Wr("scroll",u),U||re===ie||(U=[])):(U=U||[]).push(ge,ie))}y&&(U=U||[]).push("style",y);var ge=U;(h.updateQueue=ge)&&(h.flags|=4)}},LT=function(u,h,y,_){y!==_&&(h.flags|=4)};function ep(u,h){if(!Kr)switch(u.tailMode){case"hidden":h=u.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?u.tail=null:y.sibling=null;break;case"collapsed":y=u.tail;for(var _=null;y!==null;)y.alternate!==null&&(_=y),y=y.sibling;_===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:_.sibling=null}}function vi(u){var h=u.alternate!==null&&u.alternate.child===u.child,y=0,_=0;if(h)for(var L=u.child;L!==null;)y|=L.lanes|L.childLanes,_|=L.subtreeFlags&14680064,_|=L.flags&14680064,L.return=u,L=L.sibling;else for(L=u.child;L!==null;)y|=L.lanes|L.childLanes,_|=L.subtreeFlags,_|=L.flags,L.return=u,L=L.sibling;return u.subtreeFlags|=_,u.childLanes=y,h}function h8(u,h,y){var _=h.pendingProps;switch(hb(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vi(h),null;case 1:return rs(h.type)&&zg(),vi(h),null;case 3:return _=h.stateNode,Ud(),qr(ts),qr(yi),Eb(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(u===null||u.child===null)&&(Wg(h)?h.flags|=4:u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Ro!==null&&(rw(Ro),Ro=null))),qb(u,h),vi(h),null;case 5:Cb(h);var L=iu(Yh.current);if(y=h.type,u!==null&&h.stateNode!=null)OT(u,h,y,_,L),u.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!_){if(h.stateNode===null)throw Error(r(166));return vi(h),null}if(u=iu(pa.current),Wg(h)){_=h.stateNode,y=h.type;var U=h.memoizedProps;switch(_[ha]=h,_[Wh]=U,u=(h.mode&1)!==0,y){case"dialog":Wr("cancel",_),Wr("close",_);break;case"iframe":case"object":case"embed":Wr("load",_);break;case"video":case"audio":for(L=0;L<$h.length;L++)Wr($h[L],_);break;case"source":Wr("error",_);break;case"img":case"image":case"link":Wr("error",_),Wr("load",_);break;case"details":Wr("toggle",_);break;case"input":Ce(_,U),Wr("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!U.multiple},Wr("invalid",_);break;case"textarea":st(_,U),Wr("invalid",_)}rt(y,U),L=null;for(var X in U)if(U.hasOwnProperty(X)){var re=U[X];X==="children"?typeof re=="string"?_.textContent!==re&&(U.suppressHydrationWarning!==!0&&Og(_.textContent,re,u),L=["children",re]):typeof re=="number"&&_.textContent!==""+re&&(U.suppressHydrationWarning!==!0&&Og(_.textContent,re,u),L=["children",""+re]):i.hasOwnProperty(X)&&re!=null&&X==="onScroll"&&Wr("scroll",_)}switch(y){case"input":ne(_),Ye(_,U,!0);break;case"textarea":ne(_),Ie(_);break;case"select":case"option":break;default:typeof U.onClick=="function"&&(_.onclick=Lg)}_=L,h.updateQueue=_,_!==null&&(h.flags|=4)}else{X=L.nodeType===9?L:L.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=se(y)),u==="http://www.w3.org/1999/xhtml"?y==="script"?(u=X.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof _.is=="string"?u=X.createElement(y,{is:_.is}):(u=X.createElement(y),y==="select"&&(X=u,_.multiple?X.multiple=!0:_.size&&(X.size=_.size))):u=X.createElementNS(u,y),u[ha]=h,u[Wh]=_,DT(u,h,!1,!1),h.stateNode=u;e:{switch(X=Xt(y,_),y){case"dialog":Wr("cancel",u),Wr("close",u),L=_;break;case"iframe":case"object":case"embed":Wr("load",u),L=_;break;case"video":case"audio":for(L=0;L<$h.length;L++)Wr($h[L],u);L=_;break;case"source":Wr("error",u),L=_;break;case"img":case"image":case"link":Wr("error",u),Wr("load",u),L=_;break;case"details":Wr("toggle",u),L=_;break;case"input":Ce(u,_),L=me(u,_),Wr("invalid",u);break;case"option":L=_;break;case"select":u._wrapperState={wasMultiple:!!_.multiple},L=T({},_,{value:void 0}),Wr("invalid",u);break;case"textarea":st(u,_),L=Jt(u,_),Wr("invalid",u);break;default:L=_}rt(y,L),re=L;for(U in re)if(re.hasOwnProperty(U)){var ie=re[U];U==="style"?Wt(u,ie):U==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,ie!=null&&Ae(u,ie)):U==="children"?typeof ie=="string"?(y!=="textarea"||ie!=="")&&Me(u,ie):typeof ie=="number"&&Me(u,""+ie):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(i.hasOwnProperty(U)?ie!=null&&U==="onScroll"&&Wr("scroll",u):ie!=null&&R(u,U,ie,X))}switch(y){case"input":ne(u),Ye(u,_,!1);break;case"textarea":ne(u),Ie(u);break;case"option":_.value!=null&&u.setAttribute("value",""+Z(_.value));break;case"select":u.multiple=!!_.multiple,U=_.value,U!=null?De(u,!!_.multiple,U,!1):_.defaultValue!=null&&De(u,!!_.multiple,_.defaultValue,!0);break;default:typeof L.onClick=="function"&&(u.onclick=Lg)}switch(y){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return vi(h),null;case 6:if(u&&h.stateNode!=null)LT(u,h,u.memoizedProps,_);else{if(typeof _!="string"&&h.stateNode===null)throw Error(r(166));if(y=iu(Yh.current),iu(pa.current),Wg(h)){if(_=h.stateNode,y=h.memoizedProps,_[ha]=h,(U=_.nodeValue!==y)&&(u=ks,u!==null))switch(u.tag){case 3:Og(_.nodeValue,y,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&Og(_.nodeValue,y,(u.mode&1)!==0)}U&&(h.flags|=4)}else _=(y.nodeType===9?y:y.ownerDocument).createTextNode(_),_[ha]=h,h.stateNode=_}return vi(h),null;case 13:if(qr(en),_=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(Kr&&_s!==null&&(h.mode&1)!==0&&(h.flags&128)===0)BE(),Fd(),h.flags|=98560,U=!1;else if(U=Wg(h),_!==null&&_.dehydrated!==null){if(u===null){if(!U)throw Error(r(318));if(U=h.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(r(317));U[ha]=h}else Fd(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;vi(h),U=!1}else Ro!==null&&(rw(Ro),Ro=null),U=!0;if(!U)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=y,h):(_=_!==null,_!==(u!==null&&u.memoizedState!==null)&&_&&(h.child.flags|=8192,(h.mode&1)!==0&&(u===null||(en.current&1)!==0?$n===0&&($n=3):sw())),h.updateQueue!==null&&(h.flags|=4),vi(h),null);case 4:return Ud(),qb(u,h),u===null&&Uh(h.stateNode.containerInfo),vi(h),null;case 10:return vb(h.type._context),vi(h),null;case 17:return rs(h.type)&&zg(),vi(h),null;case 19:if(qr(en),U=h.memoizedState,U===null)return vi(h),null;if(_=(h.flags&128)!==0,X=U.rendering,X===null)if(_)ep(U,!1);else{if($n!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(X=Jg(u),X!==null){for(h.flags|=128,ep(U,!1),_=X.updateQueue,_!==null&&(h.updateQueue=_,h.flags|=4),h.subtreeFlags=0,_=y,y=h.child;y!==null;)U=y,u=_,U.flags&=14680066,X=U.alternate,X===null?(U.childLanes=0,U.lanes=u,U.child=null,U.subtreeFlags=0,U.memoizedProps=null,U.memoizedState=null,U.updateQueue=null,U.dependencies=null,U.stateNode=null):(U.childLanes=X.childLanes,U.lanes=X.lanes,U.child=X.child,U.subtreeFlags=0,U.deletions=null,U.memoizedProps=X.memoizedProps,U.memoizedState=X.memoizedState,U.updateQueue=X.updateQueue,U.type=X.type,u=X.dependencies,U.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),y=y.sibling;return zr(en,en.current&1|2),h.child}u=u.sibling}U.tail!==null&&Lt()>Hd&&(h.flags|=128,_=!0,ep(U,!1),h.lanes=4194304)}else{if(!_)if(u=Jg(X),u!==null){if(h.flags|=128,_=!0,y=u.updateQueue,y!==null&&(h.updateQueue=y,h.flags|=4),ep(U,!0),U.tail===null&&U.tailMode==="hidden"&&!X.alternate&&!Kr)return vi(h),null}else 2*Lt()-U.renderingStartTime>Hd&&y!==1073741824&&(h.flags|=128,_=!0,ep(U,!1),h.lanes=4194304);U.isBackwards?(X.sibling=h.child,h.child=X):(y=U.last,y!==null?y.sibling=X:h.child=X,U.last=X)}return U.tail!==null?(h=U.tail,U.rendering=h,U.tail=h.sibling,U.renderingStartTime=Lt(),h.sibling=null,y=en.current,zr(en,_?y&1|2:y&1),h):(vi(h),null);case 22:case 23:return iw(),_=h.memoizedState!==null,u!==null&&u.memoizedState!==null!==_&&(h.flags|=8192),_&&(h.mode&1)!==0?(Cs&1073741824)!==0&&(vi(h),h.subtreeFlags&6&&(h.flags|=8192)):vi(h),null;case 24:return null;case 25:return null}throw Error(r(156,h.tag))}function p8(u,h){switch(hb(h),h.tag){case 1:return rs(h.type)&&zg(),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return Ud(),qr(ts),qr(yi),Eb(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 5:return Cb(h),null;case 13:if(qr(en),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(r(340));Fd()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return qr(en),null;case 4:return Ud(),null;case 10:return vb(h.type._context),null;case 22:case 23:return iw(),null;case 24:return null;default:return null}}var sy=!1,bi=!1,m8=typeof WeakSet=="function"?WeakSet:Set,Je=null;function Wd(u,h){var y=u.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(_){cn(u,h,_)}else y.current=null}function Hb(u,h,y){try{y()}catch(_){cn(u,h,_)}}var FT=!1;function g8(u,h){if(ib=Sd,u=gE(),Jv(u)){if("selectionStart"in u)var y={start:u.selectionStart,end:u.selectionEnd};else e:{y=(y=u.ownerDocument)&&y.defaultView||window;var _=y.getSelection&&y.getSelection();if(_&&_.rangeCount!==0){y=_.anchorNode;var L=_.anchorOffset,U=_.focusNode;_=_.focusOffset;try{y.nodeType,U.nodeType}catch{y=null;break e}var X=0,re=-1,ie=-1,ge=0,Se=0,Ee=u,_e=null;t:for(;;){for(var We;Ee!==y||L!==0&&Ee.nodeType!==3||(re=X+L),Ee!==U||_!==0&&Ee.nodeType!==3||(ie=X+_),Ee.nodeType===3&&(X+=Ee.nodeValue.length),(We=Ee.firstChild)!==null;)_e=Ee,Ee=We;for(;;){if(Ee===u)break t;if(_e===y&&++ge===L&&(re=X),_e===U&&++Se===_&&(ie=X),(We=Ee.nextSibling)!==null)break;Ee=_e,_e=Ee.parentNode}Ee=We}y=re===-1||ie===-1?null:{start:re,end:ie}}else y=null}y=y||{start:0,end:0}}else y=null;for(sb={focusedElem:u,selectionRange:y},Sd=!1,Je=h;Je!==null;)if(h=Je,u=h.child,(h.subtreeFlags&1028)!==0&&u!==null)u.return=h,Je=u;else for(;Je!==null;){h=Je;try{var Ze=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(Ze!==null){var nt=Ze.memoizedProps,gn=Ze.memoizedState,fe=h.stateNode,ce=fe.getSnapshotBeforeUpdate(h.elementType===h.type?nt:Io(h.type,nt),gn);fe.__reactInternalSnapshotBeforeUpdate=ce}break;case 3:var pe=h.stateNode.containerInfo;pe.nodeType===1?pe.textContent="":pe.nodeType===9&&pe.documentElement&&pe.removeChild(pe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(je){cn(h,h.return,je)}if(u=h.sibling,u!==null){u.return=h.return,Je=u;break}Je=h.return}return Ze=FT,FT=!1,Ze}function tp(u,h,y){var _=h.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var L=_=_.next;do{if((L.tag&u)===u){var U=L.destroy;L.destroy=void 0,U!==void 0&&Hb(h,y,U)}L=L.next}while(L!==_)}}function oy(u,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var y=h=h.next;do{if((y.tag&u)===u){var _=y.create;y.destroy=_()}y=y.next}while(y!==h)}}function Gb(u){var h=u.ref;if(h!==null){var y=u.stateNode;switch(u.tag){case 5:u=y;break;default:u=y}typeof h=="function"?h(u):h.current=u}}function zT(u){var h=u.alternate;h!==null&&(u.alternate=null,zT(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&(delete h[ha],delete h[Wh],delete h[cb],delete h[QB],delete h[ZB])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function BT(u){return u.tag===5||u.tag===3||u.tag===4}function $T(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||BT(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Kb(u,h,y){var _=u.tag;if(_===5||_===6)u=u.stateNode,h?y.nodeType===8?y.parentNode.insertBefore(u,h):y.insertBefore(u,h):(y.nodeType===8?(h=y.parentNode,h.insertBefore(u,y)):(h=y,h.appendChild(u)),y=y._reactRootContainer,y!=null||h.onclick!==null||(h.onclick=Lg));else if(_!==4&&(u=u.child,u!==null))for(Kb(u,h,y),u=u.sibling;u!==null;)Kb(u,h,y),u=u.sibling}function Yb(u,h,y){var _=u.tag;if(_===5||_===6)u=u.stateNode,h?y.insertBefore(u,h):y.appendChild(u);else if(_!==4&&(u=u.child,u!==null))for(Yb(u,h,y),u=u.sibling;u!==null;)Yb(u,h,y),u=u.sibling}var ii=null,Mo=!1;function Wl(u,h,y){for(y=y.child;y!==null;)UT(u,h,y),y=y.sibling}function UT(u,h,y){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(Hn,y)}catch{}switch(y.tag){case 5:bi||Wd(y,h);case 6:var _=ii,L=Mo;ii=null,Wl(u,h,y),ii=_,Mo=L,ii!==null&&(Mo?(u=ii,y=y.stateNode,u.nodeType===8?u.parentNode.removeChild(y):u.removeChild(y)):ii.removeChild(y.stateNode));break;case 18:ii!==null&&(Mo?(u=ii,y=y.stateNode,u.nodeType===8?lb(u.parentNode,y):u.nodeType===1&&lb(u,y),Yc(u)):lb(ii,y.stateNode));break;case 4:_=ii,L=Mo,ii=y.stateNode.containerInfo,Mo=!0,Wl(u,h,y),ii=_,Mo=L;break;case 0:case 11:case 14:case 15:if(!bi&&(_=y.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){L=_=_.next;do{var U=L,X=U.destroy;U=U.tag,X!==void 0&&((U&2)!==0||(U&4)!==0)&&Hb(y,h,X),L=L.next}while(L!==_)}Wl(u,h,y);break;case 1:if(!bi&&(Wd(y,h),_=y.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=y.memoizedProps,_.state=y.memoizedState,_.componentWillUnmount()}catch(re){cn(y,h,re)}Wl(u,h,y);break;case 21:Wl(u,h,y);break;case 22:y.mode&1?(bi=(_=bi)||y.memoizedState!==null,Wl(u,h,y),bi=_):Wl(u,h,y);break;default:Wl(u,h,y)}}function VT(u){var h=u.updateQueue;if(h!==null){u.updateQueue=null;var y=u.stateNode;y===null&&(y=u.stateNode=new m8),h.forEach(function(_){var L=S8.bind(null,u,_);y.has(_)||(y.add(_),_.then(L,L))})}}function Do(u,h){var y=h.deletions;if(y!==null)for(var _=0;_<y.length;_++){var L=y[_];try{var U=u,X=h,re=X;e:for(;re!==null;){switch(re.tag){case 5:ii=re.stateNode,Mo=!1;break e;case 3:ii=re.stateNode.containerInfo,Mo=!0;break e;case 4:ii=re.stateNode.containerInfo,Mo=!0;break e}re=re.return}if(ii===null)throw Error(r(160));UT(U,X,L),ii=null,Mo=!1;var ie=L.alternate;ie!==null&&(ie.return=null),L.return=null}catch(ge){cn(L,h,ge)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)WT(h,u),h=h.sibling}function WT(u,h){var y=u.alternate,_=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Do(h,u),ga(u),_&4){try{tp(3,u,u.return),oy(3,u)}catch(nt){cn(u,u.return,nt)}try{tp(5,u,u.return)}catch(nt){cn(u,u.return,nt)}}break;case 1:Do(h,u),ga(u),_&512&&y!==null&&Wd(y,y.return);break;case 5:if(Do(h,u),ga(u),_&512&&y!==null&&Wd(y,y.return),u.flags&32){var L=u.stateNode;try{Me(L,"")}catch(nt){cn(u,u.return,nt)}}if(_&4&&(L=u.stateNode,L!=null)){var U=u.memoizedProps,X=y!==null?y.memoizedProps:U,re=u.type,ie=u.updateQueue;if(u.updateQueue=null,ie!==null)try{re==="input"&&U.type==="radio"&&U.name!=null&&ct(L,U),Xt(re,X);var ge=Xt(re,U);for(X=0;X<ie.length;X+=2){var Se=ie[X],Ee=ie[X+1];Se==="style"?Wt(L,Ee):Se==="dangerouslySetInnerHTML"?Ae(L,Ee):Se==="children"?Me(L,Ee):R(L,Se,Ee,ge)}switch(re){case"input":le(L,U);break;case"textarea":ft(L,U);break;case"select":var _e=L._wrapperState.wasMultiple;L._wrapperState.wasMultiple=!!U.multiple;var We=U.value;We!=null?De(L,!!U.multiple,We,!1):_e!==!!U.multiple&&(U.defaultValue!=null?De(L,!!U.multiple,U.defaultValue,!0):De(L,!!U.multiple,U.multiple?[]:"",!1))}L[Wh]=U}catch(nt){cn(u,u.return,nt)}}break;case 6:if(Do(h,u),ga(u),_&4){if(u.stateNode===null)throw Error(r(162));L=u.stateNode,U=u.memoizedProps;try{L.nodeValue=U}catch(nt){cn(u,u.return,nt)}}break;case 3:if(Do(h,u),ga(u),_&4&&y!==null&&y.memoizedState.isDehydrated)try{Yc(h.containerInfo)}catch(nt){cn(u,u.return,nt)}break;case 4:Do(h,u),ga(u);break;case 13:Do(h,u),ga(u),L=u.child,L.flags&8192&&(U=L.memoizedState!==null,L.stateNode.isHidden=U,!U||L.alternate!==null&&L.alternate.memoizedState!==null||(Qb=Lt())),_&4&&VT(u);break;case 22:if(Se=y!==null&&y.memoizedState!==null,u.mode&1?(bi=(ge=bi)||Se,Do(h,u),bi=ge):Do(h,u),ga(u),_&8192){if(ge=u.memoizedState!==null,(u.stateNode.isHidden=ge)&&!Se&&(u.mode&1)!==0)for(Je=u,Se=u.child;Se!==null;){for(Ee=Je=Se;Je!==null;){switch(_e=Je,We=_e.child,_e.tag){case 0:case 11:case 14:case 15:tp(4,_e,_e.return);break;case 1:Wd(_e,_e.return);var Ze=_e.stateNode;if(typeof Ze.componentWillUnmount=="function"){_=_e,y=_e.return;try{h=_,Ze.props=h.memoizedProps,Ze.state=h.memoizedState,Ze.componentWillUnmount()}catch(nt){cn(_,y,nt)}}break;case 5:Wd(_e,_e.return);break;case 22:if(_e.memoizedState!==null){GT(Ee);continue}}We!==null?(We.return=_e,Je=We):GT(Ee)}Se=Se.sibling}e:for(Se=null,Ee=u;;){if(Ee.tag===5){if(Se===null){Se=Ee;try{L=Ee.stateNode,ge?(U=L.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none"):(re=Ee.stateNode,ie=Ee.memoizedProps.style,X=ie!=null&&ie.hasOwnProperty("display")?ie.display:null,re.style.display=_t("display",X))}catch(nt){cn(u,u.return,nt)}}}else if(Ee.tag===6){if(Se===null)try{Ee.stateNode.nodeValue=ge?"":Ee.memoizedProps}catch(nt){cn(u,u.return,nt)}}else if((Ee.tag!==22&&Ee.tag!==23||Ee.memoizedState===null||Ee===u)&&Ee.child!==null){Ee.child.return=Ee,Ee=Ee.child;continue}if(Ee===u)break e;for(;Ee.sibling===null;){if(Ee.return===null||Ee.return===u)break e;Se===Ee&&(Se=null),Ee=Ee.return}Se===Ee&&(Se=null),Ee.sibling.return=Ee.return,Ee=Ee.sibling}}break;case 19:Do(h,u),ga(u),_&4&&VT(u);break;case 21:break;default:Do(h,u),ga(u)}}function ga(u){var h=u.flags;if(h&2){try{e:{for(var y=u.return;y!==null;){if(BT(y)){var _=y;break e}y=y.return}throw Error(r(160))}switch(_.tag){case 5:var L=_.stateNode;_.flags&32&&(Me(L,""),_.flags&=-33);var U=$T(u);Yb(u,U,L);break;case 3:case 4:var X=_.stateNode.containerInfo,re=$T(u);Kb(u,re,X);break;default:throw Error(r(161))}}catch(ie){cn(u,u.return,ie)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function y8(u,h,y){Je=u,qT(u)}function qT(u,h,y){for(var _=(u.mode&1)!==0;Je!==null;){var L=Je,U=L.child;if(L.tag===22&&_){var X=L.memoizedState!==null||sy;if(!X){var re=L.alternate,ie=re!==null&&re.memoizedState!==null||bi;re=sy;var ge=bi;if(sy=X,(bi=ie)&&!ge)for(Je=L;Je!==null;)X=Je,ie=X.child,X.tag===22&&X.memoizedState!==null?KT(L):ie!==null?(ie.return=X,Je=ie):KT(L);for(;U!==null;)Je=U,qT(U),U=U.sibling;Je=L,sy=re,bi=ge}HT(u)}else(L.subtreeFlags&8772)!==0&&U!==null?(U.return=L,Je=U):HT(u)}}function HT(u){for(;Je!==null;){var h=Je;if((h.flags&8772)!==0){var y=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:bi||oy(5,h);break;case 1:var _=h.stateNode;if(h.flags&4&&!bi)if(y===null)_.componentDidMount();else{var L=h.elementType===h.type?y.memoizedProps:Io(h.type,y.memoizedProps);_.componentDidUpdate(L,y.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var U=h.updateQueue;U!==null&&GE(h,U,_);break;case 3:var X=h.updateQueue;if(X!==null){if(y=null,h.child!==null)switch(h.child.tag){case 5:y=h.child.stateNode;break;case 1:y=h.child.stateNode}GE(h,X,y)}break;case 5:var re=h.stateNode;if(y===null&&h.flags&4){y=re;var ie=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":ie.autoFocus&&y.focus();break;case"img":ie.src&&(y.src=ie.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var ge=h.alternate;if(ge!==null){var Se=ge.memoizedState;if(Se!==null){var Ee=Se.dehydrated;Ee!==null&&Yc(Ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}bi||h.flags&512&&Gb(h)}catch(_e){cn(h,h.return,_e)}}if(h===u){Je=null;break}if(y=h.sibling,y!==null){y.return=h.return,Je=y;break}Je=h.return}}function GT(u){for(;Je!==null;){var h=Je;if(h===u){Je=null;break}var y=h.sibling;if(y!==null){y.return=h.return,Je=y;break}Je=h.return}}function KT(u){for(;Je!==null;){var h=Je;try{switch(h.tag){case 0:case 11:case 15:var y=h.return;try{oy(4,h)}catch(ie){cn(h,y,ie)}break;case 1:var _=h.stateNode;if(typeof _.componentDidMount=="function"){var L=h.return;try{_.componentDidMount()}catch(ie){cn(h,L,ie)}}var U=h.return;try{Gb(h)}catch(ie){cn(h,U,ie)}break;case 5:var X=h.return;try{Gb(h)}catch(ie){cn(h,X,ie)}}}catch(ie){cn(h,h.return,ie)}if(h===u){Je=null;break}var re=h.sibling;if(re!==null){re.return=h.return,Je=re;break}Je=h.return}}var x8=Math.ceil,ay=S.ReactCurrentDispatcher,Jb=S.ReactCurrentOwner,ro=S.ReactCurrentBatchConfig,gr=0,Kn=null,Tn=null,si=0,Cs=0,qd=zl(0),$n=0,rp=null,ou=0,ly=0,Xb=0,np=null,is=null,Qb=0,Hd=1/0,tl=null,cy=!1,Zb=null,ql=null,uy=!1,Hl=null,dy=0,ip=0,ew=null,fy=-1,hy=0;function Fi(){return(gr&6)!==0?Lt():fy!==-1?fy:fy=Lt()}function Gl(u){return(u.mode&1)===0?1:(gr&2)!==0&&si!==0?si&-si:t8.transition!==null?(hy===0&&(hy=ve()),hy):(u=Nt,u!==0||(u=window.event,u=u===void 0?16:Dh(u.type)),u)}function Oo(u,h,y,_){if(50<ip)throw ip=0,ew=null,Error(r(185));Ve(u,y,_),((gr&2)===0||u!==Kn)&&(u===Kn&&((gr&2)===0&&(ly|=y),$n===4&&Kl(u,si)),ss(u,_),y===1&&gr===0&&(h.mode&1)===0&&(Hd=Lt()+500,$g&&$l()))}function ss(u,h){var y=u.callbackNode;Sg(u,h);var _=Wc(u,u===Kn?si:0);if(_===0)y!==null&&_r(y),u.callbackNode=null,u.callbackPriority=0;else if(h=_&-_,u.callbackPriority!==h){if(y!=null&&_r(y),h===1)u.tag===0?e8(JT.bind(null,u)):DE(JT.bind(null,u)),JB(function(){(gr&6)===0&&$l()}),y=null;else{switch(En(_)){case 1:y=zn;break;case 4:y=To;break;case 16:y=hi;break;case 536870912:y=Zr;break;default:y=hi}y=iN(y,YT.bind(null,u))}u.callbackPriority=h,u.callbackNode=y}}function YT(u,h){if(fy=-1,hy=0,(gr&6)!==0)throw Error(r(327));var y=u.callbackNode;if(Gd()&&u.callbackNode!==y)return null;var _=Wc(u,u===Kn?si:0);if(_===0)return null;if((_&30)!==0||(_&u.expiredLanes)!==0||h)h=py(u,_);else{h=_;var L=gr;gr|=2;var U=QT();(Kn!==u||si!==h)&&(tl=null,Hd=Lt()+500,lu(u,h));do try{w8();break}catch(re){XT(u,re)}while(!0);xb(),ay.current=U,gr=L,Tn!==null?h=0:(Kn=null,si=0,h=$n)}if(h!==0){if(h===2&&(L=_d(u),L!==0&&(_=L,h=tw(u,L))),h===1)throw y=rp,lu(u,0),Kl(u,_),ss(u,Lt()),y;if(h===6)Kl(u,_);else{if(L=u.current.alternate,(_&30)===0&&!v8(L)&&(h=py(u,_),h===2&&(U=_d(u),U!==0&&(_=U,h=tw(u,U))),h===1))throw y=rp,lu(u,0),Kl(u,_),ss(u,Lt()),y;switch(u.finishedWork=L,u.finishedLanes=_,h){case 0:case 1:throw Error(r(345));case 2:cu(u,is,tl);break;case 3:if(Kl(u,_),(_&130023424)===_&&(h=Qb+500-Lt(),10<h)){if(Wc(u,0)!==0)break;if(L=u.suspendedLanes,(L&_)!==_){Fi(),u.pingedLanes|=u.suspendedLanes&L;break}u.timeoutHandle=ab(cu.bind(null,u,is,tl),h);break}cu(u,is,tl);break;case 4:if(Kl(u,_),(_&4194240)===_)break;for(h=u.eventTimes,L=-1;0<_;){var X=31-ri(_);U=1<<X,X=h[X],X>L&&(L=X),_&=~U}if(_=L,_=Lt()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*x8(_/1960))-_,10<_){u.timeoutHandle=ab(cu.bind(null,u,is,tl),_);break}cu(u,is,tl);break;case 5:cu(u,is,tl);break;default:throw Error(r(329))}}}return ss(u,Lt()),u.callbackNode===y?YT.bind(null,u):null}function tw(u,h){var y=np;return u.current.memoizedState.isDehydrated&&(lu(u,h).flags|=256),u=py(u,h),u!==2&&(h=is,is=y,h!==null&&rw(h)),u}function rw(u){is===null?is=u:is.push.apply(is,u)}function v8(u){for(var h=u;;){if(h.flags&16384){var y=h.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var _=0;_<y.length;_++){var L=y[_],U=L.getSnapshot;L=L.value;try{if(!Po(U(),L))return!1}catch{return!1}}}if(y=h.child,h.subtreeFlags&16384&&y!==null)y.return=h,h=y;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Kl(u,h){for(h&=~Xb,h&=~ly,u.suspendedLanes|=h,u.pingedLanes&=~h,u=u.expirationTimes;0<h;){var y=31-ri(h),_=1<<y;u[y]=-1,h&=~_}}function JT(u){if((gr&6)!==0)throw Error(r(327));Gd();var h=Wc(u,0);if((h&1)===0)return ss(u,Lt()),null;var y=py(u,h);if(u.tag!==0&&y===2){var _=_d(u);_!==0&&(h=_,y=tw(u,_))}if(y===1)throw y=rp,lu(u,0),Kl(u,h),ss(u,Lt()),y;if(y===6)throw Error(r(345));return u.finishedWork=u.current.alternate,u.finishedLanes=h,cu(u,is,tl),ss(u,Lt()),null}function nw(u,h){var y=gr;gr|=1;try{return u(h)}finally{gr=y,gr===0&&(Hd=Lt()+500,$g&&$l())}}function au(u){Hl!==null&&Hl.tag===0&&(gr&6)===0&&Gd();var h=gr;gr|=1;var y=ro.transition,_=Nt;try{if(ro.transition=null,Nt=1,u)return u()}finally{Nt=_,ro.transition=y,gr=h,(gr&6)===0&&$l()}}function iw(){Cs=qd.current,qr(qd)}function lu(u,h){u.finishedWork=null,u.finishedLanes=0;var y=u.timeoutHandle;if(y!==-1&&(u.timeoutHandle=-1,YB(y)),Tn!==null)for(y=Tn.return;y!==null;){var _=y;switch(hb(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&zg();break;case 3:Ud(),qr(ts),qr(yi),Eb();break;case 5:Cb(_);break;case 4:Ud();break;case 13:qr(en);break;case 19:qr(en);break;case 10:vb(_.type._context);break;case 22:case 23:iw()}y=y.return}if(Kn=u,Tn=u=Yl(u.current,null),si=Cs=h,$n=0,rp=null,Xb=ly=ou=0,is=np=null,nu!==null){for(h=0;h<nu.length;h++)if(y=nu[h],_=y.interleaved,_!==null){y.interleaved=null;var L=_.next,U=y.pending;if(U!==null){var X=U.next;U.next=L,_.next=X}y.pending=_}nu=null}return u}function XT(u,h){do{var y=Tn;try{if(xb(),Xg.current=ty,Qg){for(var _=tn.memoizedState;_!==null;){var L=_.queue;L!==null&&(L.pending=null),_=_.next}Qg=!1}if(su=0,Gn=Bn=tn=null,Jh=!1,Xh=0,Jb.current=null,y===null||y.return===null){$n=1,rp=h,Tn=null;break}e:{var U=u,X=y.return,re=y,ie=h;if(h=si,re.flags|=32768,ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var ge=ie,Se=re,Ee=Se.tag;if((Se.mode&1)===0&&(Ee===0||Ee===11||Ee===15)){var _e=Se.alternate;_e?(Se.updateQueue=_e.updateQueue,Se.memoizedState=_e.memoizedState,Se.lanes=_e.lanes):(Se.updateQueue=null,Se.memoizedState=null)}var We=kT(X);if(We!==null){We.flags&=-257,_T(We,X,re,U,h),We.mode&1&&wT(U,ge,h),h=We,ie=ge;var Ze=h.updateQueue;if(Ze===null){var nt=new Set;nt.add(ie),h.updateQueue=nt}else Ze.add(ie);break e}else{if((h&1)===0){wT(U,ge,h),sw();break e}ie=Error(r(426))}}else if(Kr&&re.mode&1){var gn=kT(X);if(gn!==null){(gn.flags&65536)===0&&(gn.flags|=256),_T(gn,X,re,U,h),gb(Vd(ie,re));break e}}U=ie=Vd(ie,re),$n!==4&&($n=2),np===null?np=[U]:np.push(U),U=X;do{switch(U.tag){case 3:U.flags|=65536,h&=-h,U.lanes|=h;var fe=vT(U,ie,h);HE(U,fe);break e;case 1:re=ie;var ce=U.type,pe=U.stateNode;if((U.flags&128)===0&&(typeof ce.getDerivedStateFromError=="function"||pe!==null&&typeof pe.componentDidCatch=="function"&&(ql===null||!ql.has(pe)))){U.flags|=65536,h&=-h,U.lanes|=h;var je=bT(U,re,h);HE(U,je);break e}}U=U.return}while(U!==null)}eN(y)}catch(lt){h=lt,Tn===y&&y!==null&&(Tn=y=y.return);continue}break}while(!0)}function QT(){var u=ay.current;return ay.current=ty,u===null?ty:u}function sw(){($n===0||$n===3||$n===2)&&($n=4),Kn===null||(ou&268435455)===0&&(ly&268435455)===0||Kl(Kn,si)}function py(u,h){var y=gr;gr|=2;var _=QT();(Kn!==u||si!==h)&&(tl=null,lu(u,h));do try{b8();break}catch(L){XT(u,L)}while(!0);if(xb(),gr=y,ay.current=_,Tn!==null)throw Error(r(261));return Kn=null,si=0,$n}function b8(){for(;Tn!==null;)ZT(Tn)}function w8(){for(;Tn!==null&&!Di();)ZT(Tn)}function ZT(u){var h=nN(u.alternate,u,Cs);u.memoizedProps=u.pendingProps,h===null?eN(u):Tn=h,Jb.current=null}function eN(u){var h=u;do{var y=h.alternate;if(u=h.return,(h.flags&32768)===0){if(y=h8(y,h,Cs),y!==null){Tn=y;return}}else{if(y=p8(y,h),y!==null){y.flags&=32767,Tn=y;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{$n=6,Tn=null;return}}if(h=h.sibling,h!==null){Tn=h;return}Tn=h=u}while(h!==null);$n===0&&($n=5)}function cu(u,h,y){var _=Nt,L=ro.transition;try{ro.transition=null,Nt=1,k8(u,h,y,_)}finally{ro.transition=L,Nt=_}return null}function k8(u,h,y,_){do Gd();while(Hl!==null);if((gr&6)!==0)throw Error(r(327));y=u.finishedWork;var L=u.finishedLanes;if(y===null)return null;if(u.finishedWork=null,u.finishedLanes=0,y===u.current)throw Error(r(177));u.callbackNode=null,u.callbackPriority=0;var U=y.lanes|y.childLanes;if(Bt(u,U),u===Kn&&(Tn=Kn=null,si=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||uy||(uy=!0,iN(hi,function(){return Gd(),null})),U=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||U){U=ro.transition,ro.transition=null;var X=Nt;Nt=1;var re=gr;gr|=4,Jb.current=null,g8(u,y),WT(y,u),UB(sb),Sd=!!ib,sb=ib=null,u.current=y,y8(y),Qi(),gr=re,Nt=X,ro.transition=U}else u.current=y;if(uy&&(uy=!1,Hl=u,dy=L),U=u.pendingLanes,U===0&&(ql=null),mi(y.stateNode),ss(u,Lt()),h!==null)for(_=u.onRecoverableError,y=0;y<h.length;y++)L=h[y],_(L.value,{componentStack:L.stack,digest:L.digest});if(cy)throw cy=!1,u=Zb,Zb=null,u;return(dy&1)!==0&&u.tag!==0&&Gd(),U=u.pendingLanes,(U&1)!==0?u===ew?ip++:(ip=0,ew=u):ip=0,$l(),null}function Gd(){if(Hl!==null){var u=En(dy),h=ro.transition,y=Nt;try{if(ro.transition=null,Nt=16>u?16:u,Hl===null)var _=!1;else{if(u=Hl,Hl=null,dy=0,(gr&6)!==0)throw Error(r(331));var L=gr;for(gr|=4,Je=u.current;Je!==null;){var U=Je,X=U.child;if((Je.flags&16)!==0){var re=U.deletions;if(re!==null){for(var ie=0;ie<re.length;ie++){var ge=re[ie];for(Je=ge;Je!==null;){var Se=Je;switch(Se.tag){case 0:case 11:case 15:tp(8,Se,U)}var Ee=Se.child;if(Ee!==null)Ee.return=Se,Je=Ee;else for(;Je!==null;){Se=Je;var _e=Se.sibling,We=Se.return;if(zT(Se),Se===ge){Je=null;break}if(_e!==null){_e.return=We,Je=_e;break}Je=We}}}var Ze=U.alternate;if(Ze!==null){var nt=Ze.child;if(nt!==null){Ze.child=null;do{var gn=nt.sibling;nt.sibling=null,nt=gn}while(nt!==null)}}Je=U}}if((U.subtreeFlags&2064)!==0&&X!==null)X.return=U,Je=X;else e:for(;Je!==null;){if(U=Je,(U.flags&2048)!==0)switch(U.tag){case 0:case 11:case 15:tp(9,U,U.return)}var fe=U.sibling;if(fe!==null){fe.return=U.return,Je=fe;break e}Je=U.return}}var ce=u.current;for(Je=ce;Je!==null;){X=Je;var pe=X.child;if((X.subtreeFlags&2064)!==0&&pe!==null)pe.return=X,Je=pe;else e:for(X=ce;Je!==null;){if(re=Je,(re.flags&2048)!==0)try{switch(re.tag){case 0:case 11:case 15:oy(9,re)}}catch(lt){cn(re,re.return,lt)}if(re===X){Je=null;break e}var je=re.sibling;if(je!==null){je.return=re.return,Je=je;break e}Je=re.return}}if(gr=L,$l(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(Hn,u)}catch{}_=!0}return _}finally{Nt=y,ro.transition=h}}return!1}function tN(u,h,y){h=Vd(y,h),h=vT(u,h,1),u=Vl(u,h,1),h=Fi(),u!==null&&(Ve(u,1,h),ss(u,h))}function cn(u,h,y){if(u.tag===3)tN(u,u,y);else for(;h!==null;){if(h.tag===3){tN(h,u,y);break}else if(h.tag===1){var _=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(ql===null||!ql.has(_))){u=Vd(y,u),u=bT(h,u,1),h=Vl(h,u,1),u=Fi(),h!==null&&(Ve(h,1,u),ss(h,u));break}}h=h.return}}function _8(u,h,y){var _=u.pingCache;_!==null&&_.delete(h),h=Fi(),u.pingedLanes|=u.suspendedLanes&y,Kn===u&&(si&y)===y&&($n===4||$n===3&&(si&130023424)===si&&500>Lt()-Qb?lu(u,0):Xb|=y),ss(u,h)}function rN(u,h){h===0&&((u.mode&1)===0?h=1:(h=kd,kd<<=1,(kd&130023424)===0&&(kd=4194304)));var y=Fi();u=Qa(u,h),u!==null&&(Ve(u,h,y),ss(u,y))}function C8(u){var h=u.memoizedState,y=0;h!==null&&(y=h.retryLane),rN(u,y)}function S8(u,h){var y=0;switch(u.tag){case 13:var _=u.stateNode,L=u.memoizedState;L!==null&&(y=L.retryLane);break;case 19:_=u.stateNode;break;default:throw Error(r(314))}_!==null&&_.delete(h),rN(u,y)}var nN;nN=function(u,h,y){if(u!==null)if(u.memoizedProps!==h.pendingProps||ts.current)ns=!0;else{if((u.lanes&y)===0&&(h.flags&128)===0)return ns=!1,f8(u,h,y);ns=(u.flags&131072)!==0}else ns=!1,Kr&&(h.flags&1048576)!==0&&OE(h,Vg,h.index);switch(h.lanes=0,h.tag){case 2:var _=h.type;iy(u,h),u=h.pendingProps;var L=Dd(h,yi.current);$d(h,y),L=Ab(null,h,_,u,L,y);var U=jb();return h.flags|=1,typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,rs(_)?(U=!0,Bg(h)):U=!1,h.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,kb(h),L.updater=ry,h.stateNode=L,L._reactInternals=h,Ob(h,_,u,y),h=Bb(null,h,_,!0,U,y)):(h.tag=0,Kr&&U&&fb(h),Li(null,h,L,y),h=h.child),h;case 16:_=h.elementType;e:{switch(iy(u,h),u=h.pendingProps,L=_._init,_=L(_._payload),h.type=_,L=h.tag=T8(_),u=Io(_,u),L){case 0:h=zb(null,h,_,u,y);break e;case 1:h=AT(null,h,_,u,y);break e;case 11:h=CT(null,h,_,u,y);break e;case 14:h=ST(null,h,_,Io(_.type,u),y);break e}throw Error(r(306,_,""))}return h;case 0:return _=h.type,L=h.pendingProps,L=h.elementType===_?L:Io(_,L),zb(u,h,_,L,y);case 1:return _=h.type,L=h.pendingProps,L=h.elementType===_?L:Io(_,L),AT(u,h,_,L,y);case 3:e:{if(jT(h),u===null)throw Error(r(387));_=h.pendingProps,U=h.memoizedState,L=U.element,qE(u,h),Yg(h,_,null,y);var X=h.memoizedState;if(_=X.element,U.isDehydrated)if(U={element:_,isDehydrated:!1,cache:X.cache,pendingSuspenseBoundaries:X.pendingSuspenseBoundaries,transitions:X.transitions},h.updateQueue.baseState=U,h.memoizedState=U,h.flags&256){L=Vd(Error(r(423)),h),h=PT(u,h,_,y,L);break e}else if(_!==L){L=Vd(Error(r(424)),h),h=PT(u,h,_,y,L);break e}else for(_s=Fl(h.stateNode.containerInfo.firstChild),ks=h,Kr=!0,Ro=null,y=VE(h,null,_,y),h.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Fd(),_===L){h=el(u,h,y);break e}Li(u,h,_,y)}h=h.child}return h;case 5:return KE(h),u===null&&mb(h),_=h.type,L=h.pendingProps,U=u!==null?u.memoizedProps:null,X=L.children,ob(_,L)?X=null:U!==null&&ob(_,U)&&(h.flags|=32),NT(u,h),Li(u,h,X,y),h.child;case 6:return u===null&&mb(h),null;case 13:return RT(u,h,y);case 4:return _b(h,h.stateNode.containerInfo),_=h.pendingProps,u===null?h.child=zd(h,null,_,y):Li(u,h,_,y),h.child;case 11:return _=h.type,L=h.pendingProps,L=h.elementType===_?L:Io(_,L),CT(u,h,_,L,y);case 7:return Li(u,h,h.pendingProps,y),h.child;case 8:return Li(u,h,h.pendingProps.children,y),h.child;case 12:return Li(u,h,h.pendingProps.children,y),h.child;case 10:e:{if(_=h.type._context,L=h.pendingProps,U=h.memoizedProps,X=L.value,zr(Hg,_._currentValue),_._currentValue=X,U!==null)if(Po(U.value,X)){if(U.children===L.children&&!ts.current){h=el(u,h,y);break e}}else for(U=h.child,U!==null&&(U.return=h);U!==null;){var re=U.dependencies;if(re!==null){X=U.child;for(var ie=re.firstContext;ie!==null;){if(ie.context===_){if(U.tag===1){ie=Za(-1,y&-y),ie.tag=2;var ge=U.updateQueue;if(ge!==null){ge=ge.shared;var Se=ge.pending;Se===null?ie.next=ie:(ie.next=Se.next,Se.next=ie),ge.pending=ie}}U.lanes|=y,ie=U.alternate,ie!==null&&(ie.lanes|=y),bb(U.return,y,h),re.lanes|=y;break}ie=ie.next}}else if(U.tag===10)X=U.type===h.type?null:U.child;else if(U.tag===18){if(X=U.return,X===null)throw Error(r(341));X.lanes|=y,re=X.alternate,re!==null&&(re.lanes|=y),bb(X,y,h),X=U.sibling}else X=U.child;if(X!==null)X.return=U;else for(X=U;X!==null;){if(X===h){X=null;break}if(U=X.sibling,U!==null){U.return=X.return,X=U;break}X=X.return}U=X}Li(u,h,L.children,y),h=h.child}return h;case 9:return L=h.type,_=h.pendingProps.children,$d(h,y),L=eo(L),_=_(L),h.flags|=1,Li(u,h,_,y),h.child;case 14:return _=h.type,L=Io(_,h.pendingProps),L=Io(_.type,L),ST(u,h,_,L,y);case 15:return ET(u,h,h.type,h.pendingProps,y);case 17:return _=h.type,L=h.pendingProps,L=h.elementType===_?L:Io(_,L),iy(u,h),h.tag=1,rs(_)?(u=!0,Bg(h)):u=!1,$d(h,y),yT(h,_,L),Ob(h,_,L,y),Bb(null,h,_,!0,u,y);case 19:return MT(u,h,y);case 22:return TT(u,h,y)}throw Error(r(156,h.tag))};function iN(u,h){return kr(u,h)}function E8(u,h,y,_){this.tag=u,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function no(u,h,y,_){return new E8(u,h,y,_)}function ow(u){return u=u.prototype,!(!u||!u.isReactComponent)}function T8(u){if(typeof u=="function")return ow(u)?1:0;if(u!=null){if(u=u.$$typeof,u===W)return 11;if(u===A)return 14}return 2}function Yl(u,h){var y=u.alternate;return y===null?(y=no(u.tag,h,u.key,u.mode),y.elementType=u.elementType,y.type=u.type,y.stateNode=u.stateNode,y.alternate=u,u.alternate=y):(y.pendingProps=h,y.type=u.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=u.flags&14680064,y.childLanes=u.childLanes,y.lanes=u.lanes,y.child=u.child,y.memoizedProps=u.memoizedProps,y.memoizedState=u.memoizedState,y.updateQueue=u.updateQueue,h=u.dependencies,y.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},y.sibling=u.sibling,y.index=u.index,y.ref=u.ref,y}function my(u,h,y,_,L,U){var X=2;if(_=u,typeof u=="function")ow(u)&&(X=1);else if(typeof u=="string")X=5;else e:switch(u){case q:return uu(y.children,L,U,h);case G:X=8,L|=8;break;case H:return u=no(12,y,h,L|2),u.elementType=H,u.lanes=U,u;case F:return u=no(13,y,h,L),u.elementType=F,u.lanes=U,u;case b:return u=no(19,y,h,L),u.elementType=b,u.lanes=U,u;case j:return gy(y,L,U,h);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case K:X=10;break e;case J:X=9;break e;case W:X=11;break e;case A:X=14;break e;case D:X=16,_=null;break e}throw Error(r(130,u==null?u:typeof u,""))}return h=no(X,y,h,L),h.elementType=u,h.type=_,h.lanes=U,h}function uu(u,h,y,_){return u=no(7,u,_,h),u.lanes=y,u}function gy(u,h,y,_){return u=no(22,u,_,h),u.elementType=j,u.lanes=y,u.stateNode={isHidden:!1},u}function aw(u,h,y){return u=no(6,u,null,h),u.lanes=y,u}function lw(u,h,y){return h=no(4,u.children!==null?u.children:[],u.key,h),h.lanes=y,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}function N8(u,h,y,_,L){this.tag=h,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ye(0),this.expirationTimes=ye(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ye(0),this.identifierPrefix=_,this.onRecoverableError=L,this.mutableSourceEagerHydrationData=null}function cw(u,h,y,_,L,U,X,re,ie){return u=new N8(u,h,y,re,ie),h===1?(h=1,U===!0&&(h|=8)):h=0,U=no(3,null,null,h),u.current=U,U.stateNode=u,U.memoizedState={element:_,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},kb(U),u}function A8(u,h,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:_==null?null:""+_,children:u,containerInfo:h,implementation:y}}function sN(u){if(!u)return Bl;u=u._reactInternals;e:{if(Ot(u)!==u||u.tag!==1)throw Error(r(170));var h=u;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(rs(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(r(171))}if(u.tag===1){var y=u.type;if(rs(y))return IE(u,y,h)}return h}function oN(u,h,y,_,L,U,X,re,ie){return u=cw(y,_,!0,u,L,U,X,re,ie),u.context=sN(null),y=u.current,_=Fi(),L=Gl(y),U=Za(_,L),U.callback=h??null,Vl(y,U,L),u.current.lanes=L,Ve(u,L,_),ss(u,_),u}function yy(u,h,y,_){var L=h.current,U=Fi(),X=Gl(L);return y=sN(y),h.context===null?h.context=y:h.pendingContext=y,h=Za(U,X),h.payload={element:u},_=_===void 0?null:_,_!==null&&(h.callback=_),u=Vl(L,h,X),u!==null&&(Oo(u,L,X,U),Kg(u,L,X)),X}function xy(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function aN(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var y=u.retryLane;u.retryLane=y!==0&&y<h?y:h}}function uw(u,h){aN(u,h),(u=u.alternate)&&aN(u,h)}function j8(){return null}var lN=typeof reportError=="function"?reportError:function(u){console.error(u)};function dw(u){this._internalRoot=u}vy.prototype.render=dw.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(r(409));yy(u,h,null,null)},vy.prototype.unmount=dw.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;au(function(){yy(null,u,null,null)}),h[Ka]=null}};function vy(u){this._internalRoot=u}vy.prototype.unstable_scheduleHydration=function(u){if(u){var h=bs();u={blockedOn:null,target:u,priority:h};for(var y=0;y<ca.length&&h!==0&&h<ca[y].priority;y++);ca.splice(y,0,u),y===0&&Tg(u)}};function fw(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function by(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function cN(){}function P8(u,h,y,_,L){if(L){if(typeof _=="function"){var U=_;_=function(){var ge=xy(X);U.call(ge)}}var X=oN(h,_,u,0,null,!1,!1,"",cN);return u._reactRootContainer=X,u[Ka]=X.current,Uh(u.nodeType===8?u.parentNode:u),au(),X}for(;L=u.lastChild;)u.removeChild(L);if(typeof _=="function"){var re=_;_=function(){var ge=xy(ie);re.call(ge)}}var ie=cw(u,0,!1,null,null,!1,!1,"",cN);return u._reactRootContainer=ie,u[Ka]=ie.current,Uh(u.nodeType===8?u.parentNode:u),au(function(){yy(h,ie,y,_)}),ie}function wy(u,h,y,_,L){var U=y._reactRootContainer;if(U){var X=U;if(typeof L=="function"){var re=L;L=function(){var ie=xy(X);re.call(ie)}}yy(h,X,u,L)}else X=P8(y,h,u,L,_);return xy(X)}Zi=function(u){switch(u.tag){case 3:var h=u.stateNode;if(h.current.memoizedState.isDehydrated){var y=aa(h.pendingLanes);y!==0&&(or(h,y|1),ss(h,Lt()),(gr&6)===0&&(Hd=Lt()+500,$l()))}break;case 13:au(function(){var _=Qa(u,1);if(_!==null){var L=Fi();Oo(_,u,1,L)}}),uw(u,1)}},No=function(u){if(u.tag===13){var h=Qa(u,134217728);if(h!==null){var y=Fi();Oo(h,u,134217728,y)}uw(u,134217728)}},ni=function(u){if(u.tag===13){var h=Gl(u),y=Qa(u,h);if(y!==null){var _=Fi();Oo(y,u,h,_)}uw(u,h)}},bs=function(){return Nt},jh=function(u,h){var y=Nt;try{return Nt=u,h()}finally{Nt=y}},Vr=function(u,h,y){switch(h){case"input":if(le(u,y),h=y.name,y.type==="radio"&&h!=null){for(y=u;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<y.length;h++){var _=y[h];if(_!==u&&_.form===u.form){var L=Fg(_);if(!L)throw Error(r(90));de(_),le(_,L)}}}break;case"textarea":ft(u,y);break;case"select":h=y.value,h!=null&&De(u,!!y.multiple,h,!1)}},yt=nw,ot=au;var R8={usingClientEntryPoint:!1,Events:[qh,Id,Fg,qt,Pe,nw]},sp={findFiberByHostInstance:Zc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},I8={bundleType:sp.bundleType,version:sp.version,rendererPackageName:sp.rendererPackageName,rendererConfig:sp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=Gr(u),u===null?null:u.stateNode},findFiberByHostInstance:sp.findFiberByHostInstance||j8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ky=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ky.isDisabled&&ky.supportsFiber)try{Hn=ky.inject(I8),mn=ky}catch{}}return os.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R8,os.createPortal=function(u,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fw(h))throw Error(r(200));return A8(u,h,null,y)},os.createRoot=function(u,h){if(!fw(u))throw Error(r(299));var y=!1,_="",L=lN;return h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(_=h.identifierPrefix),h.onRecoverableError!==void 0&&(L=h.onRecoverableError)),h=cw(u,1,!1,null,null,y,!1,_,L),u[Ka]=h.current,Uh(u.nodeType===8?u.parentNode:u),new dw(h)},os.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=Gr(h),u=u===null?null:u.stateNode,u},os.flushSync=function(u){return au(u)},os.hydrate=function(u,h,y){if(!by(h))throw Error(r(200));return wy(null,u,h,!0,y)},os.hydrateRoot=function(u,h,y){if(!fw(u))throw Error(r(405));var _=y!=null&&y.hydratedSources||null,L=!1,U="",X=lN;if(y!=null&&(y.unstable_strictMode===!0&&(L=!0),y.identifierPrefix!==void 0&&(U=y.identifierPrefix),y.onRecoverableError!==void 0&&(X=y.onRecoverableError)),h=oN(h,null,u,1,y??null,L,!1,U,X),u[Ka]=h.current,Uh(u),_)for(u=0;u<_.length;u++)y=_[u],L=y._getVersion,L=L(y._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[y,L]:h.mutableSourceEagerHydrationData.push(y,L);return new vy(h)},os.render=function(u,h,y){if(!by(h))throw Error(r(200));return wy(null,u,h,!1,y)},os.unmountComponentAtNode=function(u){if(!by(u))throw Error(r(40));return u._reactRootContainer?(au(function(){wy(null,null,u,!1,function(){u._reactRootContainer=null,u[Ka]=null})}),!0):!1},os.unstable_batchedUpdates=nw,os.unstable_renderSubtreeIntoContainer=function(u,h,y,_){if(!by(y))throw Error(r(200));if(u==null||u._reactInternals===void 0)throw Error(r(38));return wy(u,h,y,!1,_)},os.version="18.3.1-next-f1338f8080-20240426",os}var yN;function lM(){if(yN)return mw.exports;yN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mw.exports=V8(),mw.exports}var xN;function W8(){if(xN)return Cy;xN=1;var t=lM();return Cy.createRoot=t.createRoot,Cy.hydrateRoot=t.hydrateRoot,Cy}var q8=W8(),Qm=lM();const cM=El(Qm);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function um(){return um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},um.apply(this,arguments)}var dc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(dc||(dc={}));const vN="popstate";function H8(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return hk("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:X0(i)}return K8(e,r,null,t)}function Fn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function uM(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function G8(){return Math.random().toString(36).substr(2,8)}function bN(t,e){return{usr:t.state,key:t.key,idx:e}}function hk(t,e,r,n){return r===void 0&&(r=null),um({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?hh(e):e,{state:r,key:e&&e.key||n||G8()})}function X0(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function hh(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function K8(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=dc.Pop,c=null,d=f();d==null&&(d=0,o.replaceState(um({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function p(){a=dc.Pop;let w=f(),E=w==null?null:w-d;d=w,c&&c({action:a,location:x.location,delta:E})}function g(w,E){a=dc.Push;let P=hk(x.location,w,E);d=f()+1;let R=bN(P,d),S=x.createHref(P);try{o.pushState(R,"",S)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(S)}s&&c&&c({action:a,location:x.location,delta:1})}function m(w,E){a=dc.Replace;let P=hk(x.location,w,E);d=f();let R=bN(P,d),S=x.createHref(P);o.replaceState(R,"",S),s&&c&&c({action:a,location:x.location,delta:0})}function v(w){let E=i.location.origin!=="null"?i.location.origin:i.location.href,P=typeof w=="string"?w:X0(w);return P=P.replace(/ $/,"%20"),Fn(E,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,E)}let x={get action(){return a},get location(){return t(i,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(vN,p),c=w,()=>{i.removeEventListener(vN,p),c=null}},createHref(w){return e(i,w)},createURL:v,encodeLocation(w){let E=v(w);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:m,go(w){return o.go(w)}};return x}var wN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wN||(wN={}));function Y8(t,e,r){return r===void 0&&(r="/"),J8(t,e,r)}function J8(t,e,r,n){let i=typeof e=="string"?hh(e):e,s=uC(i.pathname||"/",r);if(s==null)return null;let o=dM(t);X8(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let d=c$(s);a=o$(o[c],d)}return a}function dM(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Fn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=vc([n,c.relativePath]),f=r.concat(c);s.children&&s.children.length>0&&(Fn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),dM(s.children,e,f,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:i$(d,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of fM(s.path))i(s,o,c)}),e}function fM(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=fM(n.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function X8(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:s$(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Q8=/^:[\w-]+$/,Z8=3,e$=2,t$=1,r$=10,n$=-2,kN=t=>t==="*";function i$(t,e){let r=t.split("/"),n=r.length;return r.some(kN)&&(n+=n$),e&&(n+=e$),r.filter(i=>!kN(i)).reduce((i,s)=>i+(Q8.test(s)?Z8:s===""?t$:r$),n)}function s$(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function o$(t,e,r){let{routesMeta:n}=t,i={},s="/",o=[];for(let a=0;a<n.length;++a){let c=n[a],d=a===n.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=a$({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),g=c.route;if(!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:vc([s,p.pathname]),pathnameBase:h$(vc([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=vc([s,p.pathnameBase]))}return o}function a$(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=l$(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((d,f,p)=>{let{paramName:g,isOptional:m}=f;if(g==="*"){let x=a[p]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const v=a[p];return m&&!v?d[g]=void 0:d[g]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function l$(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),uM(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function c$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return uM(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function uC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function u$(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?hh(t):t;return{pathname:r?r.startsWith("/")?r:d$(r,e):e,search:p$(n),hash:m$(i)}}function d$(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function xw(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function f$(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function hM(t,e){let r=f$(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function pM(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=hh(t):(i=um({},t),Fn(!i.pathname||!i.pathname.includes("?"),xw("?","pathname","search",i)),Fn(!i.pathname||!i.pathname.includes("#"),xw("#","pathname","hash",i)),Fn(!i.search||!i.search.includes("#"),xw("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let p=e.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}a=p>=0?e[p]:"/"}let c=u$(i,a),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}const vc=t=>t.join("/").replace(/\/\/+/g,"/"),h$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),p$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,m$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function g$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const mM=["post","put","patch","delete"];new Set(mM);const y$=["get",...mM];new Set(y$);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dm(){return dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dm.apply(this,arguments)}const dC=C.createContext(null),x$=C.createContext(null),fd=C.createContext(null),Vx=C.createContext(null),Ic=C.createContext({outlet:null,matches:[],isDataRoute:!1}),gM=C.createContext(null);function v$(t,e){let{relative:r}=e===void 0?{}:e;Zm()||Fn(!1);let{basename:n,navigator:i}=C.useContext(fd),{hash:s,pathname:o,search:a}=xM(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:vc([n,o])),i.createHref({pathname:c,search:a,hash:s})}function Zm(){return C.useContext(Vx)!=null}function hd(){return Zm()||Fn(!1),C.useContext(Vx).location}function yM(t){C.useContext(fd).static||C.useLayoutEffect(t)}function Ua(){let{isDataRoute:t}=C.useContext(Ic);return t?R$():b$()}function b$(){Zm()||Fn(!1);let t=C.useContext(dC),{basename:e,future:r,navigator:n}=C.useContext(fd),{matches:i}=C.useContext(Ic),{pathname:s}=hd(),o=JSON.stringify(hM(i,r.v7_relativeSplatPath)),a=C.useRef(!1);return yM(()=>{a.current=!0}),C.useCallback(function(d,f){if(f===void 0&&(f={}),!a.current)return;if(typeof d=="number"){n.go(d);return}let p=pM(d,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:vc([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,o,s,t])}function _N(){let{matches:t}=C.useContext(Ic),e=t[t.length-1];return e?e.params:{}}function xM(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=C.useContext(fd),{matches:i}=C.useContext(Ic),{pathname:s}=hd(),o=JSON.stringify(hM(i,n.v7_relativeSplatPath));return C.useMemo(()=>pM(t,JSON.parse(o),s,r==="path"),[t,o,s,r])}function w$(t,e){return k$(t,e)}function k$(t,e,r,n){Zm()||Fn(!1);let{navigator:i}=C.useContext(fd),{matches:s}=C.useContext(Ic),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=hd(),f;if(e){var p;let w=typeof e=="string"?hh(e):e;c==="/"||(p=w.pathname)!=null&&p.startsWith(c)||Fn(!1),f=w}else f=d;let g=f.pathname||"/",m=g;if(c!=="/"){let w=c.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=Y8(t,{pathname:m}),x=T$(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:vc([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:vc([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,r,n);return e&&x?C.createElement(Vx.Provider,{value:{location:dm({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:dc.Pop}},x):x}function _$(){let t=P$(),e=g$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),r?C.createElement("pre",{style:i},r):null,null)}const C$=C.createElement(_$,null);class S$ extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?C.createElement(Ic.Provider,{value:this.props.routeContext},C.createElement(gM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function E$(t){let{routeContext:e,match:r,children:n}=t,i=C.useContext(dC);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(Ic.Provider,{value:e},n)}function T$(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(i=r)==null?void 0:i.errors;if(a!=null){let f=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);f>=0||Fn(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:g,errors:m}=r,v=p.route.loader&&g[p.route.id]===void 0&&(!m||m[p.route.id]===void 0);if(p.route.lazy||v){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,p,g)=>{let m,v=!1,x=null,w=null;r&&(m=a&&p.route.id?a[p.route.id]:void 0,x=p.route.errorElement||C$,c&&(d<0&&g===0?(I$("route-fallback"),v=!0,w=null):d===g&&(v=!0,w=p.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,g+1)),P=()=>{let R;return m?R=x:v?R=w:p.route.Component?R=C.createElement(p.route.Component,null):p.route.element?R=p.route.element:R=f,C.createElement(E$,{match:p,routeContext:{outlet:f,matches:E,isDataRoute:r!=null},children:R})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?C.createElement(S$,{location:r.location,revalidation:r.revalidation,component:x,error:m,children:P(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):P()},null)}var vM=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(vM||{}),bM=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(bM||{});function N$(t){let e=C.useContext(dC);return e||Fn(!1),e}function A$(t){let e=C.useContext(x$);return e||Fn(!1),e}function j$(t){let e=C.useContext(Ic);return e||Fn(!1),e}function wM(t){let e=j$(),r=e.matches[e.matches.length-1];return r.route.id||Fn(!1),r.route.id}function P$(){var t;let e=C.useContext(gM),r=A$(),n=wM();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function R$(){let{router:t}=N$(vM.UseNavigateStable),e=wM(bM.UseNavigateStable),r=C.useRef(!1);return yM(()=>{r.current=!0}),C.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,dm({fromRouteId:e},s)))},[t,e])}const CN={};function I$(t,e,r){CN[t]||(CN[t]=!0)}function M$(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function va(t){Fn(!1)}function D$(t){let{basename:e="/",children:r=null,location:n,navigationType:i=dc.Pop,navigator:s,static:o=!1,future:a}=t;Zm()&&Fn(!1);let c=e.replace(/^\/*/,"/"),d=C.useMemo(()=>({basename:c,navigator:s,static:o,future:dm({v7_relativeSplatPath:!1},a)}),[c,a,s,o]);typeof n=="string"&&(n=hh(n));let{pathname:f="/",search:p="",hash:g="",state:m=null,key:v="default"}=n,x=C.useMemo(()=>{let w=uC(f,c);return w==null?null:{location:{pathname:w,search:p,hash:g,state:m,key:v},navigationType:i}},[c,f,p,g,m,v,i]);return x==null?null:C.createElement(fd.Provider,{value:d},C.createElement(Vx.Provider,{children:r,value:x}))}function O$(t){let{children:e,location:r}=t;return w$(pk(e),r)}new Promise(()=>{});function pk(t,e){e===void 0&&(e=[]);let r=[];return C.Children.forEach(t,(n,i)=>{if(!C.isValidElement(n))return;let s=[...e,i];if(n.type===C.Fragment){r.push.apply(r,pk(n.props.children,s));return}n.type!==va&&Fn(!1),!n.props.index||!n.props.children||Fn(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=pk(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mk(){return mk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mk.apply(this,arguments)}function L$(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function F$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function z$(t,e){return t.button===0&&(!e||e==="_self")&&!F$(t)}function gk(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function B$(t,e){let r=gk(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const $$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],U$="6";try{window.__reactRouterVersion=U$}catch{}const V$="startTransition",SN=cC[V$];function W$(t){let{basename:e,children:r,future:n,window:i}=t,s=C.useRef();s.current==null&&(s.current=H8({window:i,v5Compat:!0}));let o=s.current,[a,c]=C.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},f=C.useCallback(p=>{d&&SN?SN(()=>c(p)):c(p)},[c,d]);return C.useLayoutEffect(()=>o.listen(f),[o,f]),C.useEffect(()=>M$(n),[n]),C.createElement(D$,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const q$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",H$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gf=C.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:a,target:c,to:d,preventScrollReset:f,viewTransition:p}=e,g=L$(e,$$),{basename:m}=C.useContext(fd),v,x=!1;if(typeof d=="string"&&H$.test(d)&&(v=d,q$))try{let R=new URL(window.location.href),S=d.startsWith("//")?new URL(R.protocol+d):new URL(d),B=uC(S.pathname,m);S.origin===R.origin&&B!=null?d=B+S.search+S.hash:x=!0}catch{}let w=v$(d,{relative:i}),E=G$(d,{replace:o,state:a,target:c,preventScrollReset:f,relative:i,viewTransition:p});function P(R){n&&n(R),R.defaultPrevented||E(R)}return C.createElement("a",mk({},g,{href:v||w,onClick:x||s?n:P,ref:r,target:c}))});var EN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(EN||(EN={}));var TN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(TN||(TN={}));function G$(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,c=Ua(),d=hd(),f=xM(t,{relative:o});return C.useCallback(p=>{if(z$(p,r)){p.preventDefault();let g=n!==void 0?n:X0(d)===X0(f);c(t,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[d,c,f,n,i,r,t,s,o,a])}function K$(t){let e=C.useRef(gk(t)),r=C.useRef(!1),n=hd(),i=C.useMemo(()=>B$(n.search,r.current?null:e.current),[n.search]),s=Ua(),o=C.useCallback((a,c)=>{const d=gk(typeof a=="function"?a(i):a);r.current=!0,s("?"+d,c)},[s,i]);return[i,o]}var k0={exports:{}};const Y$={},J$=Object.freeze(Object.defineProperty({__proto__:null,default:Y$},Symbol.toStringTag,{value:"Module"})),X$=aC(J$);var Q$=k0.exports,NN;function Z$(){return NN||(NN=1,function(t){(function(e,r){function n(F,b){if(!F)throw new Error(b||"Assertion failed")}function i(F,b){F.super_=b;var A=function(){};A.prototype=b.prototype,F.prototype=new A,F.prototype.constructor=F}function s(F,b,A){if(s.isBN(F))return F;this.negative=0,this.words=null,this.length=0,this.red=null,F!==null&&((b==="le"||b==="be")&&(A=b,b=10),this._init(F||0,b||10,A||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=X$.Buffer}catch{}s.isBN=function(b){return b instanceof s?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===s.wordSize&&Array.isArray(b.words)},s.max=function(b,A){return b.cmp(A)>0?b:A},s.min=function(b,A){return b.cmp(A)<0?b:A},s.prototype._init=function(b,A,D){if(typeof b=="number")return this._initNumber(b,A,D);if(typeof b=="object")return this._initArray(b,A,D);A==="hex"&&(A=16),n(A===(A|0)&&A>=2&&A<=36),b=b.toString().replace(/\s+/g,"");var j=0;b[0]==="-"&&(j++,this.negative=1),j<b.length&&(A===16?this._parseHex(b,j,D):(this._parseBase(b,A,j),D==="le"&&this._initArray(this.toArray(),A,D)))},s.prototype._initNumber=function(b,A,D){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(n(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),D==="le"&&this._initArray(this.toArray(),A,D)},s.prototype._initArray=function(b,A,D){if(n(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var k,M,T=0;if(D==="be")for(j=b.length-1,k=0;j>=0;j-=3)M=b[j]|b[j-1]<<8|b[j-2]<<16,this.words[k]|=M<<T&67108863,this.words[k+1]=M>>>26-T&67108863,T+=24,T>=26&&(T-=26,k++);else if(D==="le")for(j=0,k=0;j<b.length;j+=3)M=b[j]|b[j+1]<<8|b[j+2]<<16,this.words[k]|=M<<T&67108863,this.words[k+1]=M>>>26-T&67108863,T+=24,T>=26&&(T-=26,k++);return this._strip()};function a(F,b){var A=F.charCodeAt(b);if(A>=48&&A<=57)return A-48;if(A>=65&&A<=70)return A-55;if(A>=97&&A<=102)return A-87;n(!1,"Invalid character in "+F)}function c(F,b,A){var D=a(F,A);return A-1>=b&&(D|=a(F,A-1)<<4),D}s.prototype._parseHex=function(b,A,D){this.length=Math.ceil((b.length-A)/6),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var k=0,M=0,T;if(D==="be")for(j=b.length-1;j>=A;j-=2)T=c(b,A,j)<<k,this.words[M]|=T&67108863,k>=18?(k-=18,M+=1,this.words[M]|=T>>>26):k+=8;else{var O=b.length-A;for(j=O%2===0?A+1:A;j<b.length;j+=2)T=c(b,A,j)<<k,this.words[M]|=T&67108863,k>=18?(k-=18,M+=1,this.words[M]|=T>>>26):k+=8}this._strip()};function d(F,b,A,D){for(var j=0,k=0,M=Math.min(F.length,A),T=b;T<M;T++){var O=F.charCodeAt(T)-48;j*=D,O>=49?k=O-49+10:O>=17?k=O-17+10:k=O,n(O>=0&&k<D,"Invalid character"),j+=k}return j}s.prototype._parseBase=function(b,A,D){this.words=[0],this.length=1;for(var j=0,k=1;k<=67108863;k*=A)j++;j--,k=k/A|0;for(var M=b.length-D,T=M%j,O=Math.min(M,M-T)+D,N=0,I=D;I<O;I+=j)N=d(b,I,I+j,A),this.imuln(k),this.words[0]+N<67108864?this.words[0]+=N:this._iaddn(N);if(T!==0){var Q=1;for(N=d(b,I,b.length,A),I=0;I<T;I++)Q*=A;this.imuln(Q),this.words[0]+N<67108864?this.words[0]+=N:this._iaddn(N)}this._strip()},s.prototype.copy=function(b){b.words=new Array(this.length);for(var A=0;A<this.length;A++)b.words[A]=this.words[A];b.length=this.length,b.negative=this.negative,b.red=this.red};function f(F,b){F.words=b.words,F.length=b.length,F.negative=b.negative,F.red=b.red}if(s.prototype._move=function(b){f(b,this)},s.prototype.clone=function(){var b=new s(null);return this.copy(b),b},s.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{s.prototype.inspect=p}else s.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(b,A){b=b||10,A=A|0||1;var D;if(b===16||b==="hex"){D="";for(var j=0,k=0,M=0;M<this.length;M++){var T=this.words[M],O=((T<<j|k)&16777215).toString(16);k=T>>>24-j&16777215,j+=2,j>=26&&(j-=26,M--),k!==0||M!==this.length-1?D=g[6-O.length]+O+D:D=O+D}for(k!==0&&(D=k.toString(16)+D);D.length%A!==0;)D="0"+D;return this.negative!==0&&(D="-"+D),D}if(b===(b|0)&&b>=2&&b<=36){var N=m[b],I=v[b];D="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var z=Q.modrn(I).toString(b);Q=Q.idivn(I),Q.isZero()?D=z+D:D=g[N-z.length]+z+D}for(this.isZero()&&(D="0"+D);D.length%A!==0;)D="0"+D;return this.negative!==0&&(D="-"+D),D}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(b,A){return this.toArrayLike(o,b,A)}),s.prototype.toArray=function(b,A){return this.toArrayLike(Array,b,A)};var x=function(b,A){return b.allocUnsafe?b.allocUnsafe(A):new b(A)};s.prototype.toArrayLike=function(b,A,D){this._strip();var j=this.byteLength(),k=D||Math.max(1,j);n(j<=k,"byte array longer than desired length"),n(k>0,"Requested array length <= 0");var M=x(b,k),T=A==="le"?"LE":"BE";return this["_toArrayLike"+T](M,j),M},s.prototype._toArrayLikeLE=function(b,A){for(var D=0,j=0,k=0,M=0;k<this.length;k++){var T=this.words[k]<<M|j;b[D++]=T&255,D<b.length&&(b[D++]=T>>8&255),D<b.length&&(b[D++]=T>>16&255),M===6?(D<b.length&&(b[D++]=T>>24&255),j=0,M=0):(j=T>>>24,M+=2)}if(D<b.length)for(b[D++]=j;D<b.length;)b[D++]=0},s.prototype._toArrayLikeBE=function(b,A){for(var D=b.length-1,j=0,k=0,M=0;k<this.length;k++){var T=this.words[k]<<M|j;b[D--]=T&255,D>=0&&(b[D--]=T>>8&255),D>=0&&(b[D--]=T>>16&255),M===6?(D>=0&&(b[D--]=T>>24&255),j=0,M=0):(j=T>>>24,M+=2)}if(D>=0)for(b[D--]=j;D>=0;)b[D--]=0},Math.clz32?s.prototype._countBits=function(b){return 32-Math.clz32(b)}:s.prototype._countBits=function(b){var A=b,D=0;return A>=4096&&(D+=13,A>>>=13),A>=64&&(D+=7,A>>>=7),A>=8&&(D+=4,A>>>=4),A>=2&&(D+=2,A>>>=2),D+A},s.prototype._zeroBits=function(b){if(b===0)return 26;var A=b,D=0;return(A&8191)===0&&(D+=13,A>>>=13),(A&127)===0&&(D+=7,A>>>=7),(A&15)===0&&(D+=4,A>>>=4),(A&3)===0&&(D+=2,A>>>=2),(A&1)===0&&D++,D},s.prototype.bitLength=function(){var b=this.words[this.length-1],A=this._countBits(b);return(this.length-1)*26+A};function w(F){for(var b=new Array(F.bitLength()),A=0;A<b.length;A++){var D=A/26|0,j=A%26;b[A]=F.words[D]>>>j&1}return b}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,A=0;A<this.length;A++){var D=this._zeroBits(this.words[A]);if(b+=D,D!==26)break}return b},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},s.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var A=0;A<b.length;A++)this.words[A]=this.words[A]|b.words[A];return this._strip()},s.prototype.ior=function(b){return n((this.negative|b.negative)===0),this.iuor(b)},s.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},s.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},s.prototype.iuand=function(b){var A;this.length>b.length?A=b:A=this;for(var D=0;D<A.length;D++)this.words[D]=this.words[D]&b.words[D];return this.length=A.length,this._strip()},s.prototype.iand=function(b){return n((this.negative|b.negative)===0),this.iuand(b)},s.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},s.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},s.prototype.iuxor=function(b){var A,D;this.length>b.length?(A=this,D=b):(A=b,D=this);for(var j=0;j<D.length;j++)this.words[j]=A.words[j]^D.words[j];if(this!==A)for(;j<A.length;j++)this.words[j]=A.words[j];return this.length=A.length,this._strip()},s.prototype.ixor=function(b){return n((this.negative|b.negative)===0),this.iuxor(b)},s.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},s.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},s.prototype.inotn=function(b){n(typeof b=="number"&&b>=0);var A=Math.ceil(b/26)|0,D=b%26;this._expand(A),D>0&&A--;for(var j=0;j<A;j++)this.words[j]=~this.words[j]&67108863;return D>0&&(this.words[j]=~this.words[j]&67108863>>26-D),this._strip()},s.prototype.notn=function(b){return this.clone().inotn(b)},s.prototype.setn=function(b,A){n(typeof b=="number"&&b>=0);var D=b/26|0,j=b%26;return this._expand(D+1),A?this.words[D]=this.words[D]|1<<j:this.words[D]=this.words[D]&~(1<<j),this._strip()},s.prototype.iadd=function(b){var A;if(this.negative!==0&&b.negative===0)return this.negative=0,A=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,A=this.isub(b),b.negative=1,A._normSign();var D,j;this.length>b.length?(D=this,j=b):(D=b,j=this);for(var k=0,M=0;M<j.length;M++)A=(D.words[M]|0)+(j.words[M]|0)+k,this.words[M]=A&67108863,k=A>>>26;for(;k!==0&&M<D.length;M++)A=(D.words[M]|0)+k,this.words[M]=A&67108863,k=A>>>26;if(this.length=D.length,k!==0)this.words[this.length]=k,this.length++;else if(D!==this)for(;M<D.length;M++)this.words[M]=D.words[M];return this},s.prototype.add=function(b){var A;return b.negative!==0&&this.negative===0?(b.negative=0,A=this.sub(b),b.negative^=1,A):b.negative===0&&this.negative!==0?(this.negative=0,A=b.sub(this),this.negative=1,A):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},s.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var A=this.iadd(b);return b.negative=1,A._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var D=this.cmp(b);if(D===0)return this.negative=0,this.length=1,this.words[0]=0,this;var j,k;D>0?(j=this,k=b):(j=b,k=this);for(var M=0,T=0;T<k.length;T++)A=(j.words[T]|0)-(k.words[T]|0)+M,M=A>>26,this.words[T]=A&67108863;for(;M!==0&&T<j.length;T++)A=(j.words[T]|0)+M,M=A>>26,this.words[T]=A&67108863;if(M===0&&T<j.length&&j!==this)for(;T<j.length;T++)this.words[T]=j.words[T];return this.length=Math.max(this.length,T),j!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(b){return this.clone().isub(b)};function E(F,b,A){A.negative=b.negative^F.negative;var D=F.length+b.length|0;A.length=D,D=D-1|0;var j=F.words[0]|0,k=b.words[0]|0,M=j*k,T=M&67108863,O=M/67108864|0;A.words[0]=T;for(var N=1;N<D;N++){for(var I=O>>>26,Q=O&67108863,z=Math.min(N,b.length-1),V=Math.max(0,N-F.length+1);V<=z;V++){var Y=N-V|0;j=F.words[Y]|0,k=b.words[V]|0,M=j*k+Q,I+=M/67108864|0,Q=M&67108863}A.words[N]=Q|0,O=I|0}return O!==0?A.words[N]=O|0:A.length--,A._strip()}var P=function(b,A,D){var j=b.words,k=A.words,M=D.words,T=0,O,N,I,Q=j[0]|0,z=Q&8191,V=Q>>>13,Y=j[1]|0,Z=Y&8191,ee=Y>>>13,ae=j[2]|0,ne=ae&8191,de=ae>>>13,xe=j[3]|0,me=xe&8191,Ce=xe>>>13,ct=j[4]|0,le=ct&8191,Ye=ct>>>13,jt=j[5]|0,it=jt&8191,De=jt>>>13,Jt=j[6]|0,st=Jt&8191,ft=Jt>>>13,Ie=j[7]|0,se=Ie&8191,he=Ie>>>13,Le=j[8]|0,Ae=Le&8191,Me=Le>>>13,Gt=j[9]|0,Xe=Gt&8191,_t=Gt>>>13,Wt=k[0]|0,Ct=Wt&8191,rt=Wt>>>13,Xt=k[1]|0,xt=Xt&8191,Fe=Xt>>>13,Vr=k[2]|0,Tt=Vr&8191,St=Vr>>>13,pr=k[3]|0,qt=pr&8191,Pe=pr>>>13,yt=k[4]|0,ot=yt&8191,Re=yt>>>13,Be=k[5]|0,ze=Be&8191,we=Be>>>13,Ue=k[6]|0,Te=Ue&8191,Oe=Ue>>>13,mr=k[7]|0,Ge=mr&8191,pt=mr>>>13,Nr=k[8]|0,vt=Nr&8191,mt=Nr>>>13,Ot=k[9]|0,zt=Ot&8191,gt=Ot>>>13;D.negative=b.negative^A.negative,D.length=19,O=Math.imul(z,Ct),N=Math.imul(z,rt),N=N+Math.imul(V,Ct)|0,I=Math.imul(V,rt);var Mr=(T+O|0)+((N&8191)<<13)|0;T=(I+(N>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,O=Math.imul(Z,Ct),N=Math.imul(Z,rt),N=N+Math.imul(ee,Ct)|0,I=Math.imul(ee,rt),O=O+Math.imul(z,xt)|0,N=N+Math.imul(z,Fe)|0,N=N+Math.imul(V,xt)|0,I=I+Math.imul(V,Fe)|0;var Gr=(T+O|0)+((N&8191)<<13)|0;T=(I+(N>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,O=Math.imul(ne,Ct),N=Math.imul(ne,rt),N=N+Math.imul(de,Ct)|0,I=Math.imul(de,rt),O=O+Math.imul(Z,xt)|0,N=N+Math.imul(Z,Fe)|0,N=N+Math.imul(ee,xt)|0,I=I+Math.imul(ee,Fe)|0,O=O+Math.imul(z,Tt)|0,N=N+Math.imul(z,St)|0,N=N+Math.imul(V,Tt)|0,I=I+Math.imul(V,St)|0;var vr=(T+O|0)+((N&8191)<<13)|0;T=(I+(N>>>13)|0)+(vr>>>26)|0,vr&=67108863,O=Math.imul(me,Ct),N=Math.imul(me,rt),N=N+Math.imul(Ce,Ct)|0,I=Math.imul(Ce,rt),O=O+Math.imul(ne,xt)|0,N=N+Math.imul(ne,Fe)|0,N=N+Math.imul(de,xt)|0,I=I+Math.imul(de,Fe)|0,O=O+Math.imul(Z,Tt)|0,N=N+Math.imul(Z,St)|0,N=N+Math.imul(ee,Tt)|0,I=I+Math.imul(ee,St)|0,O=O+Math.imul(z,qt)|0,N=N+Math.imul(z,Pe)|0,N=N+Math.imul(V,qt)|0,I=I+Math.imul(V,Pe)|0;var kr=(T+O|0)+((N&8191)<<13)|0;T=(I+(N>>>13)|0)+(kr>>>26)|0,kr&=67108863,O=Math.imul(le,Ct),N=Math.imul(le,rt),N=N+Math.imul(Ye,Ct)|0,I=Math.imul(Ye,rt),O=O+Math.imul(me,xt)|0,N=N+Math.imul(me,Fe)|0,N=N+Math.imul(Ce,xt)|0,I=I+Math.imul(Ce,Fe)|0,O=O+Math.imul(ne,Tt)|0,N=N+Math.imul(ne,St)|0,N=N+Math.imul(de,Tt)|0,I=I+Math.imul(de,St)|0,O=O+Math.imul(Z,qt)|0,N=N+Math.imul(Z,Pe)|0,N=N+Math.imul(ee,qt)|0,I=I+Math.imul(ee,Pe)|0,O=O+Math.imul(z,ot)|0,N=N+Math.imul(z,Re)|0,N=N+Math.imul(V,ot)|0,I=I+Math.imul(V,Re)|0;var _r=(T+O|0)+((N&8191)<<13)|0;T=(I+(N>>>13)|0)+(_r>>>26)|0,_r&=67108863,O=Math.imul(it,Ct),N=Math.imul(it,rt),N=N+Math.imul(De,Ct)|0,I=Math.imul(De,rt),O=O+Math.imul(le,xt)|0,N=N+Math.imul(le,Fe)|0,N=N+Math.imul(Ye,xt)|0,I=I+Math.imul(Ye,Fe)|0,O=O+Math.imul(me,Tt)|0,N=N+Math.imul(me,St)|0,N=N+Math.imul(Ce,Tt)|0,I=I+Math.imul(Ce,St)|0,O=O+Math.imul(ne,qt)|0,N=N+Math.imul(ne,Pe)|0,N=N+Math.imul(de,qt)|0,I=I+Math.imul(de,Pe)|0,O=O+Math.imul(Z,ot)|0,N=N+Math.imul(Z,Re)|0,N=N+Math.imul(ee,ot)|0,I=I+Math.imul(ee,Re)|0,O=O+Math.imul(z,ze)|0,N=N+Math.imul(z,we)|0,N=N+Math.imul(V,ze)|0,I=I+Math.imul(V,we)|0;var Di=(T+O|0)+((N&8191)<<13)|0;T=(I+(N>>>13)|0)+(Di>>>26)|0,Di&=67108863,O=Math.imul(st,Ct),N=Math.imul(st,rt),N=N+Math.imul(ft,Ct)|0,I=Math.imul(ft,rt),O=O+Math.imul(it,xt)|0,N=N+Math.imul(it,Fe)|0,N=N+Math.imul(De,xt)|0,I=I+Math.imul(De,Fe)|0,O=O+Math.imul(le,Tt)|0,N=N+Math.imul(le,St)|0,N=N+Math.imul(Ye,Tt)|0,I=I+Math.imul(Ye,St)|0,O=O+Math.imul(me,qt)|0,N=N+Math.imul(me,Pe)|0,N=N+Math.imul(Ce,qt)|0,I=I+Math.imul(Ce,Pe)|0,O=O+Math.imul(ne,ot)|0,N=N+Math.imul(ne,Re)|0,N=N+Math.imul(de,ot)|0,I=I+Math.imul(de,Re)|0,O=O+Math.imul(Z,ze)|0,N=N+Math.imul(Z,we)|0,N=N+Math.imul(ee,ze)|0,I=I+Math.imul(ee,we)|0,O=O+Math.imul(z,Te)|0,N=N+Math.imul(z,Oe)|0,N=N+Math.imul(V,Te)|0,I=I+Math.imul(V,Oe)|0;var Qi=(T+O|0)+((N&8191)<<13)|0;T=(I+(N>>>13)|0)+(Qi>>>26)|0,Qi&=67108863,O=Math.imul(se,Ct),N=Math.imul(se,rt),N=N+Math.imul(he,Ct)|0,I=Math.imul(he,rt),O=O+Math.imul(st,xt)|0,N=N+Math.imul(st,Fe)|0,N=N+Math.imul(ft,xt)|0,I=I+Math.imul(ft,Fe)|0,O=O+Math.imul(it,Tt)|0,N=N+Math.imul(it,St)|0,N=N+Math.imul(De,Tt)|0,I=I+Math.imul(De,St)|0,O=O+Math.imul(le,qt)|0,N=N+Math.imul(le,Pe)|0,N=N+Math.imul(Ye,qt)|0,I=I+Math.imul(Ye,Pe)|0,O=O+Math.imul(me,ot)|0,N=N+Math.imul(me,Re)|0,N=N+Math.imul(Ce,ot)|0,I=I+Math.imul(Ce,Re)|0,O=O+Math.imul(ne,ze)|0,N=N+Math.imul(ne,we)|0,N=N+Math.imul(de,ze)|0,I=I+Math.imul(de,we)|0,O=O+Math.imul(Z,Te)|0,N=N+Math.imul(Z,Oe)|0,N=N+Math.imul(ee,Te)|0,I=I+Math.imul(ee,Oe)|0,O=O+Math.imul(z,Ge)|0,N=N+Math.imul(z,pt)|0,N=N+Math.imul(V,Ge)|0,I=I+Math.imul(V,pt)|0;var Lt=(T+O|0)+((N&8191)<<13)|0;T=(I+(N>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,O=Math.imul(Ae,Ct),N=Math.imul(Ae,rt),N=N+Math.imul(Me,Ct)|0,I=Math.imul(Me,rt),O=O+Math.imul(se,xt)|0,N=N+Math.imul(se,Fe)|0,N=N+Math.imul(he,xt)|0,I=I+Math.imul(he,Fe)|0,O=O+Math.imul(st,Tt)|0,N=N+Math.imul(st,St)|0,N=N+Math.imul(ft,Tt)|0,I=I+Math.imul(ft,St)|0,O=O+Math.imul(it,qt)|0,N=N+Math.imul(it,Pe)|0,N=N+Math.imul(De,qt)|0,I=I+Math.imul(De,Pe)|0,O=O+Math.imul(le,ot)|0,N=N+Math.imul(le,Re)|0,N=N+Math.imul(Ye,ot)|0,I=I+Math.imul(Ye,Re)|0,O=O+Math.imul(me,ze)|0,N=N+Math.imul(me,we)|0,N=N+Math.imul(Ce,ze)|0,I=I+Math.imul(Ce,we)|0,O=O+Math.imul(ne,Te)|0,N=N+Math.imul(ne,Oe)|0,N=N+Math.imul(de,Te)|0,I=I+Math.imul(de,Oe)|0,O=O+Math.imul(Z,Ge)|0,N=N+Math.imul(Z,pt)|0,N=N+Math.imul(ee,Ge)|0,I=I+Math.imul(ee,pt)|0,O=O+Math.imul(z,vt)|0,N=N+Math.imul(z,mt)|0,N=N+Math.imul(V,vt)|0,I=I+Math.imul(V,mt)|0;var Sr=(T+O|0)+((N&8191)<<13)|0;T=(I+(N>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,O=Math.imul(Xe,Ct),N=Math.imul(Xe,rt),N=N+Math.imul(_t,Ct)|0,I=Math.imul(_t,rt),O=O+Math.imul(Ae,xt)|0,N=N+Math.imul(Ae,Fe)|0,N=N+Math.imul(Me,xt)|0,I=I+Math.imul(Me,Fe)|0,O=O+Math.imul(se,Tt)|0,N=N+Math.imul(se,St)|0,N=N+Math.imul(he,Tt)|0,I=I+Math.imul(he,St)|0,O=O+Math.imul(st,qt)|0,N=N+Math.imul(st,Pe)|0,N=N+Math.imul(ft,qt)|0,I=I+Math.imul(ft,Pe)|0,O=O+Math.imul(it,ot)|0,N=N+Math.imul(it,Re)|0,N=N+Math.imul(De,ot)|0,I=I+Math.imul(De,Re)|0,O=O+Math.imul(le,ze)|0,N=N+Math.imul(le,we)|0,N=N+Math.imul(Ye,ze)|0,I=I+Math.imul(Ye,we)|0,O=O+Math.imul(me,Te)|0,N=N+Math.imul(me,Oe)|0,N=N+Math.imul(Ce,Te)|0,I=I+Math.imul(Ce,Oe)|0,O=O+Math.imul(ne,Ge)|0,N=N+Math.imul(ne,pt)|0,N=N+Math.imul(de,Ge)|0,I=I+Math.imul(de,pt)|0,O=O+Math.imul(Z,vt)|0,N=N+Math.imul(Z,mt)|0,N=N+Math.imul(ee,vt)|0,I=I+Math.imul(ee,mt)|0,O=O+Math.imul(z,zt)|0,N=N+Math.imul(z,gt)|0,N=N+Math.imul(V,zt)|0,I=I+Math.imul(V,gt)|0;var zn=(T+O|0)+((N&8191)<<13)|0;T=(I+(N>>>13)|0)+(zn>>>26)|0,zn&=67108863,O=Math.imul(Xe,xt),N=Math.imul(Xe,Fe),N=N+Math.imul(_t,xt)|0,I=Math.imul(_t,Fe),O=O+Math.imul(Ae,Tt)|0,N=N+Math.imul(Ae,St)|0,N=N+Math.imul(Me,Tt)|0,I=I+Math.imul(Me,St)|0,O=O+Math.imul(se,qt)|0,N=N+Math.imul(se,Pe)|0,N=N+Math.imul(he,qt)|0,I=I+Math.imul(he,Pe)|0,O=O+Math.imul(st,ot)|0,N=N+Math.imul(st,Re)|0,N=N+Math.imul(ft,ot)|0,I=I+Math.imul(ft,Re)|0,O=O+Math.imul(it,ze)|0,N=N+Math.imul(it,we)|0,N=N+Math.imul(De,ze)|0,I=I+Math.imul(De,we)|0,O=O+Math.imul(le,Te)|0,N=N+Math.imul(le,Oe)|0,N=N+Math.imul(Ye,Te)|0,I=I+Math.imul(Ye,Oe)|0,O=O+Math.imul(me,Ge)|0,N=N+Math.imul(me,pt)|0,N=N+Math.imul(Ce,Ge)|0,I=I+Math.imul(Ce,pt)|0,O=O+Math.imul(ne,vt)|0,N=N+Math.imul(ne,mt)|0,N=N+Math.imul(de,vt)|0,I=I+Math.imul(de,mt)|0,O=O+Math.imul(Z,zt)|0,N=N+Math.imul(Z,gt)|0,N=N+Math.imul(ee,zt)|0,I=I+Math.imul(ee,gt)|0;var To=(T+O|0)+((N&8191)<<13)|0;T=(I+(N>>>13)|0)+(To>>>26)|0,To&=67108863,O=Math.imul(Xe,Tt),N=Math.imul(Xe,St),N=N+Math.imul(_t,Tt)|0,I=Math.imul(_t,St),O=O+Math.imul(Ae,qt)|0,N=N+Math.imul(Ae,Pe)|0,N=N+Math.imul(Me,qt)|0,I=I+Math.imul(Me,Pe)|0,O=O+Math.imul(se,ot)|0,N=N+Math.imul(se,Re)|0,N=N+Math.imul(he,ot)|0,I=I+Math.imul(he,Re)|0,O=O+Math.imul(st,ze)|0,N=N+Math.imul(st,we)|0,N=N+Math.imul(ft,ze)|0,I=I+Math.imul(ft,we)|0,O=O+Math.imul(it,Te)|0,N=N+Math.imul(it,Oe)|0,N=N+Math.imul(De,Te)|0,I=I+Math.imul(De,Oe)|0,O=O+Math.imul(le,Ge)|0,N=N+Math.imul(le,pt)|0,N=N+Math.imul(Ye,Ge)|0,I=I+Math.imul(Ye,pt)|0,O=O+Math.imul(me,vt)|0,N=N+Math.imul(me,mt)|0,N=N+Math.imul(Ce,vt)|0,I=I+Math.imul(Ce,mt)|0,O=O+Math.imul(ne,zt)|0,N=N+Math.imul(ne,gt)|0,N=N+Math.imul(de,zt)|0,I=I+Math.imul(de,gt)|0;var hi=(T+O|0)+((N&8191)<<13)|0;T=(I+(N>>>13)|0)+(hi>>>26)|0,hi&=67108863,O=Math.imul(Xe,qt),N=Math.imul(Xe,Pe),N=N+Math.imul(_t,qt)|0,I=Math.imul(_t,Pe),O=O+Math.imul(Ae,ot)|0,N=N+Math.imul(Ae,Re)|0,N=N+Math.imul(Me,ot)|0,I=I+Math.imul(Me,Re)|0,O=O+Math.imul(se,ze)|0,N=N+Math.imul(se,we)|0,N=N+Math.imul(he,ze)|0,I=I+Math.imul(he,we)|0,O=O+Math.imul(st,Te)|0,N=N+Math.imul(st,Oe)|0,N=N+Math.imul(ft,Te)|0,I=I+Math.imul(ft,Oe)|0,O=O+Math.imul(it,Ge)|0,N=N+Math.imul(it,pt)|0,N=N+Math.imul(De,Ge)|0,I=I+Math.imul(De,pt)|0,O=O+Math.imul(le,vt)|0,N=N+Math.imul(le,mt)|0,N=N+Math.imul(Ye,vt)|0,I=I+Math.imul(Ye,mt)|0,O=O+Math.imul(me,zt)|0,N=N+Math.imul(me,gt)|0,N=N+Math.imul(Ce,zt)|0,I=I+Math.imul(Ce,gt)|0;var pi=(T+O|0)+((N&8191)<<13)|0;T=(I+(N>>>13)|0)+(pi>>>26)|0,pi&=67108863,O=Math.imul(Xe,ot),N=Math.imul(Xe,Re),N=N+Math.imul(_t,ot)|0,I=Math.imul(_t,Re),O=O+Math.imul(Ae,ze)|0,N=N+Math.imul(Ae,we)|0,N=N+Math.imul(Me,ze)|0,I=I+Math.imul(Me,we)|0,O=O+Math.imul(se,Te)|0,N=N+Math.imul(se,Oe)|0,N=N+Math.imul(he,Te)|0,I=I+Math.imul(he,Oe)|0,O=O+Math.imul(st,Ge)|0,N=N+Math.imul(st,pt)|0,N=N+Math.imul(ft,Ge)|0,I=I+Math.imul(ft,pt)|0,O=O+Math.imul(it,vt)|0,N=N+Math.imul(it,mt)|0,N=N+Math.imul(De,vt)|0,I=I+Math.imul(De,mt)|0,O=O+Math.imul(le,zt)|0,N=N+Math.imul(le,gt)|0,N=N+Math.imul(Ye,zt)|0,I=I+Math.imul(Ye,gt)|0;var Zr=(T+O|0)+((N&8191)<<13)|0;T=(I+(N>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,O=Math.imul(Xe,ze),N=Math.imul(Xe,we),N=N+Math.imul(_t,ze)|0,I=Math.imul(_t,we),O=O+Math.imul(Ae,Te)|0,N=N+Math.imul(Ae,Oe)|0,N=N+Math.imul(Me,Te)|0,I=I+Math.imul(Me,Oe)|0,O=O+Math.imul(se,Ge)|0,N=N+Math.imul(se,pt)|0,N=N+Math.imul(he,Ge)|0,I=I+Math.imul(he,pt)|0,O=O+Math.imul(st,vt)|0,N=N+Math.imul(st,mt)|0,N=N+Math.imul(ft,vt)|0,I=I+Math.imul(ft,mt)|0,O=O+Math.imul(it,zt)|0,N=N+Math.imul(it,gt)|0,N=N+Math.imul(De,zt)|0,I=I+Math.imul(De,gt)|0;var Hn=(T+O|0)+((N&8191)<<13)|0;T=(I+(N>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,O=Math.imul(Xe,Te),N=Math.imul(Xe,Oe),N=N+Math.imul(_t,Te)|0,I=Math.imul(_t,Oe),O=O+Math.imul(Ae,Ge)|0,N=N+Math.imul(Ae,pt)|0,N=N+Math.imul(Me,Ge)|0,I=I+Math.imul(Me,pt)|0,O=O+Math.imul(se,vt)|0,N=N+Math.imul(se,mt)|0,N=N+Math.imul(he,vt)|0,I=I+Math.imul(he,mt)|0,O=O+Math.imul(st,zt)|0,N=N+Math.imul(st,gt)|0,N=N+Math.imul(ft,zt)|0,I=I+Math.imul(ft,gt)|0;var mn=(T+O|0)+((N&8191)<<13)|0;T=(I+(N>>>13)|0)+(mn>>>26)|0,mn&=67108863,O=Math.imul(Xe,Ge),N=Math.imul(Xe,pt),N=N+Math.imul(_t,Ge)|0,I=Math.imul(_t,pt),O=O+Math.imul(Ae,vt)|0,N=N+Math.imul(Ae,mt)|0,N=N+Math.imul(Me,vt)|0,I=I+Math.imul(Me,mt)|0,O=O+Math.imul(se,zt)|0,N=N+Math.imul(se,gt)|0,N=N+Math.imul(he,zt)|0,I=I+Math.imul(he,gt)|0;var mi=(T+O|0)+((N&8191)<<13)|0;T=(I+(N>>>13)|0)+(mi>>>26)|0,mi&=67108863,O=Math.imul(Xe,vt),N=Math.imul(Xe,mt),N=N+Math.imul(_t,vt)|0,I=Math.imul(_t,mt),O=O+Math.imul(Ae,zt)|0,N=N+Math.imul(Ae,gt)|0,N=N+Math.imul(Me,zt)|0,I=I+Math.imul(Me,gt)|0;var ri=(T+O|0)+((N&8191)<<13)|0;T=(I+(N>>>13)|0)+(ri>>>26)|0,ri&=67108863,O=Math.imul(Xe,zt),N=Math.imul(Xe,gt),N=N+Math.imul(_t,zt)|0,I=Math.imul(_t,gt);var Vc=(T+O|0)+((N&8191)<<13)|0;return T=(I+(N>>>13)|0)+(Vc>>>26)|0,Vc&=67108863,M[0]=Mr,M[1]=Gr,M[2]=vr,M[3]=kr,M[4]=_r,M[5]=Di,M[6]=Qi,M[7]=Lt,M[8]=Sr,M[9]=zn,M[10]=To,M[11]=hi,M[12]=pi,M[13]=Zr,M[14]=Hn,M[15]=mn,M[16]=mi,M[17]=ri,M[18]=Vc,T!==0&&(M[19]=T,D.length++),D};Math.imul||(P=E);function R(F,b,A){A.negative=b.negative^F.negative,A.length=F.length+b.length;for(var D=0,j=0,k=0;k<A.length-1;k++){var M=j;j=0;for(var T=D&67108863,O=Math.min(k,b.length-1),N=Math.max(0,k-F.length+1);N<=O;N++){var I=k-N,Q=F.words[I]|0,z=b.words[N]|0,V=Q*z,Y=V&67108863;M=M+(V/67108864|0)|0,Y=Y+T|0,T=Y&67108863,M=M+(Y>>>26)|0,j+=M>>>26,M&=67108863}A.words[k]=T,D=M,M=j}return D!==0?A.words[k]=D:A.length--,A._strip()}function S(F,b,A){return R(F,b,A)}s.prototype.mulTo=function(b,A){var D,j=this.length+b.length;return this.length===10&&b.length===10?D=P(this,b,A):j<63?D=E(this,b,A):j<1024?D=R(this,b,A):D=S(this,b,A),D},s.prototype.mul=function(b){var A=new s(null);return A.words=new Array(this.length+b.length),this.mulTo(b,A)},s.prototype.mulf=function(b){var A=new s(null);return A.words=new Array(this.length+b.length),S(this,b,A)},s.prototype.imul=function(b){return this.clone().mulTo(b,this)},s.prototype.imuln=function(b){var A=b<0;A&&(b=-b),n(typeof b=="number"),n(b<67108864);for(var D=0,j=0;j<this.length;j++){var k=(this.words[j]|0)*b,M=(k&67108863)+(D&67108863);D>>=26,D+=k/67108864|0,D+=M>>>26,this.words[j]=M&67108863}return D!==0&&(this.words[j]=D,this.length++),this.length=b===0?1:this.length,A?this.ineg():this},s.prototype.muln=function(b){return this.clone().imuln(b)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(b){var A=w(b);if(A.length===0)return new s(1);for(var D=this,j=0;j<A.length&&A[j]===0;j++,D=D.sqr());if(++j<A.length)for(var k=D.sqr();j<A.length;j++,k=k.sqr())A[j]!==0&&(D=D.mul(k));return D},s.prototype.iushln=function(b){n(typeof b=="number"&&b>=0);var A=b%26,D=(b-A)/26,j=67108863>>>26-A<<26-A,k;if(A!==0){var M=0;for(k=0;k<this.length;k++){var T=this.words[k]&j,O=(this.words[k]|0)-T<<A;this.words[k]=O|M,M=T>>>26-A}M&&(this.words[k]=M,this.length++)}if(D!==0){for(k=this.length-1;k>=0;k--)this.words[k+D]=this.words[k];for(k=0;k<D;k++)this.words[k]=0;this.length+=D}return this._strip()},s.prototype.ishln=function(b){return n(this.negative===0),this.iushln(b)},s.prototype.iushrn=function(b,A,D){n(typeof b=="number"&&b>=0);var j;A?j=(A-A%26)/26:j=0;var k=b%26,M=Math.min((b-k)/26,this.length),T=67108863^67108863>>>k<<k,O=D;if(j-=M,j=Math.max(0,j),O){for(var N=0;N<M;N++)O.words[N]=this.words[N];O.length=M}if(M!==0)if(this.length>M)for(this.length-=M,N=0;N<this.length;N++)this.words[N]=this.words[N+M];else this.words[0]=0,this.length=1;var I=0;for(N=this.length-1;N>=0&&(I!==0||N>=j);N--){var Q=this.words[N]|0;this.words[N]=I<<26-k|Q>>>k,I=Q&T}return O&&I!==0&&(O.words[O.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(b,A,D){return n(this.negative===0),this.iushrn(b,A,D)},s.prototype.shln=function(b){return this.clone().ishln(b)},s.prototype.ushln=function(b){return this.clone().iushln(b)},s.prototype.shrn=function(b){return this.clone().ishrn(b)},s.prototype.ushrn=function(b){return this.clone().iushrn(b)},s.prototype.testn=function(b){n(typeof b=="number"&&b>=0);var A=b%26,D=(b-A)/26,j=1<<A;if(this.length<=D)return!1;var k=this.words[D];return!!(k&j)},s.prototype.imaskn=function(b){n(typeof b=="number"&&b>=0);var A=b%26,D=(b-A)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=D)return this;if(A!==0&&D++,this.length=Math.min(D,this.length),A!==0){var j=67108863^67108863>>>A<<A;this.words[this.length-1]&=j}return this._strip()},s.prototype.maskn=function(b){return this.clone().imaskn(b)},s.prototype.iaddn=function(b){return n(typeof b=="number"),n(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<=b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},s.prototype._iaddn=function(b){this.words[0]+=b;for(var A=0;A<this.length&&this.words[A]>=67108864;A++)this.words[A]-=67108864,A===this.length-1?this.words[A+1]=1:this.words[A+1]++;return this.length=Math.max(this.length,A+1),this},s.prototype.isubn=function(b){if(n(typeof b=="number"),n(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var A=0;A<this.length&&this.words[A]<0;A++)this.words[A]+=67108864,this.words[A+1]-=1;return this._strip()},s.prototype.addn=function(b){return this.clone().iaddn(b)},s.prototype.subn=function(b){return this.clone().isubn(b)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(b,A,D){var j=b.length+D,k;this._expand(j);var M,T=0;for(k=0;k<b.length;k++){M=(this.words[k+D]|0)+T;var O=(b.words[k]|0)*A;M-=O&67108863,T=(M>>26)-(O/67108864|0),this.words[k+D]=M&67108863}for(;k<this.length-D;k++)M=(this.words[k+D]|0)+T,T=M>>26,this.words[k+D]=M&67108863;if(T===0)return this._strip();for(n(T===-1),T=0,k=0;k<this.length;k++)M=-(this.words[k]|0)+T,T=M>>26,this.words[k]=M&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(b,A){var D=this.length-b.length,j=this.clone(),k=b,M=k.words[k.length-1]|0,T=this._countBits(M);D=26-T,D!==0&&(k=k.ushln(D),j.iushln(D),M=k.words[k.length-1]|0);var O=j.length-k.length,N;if(A!=="mod"){N=new s(null),N.length=O+1,N.words=new Array(N.length);for(var I=0;I<N.length;I++)N.words[I]=0}var Q=j.clone()._ishlnsubmul(k,1,O);Q.negative===0&&(j=Q,N&&(N.words[O]=1));for(var z=O-1;z>=0;z--){var V=(j.words[k.length+z]|0)*67108864+(j.words[k.length+z-1]|0);for(V=Math.min(V/M|0,67108863),j._ishlnsubmul(k,V,z);j.negative!==0;)V--,j.negative=0,j._ishlnsubmul(k,1,z),j.isZero()||(j.negative^=1);N&&(N.words[z]=V)}return N&&N._strip(),j._strip(),A!=="div"&&D!==0&&j.iushrn(D),{div:N||null,mod:j}},s.prototype.divmod=function(b,A,D){if(n(!b.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var j,k,M;return this.negative!==0&&b.negative===0?(M=this.neg().divmod(b,A),A!=="mod"&&(j=M.div.neg()),A!=="div"&&(k=M.mod.neg(),D&&k.negative!==0&&k.iadd(b)),{div:j,mod:k}):this.negative===0&&b.negative!==0?(M=this.divmod(b.neg(),A),A!=="mod"&&(j=M.div.neg()),{div:j,mod:M.mod}):(this.negative&b.negative)!==0?(M=this.neg().divmod(b.neg(),A),A!=="div"&&(k=M.mod.neg(),D&&k.negative!==0&&k.isub(b)),{div:M.div,mod:k}):b.length>this.length||this.cmp(b)<0?{div:new s(0),mod:this}:b.length===1?A==="div"?{div:this.divn(b.words[0]),mod:null}:A==="mod"?{div:null,mod:new s(this.modrn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new s(this.modrn(b.words[0]))}:this._wordDiv(b,A)},s.prototype.div=function(b){return this.divmod(b,"div",!1).div},s.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},s.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},s.prototype.divRound=function(b){var A=this.divmod(b);if(A.mod.isZero())return A.div;var D=A.div.negative!==0?A.mod.isub(b):A.mod,j=b.ushrn(1),k=b.andln(1),M=D.cmp(j);return M<0||k===1&&M===0?A.div:A.div.negative!==0?A.div.isubn(1):A.div.iaddn(1)},s.prototype.modrn=function(b){var A=b<0;A&&(b=-b),n(b<=67108863);for(var D=(1<<26)%b,j=0,k=this.length-1;k>=0;k--)j=(D*j+(this.words[k]|0))%b;return A?-j:j},s.prototype.modn=function(b){return this.modrn(b)},s.prototype.idivn=function(b){var A=b<0;A&&(b=-b),n(b<=67108863);for(var D=0,j=this.length-1;j>=0;j--){var k=(this.words[j]|0)+D*67108864;this.words[j]=k/b|0,D=k%b}return this._strip(),A?this.ineg():this},s.prototype.divn=function(b){return this.clone().idivn(b)},s.prototype.egcd=function(b){n(b.negative===0),n(!b.isZero());var A=this,D=b.clone();A.negative!==0?A=A.umod(b):A=A.clone();for(var j=new s(1),k=new s(0),M=new s(0),T=new s(1),O=0;A.isEven()&&D.isEven();)A.iushrn(1),D.iushrn(1),++O;for(var N=D.clone(),I=A.clone();!A.isZero();){for(var Q=0,z=1;(A.words[0]&z)===0&&Q<26;++Q,z<<=1);if(Q>0)for(A.iushrn(Q);Q-- >0;)(j.isOdd()||k.isOdd())&&(j.iadd(N),k.isub(I)),j.iushrn(1),k.iushrn(1);for(var V=0,Y=1;(D.words[0]&Y)===0&&V<26;++V,Y<<=1);if(V>0)for(D.iushrn(V);V-- >0;)(M.isOdd()||T.isOdd())&&(M.iadd(N),T.isub(I)),M.iushrn(1),T.iushrn(1);A.cmp(D)>=0?(A.isub(D),j.isub(M),k.isub(T)):(D.isub(A),M.isub(j),T.isub(k))}return{a:M,b:T,gcd:D.iushln(O)}},s.prototype._invmp=function(b){n(b.negative===0),n(!b.isZero());var A=this,D=b.clone();A.negative!==0?A=A.umod(b):A=A.clone();for(var j=new s(1),k=new s(0),M=D.clone();A.cmpn(1)>0&&D.cmpn(1)>0;){for(var T=0,O=1;(A.words[0]&O)===0&&T<26;++T,O<<=1);if(T>0)for(A.iushrn(T);T-- >0;)j.isOdd()&&j.iadd(M),j.iushrn(1);for(var N=0,I=1;(D.words[0]&I)===0&&N<26;++N,I<<=1);if(N>0)for(D.iushrn(N);N-- >0;)k.isOdd()&&k.iadd(M),k.iushrn(1);A.cmp(D)>=0?(A.isub(D),j.isub(k)):(D.isub(A),k.isub(j))}var Q;return A.cmpn(1)===0?Q=j:Q=k,Q.cmpn(0)<0&&Q.iadd(b),Q},s.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var A=this.clone(),D=b.clone();A.negative=0,D.negative=0;for(var j=0;A.isEven()&&D.isEven();j++)A.iushrn(1),D.iushrn(1);do{for(;A.isEven();)A.iushrn(1);for(;D.isEven();)D.iushrn(1);var k=A.cmp(D);if(k<0){var M=A;A=D,D=M}else if(k===0||D.cmpn(1)===0)break;A.isub(D)}while(!0);return D.iushln(j)},s.prototype.invm=function(b){return this.egcd(b).a.umod(b)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(b){return this.words[0]&b},s.prototype.bincn=function(b){n(typeof b=="number");var A=b%26,D=(b-A)/26,j=1<<A;if(this.length<=D)return this._expand(D+1),this.words[D]|=j,this;for(var k=j,M=D;k!==0&&M<this.length;M++){var T=this.words[M]|0;T+=k,k=T>>>26,T&=67108863,this.words[M]=T}return k!==0&&(this.words[M]=k,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(b){var A=b<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;this._strip();var D;if(this.length>1)D=1;else{A&&(b=-b),n(b<=67108863,"Number is too big");var j=this.words[0]|0;D=j===b?0:j<b?-1:1}return this.negative!==0?-D|0:D},s.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var A=this.ucmp(b);return this.negative!==0?-A|0:A},s.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var A=0,D=this.length-1;D>=0;D--){var j=this.words[D]|0,k=b.words[D]|0;if(j!==k){j<k?A=-1:j>k&&(A=1);break}}return A},s.prototype.gtn=function(b){return this.cmpn(b)===1},s.prototype.gt=function(b){return this.cmp(b)===1},s.prototype.gten=function(b){return this.cmpn(b)>=0},s.prototype.gte=function(b){return this.cmp(b)>=0},s.prototype.ltn=function(b){return this.cmpn(b)===-1},s.prototype.lt=function(b){return this.cmp(b)===-1},s.prototype.lten=function(b){return this.cmpn(b)<=0},s.prototype.lte=function(b){return this.cmp(b)<=0},s.prototype.eqn=function(b){return this.cmpn(b)===0},s.prototype.eq=function(b){return this.cmp(b)===0},s.red=function(b){return new J(b)},s.prototype.toRed=function(b){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(b){return this.red=b,this},s.prototype.forceRed=function(b){return n(!this.red,"Already a number in reduction context"),this._forceRed(b)},s.prototype.redAdd=function(b){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},s.prototype.redIAdd=function(b){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},s.prototype.redSub=function(b){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},s.prototype.redISub=function(b){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},s.prototype.redShl=function(b){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},s.prototype.redMul=function(b){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},s.prototype.redIMul=function(b){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(b){return n(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var B={k256:null,p224:null,p192:null,p25519:null};function $(F,b){this.name=F,this.p=new s(b,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}$.prototype._tmp=function(){var b=new s(null);return b.words=new Array(Math.ceil(this.n/13)),b},$.prototype.ireduce=function(b){var A=b,D;do this.split(A,this.tmp),A=this.imulK(A),A=A.iadd(this.tmp),D=A.bitLength();while(D>this.n);var j=D<this.n?-1:A.ucmp(this.p);return j===0?(A.words[0]=0,A.length=1):j>0?A.isub(this.p):A.strip!==void 0?A.strip():A._strip(),A},$.prototype.split=function(b,A){b.iushrn(this.n,0,A)},$.prototype.imulK=function(b){return b.imul(this.k)};function q(){$.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(q,$),q.prototype.split=function(b,A){for(var D=4194303,j=Math.min(b.length,9),k=0;k<j;k++)A.words[k]=b.words[k];if(A.length=j,b.length<=9){b.words[0]=0,b.length=1;return}var M=b.words[9];for(A.words[A.length++]=M&D,k=10;k<b.length;k++){var T=b.words[k]|0;b.words[k-10]=(T&D)<<4|M>>>22,M=T}M>>>=22,b.words[k-10]=M,M===0&&b.length>10?b.length-=10:b.length-=9},q.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var A=0,D=0;D<b.length;D++){var j=b.words[D]|0;A+=j*977,b.words[D]=A&67108863,A=j*64+(A/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function G(){$.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(G,$);function H(){$.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(H,$);function K(){$.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(K,$),K.prototype.imulK=function(b){for(var A=0,D=0;D<b.length;D++){var j=(b.words[D]|0)*19+A,k=j&67108863;j>>>=26,b.words[D]=k,A=j}return A!==0&&(b.words[b.length++]=A),b},s._prime=function(b){if(B[b])return B[b];var A;if(b==="k256")A=new q;else if(b==="p224")A=new G;else if(b==="p192")A=new H;else if(b==="p25519")A=new K;else throw new Error("Unknown prime "+b);return B[b]=A,A};function J(F){if(typeof F=="string"){var b=s._prime(F);this.m=b.p,this.prime=b}else n(F.gtn(1),"modulus must be greater than 1"),this.m=F,this.prime=null}J.prototype._verify1=function(b){n(b.negative===0,"red works only with positives"),n(b.red,"red works only with red numbers")},J.prototype._verify2=function(b,A){n((b.negative|A.negative)===0,"red works only with positives"),n(b.red&&b.red===A.red,"red works only with red numbers")},J.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):(f(b,b.umod(this.m)._forceRed(this)),b)},J.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},J.prototype.add=function(b,A){this._verify2(b,A);var D=b.add(A);return D.cmp(this.m)>=0&&D.isub(this.m),D._forceRed(this)},J.prototype.iadd=function(b,A){this._verify2(b,A);var D=b.iadd(A);return D.cmp(this.m)>=0&&D.isub(this.m),D},J.prototype.sub=function(b,A){this._verify2(b,A);var D=b.sub(A);return D.cmpn(0)<0&&D.iadd(this.m),D._forceRed(this)},J.prototype.isub=function(b,A){this._verify2(b,A);var D=b.isub(A);return D.cmpn(0)<0&&D.iadd(this.m),D},J.prototype.shl=function(b,A){return this._verify1(b),this.imod(b.ushln(A))},J.prototype.imul=function(b,A){return this._verify2(b,A),this.imod(b.imul(A))},J.prototype.mul=function(b,A){return this._verify2(b,A),this.imod(b.mul(A))},J.prototype.isqr=function(b){return this.imul(b,b.clone())},J.prototype.sqr=function(b){return this.mul(b,b)},J.prototype.sqrt=function(b){if(b.isZero())return b.clone();var A=this.m.andln(3);if(n(A%2===1),A===3){var D=this.m.add(new s(1)).iushrn(2);return this.pow(b,D)}for(var j=this.m.subn(1),k=0;!j.isZero()&&j.andln(1)===0;)k++,j.iushrn(1);n(!j.isZero());var M=new s(1).toRed(this),T=M.redNeg(),O=this.m.subn(1).iushrn(1),N=this.m.bitLength();for(N=new s(2*N*N).toRed(this);this.pow(N,O).cmp(T)!==0;)N.redIAdd(T);for(var I=this.pow(N,j),Q=this.pow(b,j.addn(1).iushrn(1)),z=this.pow(b,j),V=k;z.cmp(M)!==0;){for(var Y=z,Z=0;Y.cmp(M)!==0;Z++)Y=Y.redSqr();n(Z<V);var ee=this.pow(I,new s(1).iushln(V-Z-1));Q=Q.redMul(ee),I=ee.redSqr(),z=z.redMul(I),V=Z}return Q},J.prototype.invm=function(b){var A=b._invmp(this.m);return A.negative!==0?(A.negative=0,this.imod(A).redNeg()):this.imod(A)},J.prototype.pow=function(b,A){if(A.isZero())return new s(1).toRed(this);if(A.cmpn(1)===0)return b.clone();var D=4,j=new Array(1<<D);j[0]=new s(1).toRed(this),j[1]=b;for(var k=2;k<j.length;k++)j[k]=this.mul(j[k-1],b);var M=j[0],T=0,O=0,N=A.bitLength()%26;for(N===0&&(N=26),k=A.length-1;k>=0;k--){for(var I=A.words[k],Q=N-1;Q>=0;Q--){var z=I>>Q&1;if(M!==j[0]&&(M=this.sqr(M)),z===0&&T===0){O=0;continue}T<<=1,T|=z,O++,!(O!==D&&(k!==0||Q!==0))&&(M=this.mul(M,j[T]),O=0,T=0)}N=26}return M},J.prototype.convertTo=function(b){var A=b.umod(this.m);return A===b?A.clone():A},J.prototype.convertFrom=function(b){var A=b.clone();return A.red=null,A},s.mont=function(b){return new W(b)};function W(F){J.call(this,F),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(W,J),W.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},W.prototype.convertFrom=function(b){var A=this.imod(b.mul(this.rinv));return A.red=null,A},W.prototype.imul=function(b,A){if(b.isZero()||A.isZero())return b.words[0]=0,b.length=1,b;var D=b.imul(A),j=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=D.isub(j).iushrn(this.shift),M=k;return k.cmp(this.m)>=0?M=k.isub(this.m):k.cmpn(0)<0&&(M=k.iadd(this.m)),M._forceRed(this)},W.prototype.mul=function(b,A){if(b.isZero()||A.isZero())return new s(0)._forceRed(this);var D=b.mul(A),j=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=D.isub(j).iushrn(this.shift),M=k;return k.cmp(this.m)>=0?M=k.isub(this.m):k.cmpn(0)<0&&(M=k.iadd(this.m)),M._forceRed(this)},W.prototype.invm=function(b){var A=this.imod(b._invmp(this.m).mul(this.r2));return A._forceRed(this)}})(t,Q$)}(k0)),k0.exports}var eU=Z$();const Mt=El(eU),tU="logger/5.8.0";let AN=!1,jN=!1;const _0={debug:1,default:2,info:2,warning:3,error:4,off:5};let PN=_0.default,vw=null;function rU(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const RN=rU();var yk;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(yk||(yk={}));var qo;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(qo||(qo={}));const IN="0123456789abcdef";class oe{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();_0[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(PN>_0[n])&&console.log.apply(console,r)}debug(...e){this._log(oe.levels.DEBUG,e)}info(...e){this._log(oe.levels.INFO,e)}warn(...e){this._log(oe.levels.WARNING,e)}makeError(e,r,n){if(jN)return this.makeError("censored error",r,{});r||(r=oe.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const d=n[c];try{if(d instanceof Uint8Array){let f="";for(let p=0;p<d.length;p++)f+=IN[d[p]>>4],f+=IN[d[p]&15];i.push(c+"=Uint8Array(0x"+f+")")}else i.push(c+"="+JSON.stringify(d))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case qo.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case qo.CALL_EXCEPTION:case qo.INSUFFICIENT_FUNDS:case qo.MISSING_NEW:case qo.NONCE_EXPIRED:case qo.REPLACEMENT_UNDERPRICED:case qo.TRANSACTION_REPLACED:case qo.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,oe.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){RN&&this.throwError("platform missing String.prototype.normalize",oe.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:RN})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,oe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,oe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,oe.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,oe.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",oe.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",oe.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",oe.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return vw||(vw=new oe(tU)),vw}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",oe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),AN){if(!e)return;this.globalLogger().throwError("error censorship permanent",oe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}jN=!!e,AN=!!r}static setLogLevel(e){const r=_0[e.toLowerCase()];if(r==null){oe.globalLogger().warn("invalid log level - "+e);return}PN=r}static from(e){return new oe(e)}}oe.errors=qo;oe.levels=yk;const nU="bytes/5.8.0",un=new oe(nU);function kM(t){return!!t.toHexString}function jf(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return jf(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function fC(t){return Yt(t)&&!(t.length%2)||ph(t)}function MN(t){return typeof t=="number"&&t==t&&t%1===0}function ph(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!MN(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!MN(r)||r<0||r>=256)return!1}return!0}function Et(t,e){if(e||(e={}),typeof t=="number"){un.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),jf(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),kM(t)&&(t=t.toHexString()),Yt(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":un.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return jf(new Uint8Array(n))}return ph(t)?jf(new Uint8Array(t)):un.throwArgumentError("invalid arrayify value","value",t)}function Bs(t){const e=t.map(i=>Et(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),jf(n)}function Kf(t){let e=Et(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function iU(t,e){t=Et(t),t.length>e&&un.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),jf(r)}function Yt(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const bw="0123456789abcdef";function ut(t,e){if(e||(e={}),typeof t=="number"){un.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=bw[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),kM(t))return t.toHexString();if(Yt(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":un.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(ph(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=bw[(i&240)>>4]+bw[i&15]}return r}return un.throwArgumentError("invalid hexlify value","value",t)}function Ku(t){if(typeof t!="string")t=ut(t);else if(!Yt(t)||t.length%2)return null;return(t.length-2)/2}function Ci(t,e,r){return typeof t!="string"?t=ut(t):(!Yt(t)||t.length%2)&&un.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function fs(t){let e="0x";return t.forEach(r=>{e+=ut(r).substring(2)}),e}function Wx(t){const e=sU(ut(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function sU(t){typeof t!="string"&&(t=ut(t)),Yt(t)||un.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function Qr(t,e){for(typeof t!="string"?t=ut(t):Yt(t)||un.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&un.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function qx(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(fC(t)){let r=Et(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=ut(r.slice(0,32)),e.s=ut(r.slice(32,64))):r.length===65?(e.r=ut(r.slice(0,32)),e.s=ut(r.slice(32,64)),e.v=r[64]):un.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:un.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=ut(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=iU(Et(e._vs),32);e._vs=ut(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&un.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=ut(i);e.s==null?e.s=o:e.s!==o&&un.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?un.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&un.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Yt(e.r)?un.throwArgumentError("signature missing or invalid r","signature",t):e.r=Qr(e.r,32),e.s==null||!Yt(e.s)?un.throwArgumentError("signature missing or invalid s","signature",t):e.s=Qr(e.s,32);const r=Et(e.s);r[0]>=128&&un.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=ut(r);e._vs&&(Yt(e._vs)||un.throwArgumentError("signature invalid _vs","signature",t),e._vs=Qr(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&un.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const _M="bignumber/5.8.0";var Q0=Mt.BN;const sl=new oe(_M),ww={},DN=9007199254740991;function oU(t){return t!=null&&(ue.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||Yt(t)||typeof t=="bigint"||ph(t))}let ON=!1;class ue{constructor(e,r){e!==ww&&sl.throwError("cannot call constructor directly; use BigNumber.from",oe.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return as(cr(this).fromTwos(e))}toTwos(e){return as(cr(this).toTwos(e))}abs(){return this._hex[0]==="-"?ue.from(this._hex.substring(1)):this}add(e){return as(cr(this).add(cr(e)))}sub(e){return as(cr(this).sub(cr(e)))}div(e){return ue.from(e).isZero()&&io("division-by-zero","div"),as(cr(this).div(cr(e)))}mul(e){return as(cr(this).mul(cr(e)))}mod(e){const r=cr(e);return r.isNeg()&&io("division-by-zero","mod"),as(cr(this).umod(r))}pow(e){const r=cr(e);return r.isNeg()&&io("negative-power","pow"),as(cr(this).pow(r))}and(e){const r=cr(e);return(this.isNegative()||r.isNeg())&&io("unbound-bitwise-result","and"),as(cr(this).and(r))}or(e){const r=cr(e);return(this.isNegative()||r.isNeg())&&io("unbound-bitwise-result","or"),as(cr(this).or(r))}xor(e){const r=cr(e);return(this.isNegative()||r.isNeg())&&io("unbound-bitwise-result","xor"),as(cr(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&io("negative-width","mask"),as(cr(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&io("negative-width","shl"),as(cr(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&io("negative-width","shr"),as(cr(this).shrn(e))}eq(e){return cr(this).eq(cr(e))}lt(e){return cr(this).lt(cr(e))}lte(e){return cr(this).lte(cr(e))}gt(e){return cr(this).gt(cr(e))}gte(e){return cr(this).gte(cr(e))}isNegative(){return this._hex[0]==="-"}isZero(){return cr(this).isZero()}toNumber(){try{return cr(this).toNumber()}catch{io("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return sl.throwError("this platform does not support BigInt",oe.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?ON||(ON=!0,sl.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?sl.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",oe.errors.UNEXPECTED_ARGUMENT,{}):sl.throwError("BigNumber.toString does not accept parameters",oe.errors.UNEXPECTED_ARGUMENT,{})),cr(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof ue)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new ue(ww,fm(e)):e.match(/^-?[0-9]+$/)?new ue(ww,fm(new Q0(e))):sl.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&io("underflow","BigNumber.from",e),(e>=DN||e<=-DN)&&io("overflow","BigNumber.from",e),ue.from(String(e));const r=e;if(typeof r=="bigint")return ue.from(r.toString());if(ph(r))return ue.from(ut(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return ue.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Yt(n)||n[0]==="-"&&Yt(n.substring(1))))return ue.from(n)}return sl.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function fm(t){if(typeof t!="string")return fm(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&sl.throwArgumentError("invalid hex","value",t),t=fm(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function as(t){return ue.from(fm(t))}function cr(t){const e=ue.from(t).toHexString();return e[0]==="-"?new Q0("-"+e.substring(3),16):new Q0(e.substring(2),16)}function io(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),sl.throwError(t,oe.errors.NUMERIC_FAULT,n)}function aU(t){return new Q0(t,36).toString(16)}const Hi=new oe(_M),Op={},CM=ue.from(0),SM=ue.from(-1);function EM(t,e,r,n){const i={fault:e,operation:r};return n!==void 0&&(i.value=n),Hi.throwError(t,oe.errors.NUMERIC_FAULT,i)}let Lp="0";for(;Lp.length<256;)Lp+=Lp;function hC(t){if(typeof t!="number")try{t=ue.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+Lp.substring(0,t):Hi.throwArgumentError("invalid decimal size","decimals",t)}function C0(t,e){e==null&&(e=0);const r=hC(e);t=ue.from(t);const n=t.lt(CM);n&&(t=t.mul(SM));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(r).toString();return r.length===1?t=s:t=s+"."+i,n&&(t="-"+t),t}function ba(t,e){e==null&&(e=0);const r=hC(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&Hi.throwArgumentError("invalid decimal value","value",t);const n=t.substring(0,1)==="-";n&&(t=t.substring(1)),t==="."&&Hi.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&Hi.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>r.length-1&&EM("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<r.length-1;)o+="0";const a=ue.from(s),c=ue.from(o);let d=a.mul(r).add(c);return n&&(d=d.mul(SM)),d}class Pf{constructor(e,r,n,i){e!==Op&&Hi.throwError("cannot use FixedFormat constructor; use FixedFormat.from",oe.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=hC(i),Object.freeze(this)}static from(e){if(e instanceof Pf)return e;typeof e=="number"&&(e=`fixed128x${e}`);let r=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")r=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||Hi.throwArgumentError("invalid fixed format","format",e),r=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,c)=>e[o]==null?c:(typeof e[o]!==a&&Hi.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);r=s("signed","boolean",r),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&Hi.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&Hi.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Pf(Op,r,n,i)}}class oi{constructor(e,r,n,i){e!==Op&&Hi.throwError("cannot use FixedNumber constructor; use FixedNumber.from",oe.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Hi.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const r=ba(this._value,this.format.decimals),n=ba(e._value,e.format.decimals);return oi.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const r=ba(this._value,this.format.decimals),n=ba(e._value,e.format.decimals);return oi.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const r=ba(this._value,this.format.decimals),n=ba(e._value,e.format.decimals);return oi.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const r=ba(this._value,this.format.decimals),n=ba(e._value,e.format.decimals);return oi.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=oi.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(LN.toFormat(r.format))),r}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=oi.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(LN.toFormat(r.format))),r}round(e){e==null&&(e=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(e<0||e>80||e%1)&&Hi.throwArgumentError("invalid decimal count","decimals",e),r[1].length<=e)return this;const n=oi.from("1"+Lp.substring(0,e),this.format),i=lU.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Hi.throwArgumentError("invalid byte width","width",e);const r=ue.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Qr(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return oi.fromString(this._value,e)}static fromValue(e,r,n){return n==null&&r!=null&&!oU(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),oi.fromString(C0(e,r),Pf.from(n))}static fromString(e,r){r==null&&(r="fixed");const n=Pf.from(r),i=ba(e,n.decimals);!n.signed&&i.lt(CM)&&EM("unsigned value cannot be negative","overflow","value",e);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=Qr(s,n.width/8));const o=C0(i,n.decimals);return new oi(Op,s,o,n)}static fromBytes(e,r){r==null&&(r="fixed");const n=Pf.from(r);if(Et(e).length>n.width/8)throw new Error("overflow");let i=ue.from(e);n.signed&&(i=i.fromTwos(n.width));const s=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=C0(i,n.decimals);return new oi(Op,s,o,n)}static from(e,r){if(typeof e=="string")return oi.fromString(e,r);if(ph(e))return oi.fromBytes(e,r);try{return oi.fromValue(e,0,r)}catch(n){if(n.code!==oe.errors.INVALID_ARGUMENT)throw n}return Hi.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const LN=oi.from(1),lU=oi.from("0.5"),cU="properties/5.8.0";var uU=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const Z0=new oe(cU);function ke(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function $s(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function Rn(t){return uU(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function dU(t,e){(!t||typeof t!="object")&&Z0.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||Z0.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function Jr(t){const e={};for(const r in t)e[r]=t[r];return e}const fU={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function TM(t){if(t==null||fU[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!TM(n))return!1}return!0}return Z0.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function hU(t){if(TM(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>Ws(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&ke(e,r,Ws(n))}return e}return Z0.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Ws(t){return hU(t)}class eg{constructor(e){for(const r in e)this[r]=Ws(e[r])}}const tg="abi/5.8.0",ur=new oe(tg),Yu={};let FN={calldata:!0,memory:!0,storage:!0},pU={calldata:!0,memory:!0};function Sy(t,e){if(t==="bytes"||t==="string"){if(FN[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&pU[e])return!0;return(FN[e]||e==="payable")&&ur.throwArgumentError("invalid modifier","name",e),!1}function mU(t,e){let r=t;function n(a){ur.throwArgumentError(`unexpected character at position ${a}`,"param",t)}t=t.replace(/\s/g," ");function i(a){let c={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(c.indexed=!1),c}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<t.length;a++){let c=t[a];switch(c){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(a),o.state.allowType=!1,o.type=cf(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),Sy(o.type,o.name)&&(o.name=""),o.type=cf(o.type);let d=o;o=o.parent,o||n(a),delete d.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),Sy(o.type,o.name)&&(o.name=""),o.type=cf(o.type);let f=i(o.parent);o.parent.components.push(f),delete o.parent,o=f;break;case" ":o.state.allowType&&o.type!==""&&(o.type=cf(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||n(a),o.indexed&&n(a),o.indexed=!0,o.name=""):Sy(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(a),o.type+=c,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(a),o.type+=c,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=c,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=c,delete o.state.allowArray):o.state.readArray?o.type+=c:n(a)}}return o.parent&&ur.throwArgumentError("unexpected eof","param",t),delete s.state,o.name==="indexed"?(e||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):Sy(o.type,o.name)&&(o.name=""),s.type=cf(s.type),s}function S0(t,e){for(let r in e)ke(t,r,e[r])}const wr=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),gU=new RegExp(/^(.*)\[([0-9]*)\]$/);class Qn{constructor(e,r){e!==Yu&&ur.throwError("use fromString",oe.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),S0(this,r);let n=this.type.match(gU);n?S0(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:Qn.fromObject({type:n[1],components:this.components}),baseType:"array"}):S0(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=wr.sighash),wr[e]||ur.throwArgumentError("invalid format type","format",e),e===wr.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==wr.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===wr.full?", ":",")+")"):r+=this.type,e!==wr.sighash&&(this.indexed===!0&&(r+=" indexed"),e===wr.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?Qn.fromString(e,r):Qn.fromObject(e)}static fromObject(e){return Qn.isParamType(e)?e:new Qn(Yu,{name:e.name||null,type:cf(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Qn.fromObject):null})}static fromString(e,r){function n(i){return Qn.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(mU(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function hm(t,e){return xU(t).map(r=>Qn.fromString(r,e))}class pl{constructor(e,r){e!==Yu&&ur.throwError("use a static from method",oe.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),S0(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return pl.isFragment(e)?e:typeof e=="string"?pl.fromString(e):pl.fromObject(e)}static fromObject(e){if(pl.isFragment(e))return e;switch(e.type){case"function":return Aa.fromObject(e);case"event":return fl.fromObject(e);case"constructor":return Na.fromObject(e);case"error":return ac.fromObject(e);case"fallback":case"receive":return null}return ur.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?fl.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?Aa.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?Na.fromString(e.trim()):e.split(" ")[0]==="error"?ac.fromString(e.substring(5).trim()):ur.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class fl extends pl{format(e){if(e||(e=wr.sighash),wr[e]||ur.throwArgumentError("invalid format type","format",e),e===wr.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==wr.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===wr.full?", ":",")+") ",e!==wr.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?fl.fromString(e):fl.fromObject(e)}static fromObject(e){if(fl.isEventFragment(e))return e;e.type!=="event"&&ur.throwArgumentError("invalid event object","value",e);const r={name:pm(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Qn.fromObject):[],type:"event"};return new fl(Yu,r)}static fromString(e){let r=e.match(mm);r||ur.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:ur.warn("unknown modifier: "+i)}}),fl.fromObject({name:r[1].trim(),anonymous:n,inputs:hm(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function NM(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&ur.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||ur.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=ue.from(r[1]),r[0]):t}function AM(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function jM(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&ur.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&ur.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&ur.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&ur.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&ur.throwArgumentError("unable to determine stateMutability","value",t),e}class Na extends pl{format(e){if(e||(e=wr.sighash),wr[e]||ur.throwArgumentError("invalid format type","format",e),e===wr.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===wr.sighash&&ur.throwError("cannot format a constructor for sighash",oe.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===wr.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?Na.fromString(e):Na.fromObject(e)}static fromObject(e){if(Na.isConstructorFragment(e))return e;e.type!=="constructor"&&ur.throwArgumentError("invalid constructor object","value",e);let r=jM(e);r.constant&&ur.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Qn.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?ue.from(e.gas):null};return new Na(Yu,n)}static fromString(e){let r={type:"constructor"};e=NM(e,r);let n=e.match(mm);return(!n||n[1].trim()!=="constructor")&&ur.throwArgumentError("invalid constructor string","value",e),r.inputs=hm(n[2].trim(),!1),AM(n[3].trim(),r),Na.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class Aa extends Na{format(e){if(e||(e=wr.sighash),wr[e]||ur.throwArgumentError("invalid format type","format",e),e===wr.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==wr.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===wr.full?", ":",")+") ",e!==wr.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?Aa.fromString(e):Aa.fromObject(e)}static fromObject(e){if(Aa.isFunctionFragment(e))return e;e.type!=="function"&&ur.throwArgumentError("invalid function object","value",e);let r=jM(e);const n={type:e.type,name:pm(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(Qn.fromObject):[],outputs:e.outputs?e.outputs.map(Qn.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?ue.from(e.gas):null};return new Aa(Yu,n)}static fromString(e){let r={type:"function"};e=NM(e,r);let n=e.split(" returns ");n.length>2&&ur.throwArgumentError("invalid function string","value",e);let i=n[0].match(mm);if(i||ur.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&pm(r.name),r.inputs=hm(i[2],!1),AM(i[3].trim(),r),n.length>1){let s=n[1].match(mm);(s[1].trim()!=""||s[3].trim()!="")&&ur.throwArgumentError("unexpected tokens","value",e),r.outputs=hm(s[2],!1)}else r.outputs=[];return Aa.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function zN(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&ur.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class ac extends pl{format(e){if(e||(e=wr.sighash),wr[e]||ur.throwArgumentError("invalid format type","format",e),e===wr.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==wr.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===wr.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?ac.fromString(e):ac.fromObject(e)}static fromObject(e){if(ac.isErrorFragment(e))return e;e.type!=="error"&&ur.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:pm(e.name),inputs:e.inputs?e.inputs.map(Qn.fromObject):[]};return zN(new ac(Yu,r))}static fromString(e){let r={type:"error"},n=e.match(mm);return n||ur.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&pm(r.name),r.inputs=hm(n[2],!1),zN(ac.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function cf(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const yU=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function pm(t){return(!t||!t.match(yU))&&ur.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const mm=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function xU(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let s=t[i];s===","&&n===0?(e.push(r),r=""):(r+=s,s==="("?n++:s===")"&&(n--,n===-1&&ur.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const pC=new oe(tg);function vU(t){const e=[],r=function(n,i){if(Array.isArray(i))for(let s in i){const o=n.slice();o.push(s);try{r(o,i[s])}catch(a){e.push({path:o,error:a})}}};return r([],t),e}class Tl{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){pC.throwArgumentError(e,this.localName,r)}}class xk{constructor(e){ke(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return fs(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Bs(e._data))}writeBytes(e){let r=Et(e);const n=r.length%this.wordSize;return n&&(r=Bs([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=Et(ue.from(e));return r.length>this.wordSize&&pC.throwError("value out-of-bounds",oe.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=Bs([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}class ex{constructor(e,r,n,i){ke(this,"_data",Et(e)),ke(this,"wordSize",r||32),ke(this,"_coerceFunc",n),ke(this,"allowLoose",i),this._offset=0}get data(){return ut(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):ex.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:pC.throwError("data out-of-bounds",oe.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new ex(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return ue.from(this.readBytes(this.wordSize))}}var kw={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */var BN;function bU(){return BN||(BN=1,function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=L8:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",d="0123456789abcdef".split(""),f=[31,7936,2031616,520093696],p=[4,1024,262144,67108864],g=[1,256,65536,16777216],m=[6,1536,393216,100663296],v=[0,8,16,24],x=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],w=[224,256,384,512],E=[128,256],P=["hex","buffer","arrayBuffer","array","digest"],R={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(z){return Object.prototype.toString.call(z)==="[object Array]"}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(z){return typeof z=="object"&&z.buffer&&z.buffer.constructor===ArrayBuffer});for(var S=function(z,V,Y){return function(Z){return new N(z,V,z).update(Z)[Y]()}},B=function(z,V,Y){return function(Z,ee){return new N(z,V,ee).update(Z)[Y]()}},$=function(z,V,Y){return function(Z,ee,ae,ne){return b["cshake"+z].update(Z,ee,ae,ne)[Y]()}},q=function(z,V,Y){return function(Z,ee,ae,ne){return b["kmac"+z].update(Z,ee,ae,ne)[Y]()}},G=function(z,V,Y,Z){for(var ee=0;ee<P.length;++ee){var ae=P[ee];z[ae]=V(Y,Z,ae)}return z},H=function(z,V){var Y=S(z,V,"hex");return Y.create=function(){return new N(z,V,z)},Y.update=function(Z){return Y.create().update(Z)},G(Y,S,z,V)},K=function(z,V){var Y=B(z,V,"hex");return Y.create=function(Z){return new N(z,V,Z)},Y.update=function(Z,ee){return Y.create(ee).update(Z)},G(Y,B,z,V)},J=function(z,V){var Y=R[z],Z=$(z,V,"hex");return Z.create=function(ee,ae,ne){return!ae&&!ne?b["shake"+z].create(ee):new N(z,V,ee).bytepad([ae,ne],Y)},Z.update=function(ee,ae,ne,de){return Z.create(ae,ne,de).update(ee)},G(Z,$,z,V)},W=function(z,V){var Y=R[z],Z=q(z,V,"hex");return Z.create=function(ee,ae,ne){return new I(z,V,ae).bytepad(["KMAC",ne],Y).bytepad([ee],Y)},Z.update=function(ee,ae,ne,de){return Z.create(ee,ne,de).update(ae)},G(Z,q,z,V)},F=[{name:"keccak",padding:g,bits:w,createMethod:H},{name:"sha3",padding:m,bits:w,createMethod:H},{name:"shake",padding:f,bits:E,createMethod:K},{name:"cshake",padding:p,bits:E,createMethod:J},{name:"kmac",padding:p,bits:E,createMethod:W}],b={},A=[],D=0;D<F.length;++D)for(var j=F[D],k=j.bits,M=0;M<k.length;++M){var T=j.name+"_"+k[M];if(A.push(T),b[T]=j.createMethod(k[M],j.padding),j.name!=="sha3"){var O=j.name+k[M];A.push(O),b[O]=b[T]}}function N(z,V,Y){this.blocks=[],this.s=[],this.padding=V,this.outputBits=Y,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(z<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=Y>>5,this.extraBytes=(Y&31)>>3;for(var Z=0;Z<50;++Z)this.s[Z]=0}N.prototype.update=function(z){if(this.finalized)throw new Error(r);var V,Y=typeof z;if(Y!=="string"){if(Y==="object"){if(z===null)throw new Error(e);if(c&&z.constructor===ArrayBuffer)z=new Uint8Array(z);else if(!Array.isArray(z)&&(!c||!ArrayBuffer.isView(z)))throw new Error(e)}else throw new Error(e);V=!0}for(var Z=this.blocks,ee=this.byteCount,ae=z.length,ne=this.blockCount,de=0,xe=this.s,me,Ce;de<ae;){if(this.reset)for(this.reset=!1,Z[0]=this.block,me=1;me<ne+1;++me)Z[me]=0;if(V)for(me=this.start;de<ae&&me<ee;++de)Z[me>>2]|=z[de]<<v[me++&3];else for(me=this.start;de<ae&&me<ee;++de)Ce=z.charCodeAt(de),Ce<128?Z[me>>2]|=Ce<<v[me++&3]:Ce<2048?(Z[me>>2]|=(192|Ce>>6)<<v[me++&3],Z[me>>2]|=(128|Ce&63)<<v[me++&3]):Ce<55296||Ce>=57344?(Z[me>>2]|=(224|Ce>>12)<<v[me++&3],Z[me>>2]|=(128|Ce>>6&63)<<v[me++&3],Z[me>>2]|=(128|Ce&63)<<v[me++&3]):(Ce=65536+((Ce&1023)<<10|z.charCodeAt(++de)&1023),Z[me>>2]|=(240|Ce>>18)<<v[me++&3],Z[me>>2]|=(128|Ce>>12&63)<<v[me++&3],Z[me>>2]|=(128|Ce>>6&63)<<v[me++&3],Z[me>>2]|=(128|Ce&63)<<v[me++&3]);if(this.lastByteIndex=me,me>=ee){for(this.start=me-ee,this.block=Z[ne],me=0;me<ne;++me)xe[me]^=Z[me];Q(xe),this.reset=!0}else this.start=me}return this},N.prototype.encode=function(z,V){var Y=z&255,Z=1,ee=[Y];for(z=z>>8,Y=z&255;Y>0;)ee.unshift(Y),z=z>>8,Y=z&255,++Z;return V?ee.push(Z):ee.unshift(Z),this.update(ee),ee.length},N.prototype.encodeString=function(z){var V,Y=typeof z;if(Y!=="string"){if(Y==="object"){if(z===null)throw new Error(e);if(c&&z.constructor===ArrayBuffer)z=new Uint8Array(z);else if(!Array.isArray(z)&&(!c||!ArrayBuffer.isView(z)))throw new Error(e)}else throw new Error(e);V=!0}var Z=0,ee=z.length;if(V)Z=ee;else for(var ae=0;ae<z.length;++ae){var ne=z.charCodeAt(ae);ne<128?Z+=1:ne<2048?Z+=2:ne<55296||ne>=57344?Z+=3:(ne=65536+((ne&1023)<<10|z.charCodeAt(++ae)&1023),Z+=4)}return Z+=this.encode(Z*8),this.update(z),Z},N.prototype.bytepad=function(z,V){for(var Y=this.encode(V),Z=0;Z<z.length;++Z)Y+=this.encodeString(z[Z]);var ee=V-Y%V,ae=[];return ae.length=ee,this.update(ae),this},N.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var z=this.blocks,V=this.lastByteIndex,Y=this.blockCount,Z=this.s;if(z[V>>2]|=this.padding[V&3],this.lastByteIndex===this.byteCount)for(z[0]=z[Y],V=1;V<Y+1;++V)z[V]=0;for(z[Y-1]|=2147483648,V=0;V<Y;++V)Z[V]^=z[V];Q(Z)}},N.prototype.toString=N.prototype.hex=function(){this.finalize();for(var z=this.blockCount,V=this.s,Y=this.outputBlocks,Z=this.extraBytes,ee=0,ae=0,ne="",de;ae<Y;){for(ee=0;ee<z&&ae<Y;++ee,++ae)de=V[ee],ne+=d[de>>4&15]+d[de&15]+d[de>>12&15]+d[de>>8&15]+d[de>>20&15]+d[de>>16&15]+d[de>>28&15]+d[de>>24&15];ae%z===0&&(Q(V),ee=0)}return Z&&(de=V[ee],ne+=d[de>>4&15]+d[de&15],Z>1&&(ne+=d[de>>12&15]+d[de>>8&15]),Z>2&&(ne+=d[de>>20&15]+d[de>>16&15])),ne},N.prototype.arrayBuffer=function(){this.finalize();var z=this.blockCount,V=this.s,Y=this.outputBlocks,Z=this.extraBytes,ee=0,ae=0,ne=this.outputBits>>3,de;Z?de=new ArrayBuffer(Y+1<<2):de=new ArrayBuffer(ne);for(var xe=new Uint32Array(de);ae<Y;){for(ee=0;ee<z&&ae<Y;++ee,++ae)xe[ae]=V[ee];ae%z===0&&Q(V)}return Z&&(xe[ee]=V[ee],de=de.slice(0,ne)),de},N.prototype.buffer=N.prototype.arrayBuffer,N.prototype.digest=N.prototype.array=function(){this.finalize();for(var z=this.blockCount,V=this.s,Y=this.outputBlocks,Z=this.extraBytes,ee=0,ae=0,ne=[],de,xe;ae<Y;){for(ee=0;ee<z&&ae<Y;++ee,++ae)de=ae<<2,xe=V[ee],ne[de]=xe&255,ne[de+1]=xe>>8&255,ne[de+2]=xe>>16&255,ne[de+3]=xe>>24&255;ae%z===0&&Q(V)}return Z&&(de=ae<<2,xe=V[ee],ne[de]=xe&255,Z>1&&(ne[de+1]=xe>>8&255),Z>2&&(ne[de+2]=xe>>16&255)),ne};function I(z,V,Y){N.call(this,z,V,Y)}I.prototype=new N,I.prototype.finalize=function(){return this.encode(this.outputBits,!0),N.prototype.finalize.call(this)};var Q=function(z){var V,Y,Z,ee,ae,ne,de,xe,me,Ce,ct,le,Ye,jt,it,De,Jt,st,ft,Ie,se,he,Le,Ae,Me,Gt,Xe,_t,Wt,Ct,rt,Xt,xt,Fe,Vr,Tt,St,pr,qt,Pe,yt,ot,Re,Be,ze,we,Ue,Te,Oe,mr,Ge,pt,Nr,vt,mt,Ot,zt,gt,Mr,Gr,vr,kr,_r;for(Z=0;Z<48;Z+=2)ee=z[0]^z[10]^z[20]^z[30]^z[40],ae=z[1]^z[11]^z[21]^z[31]^z[41],ne=z[2]^z[12]^z[22]^z[32]^z[42],de=z[3]^z[13]^z[23]^z[33]^z[43],xe=z[4]^z[14]^z[24]^z[34]^z[44],me=z[5]^z[15]^z[25]^z[35]^z[45],Ce=z[6]^z[16]^z[26]^z[36]^z[46],ct=z[7]^z[17]^z[27]^z[37]^z[47],le=z[8]^z[18]^z[28]^z[38]^z[48],Ye=z[9]^z[19]^z[29]^z[39]^z[49],V=le^(ne<<1|de>>>31),Y=Ye^(de<<1|ne>>>31),z[0]^=V,z[1]^=Y,z[10]^=V,z[11]^=Y,z[20]^=V,z[21]^=Y,z[30]^=V,z[31]^=Y,z[40]^=V,z[41]^=Y,V=ee^(xe<<1|me>>>31),Y=ae^(me<<1|xe>>>31),z[2]^=V,z[3]^=Y,z[12]^=V,z[13]^=Y,z[22]^=V,z[23]^=Y,z[32]^=V,z[33]^=Y,z[42]^=V,z[43]^=Y,V=ne^(Ce<<1|ct>>>31),Y=de^(ct<<1|Ce>>>31),z[4]^=V,z[5]^=Y,z[14]^=V,z[15]^=Y,z[24]^=V,z[25]^=Y,z[34]^=V,z[35]^=Y,z[44]^=V,z[45]^=Y,V=xe^(le<<1|Ye>>>31),Y=me^(Ye<<1|le>>>31),z[6]^=V,z[7]^=Y,z[16]^=V,z[17]^=Y,z[26]^=V,z[27]^=Y,z[36]^=V,z[37]^=Y,z[46]^=V,z[47]^=Y,V=Ce^(ee<<1|ae>>>31),Y=ct^(ae<<1|ee>>>31),z[8]^=V,z[9]^=Y,z[18]^=V,z[19]^=Y,z[28]^=V,z[29]^=Y,z[38]^=V,z[39]^=Y,z[48]^=V,z[49]^=Y,jt=z[0],it=z[1],we=z[11]<<4|z[10]>>>28,Ue=z[10]<<4|z[11]>>>28,_t=z[20]<<3|z[21]>>>29,Wt=z[21]<<3|z[20]>>>29,Gr=z[31]<<9|z[30]>>>23,vr=z[30]<<9|z[31]>>>23,ot=z[40]<<18|z[41]>>>14,Re=z[41]<<18|z[40]>>>14,Fe=z[2]<<1|z[3]>>>31,Vr=z[3]<<1|z[2]>>>31,De=z[13]<<12|z[12]>>>20,Jt=z[12]<<12|z[13]>>>20,Te=z[22]<<10|z[23]>>>22,Oe=z[23]<<10|z[22]>>>22,Ct=z[33]<<13|z[32]>>>19,rt=z[32]<<13|z[33]>>>19,kr=z[42]<<2|z[43]>>>30,_r=z[43]<<2|z[42]>>>30,vt=z[5]<<30|z[4]>>>2,mt=z[4]<<30|z[5]>>>2,Tt=z[14]<<6|z[15]>>>26,St=z[15]<<6|z[14]>>>26,st=z[25]<<11|z[24]>>>21,ft=z[24]<<11|z[25]>>>21,mr=z[34]<<15|z[35]>>>17,Ge=z[35]<<15|z[34]>>>17,Xt=z[45]<<29|z[44]>>>3,xt=z[44]<<29|z[45]>>>3,Ae=z[6]<<28|z[7]>>>4,Me=z[7]<<28|z[6]>>>4,Ot=z[17]<<23|z[16]>>>9,zt=z[16]<<23|z[17]>>>9,pr=z[26]<<25|z[27]>>>7,qt=z[27]<<25|z[26]>>>7,Ie=z[36]<<21|z[37]>>>11,se=z[37]<<21|z[36]>>>11,pt=z[47]<<24|z[46]>>>8,Nr=z[46]<<24|z[47]>>>8,Be=z[8]<<27|z[9]>>>5,ze=z[9]<<27|z[8]>>>5,Gt=z[18]<<20|z[19]>>>12,Xe=z[19]<<20|z[18]>>>12,gt=z[29]<<7|z[28]>>>25,Mr=z[28]<<7|z[29]>>>25,Pe=z[38]<<8|z[39]>>>24,yt=z[39]<<8|z[38]>>>24,he=z[48]<<14|z[49]>>>18,Le=z[49]<<14|z[48]>>>18,z[0]=jt^~De&st,z[1]=it^~Jt&ft,z[10]=Ae^~Gt&_t,z[11]=Me^~Xe&Wt,z[20]=Fe^~Tt&pr,z[21]=Vr^~St&qt,z[30]=Be^~we&Te,z[31]=ze^~Ue&Oe,z[40]=vt^~Ot&gt,z[41]=mt^~zt&Mr,z[2]=De^~st&Ie,z[3]=Jt^~ft&se,z[12]=Gt^~_t&Ct,z[13]=Xe^~Wt&rt,z[22]=Tt^~pr&Pe,z[23]=St^~qt&yt,z[32]=we^~Te&mr,z[33]=Ue^~Oe&Ge,z[42]=Ot^~gt&Gr,z[43]=zt^~Mr&vr,z[4]=st^~Ie&he,z[5]=ft^~se&Le,z[14]=_t^~Ct&Xt,z[15]=Wt^~rt&xt,z[24]=pr^~Pe&ot,z[25]=qt^~yt&Re,z[34]=Te^~mr&pt,z[35]=Oe^~Ge&Nr,z[44]=gt^~Gr&kr,z[45]=Mr^~vr&_r,z[6]=Ie^~he&jt,z[7]=se^~Le&it,z[16]=Ct^~Xt&Ae,z[17]=rt^~xt&Me,z[26]=Pe^~ot&Fe,z[27]=yt^~Re&Vr,z[36]=mr^~pt&Be,z[37]=Ge^~Nr&ze,z[46]=Gr^~kr&vt,z[47]=vr^~_r&mt,z[8]=he^~jt&De,z[9]=Le^~it&Jt,z[18]=Xt^~Ae&Gt,z[19]=xt^~Me&Xe,z[28]=ot^~Fe&Tt,z[29]=Re^~Vr&St,z[38]=pt^~Be&we,z[39]=Nr^~ze&Ue,z[48]=kr^~vt&Ot,z[49]=_r^~mt&zt,z[0]^=x[Z],z[1]^=x[Z+1]};if(a)t.exports=b;else for(D=0;D<A.length;++D)i[A[D]]=b[A[D]]})()}(kw)),kw.exports}var wU=bU();const kU=El(wU);function qn(t){return"0x"+kU.keccak_256(Et(t))}const _U="rlp/5.8.0",_a=new oe(_U);function $N(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function UN(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function PM(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(PM(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=$N(n.length);return i.unshift(247+i.length),i.concat(n)}fC(t)||_a.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Et(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=$N(e.length);return r.unshift(183+r.length),r.concat(e)}function Hx(t){return ut(PM(t))}function VN(t,e,r,n){const i=[];for(;r<e+1+n;){const s=RM(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&_a.throwError("child data too short",oe.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function RM(t,e){if(t.length===0&&_a.throwError("data too short",oe.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&_a.throwError("data short segment too short",oe.errors.BUFFER_OVERRUN,{});const n=UN(t,e+1,r);return e+1+r+n>t.length&&_a.throwError("data long segment too short",oe.errors.BUFFER_OVERRUN,{}),VN(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&_a.throwError("data array too short",oe.errors.BUFFER_OVERRUN,{}),VN(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&_a.throwError("data array too short",oe.errors.BUFFER_OVERRUN,{});const n=UN(t,e+1,r);e+1+r+n>t.length&&_a.throwError("data array too short",oe.errors.BUFFER_OVERRUN,{});const i=ut(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&_a.throwError("data too short",oe.errors.BUFFER_OVERRUN,{});const n=ut(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:ut(t[e])}}function mC(t){const e=Et(t),r=RM(e,0);return r.consumed!==e.length&&_a.throwArgumentError("invalid rlp data","data",t),r.result}const CU="address/5.8.0",gf=new oe(CU);function WN(t){Yt(t,20)||gf.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Et(qn(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const SU=9007199254740991;function EU(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const gC={};for(let t=0;t<10;t++)gC[String(t)]=String(t);for(let t=0;t<26;t++)gC[String.fromCharCode(65+t)]=String(10+t);const qN=Math.floor(EU(SU));function TU(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>gC[n]).join("");for(;e.length>=qN;){let n=e.substring(0,qN);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function Zn(t){let e=null;if(typeof t!="string"&&gf.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=WN(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&gf.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==TU(t)&&gf.throwArgumentError("bad icap checksum","address",t),e=aU(t.substring(4));e.length<40;)e="0"+e;e=WN("0x"+e)}else gf.throwArgumentError("invalid address","address",t);return e}function Tr(t){try{return Zn(t),!0}catch{}return!1}function IM(t){let e=null;try{e=Zn(t.from)}catch{gf.throwArgumentError("missing from address","transaction",t)}const r=Kf(Et(ue.from(t.nonce).toHexString()));return Zn(Ci(qn(Hx([e,r])),12))}class NU extends Tl{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=Zn(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return Zn(Qr(e.readValue().toHexString(),20))}}class AU extends Tl{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}const yf=new oe(tg);function MM(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(d=>{const f=d.localName;return f||yf.throwError("cannot encode object for signature with missing names",oe.errors.INVALID_ARGUMENT,{argument:"values",coder:d,value:r}),c[f]&&yf.throwError("cannot encode object for signature with duplicate names",oe.errors.INVALID_ARGUMENT,{argument:"values",coder:d,value:r}),c[f]=!0,r[f]})}else yf.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&yf.throwArgumentError("types/value length mismatch","tuple",r);let i=new xk(t.wordSize),s=new xk(t.wordSize),o=[];e.forEach((c,d)=>{let f=n[d];if(c.dynamic){let p=s.length;c.encode(s,f);let g=i.writeUpdatableValue();o.push(m=>{g(m+p)})}else c.encode(i,f)}),o.forEach(c=>{c(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function DM(t,e){let r=[],n=t.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readValue(),c=n.subReader(a.toNumber());try{o=s.decode(c)}catch(d){if(d.code===oe.errors.BUFFER_OVERRUN)throw d;o=d,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(a.code===oe.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&r.push(o)});const i=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),r[a]!=null))return;const c=r[o];c instanceof Error?Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw c}}):r[a]=c});for(let s=0;s<r.length;s++){const o=r[s];o instanceof Error&&Object.defineProperty(r,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(r)}class jU extends Tl{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",s=r===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),yf.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<r.length;s++)i.push(this.coder);return MM(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&yf.throwError("insufficient data length",oe.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new AU(this.coder));return e.coerce(this.name,DM(e,n))}}class PU extends Tl{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class OM extends Tl{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=Et(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class RU extends OM{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,ut(super.decode(e)))}}class IU extends Tl{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=Et(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,ut(e.readBytes(this.size)))}}class MU extends Tl{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const He="0x0000000000000000000000000000000000000000",DU=ue.from(-1),LM=ue.from(0),OU=ue.from(1),LU=ue.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),FU="0x0000000000000000000000000000000000000000000000000000000000000000";class zU extends Tl{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=ue.from(r),i=LU.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(OU).mul(DU)))&&this._throwError("value out-of-bounds",r)}else(n.lt(LM)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}const BU="strings/5.8.0",FM=new oe(BU);var gm;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(gm||(gm={}));var As;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(As||(As={}));function $U(t,e,r,n,i){return FM.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function zM(t,e,r,n,i){if(t===As.BAD_PREFIX||t===As.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===As.OVERRUN?r.length-e-1:0}function UU(t,e,r,n,i){return t===As.OVERLONG?(n.push(i),0):(n.push(65533),zM(t,e,r))}const VU=Object.freeze({error:$U,ignore:zM,replace:UU});function BM(t,e){e==null&&(e=VU.error),t=Et(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(As.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(As.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(As.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let d=t[n];if((d&192)!=128){n+=e(As.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|d&63,n++}if(a!==null){if(a>1114111){n+=e(As.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(As.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(As.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function Fa(t,e=gm.current){e!=gm.current&&(FM.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return Et(r)}function WU(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function rg(t,e){return WU(BM(t,e))}function qU(t,e=gm.current){return BM(Fa(t,e))}class HU extends OM{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Fa(r))}decode(e){return rg(super.decode(e))}}class Ey extends Tl{constructor(e,r){let n=!1;const i=[];e.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||r[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,r){return MM(e,this.coders,r)}decode(e){return e.coerce(this.name,DM(e,this.coders))}}const Ty=new oe(tg),GU=new RegExp(/^bytes([0-9]*)$/),KU=new RegExp(/^(u?int)([0-9]*)$/);class YU{constructor(e){ke(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new NU(e.name);case"bool":return new PU(e.name);case"string":return new HU(e.name);case"bytes":return new RU(e.name);case"array":return new jU(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Ey((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new MU(e.name)}let r=e.type.match(KU);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&Ty.throwArgumentError("invalid "+r[1]+" bit length","param",e),new zU(n/8,r[1]==="int",e.name)}if(r=e.type.match(GU),r){let n=parseInt(r[1]);return(n===0||n>32)&&Ty.throwArgumentError("invalid bytes length","param",e),new IU(n,e.name)}return Ty.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new ex(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new xk(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(Qn.from(i)));return new Ey(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&Ty.throwError("types/values length mismatch",oe.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(o=>this._getCoder(Qn.from(o))),i=new Ey(n,"_"),s=this._getWriter();return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(o=>this._getCoder(Qn.from(o)));return new Ey(i,"_").decode(this._getReader(Et(r),n))}}const JU=new YU;function xf(t){return qn(Fa(t))}const $M="hash/5.8.0";function UM(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Et(e)}function VM(t){t=Et(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function WM(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):r.push(a)})};return i(t,e),r}function XU(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function QU(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let B=1;B<n;B++)s.push(i+=r());let o=r(),a=e;e+=o;let c=0,d=0;function f(){return c==0&&(d=d<<8|t[e++],c=8),d>>--c&1}const p=31,g=Math.pow(2,p),m=g>>>1,v=m>>1,x=g-1;let w=0;for(let B=0;B<p;B++)w=w<<1|f();let E=[],P=0,R=g;for(;;){let B=Math.floor(((w-P+1)*i-1)/R),$=0,q=n;for(;q-$>1;){let K=$+q>>>1;B<s[K]?q=K:$=K}if($==0)break;E.push($);let G=P+Math.floor(R*s[$]/i),H=P+Math.floor(R*s[$+1]/i)-1;for(;((G^H)&m)==0;)w=w<<1&x|f(),G=G<<1&x,H=H<<1&x|1;for(;G&~H&v;)w=w&m|w<<1&x>>>1|f(),G=G<<1^m,H=(H^m)<<1|m|1;P=G,R=1+H-G}let S=n-4;return E.map(B=>{switch(B-S){case 3:return S+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return S+256+(t[a++]<<8|t[a++]);case 1:return S+t[a++];default:return B-1}})}function ZU(t){let e=0;return()=>t[e++]}function e7(t){return ZU(QU(t))}function t7(t){return t&1?~t>>1:t>>1}function r7(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function HN(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function n7(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=t7(e());return r}function tx(t,e){let r=HN(t(),t),n=t(),i=HN(n,t),s=r7(n,t);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)r.push(i[o]+a);return e?r.map(o=>e[o]):r}function i7(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(o7(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(a7(r,t))}return XU(WM(e))}function s7(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function qM(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)n7(t,r).forEach((s,o)=>n[o].push(s));return n}function o7(t,e){let r=1+e(),n=e(),i=s7(e),s=qM(i.length,1+t,e);return WM(s.map((o,a)=>{const c=o[0],d=o.slice(1);return Array(i[a]).fill(void 0).map((f,p)=>{let g=p*n;return[c+p*r,d.map(m=>m+g)]})}))}function a7(t,e){let r=1+e();return qM(r,1+t,e).map(i=>[i[0],i.slice(1)])}function l7(t){let e=tx(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let d=tx(t,e);if(d.length==0)break;n.push({set:new Set(d),node:r()})}n.sort((d,f)=>f.set.size-d.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,c=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:c}}}function c7(){return e7(UM("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const Gx=c7(),u7=new Set(tx(Gx)),d7=new Set(tx(Gx)),f7=i7(Gx),h7=l7(Gx),GN=45,KN=95;function HM(t){return qU(t)}function p7(t){return t.filter(e=>e!=65039)}function GM(t){for(let e of t.split(".")){let r=HM(e);try{for(let n=r.lastIndexOf(KN)-1;n>=0;n--)if(r[n]!==KN)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===GN&&r[3]===GN)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function m7(t){return GM(g7(t,p7))}function g7(t,e){let r=HM(t).reverse(),n=[];for(;r.length;){let i=x7(r);if(i){n.push(...e(i));continue}let s=r.pop();if(u7.has(s)){n.push(s);continue}if(d7.has(s))continue;let o=f7[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return GM(y7(String.fromCodePoint(...n)))}function y7(t){return t.normalize("NFC")}function x7(t,e){var r;let n=h7,i,s,o=[],a=t.length;for(;a;){let c=t[--a];if(n=(r=n.branches.find(d=>d.set.has(c)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=c;else if(n.check&&c===s)break;o.push(c),n.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),t.length=a)}return i}const v7=new oe($M),KM=new Uint8Array(32);KM.fill(0);function YN(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function YM(t){const e=Fa(m7(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(YN(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(YN(e.slice(n))),r}function E0(t){typeof t!="string"&&v7.throwArgumentError("invalid ENS name; not a string","name",t);let e=KM;const r=YM(t);for(;r.length;)e=qn(Bs([e,qn(r.pop())]));return ut(e)}function b7(t){return ut(Bs(YM(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}var w7=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const nn=new oe($M),JM=new Uint8Array(32);JM.fill(0);const k7=ue.from(-1),XM=ue.from(0),QM=ue.from(1),_7=ue.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function C7(t){const e=Et(t),r=e.length%32;return r?fs([e,JM.slice(r)]):ut(e)}const S7=Qr(QM.toHexString(),32),E7=Qr(XM.toHexString(),32),JN={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},_w=["name","version","chainId","verifyingContract","salt"];function XN(t){return function(e){return typeof e!="string"&&nn.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const T7={name:XN("name"),version:XN("version"),chainId:function(t){try{return ue.from(t).toString()}catch{}return nn.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Zn(t).toLowerCase()}catch{}return nn.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Et(t);if(e.length!==32)throw new Error("bad length");return ut(e)}catch{}return nn.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function Cw(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&nn.throwArgumentError("invalid numeric width","type",t);const i=_7.mask(r?n-1:n),s=r?i.add(QM).mul(k7):XM;return function(o){const a=ue.from(o);return(a.lt(s)||a.gt(i))&&nn.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),Qr(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&nn.throwArgumentError("invalid bytes width","type",t),function(n){return Et(n).length!==r&&nn.throwArgumentError(`invalid length for ${t}`,"value",n),C7(n)}}}switch(t){case"address":return function(e){return Qr(Zn(e),32)};case"bool":return function(e){return e?S7:E7};case"bytes":return function(e){return qn(e)};case"string":return function(e){return xf(e)}}return null}function QN(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class Es{constructor(e){ke(this,"types",Object.freeze(Ws(e))),ke(this,"_encoderCache",{}),ke(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(a=>{r[a]={},n[a]=[],i[a]={}});for(const a in e){const c={};e[a].forEach(d=>{c[d.name]&&nn.throwArgumentError(`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(a)}`,"types",e),c[d.name]=!0;const f=d.type.match(/^([^\x5b]*)(\x5b|$)/)[1];f===a&&nn.throwArgumentError(`circular type reference to ${JSON.stringify(f)}`,"types",e),!Cw(f)&&(n[f]||nn.throwArgumentError(`unknown type ${JSON.stringify(f)}`,"types",e),n[f].push(a),r[a][f]=!0)})}const s=Object.keys(n).filter(a=>n[a].length===0);s.length===0?nn.throwArgumentError("missing primary type","types",e):s.length>1&&nn.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),ke(this,"primaryType",s[0]);function o(a,c){c[a]&&nn.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),c[a]=!0,Object.keys(r[a]).forEach(d=>{n[d]&&(o(d,c),Object.keys(c).forEach(f=>{i[f][d]=!0}))}),delete c[a]}o(this.primaryType,{});for(const a in i){const c=Object.keys(i[a]);c.sort(),this._types[a]=QN(a,e[a])+c.map(d=>QN(d,e[d])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=Cw(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i),o=parseInt(r[3]);return a=>{o>=0&&a.length!==o&&nn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let c=a.map(s);return this._types[i]&&(c=c.map(qn)),qn(fs(c))}}const n=this.types[e];if(n){const i=xf(this._types[e]);return s=>{const o=n.map(({name:a,type:c})=>{const d=this.getEncoder(c)(s[a]);return this._types[c]?qn(d):d});return o.unshift(i),fs(o)}}return nn.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||nn.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return qn(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(Cw(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&nn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(c=>this._visit(o,c,n))}const s=this.types[e];return s?s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,r[a],n),o),{}):nn.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Es(e)}static getPrimaryType(e){return Es.from(e).primaryType}static hashStruct(e,r,n){return Es.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=JN[n];i||nn.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>_w.indexOf(n.name)-_w.indexOf(i.name)),Es.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return fs(["0x1901",Es.hashDomain(e),Es.from(r).hash(n)])}static hash(e,r,n){return qn(Es.encode(e,r,n))}static resolveNames(e,r,n,i){return w7(this,void 0,void 0,function*(){e=Jr(e);const s={};e.verifyingContract&&!Yt(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=Es.from(r);o.visit(n,(a,c)=>(a==="address"&&!Yt(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:n}})}static getPayload(e,r,n){Es.hashDomain(e);const i={},s=[];_w.forEach(c=>{const d=e[c];d!=null&&(i[c]=T7[c](d),s.push({name:c,type:JN[c]}))});const o=Es.from(r),a=Jr(r);return a.EIP712Domain?nn.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(c,d)=>{if(c.match(/^bytes(\d*)/))return ut(Et(d));if(c.match(/^u?int/))return ue.from(d).toString();switch(c){case"address":return d.toLowerCase();case"bool":return!!d;case"string":return typeof d!="string"&&nn.throwArgumentError("invalid string","value",d),d}return nn.throwArgumentError("unsupported type","type",c)})}}}const rn=new oe(tg);class N7 extends eg{}class A7 extends eg{}class j7 extends eg{}class vk extends eg{static isIndexed(e){return!!(e&&e._isIndexed)}}const P7={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function ZN(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class bk{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,ke(this,"fragments",r.map(n=>pl.from(n)).filter(n=>n!=null)),ke(this,"_abiCoder",$s(new.target,"getAbiCoder")()),ke(this,"functions",{}),ke(this,"errors",{}),ke(this,"events",{}),ke(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){rn.warn("duplicate definition - constructor");return}ke(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){rn.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||ke(this,"deploy",Na.from({payable:!1,type:"constructor"})),ke(this,"_isInterface",!0)}format(e){e||(e=wr.full),e===wr.sighash&&rn.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===wr.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return JU}static getAddress(e){return Zn(e)}static getSighash(e){return Ci(xf(e.format()),0,4)}static getEventTopic(e){return xf(e.format())}getFunction(e){if(Yt(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];rn.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?rn.throwArgumentError("no matching function","name",n):i.length>1&&rn.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[Aa.fromString(e).format()];return r||rn.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(Yt(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];rn.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?rn.throwArgumentError("no matching event","name",n):i.length>1&&rn.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[fl.fromString(e).format()];return r||rn.throwArgumentError("no matching event","signature",e),r}getError(e){if(Yt(e)){const n=$s(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}rn.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?rn.throwArgumentError("no matching error","name",n):i.length>1&&rn.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[Aa.fromString(e).format()];return r||rn.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return $s(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),$s(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=Et(r);return ut(n.slice(0,4))!==this.getSighash(e)&&rn.throwArgumentError(`data signature does not match error ${e.name}.`,"data",ut(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),ut(Bs([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=Et(r);return ut(n.slice(0,4))!==this.getSighash(e)&&rn.throwArgumentError(`data signature does not match function ${e.name}.`,"data",ut(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),ut(Bs([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=Et(r),i=null,s="",o=null,a=null,c=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const d=ut(n.slice(0,4)),f=P7[d];if(f)o=this._abiCoder.decode(f.inputs,n.slice(4)),a=f.name,c=f.signature,f.reason&&(i=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const p=this.getError(d);o=this._abiCoder.decode(p.inputs,n.slice(4)),a=p.name,c=p.format()}catch{}break}}return rn.throwError("call revert exception"+s,oe.errors.CALL_EXCEPTION,{method:e.format(),data:ut(r),errorArgs:o,errorName:a,errorSignature:c,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),ut(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&rn.throwError("too many arguments for "+e.format(),oe.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?xf(o):s.type==="bytes"?qn(ut(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=ue.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),Qr(ut(o),32));for(r.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&rn.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?rn.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(c=>i(a,c))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&rn.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((o,a)=>{const c=r[a];if(o.indexed)if(o.type==="string")n.push(xf(c));else if(o.type==="bytes")n.push(qn(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[c]))}else i.push(o),s.push(c)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let g=this.getEventTopic(e);(!Yt(n[0],32)||n[0].toLowerCase()!==g)&&rn.throwError("fragment/topic mismatch",oe.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:g,value:n[0]}),n=n.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((g,m)=>{g.indexed?g.type==="string"||g.type==="bytes"||g.baseType==="tuple"||g.baseType==="array"?(i.push(Qn.fromObject({type:"bytes32",name:g.name})),o.push(!0)):(i.push(g),o.push(!1)):(s.push(g),o.push(!1))});let a=n!=null?this._abiCoder.decode(i,Bs(n)):null,c=this._abiCoder.decode(s,r,!0),d=[],f=0,p=0;e.inputs.forEach((g,m)=>{if(g.indexed)if(a==null)d[m]=new vk({_isIndexed:!0,hash:null});else if(o[m])d[m]=new vk({_isIndexed:!0,hash:a[p++]});else try{d[m]=a[p++]}catch(v){d[m]=v}else try{d[m]=c[f++]}catch(v){d[m]=v}if(g.name&&d[g.name]==null){const v=d[m];v instanceof Error?Object.defineProperty(d,g.name,{enumerable:!0,get:()=>{throw ZN(`property ${JSON.stringify(g.name)}`,v)}}):d[g.name]=v}});for(let g=0;g<d.length;g++){const m=d[g];m instanceof Error&&Object.defineProperty(d,g,{enumerable:!0,get:()=>{throw ZN(`index ${g}`,m)}})}return Object.freeze(d)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new A7({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:ue.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new N7({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=ut(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new j7({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const R7="abstract-provider/5.8.0";var I7=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const M7=new oe(R7);class D7 extends eg{static isForkEvent(e){return!!(e&&e._isForkEvent)}}let yC=class ZM{constructor(){M7.checkAbstract(new.target,ZM),ke(this,"_isProvider",!0)}getFeeData(){return I7(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield Rn({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=ue.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}};const O7="abstract-signer/5.8.0";var Lo=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const oo=new oe(O7),L7=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],F7=[oe.errors.INSUFFICIENT_FUNDS,oe.errors.NONCE_EXPIRED,oe.errors.REPLACEMENT_UNDERPRICED];class ng{constructor(){oo.checkAbstract(new.target,ng),ke(this,"_isSigner",!0)}getBalance(e){return Lo(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Lo(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Lo(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield Rn(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return Lo(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield Rn(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return Lo(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return Lo(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Lo(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Lo(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Lo(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)L7.indexOf(n)===-1&&oo.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=Jr(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&oo.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return Lo(this,void 0,void 0,function*(){const r=yield Rn(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>Lo(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&oo.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?oo.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&oo.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&oo.throwError("network does not support EIP-1559",oe.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):oo.throwError("failed to get consistent fee data",oe.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(F7.indexOf(i.code)>=0)throw i;return oo.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",oe.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&oo.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield Rn(r)})}_checkProvider(e){this.provider||oo.throwError("missing provider",oe.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class xC extends ng{constructor(e,r){super(),ke(this,"address",e),ke(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{oo.throwError(e,oe.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new xC(this.address,e)}}var Sw={},Ar={},Ew,eA;function ig(){if(eA)return Ew;eA=1,Ew=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},Ew}var Ny={exports:{}},tA;function z7(){return tA||(tA=1,typeof Object.create=="function"?Ny.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Ny.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),Ny.exports}var rA;function Va(){if(rA)return Ar;rA=1;var t=ig(),e=z7();Ar.inherits=e;function r(W,F){return(W.charCodeAt(F)&64512)!==55296||F<0||F+1>=W.length?!1:(W.charCodeAt(F+1)&64512)===56320}function n(W,F){if(Array.isArray(W))return W.slice();if(!W)return[];var b=[];if(typeof W=="string")if(F){if(F==="hex")for(W=W.replace(/[^a-z0-9]+/ig,""),W.length%2!==0&&(W="0"+W),D=0;D<W.length;D+=2)b.push(parseInt(W[D]+W[D+1],16))}else for(var A=0,D=0;D<W.length;D++){var j=W.charCodeAt(D);j<128?b[A++]=j:j<2048?(b[A++]=j>>6|192,b[A++]=j&63|128):r(W,D)?(j=65536+((j&1023)<<10)+(W.charCodeAt(++D)&1023),b[A++]=j>>18|240,b[A++]=j>>12&63|128,b[A++]=j>>6&63|128,b[A++]=j&63|128):(b[A++]=j>>12|224,b[A++]=j>>6&63|128,b[A++]=j&63|128)}else for(D=0;D<W.length;D++)b[D]=W[D]|0;return b}Ar.toArray=n;function i(W){for(var F="",b=0;b<W.length;b++)F+=a(W[b].toString(16));return F}Ar.toHex=i;function s(W){var F=W>>>24|W>>>8&65280|W<<8&16711680|(W&255)<<24;return F>>>0}Ar.htonl=s;function o(W,F){for(var b="",A=0;A<W.length;A++){var D=W[A];F==="little"&&(D=s(D)),b+=c(D.toString(16))}return b}Ar.toHex32=o;function a(W){return W.length===1?"0"+W:W}Ar.zero2=a;function c(W){return W.length===7?"0"+W:W.length===6?"00"+W:W.length===5?"000"+W:W.length===4?"0000"+W:W.length===3?"00000"+W:W.length===2?"000000"+W:W.length===1?"0000000"+W:W}Ar.zero8=c;function d(W,F,b,A){var D=b-F;t(D%4===0);for(var j=new Array(D/4),k=0,M=F;k<j.length;k++,M+=4){var T;A==="big"?T=W[M]<<24|W[M+1]<<16|W[M+2]<<8|W[M+3]:T=W[M+3]<<24|W[M+2]<<16|W[M+1]<<8|W[M],j[k]=T>>>0}return j}Ar.join32=d;function f(W,F){for(var b=new Array(W.length*4),A=0,D=0;A<W.length;A++,D+=4){var j=W[A];F==="big"?(b[D]=j>>>24,b[D+1]=j>>>16&255,b[D+2]=j>>>8&255,b[D+3]=j&255):(b[D+3]=j>>>24,b[D+2]=j>>>16&255,b[D+1]=j>>>8&255,b[D]=j&255)}return b}Ar.split32=f;function p(W,F){return W>>>F|W<<32-F}Ar.rotr32=p;function g(W,F){return W<<F|W>>>32-F}Ar.rotl32=g;function m(W,F){return W+F>>>0}Ar.sum32=m;function v(W,F,b){return W+F+b>>>0}Ar.sum32_3=v;function x(W,F,b,A){return W+F+b+A>>>0}Ar.sum32_4=x;function w(W,F,b,A,D){return W+F+b+A+D>>>0}Ar.sum32_5=w;function E(W,F,b,A){var D=W[F],j=W[F+1],k=A+j>>>0,M=(k<A?1:0)+b+D;W[F]=M>>>0,W[F+1]=k}Ar.sum64=E;function P(W,F,b,A){var D=F+A>>>0,j=(D<F?1:0)+W+b;return j>>>0}Ar.sum64_hi=P;function R(W,F,b,A){var D=F+A;return D>>>0}Ar.sum64_lo=R;function S(W,F,b,A,D,j,k,M){var T=0,O=F;O=O+A>>>0,T+=O<F?1:0,O=O+j>>>0,T+=O<j?1:0,O=O+M>>>0,T+=O<M?1:0;var N=W+b+D+k+T;return N>>>0}Ar.sum64_4_hi=S;function B(W,F,b,A,D,j,k,M){var T=F+A+j+M;return T>>>0}Ar.sum64_4_lo=B;function $(W,F,b,A,D,j,k,M,T,O){var N=0,I=F;I=I+A>>>0,N+=I<F?1:0,I=I+j>>>0,N+=I<j?1:0,I=I+M>>>0,N+=I<M?1:0,I=I+O>>>0,N+=I<O?1:0;var Q=W+b+D+k+T+N;return Q>>>0}Ar.sum64_5_hi=$;function q(W,F,b,A,D,j,k,M,T,O){var N=F+A+j+M+O;return N>>>0}Ar.sum64_5_lo=q;function G(W,F,b){var A=F<<32-b|W>>>b;return A>>>0}Ar.rotr64_hi=G;function H(W,F,b){var A=W<<32-b|F>>>b;return A>>>0}Ar.rotr64_lo=H;function K(W,F,b){return W>>>b}Ar.shr64_hi=K;function J(W,F,b){var A=W<<32-b|F>>>b;return A>>>0}return Ar.shr64_lo=J,Ar}var Tw={},nA;function sg(){if(nA)return Tw;nA=1;var t=Va(),e=ig();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return Tw.BlockHash=r,r.prototype.update=function(i,s){if(i=t.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var o=i.length%this._delta8;this.pending=i.slice(i.length-o,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-o,this.endian);for(var a=0;a<i.length;a+=this._delta32)this._update(i,a,a+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,o=s-(i+this.padLength)%s,a=new Array(o+this.padLength);a[0]=128;for(var c=1;c<o;c++)a[c]=0;if(i<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)a[c++]=0;a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=i>>>24&255,a[c++]=i>>>16&255,a[c++]=i>>>8&255,a[c++]=i&255}else for(a[c++]=i&255,a[c++]=i>>>8&255,a[c++]=i>>>16&255,a[c++]=i>>>24&255,a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=0,d=8;d<this.padLength;d++)a[c++]=0;return a},Tw}var du={},ya={},iA;function e4(){if(iA)return ya;iA=1;var t=Va(),e=t.rotr32;function r(f,p,g,m){if(f===0)return n(p,g,m);if(f===1||f===3)return s(p,g,m);if(f===2)return i(p,g,m)}ya.ft_1=r;function n(f,p,g){return f&p^~f&g}ya.ch32=n;function i(f,p,g){return f&p^f&g^p&g}ya.maj32=i;function s(f,p,g){return f^p^g}ya.p32=s;function o(f){return e(f,2)^e(f,13)^e(f,22)}ya.s0_256=o;function a(f){return e(f,6)^e(f,11)^e(f,25)}ya.s1_256=a;function c(f){return e(f,7)^e(f,18)^f>>>3}ya.g0_256=c;function d(f){return e(f,17)^e(f,19)^f>>>10}return ya.g1_256=d,ya}var Nw,sA;function B7(){if(sA)return Nw;sA=1;var t=Va(),e=sg(),r=e4(),n=t.rotl32,i=t.sum32,s=t.sum32_5,o=r.ft_1,a=e.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(d,a),Nw=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(p,g){for(var m=this.W,v=0;v<16;v++)m[v]=p[g+v];for(;v<m.length;v++)m[v]=n(m[v-3]^m[v-8]^m[v-14]^m[v-16],1);var x=this.h[0],w=this.h[1],E=this.h[2],P=this.h[3],R=this.h[4];for(v=0;v<m.length;v++){var S=~~(v/20),B=s(n(x,5),o(S,w,E,P),R,m[v],c[S]);R=P,P=E,E=n(w,30),w=x,x=B}this.h[0]=i(this.h[0],x),this.h[1]=i(this.h[1],w),this.h[2]=i(this.h[2],E),this.h[3]=i(this.h[3],P),this.h[4]=i(this.h[4],R)},d.prototype._digest=function(p){return p==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},Nw}var Aw,oA;function t4(){if(oA)return Aw;oA=1;var t=Va(),e=sg(),r=e4(),n=ig(),i=t.sum32,s=t.sum32_4,o=t.sum32_5,a=r.ch32,c=r.maj32,d=r.s0_256,f=r.s1_256,p=r.g0_256,g=r.g1_256,m=e.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function x(){if(!(this instanceof x))return new x;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}return t.inherits(x,m),Aw=x,x.blockSize=512,x.outSize=256,x.hmacStrength=192,x.padLength=64,x.prototype._update=function(E,P){for(var R=this.W,S=0;S<16;S++)R[S]=E[P+S];for(;S<R.length;S++)R[S]=s(g(R[S-2]),R[S-7],p(R[S-15]),R[S-16]);var B=this.h[0],$=this.h[1],q=this.h[2],G=this.h[3],H=this.h[4],K=this.h[5],J=this.h[6],W=this.h[7];for(n(this.k.length===R.length),S=0;S<R.length;S++){var F=o(W,f(H),a(H,K,J),this.k[S],R[S]),b=i(d(B),c(B,$,q));W=J,J=K,K=H,H=i(G,F),G=q,q=$,$=B,B=i(F,b)}this.h[0]=i(this.h[0],B),this.h[1]=i(this.h[1],$),this.h[2]=i(this.h[2],q),this.h[3]=i(this.h[3],G),this.h[4]=i(this.h[4],H),this.h[5]=i(this.h[5],K),this.h[6]=i(this.h[6],J),this.h[7]=i(this.h[7],W)},x.prototype._digest=function(E){return E==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},Aw}var jw,aA;function $7(){if(aA)return jw;aA=1;var t=Va(),e=t4();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),jw=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},jw}var Pw,lA;function r4(){if(lA)return Pw;lA=1;var t=Va(),e=sg(),r=ig(),n=t.rotr64_hi,i=t.rotr64_lo,s=t.shr64_hi,o=t.shr64_lo,a=t.sum64,c=t.sum64_hi,d=t.sum64_lo,f=t.sum64_4_hi,p=t.sum64_4_lo,g=t.sum64_5_hi,m=t.sum64_5_lo,v=e.BlockHash,x=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function w(){if(!(this instanceof w))return new w;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=x,this.W=new Array(160)}t.inherits(w,v),Pw=w,w.blockSize=1024,w.outSize=512,w.hmacStrength=192,w.padLength=128,w.prototype._prepareBlock=function(b,A){for(var D=this.W,j=0;j<32;j++)D[j]=b[A+j];for(;j<D.length;j+=2){var k=J(D[j-4],D[j-3]),M=W(D[j-4],D[j-3]),T=D[j-14],O=D[j-13],N=H(D[j-30],D[j-29]),I=K(D[j-30],D[j-29]),Q=D[j-32],z=D[j-31];D[j]=f(k,M,T,O,N,I,Q,z),D[j+1]=p(k,M,T,O,N,I,Q,z)}},w.prototype._update=function(b,A){this._prepareBlock(b,A);var D=this.W,j=this.h[0],k=this.h[1],M=this.h[2],T=this.h[3],O=this.h[4],N=this.h[5],I=this.h[6],Q=this.h[7],z=this.h[8],V=this.h[9],Y=this.h[10],Z=this.h[11],ee=this.h[12],ae=this.h[13],ne=this.h[14],de=this.h[15];r(this.k.length===D.length);for(var xe=0;xe<D.length;xe+=2){var me=ne,Ce=de,ct=q(z,V),le=G(z,V),Ye=E(z,V,Y,Z,ee),jt=P(z,V,Y,Z,ee,ae),it=this.k[xe],De=this.k[xe+1],Jt=D[xe],st=D[xe+1],ft=g(me,Ce,ct,le,Ye,jt,it,De,Jt,st),Ie=m(me,Ce,ct,le,Ye,jt,it,De,Jt,st);me=B(j,k),Ce=$(j,k),ct=R(j,k,M,T,O),le=S(j,k,M,T,O,N);var se=c(me,Ce,ct,le),he=d(me,Ce,ct,le);ne=ee,de=ae,ee=Y,ae=Z,Y=z,Z=V,z=c(I,Q,ft,Ie),V=d(Q,Q,ft,Ie),I=O,Q=N,O=M,N=T,M=j,T=k,j=c(ft,Ie,se,he),k=d(ft,Ie,se,he)}a(this.h,0,j,k),a(this.h,2,M,T),a(this.h,4,O,N),a(this.h,6,I,Q),a(this.h,8,z,V),a(this.h,10,Y,Z),a(this.h,12,ee,ae),a(this.h,14,ne,de)},w.prototype._digest=function(b){return b==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function E(F,b,A,D,j){var k=F&A^~F&j;return k<0&&(k+=4294967296),k}function P(F,b,A,D,j,k){var M=b&D^~b&k;return M<0&&(M+=4294967296),M}function R(F,b,A,D,j){var k=F&A^F&j^A&j;return k<0&&(k+=4294967296),k}function S(F,b,A,D,j,k){var M=b&D^b&k^D&k;return M<0&&(M+=4294967296),M}function B(F,b){var A=n(F,b,28),D=n(b,F,2),j=n(b,F,7),k=A^D^j;return k<0&&(k+=4294967296),k}function $(F,b){var A=i(F,b,28),D=i(b,F,2),j=i(b,F,7),k=A^D^j;return k<0&&(k+=4294967296),k}function q(F,b){var A=n(F,b,14),D=n(F,b,18),j=n(b,F,9),k=A^D^j;return k<0&&(k+=4294967296),k}function G(F,b){var A=i(F,b,14),D=i(F,b,18),j=i(b,F,9),k=A^D^j;return k<0&&(k+=4294967296),k}function H(F,b){var A=n(F,b,1),D=n(F,b,8),j=s(F,b,7),k=A^D^j;return k<0&&(k+=4294967296),k}function K(F,b){var A=i(F,b,1),D=i(F,b,8),j=o(F,b,7),k=A^D^j;return k<0&&(k+=4294967296),k}function J(F,b){var A=n(F,b,19),D=n(b,F,29),j=s(F,b,6),k=A^D^j;return k<0&&(k+=4294967296),k}function W(F,b){var A=i(F,b,19),D=i(b,F,29),j=o(F,b,6),k=A^D^j;return k<0&&(k+=4294967296),k}return Pw}var Rw,cA;function U7(){if(cA)return Rw;cA=1;var t=Va(),e=r4();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),Rw=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},Rw}var uA;function V7(){return uA||(uA=1,du.sha1=B7(),du.sha224=$7(),du.sha256=t4(),du.sha384=U7(),du.sha512=r4()),du}var Iw={},dA;function W7(){if(dA)return Iw;dA=1;var t=Va(),e=sg(),r=t.rotl32,n=t.sum32,i=t.sum32_3,s=t.sum32_4,o=e.BlockHash;function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(a,o),Iw.ripemd160=a,a.blockSize=512,a.outSize=160,a.hmacStrength=192,a.padLength=64,a.prototype._update=function(w,E){for(var P=this.h[0],R=this.h[1],S=this.h[2],B=this.h[3],$=this.h[4],q=P,G=R,H=S,K=B,J=$,W=0;W<80;W++){var F=n(r(s(P,c(W,R,S,B),w[p[W]+E],d(W)),m[W]),$);P=$,$=B,B=r(S,10),S=R,R=F,F=n(r(s(q,c(79-W,G,H,K),w[g[W]+E],f(W)),v[W]),J),q=J,J=K,K=r(H,10),H=G,G=F}F=i(this.h[1],S,K),this.h[1]=i(this.h[2],B,J),this.h[2]=i(this.h[3],$,q),this.h[3]=i(this.h[4],P,G),this.h[4]=i(this.h[0],R,H),this.h[0]=F},a.prototype._digest=function(w){return w==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function c(x,w,E,P){return x<=15?w^E^P:x<=31?w&E|~w&P:x<=47?(w|~E)^P:x<=63?w&P|E&~P:w^(E|~P)}function d(x){return x<=15?0:x<=31?1518500249:x<=47?1859775393:x<=63?2400959708:2840853838}function f(x){return x<=15?1352829926:x<=31?1548603684:x<=47?1836072691:x<=63?2053994217:0}var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return Iw}var Mw,fA;function q7(){if(fA)return Mw;fA=1;var t=Va(),e=ig();function r(n,i,s){if(!(this instanceof r))return new r(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,s))}return Mw=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,s){return this.inner.update(i,s),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},Mw}var hA;function H7(){return hA||(hA=1,function(t){var e=t;e.utils=Va(),e.common=sg(),e.sha=V7(),e.ripemd=W7(),e.hmac=q7(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(Sw)),Sw}var G7=H7();const wa=El(G7);function mh(t,e,r){return r={path:e,exports:{},require:function(n,i){return K7(n,i??r.path)}},t(r,r.exports),r.exports}function K7(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var vC=n4;function n4(t,e){if(!t)throw new Error(e||"Assertion failed")}n4.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Qo=mh(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var d=0;d<o.length;d++)c[d]=o[d]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var d=0;d<o.length;d+=2)c.push(parseInt(o[d]+o[d+1],16))}else for(var d=0;d<o.length;d++){var f=o.charCodeAt(d),p=f>>8,g=f&255;p?c.push(p,g):c.push(g)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),Xs=mh(function(t,e){var r=e;r.assert=vC,r.toArray=Qo.toArray,r.zero2=Qo.zero2,r.toHex=Qo.toHex,r.encode=Qo.encode;function n(c,d,f){var p=new Array(Math.max(c.bitLength(),f)+1),g;for(g=0;g<p.length;g+=1)p[g]=0;var m=1<<d+1,v=c.clone();for(g=0;g<p.length;g++){var x,w=v.andln(m-1);v.isOdd()?(w>(m>>1)-1?x=(m>>1)-w:x=w,v.isubn(x)):x=0,p[g]=x,v.iushrn(1)}return p}r.getNAF=n;function i(c,d){var f=[[],[]];c=c.clone(),d=d.clone();for(var p=0,g=0,m;c.cmpn(-p)>0||d.cmpn(-g)>0;){var v=c.andln(3)+p&3,x=d.andln(3)+g&3;v===3&&(v=-1),x===3&&(x=-1);var w;(v&1)===0?w=0:(m=c.andln(7)+p&7,(m===3||m===5)&&x===2?w=-v:w=v),f[0].push(w);var E;(x&1)===0?E=0:(m=d.andln(7)+g&7,(m===3||m===5)&&v===2?E=-x:E=x),f[1].push(E),2*p===w+1&&(p=1-p),2*g===E+1&&(g=1-g),c.iushrn(1),d.iushrn(1)}return f}r.getJSF=i;function s(c,d,f){var p="_"+d;c.prototype[d]=function(){return this[p]!==void 0?this[p]:this[p]=f.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new Mt(c,"hex","le")}r.intFromLE=a}),rx=Xs.getNAF,Y7=Xs.getJSF,nx=Xs.assert;function Mc(t,e){this.type=t,this.p=new Mt(e.p,16),this.red=e.prime?Mt.red(e.prime):Mt.mont(this.p),this.zero=new Mt(0).toRed(this.red),this.one=new Mt(1).toRed(this.red),this.two=new Mt(2).toRed(this.red),this.n=e.n&&new Mt(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var pd=Mc;Mc.prototype.point=function(){throw new Error("Not implemented")};Mc.prototype.validate=function(){throw new Error("Not implemented")};Mc.prototype._fixedNafMul=function(e,r){nx(e.precomputed);var n=e._getDoubles(),i=rx(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var d=a+n.step-1;d>=a;d--)c=(c<<1)+i[d];o.push(c)}for(var f=this.jpoint(null,null,null),p=this.jpoint(null,null,null),g=s;g>0;g--){for(a=0;a<o.length;a++)c=o[a],c===g?p=p.mixedAdd(n.points[a]):c===-g&&(p=p.mixedAdd(n.points[a].neg()));f=f.add(p)}return f.toP()};Mc.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=rx(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var d=0;c>=0&&o[c]===0;c--)d++;if(c>=0&&d++,a=a.dblp(d),c<0)break;var f=o[c];nx(f!==0),e.type==="affine"?f>0?a=a.mixedAdd(s[f-1>>1]):a=a.mixedAdd(s[-f-1>>1].neg()):f>0?a=a.add(s[f-1>>1]):a=a.add(s[-f-1>>1].neg())}return e.type==="affine"?a.toP():a};Mc.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,d=0,f,p,g;for(f=0;f<i;f++){g=r[f];var m=g._getNAFPoints(e);o[f]=m.wnd,a[f]=m.points}for(f=i-1;f>=1;f-=2){var v=f-1,x=f;if(o[v]!==1||o[x]!==1){c[v]=rx(n[v],o[v],this._bitLength),c[x]=rx(n[x],o[x],this._bitLength),d=Math.max(c[v].length,d),d=Math.max(c[x].length,d);continue}var w=[r[v],null,null,r[x]];r[v].y.cmp(r[x].y)===0?(w[1]=r[v].add(r[x]),w[2]=r[v].toJ().mixedAdd(r[x].neg())):r[v].y.cmp(r[x].y.redNeg())===0?(w[1]=r[v].toJ().mixedAdd(r[x]),w[2]=r[v].add(r[x].neg())):(w[1]=r[v].toJ().mixedAdd(r[x]),w[2]=r[v].toJ().mixedAdd(r[x].neg()));var E=[-3,-1,-5,-7,0,7,5,1,3],P=Y7(n[v],n[x]);for(d=Math.max(P[0].length,d),c[v]=new Array(d),c[x]=new Array(d),p=0;p<d;p++){var R=P[0][p]|0,S=P[1][p]|0;c[v][p]=E[(R+1)*3+(S+1)],c[x][p]=0,a[v]=w}}var B=this.jpoint(null,null,null),$=this._wnafT4;for(f=d;f>=0;f--){for(var q=0;f>=0;){var G=!0;for(p=0;p<i;p++)$[p]=c[p][f]|0,$[p]!==0&&(G=!1);if(!G)break;q++,f--}if(f>=0&&q++,B=B.dblp(q),f<0)break;for(p=0;p<i;p++){var H=$[p];H!==0&&(H>0?g=a[p][H-1>>1]:H<0&&(g=a[p][-H-1>>1].neg()),g.type==="affine"?B=B.mixedAdd(g):B=B.add(g))}}for(f=0;f<i;f++)a[f]=null;return s?B:B.toP()};function _o(t,e){this.curve=t,this.type=e,this.precomputed=null}Mc.BasePoint=_o;_o.prototype.eq=function(){throw new Error("Not implemented")};_o.prototype.validate=function(){return this.curve.validate(this)};Mc.prototype.decodePoint=function(e,r){e=Xs.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?nx(e[e.length-1]%2===0):e[0]===7&&nx(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};_o.prototype.encodeCompressed=function(e){return this.encode(e,!0)};_o.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};_o.prototype.encode=function(e,r){return Xs.encode(this._encode(r),e)};_o.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};_o.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};_o.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};_o.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};_o.prototype._getBeta=function(){return null};_o.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var bC=mh(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),J7=Xs.assert;function Co(t){pd.call(this,"short",t),this.a=new Mt(t.a,16).toRed(this.red),this.b=new Mt(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}bC(Co,pd);var X7=Co;Co.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Mt(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Mt(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],J7(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new Mt(a.a,16),b:new Mt(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Co.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Mt.mont(e),n=new Mt(2).toRed(r).redInvm(),i=n.redNeg(),s=new Mt(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Co.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new Mt(1),o=new Mt(0),a=new Mt(0),c=new Mt(1),d,f,p,g,m,v,x,w=0,E,P;n.cmpn(0)!==0;){var R=i.div(n);E=i.sub(R.mul(n)),P=a.sub(R.mul(s));var S=c.sub(R.mul(o));if(!p&&E.cmp(r)<0)d=x.neg(),f=s,p=E.neg(),g=P;else if(p&&++w===2)break;x=E,i=n,n=E,a=s,s=P,c=o,o=S}m=E.neg(),v=P;var B=p.sqr().add(g.sqr()),$=m.sqr().add(v.sqr());return $.cmp(B)>=0&&(m=d,v=f),p.negative&&(p=p.neg(),g=g.neg()),m.negative&&(m=m.neg(),v=v.neg()),[{a:p,b:g},{a:m,b:v}]};Co.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),d=s.mul(n.b),f=o.mul(i.b),p=e.sub(a).sub(c),g=d.add(f).neg();return{k1:p,k2:g}};Co.prototype.pointFromX=function(e,r){e=new Mt(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};Co.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Co.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],d=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),d=d.neg(!0)),i[o*2]=c,i[o*2+1]=d,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var f=this._wnafMulAdd(1,i,s,o*2,n),p=0;p<o*2;p++)i[p]=null,s[p]=null;return f};function ti(t,e,r,n){pd.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Mt(e,16),this.y=new Mt(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}bC(ti,pd.BasePoint);Co.prototype.point=function(e,r,n){return new ti(this,e,r,n)};Co.prototype.pointFromJSON=function(e,r){return ti.fromJSON(this,e,r)};ti.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};ti.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};ti.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};ti.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};ti.prototype.isInfinity=function(){return this.inf};ti.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};ti.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};ti.prototype.getX=function(){return this.x.fromRed()};ti.prototype.getY=function(){return this.y.fromRed()};ti.prototype.mul=function(e){return e=new Mt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};ti.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};ti.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};ti.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};ti.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};ti.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function di(t,e,r,n){pd.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Mt(0)):(this.x=new Mt(e,16),this.y=new Mt(r,16),this.z=new Mt(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}bC(di,pd.BasePoint);Co.prototype.jpoint=function(e,r,n){return new di(this,e,r,n)};di.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};di.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};di.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),d=o.redSub(a);if(c.cmpn(0)===0)return d.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=c.redSqr(),p=f.redMul(c),g=i.redMul(f),m=d.redSqr().redIAdd(p).redISub(g).redISub(g),v=d.redMul(g.redISub(m)).redISub(o.redMul(p)),x=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(m,v,x)};di.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=a.redSqr(),f=d.redMul(a),p=n.redMul(d),g=c.redSqr().redIAdd(f).redISub(p).redISub(p),m=c.redMul(p.redISub(g)).redISub(s.redMul(f)),v=this.z.redMul(a);return this.curve.jpoint(g,m,v)};di.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,d=c.redSqr().redSqr(),f=a.redAdd(a);for(r=0;r<e;r++){var p=o.redSqr(),g=f.redSqr(),m=g.redSqr(),v=p.redAdd(p).redIAdd(p).redIAdd(i.redMul(d)),x=o.redMul(g),w=v.redSqr().redISub(x.redAdd(x)),E=x.redISub(w),P=v.redMul(E);P=P.redIAdd(P).redISub(m);var R=f.redMul(c);r+1<e&&(d=d.redMul(m)),o=w,c=R,f=P}return this.curve.jpoint(o,f.redMul(s),c)};di.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};di.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),d=c.redSqr().redISub(a).redISub(a),f=o.redIAdd(o);f=f.redIAdd(f),f=f.redIAdd(f),e=d,r=c.redMul(a.redISub(d)).redISub(f),n=this.y.redAdd(this.y)}else{var p=this.x.redSqr(),g=this.y.redSqr(),m=g.redSqr(),v=this.x.redAdd(g).redSqr().redISub(p).redISub(m);v=v.redIAdd(v);var x=p.redAdd(p).redIAdd(p),w=x.redSqr(),E=m.redIAdd(m);E=E.redIAdd(E),E=E.redIAdd(E),e=w.redISub(v).redISub(v),r=x.redMul(v.redISub(e)).redISub(E),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};di.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),d=c.redSqr().redISub(a).redISub(a);e=d;var f=o.redIAdd(o);f=f.redIAdd(f),f=f.redIAdd(f),r=c.redMul(a.redISub(d)).redISub(f),n=this.y.redAdd(this.y)}else{var p=this.z.redSqr(),g=this.y.redSqr(),m=this.x.redMul(g),v=this.x.redSub(p).redMul(this.x.redAdd(p));v=v.redAdd(v).redIAdd(v);var x=m.redIAdd(m);x=x.redIAdd(x);var w=x.redAdd(x);e=v.redSqr().redISub(w),n=this.y.redAdd(this.z).redSqr().redISub(g).redISub(p);var E=g.redSqr();E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E),r=v.redMul(x.redISub(e)).redISub(E)}return this.curve.jpoint(e,r,n)};di.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),d=r.redAdd(r);d=d.redIAdd(d);var f=d.redMul(a),p=c.redSqr().redISub(f.redAdd(f)),g=f.redISub(p),m=a.redSqr();m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var v=c.redMul(g).redISub(m),x=n.redAdd(n).redMul(i);return this.curve.jpoint(p,v,x)};di.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),d=i.redIAdd(i);d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var f=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(d),p=r.redMul(f);p=p.redIAdd(p),p=p.redIAdd(p);var g=this.x.redMul(c).redISub(p);g=g.redIAdd(g),g=g.redIAdd(g);var m=this.y.redMul(f.redMul(d.redISub(f)).redISub(a.redMul(c)));m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var v=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(g,m,v)};di.prototype.mul=function(e,r){return e=new Mt(e,r),this.curve._wnafMul(this,e)};di.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};di.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};di.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};di.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var T0=mh(function(t,e){var r=e;r.base=pd,r.short=X7,r.mont=null,r.edwards=null}),N0=mh(function(t,e){var r=e,n=Xs.assert;function i(a){a.type==="short"?this.curve=new T0.short(a):a.type==="edwards"?this.curve=new T0.edwards(a):this.curve=new T0.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var d=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:d}),d}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:wa.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:wa.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:wa.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:wa.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:wa.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:wa.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:wa.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:wa.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function Cc(t){if(!(this instanceof Cc))return new Cc(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Qo.toArray(t.entropy,t.entropyEnc||"hex"),r=Qo.toArray(t.nonce,t.nonceEnc||"hex"),n=Qo.toArray(t.pers,t.persEnc||"hex");vC(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var i4=Cc;Cc.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Cc.prototype._hmac=function(){return new wa.hmac(this.hash,this.K)};Cc.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Cc.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Qo.toArray(e,r),n=Qo.toArray(n,i),vC(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Cc.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Qo.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,Qo.encode(o,r)};var wk=Xs.assert;function Ri(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var wC=Ri;Ri.fromPublic=function(e,r,n){return r instanceof Ri?r:new Ri(e,{pub:r,pubEnc:n})};Ri.fromPrivate=function(e,r,n){return r instanceof Ri?r:new Ri(e,{priv:r,privEnc:n})};Ri.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Ri.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Ri.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Ri.prototype._importPrivate=function(e,r){this.priv=new Mt(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Ri.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?wk(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&wk(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Ri.prototype.derive=function(e){return e.validate()||wk(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Ri.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Ri.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};Ri.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Q7=Xs.assert;function Kx(t,e){if(t instanceof Kx)return t;this._importDER(t,e)||(Q7(t.r&&t.s,"Signature without r or s"),this.r=new Mt(t.r,16),this.s=new Mt(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Yx=Kx;function Z7(){this.place=0}function Dw(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function pA(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Kx.prototype._importDER=function(e,r){e=Xs.toArray(e,r);var n=new Z7;if(e[n.place++]!==48)return!1;var i=Dw(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=Dw(e,n);if(s===!1||(e[n.place]&128)!==0)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=Dw(e,n);if(a===!1||e.length!==a+n.place||(e[n.place]&128)!==0)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new Mt(o),this.s=new Mt(c),this.recoveryParam=null,!0};function Ow(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Kx.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=pA(r),n=pA(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Ow(i,r.length),i=i.concat(r),i.push(2),Ow(i,n.length);var s=i.concat(n),o=[48];return Ow(o,s.length),o=o.concat(s),Xs.encode(o,e)};var e9=function(){throw new Error("unsupported")},Nu=Xs.assert;function wo(t){if(!(this instanceof wo))return new wo(t);typeof t=="string"&&(Nu(Object.prototype.hasOwnProperty.call(N0,t),"Unknown curve "+t),t=N0[t]),t instanceof N0.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var t9=wo;wo.prototype.keyPair=function(e){return new wC(this,e)};wo.prototype.keyFromPrivate=function(e,r){return wC.fromPrivate(this,e,r)};wo.prototype.keyFromPublic=function(e,r){return wC.fromPublic(this,e,r)};wo.prototype.genKeyPair=function(e){e||(e={});for(var r=new i4({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||e9(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Mt(2));;){var s=new Mt(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};wo.prototype._truncateToN=function(e,r,n){var i;if(Mt.isBN(e)||typeof e=="number")e=new Mt(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new Mt(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new Mt(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};wo.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!Mt.isBN(e)){Nu(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Nu(e.length>>>0===e.length);for(var s=0;s<e.length;s++)Nu((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),Nu(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),c=e.toArray("be",o);Nu(new Mt(c).eq(e),"Can not sign message");for(var d=new i4({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),f=this.n.sub(new Mt(1)),p=0;;p++){var g=i.k?i.k(p):new Mt(d.generate(this.n.byteLength()));if(g=this._truncateToN(g,!0),!(g.cmpn(1)<=0||g.cmp(f)>=0)){var m=this.g.mul(g);if(!m.isInfinity()){var v=m.getX(),x=v.umod(this.n);if(x.cmpn(0)!==0){var w=g.invm(this.n).mul(x.mul(r.getPrivate()).iadd(e));if(w=w.umod(this.n),w.cmpn(0)!==0){var E=(m.getY().isOdd()?1:0)|(v.cmp(x)!==0?2:0);return i.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),E^=1),new Yx({r:x,s:w,recoveryParam:E})}}}}}};wo.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new Yx(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),d=c.mul(e).umod(this.n),f=c.mul(o).umod(this.n),p;return this.curve._maxwellTrick?(p=this.g.jmulAdd(d,n.getPublic(),f),p.isInfinity()?!1:p.eqXToP(o)):(p=this.g.mulAdd(d,n.getPublic(),f),p.isInfinity()?!1:p.getX().umod(this.n).cmp(o)===0)};wo.prototype.recoverPubKey=function(t,e,r,n){Nu((3&r)===r,"The recovery param is more than two bits"),e=new Yx(e,n);var i=this.n,s=new Mt(t),o=e.r,a=e.s,c=r&1,d=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");d?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var f=e.r.invm(i),p=i.sub(s).mul(f).umod(i),g=a.mul(f).umod(i);return this.g.mulAdd(p,o,g)};wo.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Yx(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var r9=mh(function(t,e){var r=e;r.version="6.6.1",r.utils=Xs,r.rand=function(){throw new Error("unsupported")},r.curve=T0,r.curves=N0,r.ec=t9,r.eddsa=null}),n9=r9.ec;const i9="signing-key/5.8.0",kk=new oe(i9);let Lw=null;function oc(){return Lw||(Lw=new n9("secp256k1")),Lw}class s9{constructor(e){ke(this,"curve","secp256k1"),ke(this,"privateKey",ut(e)),Ku(this.privateKey)!==32&&kk.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=oc().keyFromPrivate(Et(this.privateKey));ke(this,"publicKey","0x"+r.getPublic(!1,"hex")),ke(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),ke(this,"_isSigningKey",!0)}_addPoint(e){const r=oc().keyFromPublic(Et(this.publicKey)),n=oc().keyFromPublic(Et(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=oc().keyFromPrivate(Et(this.privateKey)),n=Et(e);n.length!==32&&kk.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return qx({recoveryParam:i.recoveryParam,r:Qr("0x"+i.r.toString(16),32),s:Qr("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=oc().keyFromPrivate(Et(this.privateKey)),n=oc().keyFromPublic(Et(s4(e)));return Qr("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function o9(t,e){const r=qx(e),n={r:Et(r.r),s:Et(r.s)};return"0x"+oc().recoverPubKey(Et(t),n,r.recoveryParam).encode("hex",!1)}function s4(t,e){const r=Et(t);return r.length===32?new s9(r).publicKey:r.length===33?"0x"+oc().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?ut(r):kk.throwArgumentError("invalid public or private key","key","[REDACTED]")}const a9="transactions/5.8.0",Nl=new oe(a9);var mA;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(mA||(mA={}));function kC(t){return t==="0x"?null:Zn(t)}function Si(t){return t==="0x"?LM:ue.from(t)}function l9(t){const e=s4(t);return Zn(Ci(qn(Ci(e,1)),12))}function o4(t,e){return l9(o9(Et(t),e))}function js(t,e){const r=Kf(ue.from(t).toHexString());return r.length>32&&Nl.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function Fw(t,e){return{address:Zn(t),storageKeys:(e||[]).map((r,n)=>(Ku(r)!==32&&Nl.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function md(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&Nl.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),Fw(r[0],r[1])):Fw(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return Fw(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function a4(t){return md(t).map(e=>[e.address,e.storageKeys])}function c9(t,e){if(t.gasPrice!=null){const n=ue.from(t.gasPrice),i=ue.from(t.maxFeePerGas||0);n.eq(i)||Nl.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[js(t.chainId||0,"chainId"),js(t.nonce||0,"nonce"),js(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),js(t.maxFeePerGas||0,"maxFeePerGas"),js(t.gasLimit||0,"gasLimit"),t.to!=null?Zn(t.to):"0x",js(t.value||0,"value"),t.data||"0x",a4(t.accessList||[])];if(e){const n=qx(e);r.push(js(n.recoveryParam,"recoveryParam")),r.push(Kf(n.r)),r.push(Kf(n.s))}return fs(["0x02",Hx(r)])}function u9(t,e){const r=[js(t.chainId||0,"chainId"),js(t.nonce||0,"nonce"),js(t.gasPrice||0,"gasPrice"),js(t.gasLimit||0,"gasLimit"),t.to!=null?Zn(t.to):"0x",js(t.value||0,"value"),t.data||"0x",a4(t.accessList||[])];if(e){const n=qx(e);r.push(js(n.recoveryParam,"recoveryParam")),r.push(Kf(n.r)),r.push(Kf(n.s))}return fs(["0x01",Hx(r)])}function l4(t,e,r){try{const n=Si(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{Nl.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=Qr(e[1],32),t.s=Qr(e[2],32);try{const n=qn(r(t));t.from=o4(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function d9(t){const e=mC(t.slice(1));e.length!==9&&e.length!==12&&Nl.throwArgumentError("invalid component count for transaction type: 2","payload",ut(t));const r=Si(e[2]),n=Si(e[3]),i={type:2,chainId:Si(e[0]).toNumber(),nonce:Si(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Si(e[4]),to:kC(e[5]),value:Si(e[6]),data:e[7],accessList:md(e[8])};return e.length===9||(i.hash=qn(t),l4(i,e.slice(9),c9)),i}function f9(t){const e=mC(t.slice(1));e.length!==8&&e.length!==11&&Nl.throwArgumentError("invalid component count for transaction type: 1","payload",ut(t));const r={type:1,chainId:Si(e[0]).toNumber(),nonce:Si(e[1]).toNumber(),gasPrice:Si(e[2]),gasLimit:Si(e[3]),to:kC(e[4]),value:Si(e[5]),data:e[6],accessList:md(e[7])};return e.length===8||(r.hash=qn(t),l4(r,e.slice(8),u9)),r}function h9(t){const e=mC(t);e.length!==9&&e.length!==6&&Nl.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Si(e[0]).toNumber(),gasPrice:Si(e[1]),gasLimit:Si(e[2]),to:kC(e[3]),value:Si(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=ue.from(e[6]).toNumber()}catch{return r}if(r.r=Qr(e[7],32),r.s=Qr(e[8],32),ue.from(r.r).isZero()&&ue.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(ut(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const s=qn(Hx(i));try{r.from=o4(s,{r:ut(r.r),s:ut(r.s),recoveryParam:n})}catch{}r.hash=qn(t)}return r.type=null,r}function p9(t){const e=Et(t);if(e[0]>127)return h9(e);switch(e[0]){case 1:return f9(e);case 2:return d9(e)}return Nl.throwError(`unsupported transaction type: ${e[0]}`,oe.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const m9="contracts/5.8.0";var Ju=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const vn=new oe(m9);function ix(t,e){return Ju(this,void 0,void 0,function*(){const r=yield e;typeof r!="string"&&vn.throwArgumentError("invalid address or ENS name","name",r);try{return Zn(r)}catch{}t||vn.throwError("a provider or signer is needed to resolve ENS names",oe.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return n==null&&vn.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function A0(t,e,r){return Ju(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>A0(t,Array.isArray(e)?e[i]:e[n.name],n))):r.type==="address"?yield ix(t,e):r.type==="tuple"?yield A0(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>A0(t,n,r.arrayChildren))):Promise.reject(vn.makeError("invalid value for array",oe.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function Jx(t,e,r){return Ju(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=Jr(r.pop())),vn.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=Rn({override:ix(t.signer,n.from),signer:t.signer.getAddress()}).then(d=>Ju(this,void 0,void 0,function*(){return Zn(d.signer)!==d.override&&vn.throwError("Contract with a Signer cannot override from",oe.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),d.override})):n.from=t.signer.getAddress():n.from&&(n.from=ix(t.provider,n.from));const i=yield Rn({args:A0(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:Rn(n)||{}}),s=t.interface.encodeFunctionData(e,i.args),o={data:s,to:i.address},a=i.overrides;if(a.nonce!=null&&(o.nonce=ue.from(a.nonce).toNumber()),a.gasLimit!=null&&(o.gasLimit=ue.from(a.gasLimit)),a.gasPrice!=null&&(o.gasPrice=ue.from(a.gasPrice)),a.maxFeePerGas!=null&&(o.maxFeePerGas=ue.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=ue.from(a.maxPriorityFeePerGas)),a.from!=null&&(o.from=a.from),a.type!=null&&(o.type=a.type),a.accessList!=null&&(o.accessList=md(a.accessList)),o.gasLimit==null&&e.gas!=null){let d=21e3;const f=Et(s);for(let p=0;p<f.length;p++)d+=4,f[p]&&(d+=64);o.gasLimit=ue.from(e.gas).add(d)}if(a.value){const d=ue.from(a.value);!d.isZero()&&!e.payable&&vn.throwError("non-payable method cannot override value",oe.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),o.value=d}a.customData&&(o.customData=Jr(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const c=Object.keys(n).filter(d=>n[d]!=null);return c.length&&vn.throwError(`cannot override ${c.map(d=>JSON.stringify(d)).join(",")}`,oe.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),o})}function g9(t,e){return function(...r){return Jx(t,e,r)}}function y9(t,e){const r=t.signer||t.provider;return function(...n){return Ju(this,void 0,void 0,function*(){r||vn.throwError("estimate require a provider or signer",oe.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield Jx(t,e,n);return yield r.estimateGas(i)})}}function x9(t,e){const r=e.wait.bind(e);e.wait=n=>r(n).then(i=>(i.events=i.logs.map(s=>{let o=Ws(s),a=null;try{a=t.interface.parseLog(s)}catch{}return a&&(o.args=a.args,o.decode=(c,d)=>t.interface.decodeEventLog(a.eventFragment,c,d),o.event=a.name,o.eventSignature=a.signature),o.removeListener=()=>t.provider,o.getBlock=()=>t.provider.getBlock(i.blockHash),o.getTransaction=()=>t.provider.getTransaction(i.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(i),o}),i))}function c4(t,e,r){const n=t.signer||t.provider;return function(...i){return Ju(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const c=Jr(i.pop());c.blockTag!=null&&(s=yield c.blockTag),delete c.blockTag,i.push(c)}t.deployTransaction!=null&&(yield t._deployed(s));const o=yield Jx(t,e,i),a=yield n.call(o,s);try{let c=t.interface.decodeFunctionResult(e,a);return r&&e.outputs.length===1&&(c=c[0]),c}catch(c){throw c.code===oe.errors.CALL_EXCEPTION&&(c.address=t.address,c.args=i,c.transaction=o),c}})}}function v9(t,e){return function(...r){return Ju(this,void 0,void 0,function*(){t.signer||vn.throwError("sending a transaction requires a signer",oe.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const n=yield Jx(t,e,r),i=yield t.signer.sendTransaction(n);return x9(t,i),i})}}function gA(t,e,r){return e.constant?c4(t,e,r):v9(t,e)}function u4(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class ym{constructor(e,r){ke(this,"tag",e),ke(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}}class b9 extends ym{constructor(){super("error",null)}}class yA extends ym{constructor(e,r,n,i){const s={address:e};let o=r.getEventTopic(n);i?(o!==i[0]&&vn.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[o],super(u4(s),s),ke(this,"address",e),ke(this,"interface",r),ke(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){const r=vU(e.args);if(r.length)throw r[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class xA extends ym{constructor(e,r){super("*",{address:e}),ke(this,"address",e),ke(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{const r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),e.args=r.args}catch{}}}class w9{constructor(e,r,n){ke(this,"interface",$s(new.target,"getInterface")(r)),n==null?(ke(this,"provider",null),ke(this,"signer",null)):ng.isSigner(n)?(ke(this,"provider",n.provider||null),ke(this,"signer",n)):yC.isProvider(n)?(ke(this,"provider",n),ke(this,"signer",null)):vn.throwArgumentError("invalid signer or provider","signerOrProvider",n),ke(this,"callStatic",{}),ke(this,"estimateGas",{}),ke(this,"functions",{}),ke(this,"populateTransaction",{}),ke(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(a=>{const c=this.interface.events[a];ke(this.filters,a,(...d)=>({address:this.address,topics:this.interface.encodeFilterTopics(c,d)})),o[c.name]||(o[c.name]=[]),o[c.name].push(a)}),Object.keys(o).forEach(a=>{const c=o[a];c.length===1?ke(this.filters,a,this.filters[c[0]]):vn.warn(`Duplicate definition of ${a} (${c.join(", ")})`)})}if(ke(this,"_runningEvents",{}),ke(this,"_wrappedEmits",{}),e==null&&vn.throwArgumentError("invalid contract address or ENS name","addressOrName",e),ke(this,"address",e),this.provider)ke(this,"resolvedAddress",ix(this.provider,e));else try{ke(this,"resolvedAddress",Promise.resolve(Zn(e)))}catch{vn.throwError("provider is required to use ENS name as contract address",oe.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const i={},s={};Object.keys(this.interface.functions).forEach(o=>{const a=this.interface.functions[o];if(s[o]){vn.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}s[o]=!0;{const c=a.name;i[`%${c}`]||(i[`%${c}`]=[]),i[`%${c}`].push(o)}this[o]==null&&ke(this,o,gA(this,a,!0)),this.functions[o]==null&&ke(this.functions,o,gA(this,a,!1)),this.callStatic[o]==null&&ke(this.callStatic,o,c4(this,a,!0)),this.populateTransaction[o]==null&&ke(this.populateTransaction,o,g9(this,a)),this.estimateGas[o]==null&&ke(this.estimateGas,o,y9(this,a))}),Object.keys(i).forEach(o=>{const a=i[o];if(a.length>1)return;o=o.substring(1);const c=a[0];try{this[o]==null&&ke(this,o,this[c])}catch{}this.functions[o]==null&&ke(this.functions,o,this.functions[c]),this.callStatic[o]==null&&ke(this.callStatic,o,this.callStatic[c]),this.populateTransaction[o]==null&&ke(this.populateTransaction,o,this.populateTransaction[c]),this.estimateGas[o]==null&&ke(this.estimateGas,o,this.estimateGas[c])})}static getContractAddress(e){return IM(e)}static getInterface(e){return bk.isInterface(e)?e:new bk(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&vn.throwError("contract not deployed",oe.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||vn.throwError("sending a transactions require a signer",oe.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=Jr(e||{});return["from","to"].forEach(function(n){r[n]!=null&&vn.throwError("cannot override "+n,oe.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new xC(e,this.provider));const r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&ke(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return vk.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new b9);if(e==="event")return this._normalizeRunningEvent(new ym("event",null));if(e==="*")return this._normalizeRunningEvent(new xA(this.address,this.interface));const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new yA(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new yA(this.address,this.interface,i,e.topics))}catch{}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new ym(u4(r),r))}return this._normalizeRunningEvent(new xA(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){const i=Ws(r);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(i),i}_addEventListener(e,r,n){if(this.provider||vn.throwError("events require a provider or a signer with a provider",oe.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let o=this._wrapEvent(e,s,r);if(o.decodeError==null)try{const a=e.getEmit(o);this.emit(e.filter,...a)}catch(a){o.decodeError=a.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,r,n){const i=this._getRunningEvent(e),s=Jr(i.filter);return typeof r=="string"&&Yt(r,32)?(n!=null&&vn.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),s.blockHash=r):(s.fromBlock=r??0,s.toBlock=n??"latest"),this.provider.getLogs(s).then(o=>o.map(a=>this._wrapEvent(i,a,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}}class At extends w9{}class d4{constructor(e){ke(this,"alphabet",e),ke(this,"base",e.length),ke(this,"_alphabetMap",{}),ke(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=Et(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return Et(new Uint8Array(r.reverse()))}}new d4("abcdefghijklmnopqrstuvwxyz234567");const _k=new d4("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function vA(t){return"0x"+wa.sha256().update(Et(t)).digest("hex")}function k9(t){t=t.slice();for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}const _9="networks/5.8.0",bA=new oe(_9);function C9(t){return t&&typeof t.renetwork=="function"}function Ho(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new r.PocketProvider(t,n.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const s=["ropsten"],o=new r.AnkrProvider(t,n.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(r.QuickNodeProvider&&n.quicknode!=="-")try{i.push(new r.QuickNodeProvider(t,n.quicknode))}catch{}if(i.length===0)return null;if(r.FallbackProvider){let s=1;return n.quorum!=null?s=n.quorum:t==="homestead"&&(s=2),new r.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(r){return Ho(r)},e}function sx(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return sx(t,n)},r}const wA={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Ho("homestead")},kA={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Ho("ropsten")},_A={chainId:63,name:"classicMordor",_defaultProvider:sx("https://www.ethercluster.com/mordor","classicMordor")},Ay={unspecified:{chainId:0,name:"unspecified"},homestead:wA,mainnet:wA,morden:{chainId:2,name:"morden"},ropsten:kA,testnet:kA,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Ho("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Ho("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Ho("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:Ho("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:Ho("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:sx("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:_A,classicTestnet:_A,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:sx("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Ho("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:Ho("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:Ho("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function f4(t){if(t==null)return null;if(typeof t=="number"){for(const n in Ay){const i=Ay[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=Ay[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=Ay[t.name];if(!e)return typeof t.chainId!="number"&&bA.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&bA.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(C9(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}const S9="web/5.8.0";var E9=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};function T9(t,e){return E9(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(r.mode=o.mode),o.cache&&(r.cache=o.cache),o.credentials&&(r.credentials=o.credentials),o.redirect&&(r.redirect=o.redirect),o.referrer&&(r.referrer=o.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:Et(new Uint8Array(i))}})}var N9=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const zo=new oe(S9);function CA(t){return new Promise(e=>{setTimeout(e,t)})}function Xl(t,e){if(t==null)return null;if(typeof t=="string")return t;if(fC(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return rg(t)}catch{}return ut(t)}return t}function A9(t){return Fa(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function j9(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;zo.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;zo.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let c=null;const d={method:"GET"};let f=!1,p=120*1e3;if(typeof t=="string")c=t;else if(typeof t=="object"){if((t==null||t.url==null)&&zo.throwArgumentError("missing URL","connection.url",t),c=t.url,typeof t.timeout=="number"&&t.timeout>0&&(p=t.timeout),t.headers)for(const E in t.headers)a[E.toLowerCase()]={key:E,value:String(t.headers[E])},["if-none-match","if-modified-since"].indexOf(E.toLowerCase())>=0&&(f=!0);if(d.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){c.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&zo.throwError("basic authentication requires a secure https url",oe.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:t.user,password:"[REDACTED]"});const E=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+VM(Fa(E))}}t.skipFetchSetup!=null&&(d.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(d.fetchOptions=Jr(t.fetchOptions))}const g=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),m=c?c.match(g):null;if(m)try{const E={statusCode:200,statusMessage:"OK",headers:{"content-type":m[1]||"text/plain"},body:m[2]?UM(m[3]):A9(m[3])};let P=E.body;return r&&(P=r(E.body,E)),Promise.resolve(P)}catch(E){zo.throwError("processing response error",oe.errors.SERVER_ERROR,{body:Xl(m[1],m[2]),error:E,requestBody:null,requestMethod:"GET",url:c})}e&&(d.method="POST",d.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const v={};Object.keys(a).forEach(E=>{const P=a[E];v[P.key]=P.value}),d.headers=v;const x=function(){let E=null;return{promise:new Promise(function(S,B){p&&(E=setTimeout(()=>{E!=null&&(E=null,B(zo.makeError("timeout",oe.errors.TIMEOUT,{requestBody:Xl(d.body,v["content-type"]),requestMethod:d.method,timeout:p,url:c})))},p))}),cancel:function(){E!=null&&(clearTimeout(E),E=null)}}}(),w=function(){return N9(this,void 0,void 0,function*(){for(let E=0;E<n;E++){let P=null;try{if(P=yield T9(c,d),E<n){if(P.statusCode===301||P.statusCode===302){const S=P.headers.location||"";if(d.method==="GET"&&S.match(/^https:/)){c=P.headers.location;continue}}else if(P.statusCode===429){let S=!0;if(i&&(S=yield i(E,c)),S){let B=0;const $=P.headers["retry-after"];typeof $=="string"&&$.match(/^[1-9][0-9]*$/)?B=parseInt($)*1e3:B=s*parseInt(String(Math.random()*Math.pow(2,E))),yield CA(B);continue}}}}catch(S){P=S.response,P==null&&(x.cancel(),zo.throwError("missing response",oe.errors.SERVER_ERROR,{requestBody:Xl(d.body,v["content-type"]),requestMethod:d.method,serverError:S,url:c}))}let R=P.body;if(f&&P.statusCode===304?R=null:!o&&(P.statusCode<200||P.statusCode>=300)&&(x.cancel(),zo.throwError("bad response",oe.errors.SERVER_ERROR,{status:P.statusCode,headers:P.headers,body:Xl(R,P.headers?P.headers["content-type"]:null),requestBody:Xl(d.body,v["content-type"]),requestMethod:d.method,url:c})),r)try{const S=yield r(R,P);return x.cancel(),S}catch(S){if(S.throttleRetry&&E<n){let B=!0;if(i&&(B=yield i(E,c)),B){const $=s*parseInt(String(Math.random()*Math.pow(2,E)));yield CA($);continue}}x.cancel(),zo.throwError("processing response error",oe.errors.SERVER_ERROR,{body:Xl(R,P.headers?P.headers["content-type"]:null),error:S,requestBody:Xl(d.body,v["content-type"]),requestMethod:d.method,url:c})}return x.cancel(),R}return zo.throwError("failed response",oe.errors.SERVER_ERROR,{requestBody:Xl(d.body,v["content-type"]),requestMethod:d.method,url:c})})}();return Promise.race([x.promise,w])}function Xx(t,e,r){let n=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(rg(s))}catch(c){zo.throwError("invalid JSON",oe.errors.SERVER_ERROR,{body:s,error:c})}return r&&(a=r(a,o)),a},i=null;if(e!=null){i=Fa(e);const s=typeof t=="string"?{url:t}:Jr(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=Jr(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return j9(t,i,n)}function vf(t,e){return e||(e={}),e=Jr(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let c=0;function d(){return t().then(function(f){if(f!==void 0)o()&&r(f);else if(e.oncePoll)e.oncePoll.once("poll",d);else if(e.onceBlock)e.onceBlock.once("block",d);else if(!s){if(c++,c>a){o()&&n(new Error("retry limit reached"));return}let p=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));p<e.floor&&(p=e.floor),p>e.ceiling&&(p=e.ceiling),setTimeout(d,p)}return null},function(f){o()&&n(f)})}d()})}var zw,SA;function P9(){if(SA)return zw;SA=1;for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",e={},r=0;r<t.length;r++){var n=t.charAt(r);if(e[n]!==void 0)throw new TypeError(n+" is ambiguous");e[n]=r}function i(x){var w=x>>25;return(x&33554431)<<5^-(w>>0&1)&996825010^-(w>>1&1)&642813549^-(w>>2&1)&513874426^-(w>>3&1)&1027748829^-(w>>4&1)&705979059}function s(x){for(var w=1,E=0;E<x.length;++E){var P=x.charCodeAt(E);if(P<33||P>126)return"Invalid prefix ("+x+")";w=i(w)^P>>5}for(w=i(w),E=0;E<x.length;++E){var R=x.charCodeAt(E);w=i(w)^R&31}return w}function o(x,w,E){if(E=E||90,x.length+7+w.length>E)throw new TypeError("Exceeds length limit");x=x.toLowerCase();var P=s(x);if(typeof P=="string")throw new Error(P);for(var R=x+"1",S=0;S<w.length;++S){var B=w[S];if(B>>5!==0)throw new Error("Non 5-bit word");P=i(P)^B,R+=t.charAt(B)}for(S=0;S<6;++S)P=i(P);for(P^=1,S=0;S<6;++S){var $=P>>(5-S)*5&31;R+=t.charAt($)}return R}function a(x,w){if(w=w||90,x.length<8)return x+" too short";if(x.length>w)return"Exceeds length limit";var E=x.toLowerCase(),P=x.toUpperCase();if(x!==E&&x!==P)return"Mixed-case string "+x;x=E;var R=x.lastIndexOf("1");if(R===-1)return"No separator character for "+x;if(R===0)return"Missing prefix for "+x;var S=x.slice(0,R),B=x.slice(R+1);if(B.length<6)return"Data too short";var $=s(S);if(typeof $=="string")return $;for(var q=[],G=0;G<B.length;++G){var H=B.charAt(G),K=e[H];if(K===void 0)return"Unknown character "+H;$=i($)^K,!(G+6>=B.length)&&q.push(K)}return $!==1?"Invalid checksum for "+x:{prefix:S,words:q}}function c(){var x=a.apply(null,arguments);if(typeof x=="object")return x}function d(x){var w=a.apply(null,arguments);if(typeof w=="object")return w;throw new Error(w)}function f(x,w,E,P){for(var R=0,S=0,B=(1<<E)-1,$=[],q=0;q<x.length;++q)for(R=R<<w|x[q],S+=w;S>=E;)S-=E,$.push(R>>S&B);if(P)S>0&&$.push(R<<E-S&B);else{if(S>=w)return"Excess padding";if(R<<E-S&B)return"Non-zero padding"}return $}function p(x){var w=f(x,8,5,!0);if(Array.isArray(w))return w}function g(x){var w=f(x,8,5,!0);if(Array.isArray(w))return w;throw new Error(w)}function m(x){var w=f(x,5,8,!1);if(Array.isArray(w))return w}function v(x){var w=f(x,5,8,!1);if(Array.isArray(w))return w;throw new Error(w)}return zw={decodeUnsafe:c,decode:d,encode:o,toWordsUnsafe:p,toWords:g,fromWordsUnsafe:m,fromWords:v},zw}var R9=P9();const EA=El(R9),fi="providers/5.8.0",ap=new oe(fi);class tt{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),c=this.number.bind(this),d=this.type.bind(this),f=p=>this.data(p,!0);return e.transaction={hash:o,type:d,accessList:tt.allowNull(this.accessList.bind(this),null),blockHash:tt.allowNull(o,null),blockNumber:tt.allowNull(c,null),transactionIndex:tt.allowNull(c,null),confirmations:tt.allowNull(c,null),from:r,gasPrice:tt.allowNull(n),maxPriorityFeePerGas:tt.allowNull(n),maxFeePerGas:tt.allowNull(n),gasLimit:n,to:tt.allowNull(r,null),value:n,nonce:c,data:s,r:tt.allowNull(this.uint256),s:tt.allowNull(this.uint256),v:tt.allowNull(c),creates:tt.allowNull(r,null),raw:tt.allowNull(s)},e.transactionRequest={from:tt.allowNull(r),nonce:tt.allowNull(c),gasLimit:tt.allowNull(n),gasPrice:tt.allowNull(n),maxPriorityFeePerGas:tt.allowNull(n),maxFeePerGas:tt.allowNull(n),to:tt.allowNull(r),value:tt.allowNull(n),data:tt.allowNull(f),type:tt.allowNull(c),accessList:tt.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:o,address:r,topics:tt.arrayOf(o),data:s,logIndex:c,blockHash:o},e.receipt={to:tt.allowNull(this.address,null),from:tt.allowNull(this.address,null),contractAddress:tt.allowNull(r,null),transactionIndex:c,root:tt.allowNull(a),gasUsed:n,logsBloom:tt.allowNull(s),blockHash:o,transactionHash:o,logs:tt.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:tt.allowNull(c,null),cumulativeGasUsed:n,effectiveGasPrice:tt.allowNull(n),status:tt.allowNull(c),type:d},e.block={hash:tt.allowNull(o),parentHash:o,number:c,timestamp:c,nonce:tt.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:tt.allowNull(r),extraData:s,transactions:tt.allowNull(tt.arrayOf(o)),baseFeePerGas:tt.allowNull(n)},e.blockWithTransactions=Jr(e.block),e.blockWithTransactions.transactions=tt.allowNull(tt.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:tt.allowNull(i,void 0),toBlock:tt.allowNull(i,void 0),blockHash:tt.allowNull(o,void 0),address:tt.allowNull(r,void 0),topics:tt.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:tt.allowNull(c),blockHash:tt.allowNull(o),transactionIndex:c,removed:tt.allowNull(this.boolean.bind(this)),address:r,data:tt.allowFalsish(s,"0x"),topics:tt.arrayOf(o),transactionHash:o,logIndex:c},e}accessList(e){return md(e||[])}number(e){return e==="0x"?0:ue.from(e).toNumber()}type(e){return e==="0x"||e==null?0:ue.from(e).toNumber()}bigNumber(e){return ue.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),Yt(e))?e.toLowerCase():ap.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return Zn(e)}callAddress(e){if(!Yt(e,32))return null;const r=Zn(Ci(e,12));return r===He?null:r}contractAddress(e){return IM(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||Yt(e))return Wx(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return Ku(n)!==32?ap.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=ue.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!Yt(e))throw new Error("invalid uint256");return Qr(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=tt.check(r,e);return i._difficulty=n==null?null:ue.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return tt.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&ue.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=tt.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;Yt(n)&&(n=ue.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),Yt(n)&&(n=ue.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return p9(e)}receiptLog(e){return tt.check(this.formats.receiptLog,e)}receipt(e){const r=tt.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=ue.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&ap.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):ap.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&ap.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return tt.check(this.formats.filter,e)}filterLog(e){return tt.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const s=e[i](r[i]);s!==void 0&&(n[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=r[i],s}return n}static allowNull(e,r){return function(n){return n==null?r:e(n)}}static allowFalsish(e,r){return function(n){return n?e(n):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n}}}function I9(t){return t&&typeof t.isCommunityResource=="function"}function TA(t){return I9(t)&&t.isCommunityResource()}let NA=!1;function Qx(){NA||(NA=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var Ft=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const Zt=new oe(fi),M9=10;function AA(t){return t==null?"null":(Ku(t)!==32&&Zt.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function jA(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[AA(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return AA(e)}).join("&")}function D9(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function Kd(t){if(typeof t=="string"){if(t=t.toLowerCase(),Ku(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+jA(t);if(D7.isForkEvent(t))throw Zt.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+jA(t.topics||[])}throw new Error("invalid event - "+t)}function lp(){return new Date().getTime()}function PA(t){return new Promise(e=>{setTimeout(e,t)})}const O9=["block","network","pending","poll"];let L9=class{constructor(e,r,n){ke(this,"tag",e),ke(this,"listener",r),ke(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=D9(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||O9.indexOf(this.tag)>=0}};const F9={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Bw(t){return Qr(ue.from(t).toHexString(),32)}function RA(t){return _k.encode(Bs([t,Ci(vA(vA(t)),0,4)]))}const h4=new RegExp("^(ipfs)://(.*)$","i"),IA=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),h4,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function j0(t,e){try{return rg(xm(t,e))}catch{}return null}function xm(t,e){if(t==="0x")return null;const r=ue.from(Ci(t,e,e+32)).toNumber(),n=ue.from(Ci(t,r,r+32)).toNumber();return Ci(t,r+32,r+32+n)}function $w(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Zt.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function MA(t){const e=Et(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function z9(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function p4(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=Et(t[n]);e[n]=MA(r),e.push(MA(i.length)),e.push(z9(i)),r+=32+Math.ceil(i.length/32)*32}return fs(e)}class DA{constructor(e,r,n,i){ke(this,"provider",e),ke(this,"name",n),ke(this,"address",e.formatter.address(r)),ke(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>ue.from(e).eq(1)).catch(e=>{if(e.code===oe.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return Ft(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:fs([e,E0(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=fs(["0x9061b923",p4([b7(this.name),n.data])]));try{let s=yield this.provider.call(n);return Et(s).length%32===4&&Zt.throwError("resolver threw error",oe.errors.CALL_EXCEPTION,{transaction:n,data:s}),i&&(s=xm(s,0)),s}catch(s){if(s.code===oe.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,r){return Ft(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?xm(n,0):null})}_getAddress(e,r){const n=F9[String(e)];if(n==null&&Zt.throwError(`unsupported coin type: ${e}`,oe.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=Et(r);if(n.p2pkh!=null){const s=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return RA(Bs([[n.p2pkh],"0x"+s[2]]))}}if(n.p2sh!=null){const s=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return RA(Bs([[n.p2sh],"0x"+s[2]]))}}if(n.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=EA.toWords(i.slice(2));return a.unshift(o),EA.encode(n.prefix,a)}}return null}getAddress(e){return Ft(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===FU?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===oe.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",Bw(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&Zt.throwError("invalid or unsupported coin data",oe.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return Ft(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<IA.length;n++){const i=r.match(IA[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:$w(r)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:r});const a=this._resolvedAddress||(yield this.getAddress()),c=(i[2]||"").split("/");if(c.length!==2)return null;const d=yield this.provider.formatter.address(c[0]),f=Qr(ue.from(c[1]).toHexString(),32);if(s==="erc721"){const x=this.provider.formatter.callAddress(yield this.provider.call({to:d,data:fs(["0x6352211e",f])}));if(a!==x)return null;e.push({type:"owner",content:x})}else if(s==="erc1155"){const x=ue.from(yield this.provider.call({to:d,data:fs(["0x00fdd58e",Qr(a,32),f])}));if(x.isZero())return null;e.push({type:"balance",content:x.toString()})}const p={to:this.provider.formatter.address(c[0]),data:fs([o,f])};let g=j0(yield this.provider.call(p),0);if(g==null)return null;e.push({type:"metadata-url-base",content:g}),s==="erc1155"&&(g=g.replace("{id}",f.substring(2)),e.push({type:"metadata-url-expanded",content:g})),g.match(/^ipfs:/i)&&(g=$w(g)),e.push({type:"metadata-url",content:g});const m=yield Xx(g);if(!m)return null;e.push({type:"metadata",content:JSON.stringify(m)});let v=m.image;if(typeof v!="string")return null;if(!v.match(/^(https:\/\/|data:)/i)){if(v.match(h4)==null)return null;e.push({type:"url-ipfs",content:v}),v=$w(v)}return e.push({type:"url",content:v}),{linkage:e,url:v}}}}}catch{}return null})}getContentHash(){return Ft(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipfs://"+_k.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipns://"+_k.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===64)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===68){const o={"=":"","+":"-","/":"_"};return"sia://"+VM("0x"+s[1]).replace(/[=+\/]/g,c=>o[c])}return Zt.throwError("invalid or unsupported content hash data",oe.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return Ft(this,void 0,void 0,function*(){let r=Fa(e);r=Bs([Bw(64),Bw(r.length),r]),r.length%32!==0&&(r=Bs([r,Qr("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",ut(r));return n==null||n==="0x"?null:rg(n)})}}let Uw=null,B9=1;class _C extends yC{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),ke(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=$s(new.target,"getNetwork")(e);r?(ke(this,"_network",r),this.emit("network",r,null)):Zt.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Ft(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||Zt.throwError("no network detected",oe.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:ke(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return vf(()=>this._ready().then(e=>e,e=>{if(!(e.code===oe.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return Uw==null&&(Uw=new tt),Uw}static getNetwork(e){return f4(e??"homestead")}ccipReadFetch(e,r,n){return Ft(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),s=r.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const c=n[a],d=c.replace("{sender}",i).replace("{data}",s),f=c.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),p=yield Xx({url:d,errorPassThrough:!0},f,(m,v)=>(m.status=v.statusCode,m));if(p.data)return p.data;const g=p.message||"unknown error";if(p.status>=400&&p.status<500)return Zt.throwError(`response not found during CCIP fetch: ${g}`,oe.errors.SERVER_ERROR,{url:c,errorMessage:g});o.push(g)}return Zt.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,oe.errors.SERVER_ERROR,{urls:n,errorMessages:o})})}_getInternalBlockNumber(e){return Ft(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(lp()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=lp(),n=Rn({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),s;const o=lp();return i=ue.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:o}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return Ft(this,void 0,void 0,function*(){const e=B9++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)Zt.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",Zt.makeError("network block skew detected",oe.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&n-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});r.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=n;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(c=>{i._inflight=!1,c.length!==0&&c.forEach(d=>{d.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=d.blockNumber),this._emitted["b:"+d.blockHash]=d.blockNumber,this._emitted["t:"+d.transactionHash]=d.blockNumber,this.emit(s,d)})}).catch(c=>{this.emit("error",c),i._inflight=!1});r.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Ft(this,void 0,void 0,function*(){return Zt.throwError("provider does not support network detection",oe.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return Ft(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield PA(0),this._network;const n=Zt.makeError("underlying network changed",oe.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=lp();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=lp(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return Ft(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return Ft(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=r?s:new Promise((o,a)=>{const c=[];let d=!1;const f=function(){return d?!0:(d=!0,c.forEach(g=>{g()}),!1)},p=g=>{g.confirmations<r||f()||o(g)};if(this.on(e,p),c.push(()=>{this.removeListener(e,p)}),i){let g=i.startBlock,m=null;const v=x=>Ft(this,void 0,void 0,function*(){d||(yield PA(1e3),this.getTransactionCount(i.from).then(w=>Ft(this,void 0,void 0,function*(){if(!d){if(w<=i.nonce)g=x;else{{const E=yield this.getTransaction(e);if(E&&E.blockNumber!=null)return}for(m==null&&(m=g-3,m<i.startBlock&&(m=i.startBlock));m<=x;){if(d)return;const E=yield this.getBlockWithTransactions(m);for(let P=0;P<E.transactions.length;P++){const R=E.transactions[P];if(R.hash===e)return;if(R.from===i.from&&R.nonce===i.nonce){if(d)return;const S=yield this.waitForTransaction(R.hash,r);if(f())return;let B="replaced";R.data===i.data&&R.to===i.to&&R.value.eq(i.value)?B="repriced":R.data==="0x"&&R.from===R.to&&R.value.isZero()&&(B="cancelled"),a(Zt.makeError("transaction was replaced",oe.errors.TRANSACTION_REPLACED,{cancelled:B==="replaced"||B==="cancelled",reason:B,replacement:this._wrapTransaction(R),hash:e,receipt:S}));return}}m++}}d||this.once("block",v)}}),w=>{d||this.once("block",v)}))});if(d)return;this.once("block",v),c.push(()=>{this.removeListener("block",v)})}if(typeof n=="number"&&n>0){const g=setTimeout(()=>{f()||a(Zt.makeError("timeout exceeded",oe.errors.TIMEOUT,{timeout:n}))},n);g.unref&&g.unref(),c.push(()=>{clearTimeout(g)})}})})}getBlockNumber(){return Ft(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return Ft(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return ue.from(e)}catch(r){return Zt.throwError("bad result from backend",oe.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return Ft(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Rn({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return ue.from(i)}catch(s){return Zt.throwError("bad result from backend",oe.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:s})}})}getTransactionCount(e,r){return Ft(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Rn({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return ue.from(i).toNumber()}catch(s){return Zt.throwError("bad result from backend",oe.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:s})}})}getCode(e,r){return Ft(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Rn({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return ut(i)}catch(s){return Zt.throwError("bad result from backend",oe.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:s})}})}getStorageAt(e,r,n){return Ft(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield Rn({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(o=>Wx(o))}),s=yield this.perform("getStorageAt",i);try{return ut(s)}catch(o){return Zt.throwError("bad result from backend",oe.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,r,n){if(r!=null&&Ku(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&Zt.throwError("Transaction hash mismatch from Provider.sendTransaction.",oe.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(s,o)=>Ft(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const c=yield this._waitForTransaction(e.hash,s,o,a);return c==null&&s===0?null:(this._emitted["t:"+e.hash]=c.blockNumber,c.status===0&&Zt.throwError("transaction failed",oe.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:c}),c)}),i}sendTransaction(e){return Ft(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(s=>ut(s)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,s,i)}catch(s){throw s.transaction=n,s.transactionHash=n.hash,s}})}_getTransactionRequest(e){return Ft(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?ue.from(s):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?ut(s):null))}),this.formatter.transactionRequest(yield Rn(n))})}_getFilter(e){return Ft(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield Rn(r))})}_call(e,r,n){return Ft(this,void 0,void 0,function*(){n>=M9&&Zt.throwError("CCIP read exceeded maximum redirections",oe.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&Ku(s)%32===4)try{const o=Ci(s,4),a=Ci(o,0,32);ue.from(a).eq(i)||Zt.throwError("CCIP Read sender did not match",oe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const c=[],d=ue.from(Ci(o,32,64)).toNumber(),f=ue.from(Ci(o,d,d+32)).toNumber(),p=Ci(o,d+32);for(let E=0;E<f;E++){const P=j0(p,E*32);P==null&&Zt.throwError("CCIP Read contained corrupt URL string",oe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),c.push(P)}const g=xm(o,64);ue.from(Ci(o,100,128)).isZero()||Zt.throwError("CCIP Read callback selector included junk",oe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const m=Ci(o,96,100),v=xm(o,128),x=yield this.ccipReadFetch(e,g,c);x==null&&Zt.throwError("CCIP Read disabled or provided no URLs",oe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const w={to:i,data:fs([m,p4([x,v])])};return this._call(w,r,n+1)}catch(o){if(o.code===oe.errors.SERVER_ERROR)throw o}try{return ut(s)}catch(o){return Zt.throwError("bad result from backend",oe.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:s,error:o})}})}call(e,r){return Ft(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Rn({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return Ft(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Rn({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return ue.from(n)}catch(i){return Zt.throwError("bad result from backend",oe.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return Ft(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&Zt.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&Zt.throwError("ENS name not configured",oe.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return Ft(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(Yt(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),Yt(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{Zt.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return vf(()=>Ft(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let o=null;for(let c=0;c<s.transactions.length;c++){const d=s.transactions[c];if(d.blockNumber==null)d.confirmations=0;else if(d.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let f=o-d.blockNumber+1;f<=0&&(f=1),d.confirmations=f}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(c=>this._wrapTransaction(c)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Ft(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return vf(()=>Ft(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return Ft(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return vf(()=>Ft(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return Ft(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Rn({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),tt.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return Ft(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return Ft(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&Zt.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return Ft(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new DA(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return Ft(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||Zt.throwError("network does not support ENS",oe.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+E0(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return Ft(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(Yt(e))throw n}typeof e!="string"&&Zt.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return Ft(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=j0(yield this.call({to:n,data:"0x691f3431"+E0(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return Ft(this,void 0,void 0,function*(){let r=null;if(Yt(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;r=new DA(this,o,s);try{const a=yield r.getAvatar();if(a)return a.url}catch(a){if(a.code!==oe.errors.CALL_EXCEPTION)throw a}try{const a=j0(yield this.call({to:o,data:"0x691f3431"+E0(s).substring(2)}),0);r=yield this.getResolver(a)}catch(a){if(a.code!==oe.errors.CALL_EXCEPTION)throw a;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return Zt.throwError(e+" not implemented",oe.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new L9(Kd(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],s=Kd(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,r)},0),n=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),n}listenerCount(e){if(!e)return this._events.length;let r=Kd(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=Kd(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,s=Kd(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=r||i?!0:(i=!0,n.push(o),!1)),n.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=Kd(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var ol=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const In=new oe(fi),$9=["call","estimateGas"];function Fp(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=Yt(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=Fp(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return Fp(JSON.parse(t),e)}catch{}return null}function m4(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const s=Fp(e,!0);if(s)return s.data;In.throwError("missing revert data in call exception; Transaction reverted without a reason string",oe.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let s=Fp(e.body,!1);s==null&&(s=Fp(e,!1)),s&&In.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",oe.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===oe.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&In.throwError("insufficient funds for intrinsic transaction cost",oe.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&In.throwError("nonce has already been used",oe.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&In.throwError("replacement fee too low",oe.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&In.throwError("legacy pre-eip-155 transactions not supported",oe.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),$9.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&In.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",oe.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function OA(t){return new Promise(function(e){setTimeout(e,t)})}function U9(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function cp(t){return t&&t.toLowerCase()}const Ck={};class g4 extends ng{constructor(e,r,n){if(super(),e!==Ck)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");ke(this,"provider",r),n==null&&(n=0),typeof n=="string"?(ke(this,"_address",this.provider.formatter.address(n)),ke(this,"_index",null)):typeof n=="number"?(ke(this,"_index",n),ke(this,"_address",null)):In.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return In.throwError("cannot alter JSON-RPC Signer connection",oe.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new V9(Ck,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&In.throwError("unknown account #"+this._index,oe.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Jr(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=Jr(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>ol(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&In.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),Rn({tx:Rn(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&In.throwArgumentError("from address mismatch","transaction",e):n.from=i;const s=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&In.throwError("user rejected transaction",oe.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),m4("sendTransaction",o,s)))})}signTransaction(e){return In.throwError("signing transactions is unsupported",oe.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return ol(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield vf(()=>ol(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return ol(this,void 0,void 0,function*(){const r=typeof e=="string"?Fa(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[ut(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&In.throwError("user rejected signing",oe.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return ol(this,void 0,void 0,function*(){const r=typeof e=="string"?Fa(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),ut(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&In.throwError("user rejected signing",oe.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return ol(this,void 0,void 0,function*(){const i=yield Es.resolveNames(e,r,n,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(Es.getPayload(i.domain,r,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&In.throwError("user rejected signing",oe.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:r,value:i.value}}),o}})}unlock(e){return ol(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class V9 extends g4{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const W9={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Yf extends _C{constructor(e,r){let n=r;n==null&&(n=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(n),e||(e=$s(this.constructor,"defaultUrl")()),typeof e=="string"?ke(this,"connection",Object.freeze({url:e})):ke(this,"connection",Object.freeze(Jr(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return ol(this,void 0,void 0,function*(){yield OA(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=$s(this.constructor,"getNetwork");try{return r(ue.from(e).toNumber())}catch(n){return In.throwError("could not detect network",oe.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return In.throwError("could not detect network",oe.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new g4(Ck,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Ws(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=Xx(this.connection,JSON.stringify(n),U9).then(o=>(this.emit("debug",{action:"response",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:n,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[cp(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[cp(r.address),r.blockTag]];case"getCode":return["eth_getCode",[cp(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[cp(r.address),Qr(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[$s(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[$s(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=cp(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return ol(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&ue.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(r=Jr(r),r.transaction=Jr(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&In.throwError(e+" not implemented",oe.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return m4(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(s){if(e._pendingFilter!=r)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(c){return e.emit("pending",c),null})})}),o.then(function(){return OA(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=Jr(W9);if(r)for(const s in r)r[s]&&(n[s]=!0);dU(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=Wx(ue.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=ut(e[s]))}),e.accessList&&(i.accessList=md(e.accessList)),i}}let zp=null;try{if(zp=WebSocket,zp==null)throw new Error("inject please")}catch{const e=new oe(fi);zp=function(){e.throwError("WebSockets not supported in this environment",oe.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var Vw=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const jy=new oe(fi);let q9=1;class CC extends Yf{constructor(e,r){r==="any"&&jy.throwError("WebSocketProvider does not support 'any' network yet",oe.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof e=="string"?super(e,r):super("_websocket",r),this._pollingInterval=-1,this._wsReady=!1,typeof e=="string"?ke(this,"_websocket",new zp(this.connection.url)):ke(this,"_websocket",e),ke(this,"_requests",{}),ke(this,"_subs",{}),ke(this,"_subIds",{}),ke(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(i=>{this.websocket.send(this._requests[i].payload)})},this.websocket.onmessage=i=>{const s=i.data,o=JSON.parse(s);if(o.id!=null){const a=String(o.id),c=this._requests[a];if(delete this._requests[a],o.result!==void 0)c.callback(null,o.result),this.emit("debug",{action:"response",request:JSON.parse(c.payload),response:o.result,provider:this});else{let d=null;o.error?(d=new Error(o.error.message||"unknown error"),ke(d,"code",o.error.code||null),ke(d,"response",s)):d=new Error("unknown error"),c.callback(d,void 0),this.emit("debug",{action:"response",error:d,request:JSON.parse(c.payload),provider:this})}}else if(o.method==="eth_subscription"){const a=this._subs[o.params.subscription];a&&a.processFunc(o.params.result)}else console.warn("this should not happen")};const n=setInterval(()=>{this.emit("poll")},1e3);n.unref&&n.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){jy.throwError("cannot reset events block on WebSocketProvider",oe.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){jy.throwError("cannot set polling interval on WebSocketProvider",oe.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return Vw(this,void 0,void 0,function*(){return null})}set polling(e){e&&jy.throwError("cannot set polling on WebSocketProvider",oe.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,r){const n=q9++;return new Promise((i,s)=>{function o(c,d){return c?s(c):i(d)}const a=JSON.stringify({method:e,params:r,id:n,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(a),provider:this}),this._requests[String(n)]={callback:o,payload:a},this._wsReady&&this.websocket.send(a)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,r,n){return Vw(this,void 0,void 0,function*(){let i=this._subIds[e];i==null&&(i=Promise.all(r).then(o=>this.send("eth_subscribe",o)),this._subIds[e]=i);const s=yield i;this._subs[s]={tag:e,processFunc:n}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],r=>{const n=ue.from(r.number).toNumber();this._emitted.block=n,this.emit("block",n)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],r=>{this.emit("pending",r)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],r=>{r.removed==null&&(r.removed=!1),this.emit(e.filter,this.formatter.filterLog(r))});break;case"tx":{const r=n=>{const i=n.hash;this.getTransactionReceipt(i).then(s=>{s&&this.emit(i,s)})};r(e),this._subscribe("tx",["newHeads"],n=>{this._events.filter(i=>i.type==="tx").forEach(r)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let r=e.tag;if(e.type==="tx"){if(this._events.filter(i=>i.type==="tx").length)return;r="tx"}else if(this.listenerCount(e.event))return;const n=this._subIds[r];n&&(delete this._subIds[r],n.then(i=>{this._subs[i]&&(delete this._subs[i],this.send("eth_unsubscribe",[i]))}))}destroy(){return Vw(this,void 0,void 0,function*(){this.websocket.readyState===zp.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var H9=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const _p=new oe(fi);class G9 extends Yf{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return H9(this,void 0,void 0,function*(){let r=this.network;return r==null&&(r=yield e.detectNetwork.call(this),r||_p.throwError("no network detected",oe.errors.UNKNOWN_ERROR,{}),this._network==null&&(ke(this,"_network",r),this.emit("network",r,null))),r})}}class Al extends G9{constructor(e,r){_p.checkAbstract(new.target,Al),e=$s(new.target,"getNetwork")(e),r=$s(new.target,"getApiKey")(r);const n=$s(new.target,"getUrl")(e,r);super(n,e),typeof r=="string"?ke(this,"apiKey",r):r!=null&&Object.keys(r).forEach(i=>{ke(this,i,r[i])})}_startPending(){_p.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return _p.throwError("API provider does not support signing",oe.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,r){return _p.throwError("not implemented; sub-classes must override getUrl",oe.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const LA=new oe(fi),P0="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class K9 extends CC{constructor(e,r){const n=new y4(e,r),i=n.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(i,n.network),ke(this,"apiKey",n.apiKey)}isCommunityResource(){return this.apiKey===P0}}class y4 extends Al{static getWebSocketProvider(e,r){return new K9(e,r)}static getApiKey(e){return e==null?P0:(e&&typeof e!="string"&&LA.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,r){let n=null;switch(e.name){case"homestead":n="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":n="eth-goerli.g.alchemy.com/v2/";break;case"sepolia":n="eth-sepolia.g.alchemy.com/v2/";break;case"matic":n="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":n="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":n="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":n="arb-goerli.g.alchemy.com/v2/";break;case"arbitrum-sepolia":n="arb-sepolia.g.alchemy.com/v2/";break;case"optimism":n="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":n="opt-goerli.g.alchemy.com/v2/";break;case"optimism-sepolia":n="opt-sepolia.g.alchemy.com/v2/";break;default:LA.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+n+r,throttleCallback:(i,s)=>(r===P0&&Qx(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===P0}}const Y9=new oe(fi),Py="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function J9(t){switch(t){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"sepolia":return"rpc.ankr.com/eth_sepolia/";case"matic":return"rpc.ankr.com/polygon/";case"maticmum":return"rpc.ankr.com/polygon_mumbai/";case"optimism":return"rpc.ankr.com/optimism/";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet/";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return Y9.throwArgumentError("unsupported network","name",t)}class X9 extends Al{isCommunityResource(){return this.apiKey===Py}static getApiKey(e){return e??Py}static getUrl(e,r){r==null&&(r=Py);const n={allowGzip:!0,url:"https://"+J9(e.name)+r,throttleCallback:(i,s)=>(r.apiKey===Py&&Qx(),Promise.resolve(!0))};return r.projectSecret!=null&&(n.user="",n.password=r.projectSecret),n}}var Q9=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const FA=new oe(fi);class Z9 extends Al{static getApiKey(e){return e!=null&&FA.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,r){let n=null;switch(e.name){case"homestead":n="https://cloudflare-eth.com/";break;default:FA.throwArgumentError("unsupported network","network",arguments[0])}return n}perform(e,r){const n=Object.create(null,{perform:{get:()=>super.perform}});return Q9(this,void 0,void 0,function*(){return e==="getBlockNumber"?(yield n.perform.call(this,"getBlock",{blockTag:"latest"})).number:n.perform.call(this,e,r)})}}var Ry=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const lc=new oe(fi);function zA(t){const e={};for(let r in t){if(t[r]==null)continue;let n=t[r];r==="type"&&n===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r]?n=Wx(ut(n)):r==="accessList"?n="["+md(n).map(i=>`{address:"${i.address}",storageKeys:["${i.storageKeys.join('","')}"]}`).join(",")+"]":n=ut(n),e[r]=n)}return e}function eV(t){if(t.status==0&&(t.message==="No records found"||t.message==="No transactions found"))return t.result;if(t.status!=1||typeof t.message!="string"||!t.message.match(/^OK/)){const e=new Error("invalid response");throw e.result=JSON.stringify(t),(t.result||"").toLowerCase().indexOf("rate limit")>=0&&(e.throttleRetry=!0),e}return t.result}function BA(t){if(t&&t.status==0&&t.message=="NOTOK"&&(t.result||"").toLowerCase().indexOf("rate limit")>=0){const e=new Error("throttled response");throw e.result=JSON.stringify(t),e.throttleRetry=!0,e}if(t.jsonrpc!="2.0"){const e=new Error("invalid response");throw e.result=JSON.stringify(t),e}if(t.error){const e=new Error(t.error.message||"unknown error");throw t.error.code&&(e.code=t.error.code),t.error.data&&(e.data=t.error.data),e}return t.result}function $A(t){if(t==="pending")throw new Error("pending not supported");return t==="latest"?t:parseInt(t.substring(2),16)}function Ww(t,e,r){if(t==="call"&&e.code===oe.errors.SERVER_ERROR){const i=e.error;if(i&&(i.message.match(/reverted/i)||i.message.match(/VM execution error/i))){let s=i.data;if(s&&(s="0x"+s.replace(/^.*0x/i,"")),Yt(s))return s;lc.throwError("missing revert data in call exception",oe.errors.CALL_EXCEPTION,{error:e,data:"0x"})}}let n=e.message;throw e.code===oe.errors.SERVER_ERROR&&(e.error&&typeof e.error.message=="string"?n=e.error.message:typeof e.body=="string"?n=e.body:typeof e.responseText=="string"&&(n=e.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&lc.throwError("insufficient funds for intrinsic transaction cost",oe.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:r}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&lc.throwError("nonce has already been used",oe.errors.NONCE_EXPIRED,{error:e,method:t,transaction:r}),n.match(/another transaction with same nonce/)&&lc.throwError("replacement fee too low",oe.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:r}),n.match(/execution failed due to an exception|execution reverted/)&&lc.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",oe.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:r}),e}class tV extends _C{constructor(e,r){super(e),ke(this,"baseUrl",this.getBaseUrl()),ke(this,"apiKey",r||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return lc.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,r){const n=Object.keys(r).reduce((s,o)=>{const a=r[o];return a!=null&&(s+=`&${o}=${a}`),s},""),i=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${n}${i}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,r){return r.module=e,r.apikey=this.apiKey,r}fetch(e,r,n){return Ry(this,void 0,void 0,function*(){const i=n?this.getPostUrl():this.getUrl(e,r),s=n?this.getPostData(e,r):null,o=e==="proxy"?BA:eV;this.emit("debug",{action:"request",request:i,provider:this});const a={url:i,throttleSlotInterval:1e3,throttleCallback:(f,p)=>(this.isCommunityResource()&&Qx(),Promise.resolve(!0))};let c=null;s&&(a.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},c=Object.keys(s).map(f=>`${f}=${s[f]}`).join("&"));const d=yield Xx(a,c,o||BA);return this.emit("debug",{action:"response",request:i,response:Ws(d),provider:this}),d})}detectNetwork(){return Ry(this,void 0,void 0,function*(){return this.network})}perform(e,r){const n=Object.create(null,{perform:{get:()=>super.perform}});return Ry(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:r.address,tag:r.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:r.address,tag:r.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:r.address,tag:r.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:r.address,position:r.position,tag:r.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:r.signedTransaction},!0).catch(i=>Ww("sendTransaction",i,r.signedTransaction));case"getBlock":if(r.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:r.blockTag,boolean:r.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:r.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:r.transactionHash});case"call":{if(r.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const i=zA(r.transaction);i.module="proxy",i.action="eth_call";try{return yield this.fetch("proxy",i,!0)}catch(s){return Ww("call",s,r.transaction)}}case"estimateGas":{const i=zA(r.transaction);i.module="proxy",i.action="eth_estimateGas";try{return yield this.fetch("proxy",i,!0)}catch(s){return Ww("estimateGas",s,r.transaction)}}case"getLogs":{const i={action:"getLogs"};if(r.filter.fromBlock&&(i.fromBlock=$A(r.filter.fromBlock)),r.filter.toBlock&&(i.toBlock=$A(r.filter.toBlock)),r.filter.address&&(i.address=r.filter.address),r.filter.topics&&r.filter.topics.length>0&&(r.filter.topics.length>1&&lc.throwError("unsupported topic count",oe.errors.UNSUPPORTED_OPERATION,{topics:r.filter.topics}),r.filter.topics.length===1)){const a=r.filter.topics[0];(typeof a!="string"||a.length!==66)&&lc.throwError("unsupported topic format",oe.errors.UNSUPPORTED_OPERATION,{topic0:a}),i.topic0=a}const s=yield this.fetch("logs",i);let o={};for(let a=0;a<s.length;a++){const c=s[a];if(c.blockHash==null){if(o[c.blockNumber]==null){const d=yield this.getBlock(c.blockNumber);d&&(o[c.blockNumber]=d.hash)}c.blockHash=o[c.blockNumber]}}return s}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return n.perform.call(this,e,r)})}getHistory(e,r,n){return Ry(this,void 0,void 0,function*(){const i={action:"txlist",address:yield this.resolveName(e),startblock:r??0,endblock:n??99999999,sort:"asc"};return(yield this.fetch("account",i)).map(o=>{["contractAddress","to"].forEach(function(c){o[c]==""&&delete o[c]}),o.creates==null&&o.contractAddress!=null&&(o.creates=o.contractAddress);const a=this.formatter.transactionResponse(o);return o.timeStamp&&(a.timestamp=parseInt(o.timeStamp)),a})})}isCommunityResource(){return this.apiKey==null}}var ox=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const Au=new oe(fi);function Iy(){return new Date().getTime()}function UA(t){let e=null;for(let r=0;r<t.length;r++){const n=t[r];if(n==null)return null;e?e.name===n.name&&e.chainId===n.chainId&&(e.ensAddress===n.ensAddress||e.ensAddress==null&&n.ensAddress==null)||Au.throwArgumentError("provider mismatch","networks",t):e=n}return e}function VA(t,e){t=t.slice().sort();const r=Math.floor(t.length/2);if(t.length%2)return t[r];const n=t[r-1],i=t[r];return e!=null&&Math.abs(n-i)>e?null:(n+i)/2}function bf(t){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return JSON.stringify(t);if(typeof t=="string")return t;if(ue.isBigNumber(t))return t.toString();if(Array.isArray(t))return JSON.stringify(t.map(e=>bf(e)));if(typeof t=="object"){const e=Object.keys(t);return e.sort(),"{"+e.map(r=>{let n=t[r];return typeof n=="function"?n="[function]":n=bf(n),JSON.stringify(r)+":"+n}).join(",")+"}"}throw new Error("unknown value type: "+typeof t)}let rV=1;function WA(t){let e=null,r=null,n=new Promise(o=>{e=function(){r&&(clearTimeout(r),r=null),o()},r=setTimeout(e,t)});const i=o=>(n=n.then(o),n);function s(){return n}return{cancel:e,getPromise:s,wait:i}}const nV=[oe.errors.CALL_EXCEPTION,oe.errors.INSUFFICIENT_FUNDS,oe.errors.NONCE_EXPIRED,oe.errors.REPLACEMENT_UNDERPRICED,oe.errors.UNPREDICTABLE_GAS_LIMIT],iV=["address","args","errorArgs","errorSignature","method","transaction"];function My(t,e){const r={weight:t.weight};return Object.defineProperty(r,"provider",{get:()=>t.provider}),t.start&&(r.start=t.start),e&&(r.duration=e-t.start),t.done&&(t.error?r.error=t.error:r.result=t.result||null),r}function sV(t,e){return function(r){const n={};r.forEach(s=>{const o=t(s.result);n[o]||(n[o]={count:0,result:s.result}),n[o].count++});const i=Object.keys(n);for(let s=0;s<i.length;s++){const o=n[i[s]];if(o.count>=e)return o.result}}}function oV(t,e,r){let n=bf;switch(e){case"getBlockNumber":return function(i){const s=i.map(a=>a.result);let o=VA(i.map(a=>a.result),2);if(o!=null)return o=Math.ceil(o),s.indexOf(o+1)>=0&&o++,o>=t._highestBlockNumber&&(t._highestBlockNumber=o),t._highestBlockNumber};case"getGasPrice":return function(i){const s=i.map(o=>o.result);return s.sort(),s[Math.floor(s.length/2)]};case"getEtherPrice":return function(i){return VA(i.map(s=>s.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(i){return i==null?null:(i=Jr(i),i.confirmations=-1,bf(i))};break;case"getBlock":r.includeTransactions?n=function(i){return i==null?null:(i=Jr(i),i.transactions=i.transactions.map(s=>(s=Jr(s),s.confirmations=-1,s)),bf(i))}:n=function(i){return i==null?null:bf(i)};break;default:throw new Error("unknown method: "+e)}return sV(n,t.quorum)}function up(t,e){return ox(this,void 0,void 0,function*(){const r=t.provider;return r.blockNumber!=null&&r.blockNumber>=e||e===-1?r:vf(()=>new Promise((n,i)=>{setTimeout(function(){return r.blockNumber>=e?n(r):t.cancelled?n(null):n(void 0)},0)}),{oncePoll:r})})}function aV(t,e,r,n){return ox(this,void 0,void 0,function*(){let i=t.provider;switch(r){case"getBlockNumber":case"getGasPrice":return i[r]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&Yt(n.blockTag)&&(i=yield up(t,e)),i[r](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&Yt(n.blockTag)&&(i=yield up(t,e)),i.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&Yt(n.blockTag)&&(i=yield up(t,e)),i[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&Yt(n.blockTag)&&(i=yield up(t,e)),r==="call"&&n.blockTag?i[r](n.transaction,n.blockTag):i[r](n.transaction);case"getTransaction":case"getTransactionReceipt":return i[r](n.transactionHash);case"getLogs":{let s=n.filter;return(s.fromBlock&&Yt(s.fromBlock)||s.toBlock&&Yt(s.toBlock))&&(i=yield up(t,e)),i.getLogs(s)}}return Au.throwError("unknown method error",oe.errors.UNKNOWN_ERROR,{method:r,params:n})})}class lV extends _C{constructor(e,r){e.length===0&&Au.throwArgumentError("missing providers","providers",e);const n=e.map((o,a)=>{if(yC.isProvider(o)){const f=TA(o)?2e3:750;return Object.freeze({provider:o,weight:1,stallTimeout:f,priority:1})}const c=Jr(o);c.priority==null&&(c.priority=1),c.stallTimeout==null&&(c.stallTimeout=TA(o)?2e3:750),c.weight==null&&(c.weight=1);const d=c.weight;return(d%1||d>512||d<1)&&Au.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${a}].weight`,d),Object.freeze(c)}),i=n.reduce((o,a)=>o+a.weight,0);r==null?r=i/2:r>i&&Au.throwArgumentError("quorum will always fail; larger than total weight","quorum",r);let s=UA(n.map(o=>o.provider.network));s==null&&(s=new Promise((o,a)=>{setTimeout(()=>{this.detectNetwork().then(o,a)},0)})),super(s),ke(this,"providerConfigs",Object.freeze(n)),ke(this,"quorum",r),this._highestBlockNumber=-1}detectNetwork(){return ox(this,void 0,void 0,function*(){const e=yield Promise.all(this.providerConfigs.map(r=>r.provider.getNetwork()));return UA(e)})}perform(e,r){return ox(this,void 0,void 0,function*(){if(e==="sendTransaction"){const c=yield Promise.all(this.providerConfigs.map(d=>d.provider.sendTransaction(r.signedTransaction).then(f=>f.hash,f=>f)));for(let d=0;d<c.length;d++){const f=c[d];if(typeof f=="string")return f}throw c[0]}this._highestBlockNumber===-1&&e!=="getBlockNumber"&&(yield this.getBlockNumber());const n=oV(this,e,r),i=k9(this.providerConfigs.map(Jr));i.sort((c,d)=>c.priority-d.priority);const s=this._highestBlockNumber;let o=0,a=!0;for(;;){const c=Iy();let d=i.filter(m=>m.runner&&c-m.start<m.stallTimeout).reduce((m,v)=>m+v.weight,0);for(;d<this.quorum&&o<i.length;){const m=i[o++],v=rV++;m.start=Iy(),m.staller=WA(m.stallTimeout),m.staller.wait(()=>{m.staller=null}),m.runner=aV(m,s,e,r).then(x=>{m.done=!0,m.result=x,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:v,backend:My(m,Iy()),request:{method:e,params:Ws(r)},provider:this})},x=>{m.done=!0,m.error=x,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:v,backend:My(m,Iy()),request:{method:e,params:Ws(r)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:v,backend:My(m,null),request:{method:e,params:Ws(r)},provider:this}),d+=m.weight}const f=[];i.forEach(m=>{m.done||!m.runner||(f.push(m.runner),m.staller&&f.push(m.staller.getPromise()))}),f.length&&(yield Promise.race(f));const p=i.filter(m=>m.done&&m.error==null);if(p.length>=this.quorum){const m=n(p);if(m!==void 0)return i.forEach(v=>{v.staller&&v.staller.cancel(),v.cancelled=!0}),m;a||(yield WA(100).getPromise()),a=!1}const g=i.reduce((m,v)=>{if(!v.done||v.error==null)return m;const x=v.error.code;return nV.indexOf(x)>=0&&(m[x]||(m[x]={error:v.error,weight:0}),m[x].weight+=v.weight),m},{});if(Object.keys(g).forEach(m=>{const v=g[m];if(v.weight<this.quorum)return;i.forEach(E=>{E.staller&&E.staller.cancel(),E.cancelled=!0});const x=v.error,w={};iV.forEach(E=>{x[E]!=null&&(w[E]=x[E])}),Au.throwError(x.reason||x.message,m,w)}),i.filter(m=>!m.done).length===0)break}return i.forEach(c=>{c.staller&&c.staller.cancel(),c.cancelled=!0}),Au.throwError("failed to meet quorum",oe.errors.SERVER_ERROR,{method:e,params:r,results:i.map(c=>My(c)),provider:this})})}}const cV=null,R0=new oe(fi),Cp="84842078b09946638c03157f83405213";class uV extends CC{constructor(e,r){const n=new x4(e,r),i=n.connection;i.password&&R0.throwError("INFURA WebSocket project secrets unsupported",oe.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const s=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(s,e),ke(this,"apiKey",n.projectId),ke(this,"projectId",n.projectId),ke(this,"projectSecret",n.projectSecret)}isCommunityResource(){return this.projectId===Cp}}class x4 extends Al{static getWebSocketProvider(e,r){return new uV(e,r)}static getApiKey(e){const r={apiKey:Cp,projectId:Cp,projectSecret:null};return e==null||(typeof e=="string"?r.projectId=e:e.projectSecret!=null?(R0.assertArgument(typeof e.projectId=="string","projectSecret requires a projectId","projectId",e.projectId),R0.assertArgument(typeof e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),r.projectId=e.projectId,r.projectSecret=e.projectSecret):e.projectId&&(r.projectId=e.projectId),r.apiKey=r.projectId),r}static getUrl(e,r){let n=null;switch(e?e.name:"unknown"){case"homestead":n="mainnet.infura.io";break;case"goerli":n="goerli.infura.io";break;case"sepolia":n="sepolia.infura.io";break;case"matic":n="polygon-mainnet.infura.io";break;case"maticmum":n="polygon-mumbai.infura.io";break;case"optimism":n="optimism-mainnet.infura.io";break;case"optimism-goerli":n="optimism-goerli.infura.io";break;case"optimism-sepolia":n="optimism-sepolia.infura.io";break;case"arbitrum":n="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":n="arbitrum-goerli.infura.io";break;case"arbitrum-sepolia":n="arbitrum-sepolia.infura.io";break;default:R0.throwError("unsupported network",oe.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i={allowGzip:!0,url:"https://"+n+"/v3/"+r.projectId,throttleCallback:(s,o)=>(r.projectId===Cp&&Qx(),Promise.resolve(!0))};return r.projectSecret!=null&&(i.user="",i.password=r.projectSecret),i}isCommunityResource(){return this.projectId===Cp}}const qw=new oe(fi),dV="ETHERS_JS_SHARED";class fV extends Al{static getApiKey(e){return e&&typeof e!="string"&&qw.throwArgumentError("invalid apiKey","apiKey",e),e||dV}static getUrl(e,r){qw.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let n=null;switch(e.name){case"homestead":n="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":n="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":n="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":n="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":n="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:qw.throwArgumentError("unsupported network","network",arguments[0])}return n+"?apiKey="+r}}const qA=new oe(fi),HA="62e1ad51b37b8e00394bda3b";class hV extends Al{static getApiKey(e){const r={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return e==null?r.applicationId=HA:typeof e=="string"?r.applicationId=e:e.applicationSecretKey!=null?(r.applicationId=e.applicationId,r.applicationSecretKey=e.applicationSecretKey):e.applicationId?r.applicationId=e.applicationId:qA.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),r}static getUrl(e,r){let n=null;switch(e?e.name:"unknown"){case"goerli":n="eth-goerli.gateway.pokt.network";break;case"homestead":n="eth-mainnet.gateway.pokt.network";break;case"kovan":n="poa-kovan.gateway.pokt.network";break;case"matic":n="poly-mainnet.gateway.pokt.network";break;case"maticmum":n="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":n="eth-rinkeby.gateway.pokt.network";break;case"ropsten":n="eth-ropsten.gateway.pokt.network";break;default:qA.throwError("unsupported network",oe.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i=`https://${n}/v1/lb/${r.applicationId}`,s={headers:{},url:i};return r.applicationSecretKey!=null&&(s.user="",s.password=r.applicationSecretKey),s}isCommunityResource(){return this.applicationId===HA}}const GA=new oe(fi),pV="919b412a057b5e9c9b6dce193c5a60242d6efadb";class mV extends Al{static getApiKey(e){return e&&typeof e!="string"&&GA.throwArgumentError("invalid apiKey","apiKey",e),e||pV}static getUrl(e,r){let n=null;switch(e.name){case"homestead":n="ethers.quiknode.pro";break;case"goerli":n="ethers.ethereum-goerli.quiknode.pro";break;case"sepolia":n="ethers.ethereum-sepolia.quiknode.pro";break;case"holesky":n="ethers.ethereum-holesky.quiknode.pro";break;case"arbitrum":n="ethers.arbitrum-mainnet.quiknode.pro";break;case"arbitrum-goerli":n="ethers.arbitrum-goerli.quiknode.pro";break;case"arbitrum-sepolia":n="ethers.arbitrum-sepolia.quiknode.pro";break;case"base":n="ethers.base-mainnet.quiknode.pro";break;case"base-goerli":n="ethers.base-goerli.quiknode.pro";break;case"base-spolia":n="ethers.base-sepolia.quiknode.pro";break;case"bnb":n="ethers.bsc.quiknode.pro";break;case"bnbt":n="ethers.bsc-testnet.quiknode.pro";break;case"matic":n="ethers.matic.quiknode.pro";break;case"maticmum":n="ethers.matic-testnet.quiknode.pro";break;case"optimism":n="ethers.optimism.quiknode.pro";break;case"optimism-goerli":n="ethers.optimism-goerli.quiknode.pro";break;case"optimism-sepolia":n="ethers.optimism-sepolia.quiknode.pro";break;case"xdai":n="ethers.xdai.quiknode.pro";break;default:GA.throwArgumentError("unsupported network","network",arguments[0])}return"https://"+n+"/"+r}}const KA=new oe(fi);let gV=1;function YA(t,e){const r="Web3LegacyFetcher";return function(n,i){const s={method:n,params:i,id:gV++,jsonrpc:"2.0"};return new Promise((o,a)=>{this.emit("debug",{action:"request",fetcher:r,request:Ws(s),provider:this}),e(s,(c,d)=>{if(c)return this.emit("debug",{action:"response",fetcher:r,error:c,request:s,provider:this}),a(c);if(this.emit("debug",{action:"response",fetcher:r,request:s,response:d,provider:this}),d.error){const f=new Error(d.error.message);return f.code=d.error.code,f.data=d.error.data,a(f)}o(d.result)})})}}function yV(t){return function(e,r){r==null&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Ws(n),provider:this}),t.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class bc extends Yf{constructor(e,r){e==null&&KA.throwArgumentError("missing provider","provider",e);let n=null,i=null,s=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),s=e,e.request?(n===""&&(n="eip-1193:"),i=yV(e)):e.sendAsync?i=YA(e,e.sendAsync.bind(e)):e.send?i=YA(e,e.send.bind(e)):KA.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,r),ke(this,"jsonRpcFetchFunc",i),ke(this,"provider",s)}send(e,r){return this.jsonRpcFetchFunc(e,r)}}const JA=new oe(fi);function Rf(t,e){if(t==null&&(t="homestead"),typeof t=="string"){const n=t.match(/^(ws|http)s?:/i);if(n)switch(n[1].toLowerCase()){case"http":case"https":return new Yf(t);case"ws":case"wss":return new CC(t);default:JA.throwArgumentError("unsupported URL scheme","network",t)}}const r=f4(t);return(!r||!r._defaultProvider)&&JA.throwError("unsupported getDefaultProvider network",oe.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:t}),r._defaultProvider({FallbackProvider:lV,AlchemyProvider:y4,AnkrProvider:X9,CloudflareProvider:Z9,EtherscanProvider:tV,InfuraProvider:x4,JsonRpcProvider:Yf,NodesmithProvider:fV,PocketProvider:hV,QuickNodeProvider:mV,Web3Provider:bc,IpcProvider:cV},e)}const xV="units/5.8.0",vV=new oe(xV),bV=["wei","kwei","mwei","gwei","szabo","finney","ether"];function og(t,e){return C0(t,e)}function Cn(t,e){if(typeof t!="string"&&vV.throwArgumentError("value must be a string","value",t),typeof e=="string"){const r=bV.indexOf(e);r!==-1&&(e=3*r)}return ba(t,e??18)}function Ir(t){return og(t,18)}function Dc(t){return Cn(t,18)}const Ht={1:{name:"Ethereum Mainnet",rpcUrl:"https://ethereum-rpc.publicnode.com",explorer:"https://etherscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},10:{name:"OP Mainnet",rpcUrl:"https://mainnet.optimism.io",explorer:"https://optimistic.etherscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},56:{name:"BNB Smart Chain",rpcUrl:"https://bsc.blockrazor.xyz",explorer:"https://bscscan.com",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},97:{name:"BNB Smart Chain Testnet",rpcUrl:"https://bsc-testnet-rpc.publicnode.com",explorer:"https://testnet.bscscan.com",nativeCurrency:{name:"Test BNB",symbol:"tBNB",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},43113:{name:"Avalanche Fuji Testnet",rpcUrl:"https://avalanche-fuji.drpc.org",explorer:"https://testnet.snowscan.xyz",nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},43114:{name:"Avalanche C-Chain",rpcUrl:"https://avalanche.drpc.org",explorer:"https://snowscan.xyz",nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},8453:{name:"Base Mainnet",rpcUrl:"https://base.drpc.org",explorer:"https://basescan.org",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},84532:{name:"Base Sepolia",rpcUrl:"https://base-sepolia-rpc.publicnode.com",explorer:"https://sepolia.basescan.org",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x0b2418eA4c3c8dab2648d30e82283caA6E7C4419",poolDeployer:"0x0B79101Ef130342DDCaC9ac213A405E4B3f869e4",revenueManager:"0x98a7d02B4BDf0593fbEe6F99B55F14a6c13B62D2",nftFactory:"0x8c07B8dA7BBAf26439B3b1d77Ea72adD60617F26",socialEngagementManager:"0x33a15DF0415130bE215f45159991D2e853e6a03F"}},11155111:{name:"Ethereum Sepolia",rpcUrl:"https://sepolia.infura.io",explorer:"https://sepolia.etherscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},11155420:{name:"OP Sepolia Testnet",rpcUrl:"https://sepolia.optimism.io",explorer:"https://sepolia-optimism.etherscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},2020:{name:"Ronin Mainnet",rpcUrl:"https://ronin.drpc.org",explorer:"https://app.roninchain.com/",nativeCurrency:{name:"Ronin",symbol:"RON",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},2021:{name:"Ronin Saigon Testnet",rpcUrl:"https://saigon-testnet.roninchain.com/rpc",explorer:"https://saigon-app.roninchain.com/explorer",nativeCurrency:{name:"Ronin",symbol:"RON",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},42161:{name:"Arbitrum One",rpcUrl:"https://arbitrum.drpc.org",explorer:"https://arbiscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},421614:{name:"Arbitrum Sepolia",rpcUrl:"https://endpoints.omniatech.io/v1/arbitrum/sepolia/public",explorer:"https://sepolia.arbiscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}}},v4=C.createContext(),xr=()=>{const t=C.useContext(v4);if(!t)throw new Error("useWallet must be used within a WalletProvider");return t},wV=({children:t})=>{const[e,r]=C.useState(null),[n,i]=C.useState(null),[s,o]=C.useState(""),[a,c]=C.useState(!1),[d,f]=C.useState(null),[p,g]=C.useState(!1),[m,v]=C.useState(null),[x,w]=C.useState(!1),[E,P]=C.useState(!1);C.useEffect(()=>{R()},[]),C.useEffect(()=>{if(window.ethereum)return window.ethereum.on("accountsChanged",S),window.ethereum.on("chainChanged",B),()=>{window.ethereum.removeListener("accountsChanged",S),window.ethereum.removeListener("chainChanged",B)}},[]),C.useEffect(()=>{d&&Ht[d]?v(Ht[d]):v(null)},[d]);const R=async()=>{if(window.ethereum)try{(await window.ethereum.request({method:"eth_accounts"})).length>0?await $("metamask"):w(!0)}catch(F){console.error("Error checking connection:",F),w(!0)}else w(!0)},S=F=>{F.length===0?q():o(F[0])},B=F=>{console.log("Chain changed to:",F),P(!0),f(parseInt(F,16)),setTimeout(async()=>{try{window.ethereum&&(await window.ethereum.request({method:"eth_accounts"})).length>0&&await $("metamask")}catch(b){console.error("Error reconnecting after chain change:",b)}finally{setTimeout(()=>{P(!1)},500)}},1500)},$=async F=>{g(!0);try{let b;switch(F){case"metamask":if(!window.ethereum)throw new Error("MetaMask is not installed");await window.ethereum.request({method:"eth_requestAccounts"}),b=new bc(window.ethereum);break;default:throw new Error("Unsupported wallet type")}const A=b.getSigner(),D=await A.getAddress(),j=await b.getNetwork();r(b),i(A),o(D),f(j.chainId),c(!0),w(!0),localStorage.setItem("walletConnected",F)}catch(b){throw console.error("Error connecting wallet:",b),b}finally{g(!1)}},q=()=>{r(null),i(null),o(""),c(!1),f(null),w(!0),localStorage.removeItem("walletConnected")},G=async F=>{if(!window.ethereum)throw new Error("MetaMask is not installed");try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${F.toString(16)}`}]})}catch(b){throw b.code===4902?new Error("Please add this network to your wallet first"):b}},H=d&&Ht[d],W={provider:e,signer:n,address:s,connected:a,chainId:d,loading:p,isInitialized:x,isReconnecting:E,connectWallet:$,disconnect:q,switchNetwork:G,addNetwork:async F=>{if(!window.ethereum)throw new Error("MetaMask is not installed");const b=Ht[F];if(!b)throw new Error("Network config not found");try{await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${F.toString(16)}`,chainName:b.name,rpcUrls:[b.rpcUrl],blockExplorerUrls:[b.explorer],nativeCurrency:b.nativeCurrency||{name:"ETH",symbol:"ETH",decimals:18}}]})}catch(A){throw A}},formatAddress:F=>F?`${F.slice(0,6)}...${F.slice(-4)}`:"",networkInfo:m,isSupportedNetwork:H};return l.jsx(v4.Provider,{value:W,children:t})},kV=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"}],name:"PoolRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"bool",name:"whitelisted",type:"bool"}],name:"ERC20PrizeWhitelisted",type:"event"},{inputs:[],name:"getAllPools",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"creator",type:"address"}],name:"getPoolsByCreator",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"pool",type:"address"}],name:"getPoolCreator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"poolCreationTimestamps",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"addERC20Prize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAllSlotLimits",outputs:[{internalType:"uint256",name:"minPrized",type:"uint256"},{internalType:"uint256",name:"minNonPrized",type:"uint256"},{internalType:"uint256",name:"max",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDurationLimits",outputs:[{internalType:"uint256",name:"min",type:"uint256"},{internalType:"uint256",name:"max",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMaxSlotsPerParticipant",outputs:[{internalType:"uint256",name:"max",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minSlotLimitNonPrized",outputs:[{internalType:"uint256",name:"min",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxSlotsPerParticipant",outputs:[{internalType:"uint256",name:"max",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"isERC20PrizeWhitelisted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"collection",type:"address"}],name:"isInternalCollection",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isVRFConsumer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_collection",type:"address"}],name:"isCollectionApproved",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"socialEngagementFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRevenueManager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],_V=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"},{indexed:!0,internalType:"address",name:"creator",type:"address"}],name:"PoolCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"collection",type:"address"}],name:"PrizeCollectionCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"},{indexed:!1,internalType:"string",name:"description",type:"string"},{indexed:!1,internalType:"string",name:"twitterLink",type:"string"},{indexed:!1,internalType:"string",name:"discordLink",type:"string"},{indexed:!1,internalType:"string",name:"telegramLink",type:"string"}],name:"PoolMetadataSet",type:"event"},{inputs:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"duration",type:"uint256"},{internalType:"uint256",name:"slotLimit",type:"uint256"},{internalType:"uint256",name:"winnersCount",type:"uint256"},{internalType:"uint256",name:"maxSlotsPerParticipant",type:"uint256"},{internalType:"bool",name:"isPrized",type:"bool"},{internalType:"uint256",name:"customSlotFee",type:"uint256"},{internalType:"bool",name:"erc721Drop",type:"bool"},{internalType:"bool",name:"erc1155Drop",type:"bool"},{internalType:"address",name:"prizeCollection",type:"address"},{internalType:"uint8",name:"standard",type:"uint8"},{internalType:"uint256",name:"prizeTokenId",type:"uint256"},{internalType:"uint256",name:"amountPerWinner",type:"uint256"},{internalType:"string",name:"collectionName",type:"string"},{internalType:"string",name:"collectionSymbol",type:"string"},{internalType:"string",name:"collectionBaseURI",type:"string"},{internalType:"address",name:"creator",type:"address"},{internalType:"uint256",name:"royaltyPercentage",type:"uint256"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"maxSupply",type:"uint256"},{internalType:"address",name:"erc20PrizeToken",type:"address"},{internalType:"uint256",name:"erc20PrizeAmount",type:"uint256"},{internalType:"uint256",name:"nativePrizeAmount",type:"uint256"},{internalType:"uint8",name:"revealType",type:"uint8"},{internalType:"string",name:"unrevealedBaseURI",type:"string"},{internalType:"uint256",name:"revealTime",type:"uint256"},{internalType:"address",name:"holderTokenAddress",type:"address"},{internalType:"uint8",name:"holderTokenStandard",type:"uint8"},{internalType:"uint256",name:"minHolderTokenBalance",type:"uint256"},{internalType:"uint256",name:"holderTokenBalance",type:"uint256"},{internalType:"uint256",name:"holderTokenId",type:"uint256"},{internalType:"bool",name:"socialEngagementRequired",type:"bool"},{internalType:"string",name:"socialTaskDescription",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"string",name:"twitterLink",type:"string"},{internalType:"string",name:"discordLink",type:"string"},{internalType:"string",name:"telegramLink",type:"string"}],internalType:"struct PoolDeployer.PoolParams",name:"p",type:"tuple"}],name:"createPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"}],CV=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"AdminDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"AdminWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"adminRevenue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"depositAdmin",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],SV=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"collection",type:"address"},{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"uint8",name:"standard",type:"uint8"}],name:"PrizeCollectionCreated",type:"event"},{inputs:[{internalType:"uint8",name:"standard",type:"uint8"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"string",name:"baseURI",type:"string"},{internalType:"address",name:"initialOwner",type:"address"},{internalType:"uint256",name:"royaltyPercentage",type:"uint256"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"maxSupply",type:"uint256"},{internalType:"address",name:"poolAddress",type:"address"}],name:"createPrizeCollection",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"erc1155Implementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"erc721Implementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocolManager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"collection",type:"address"},{internalType:"bytes32",name:"signature",type:"bytes32"}],name:"validateSignature",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],EV=[{inputs:[],name:"UnauthorizedMinter",type:"error"},{inputs:[],name:"ZeroQuantity",type:"error"},{inputs:[],name:"ExceedsMaxSupply",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"winner",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"PrizeMinted",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"salePrice",type:"uint256"}],name:"royaltyInfo",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"royaltyPercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"royaltyRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_royaltyPercentage",type:"uint256"},{internalType:"address",name:"_royaltyRecipient",type:"address"}],name:"setRoyalty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isRoyaltyEnforcementExempt",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"bool",name:"exempt",type:"bool"}],name:"setRoyaltyEnforcementExemption",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"minterLocked",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"minter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_minter",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setMinterApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockMinterApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lockMinterApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"reveal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unrevealedBaseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"}],name:"creatorMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"creatorMintedCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"isRevealed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_kol",type:"address"},{internalType:"uint256",name:"_poolLimit",type:"uint256"},{internalType:"uint256",name:"_enforcedSlotFee",type:"uint256"},{internalType:"uint256",name:"_enforcedWinnerCount",type:"uint256"}],name:"approveKOL",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_kol",type:"address"}],name:"getKOLApprovalDetails",outputs:[{internalType:"bool",name:"approved",type:"bool"},{internalType:"uint256",name:"poolLimit",type:"uint256"},{internalType:"uint256",name:"enforcedSlotFee",type:"uint256"},{internalType:"uint256",name:"enforcedWinnerCount",type:"uint256"},{internalType:"uint256",name:"poolCount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_kol",type:"address"}],name:"revokeKOL",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"cliffEnd",type:"uint256"},{internalType:"uint256",name:"numberOfUnlocks",type:"uint256"},{internalType:"uint256",name:"durationBetweenUnlocks",type:"uint256"}],name:"configureCreatorVesting",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"creationTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"creatorClaimedCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAvailableCreatorMint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getUnlockedAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"vestingConfig",outputs:[{internalType:"uint256",name:"cliffEnd",type:"uint256"},{internalType:"uint256",name:"numberOfUnlocks",type:"uint256"},{internalType:"uint256",name:"durationBetweenUnlocks",type:"uint256"},{internalType:"uint256",name:"amountPerUnlock",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"vestingConfigured",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],TV=JSON.parse('[{"inputs":[],"name":"UnauthorizedMinter","type":"error"},{"inputs":[],"name":"SupplyNotSet","type":"error"},{"inputs":[],"name":"ExceedsMaxSupply","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"minter","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"PrizeMinted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"indexed":false,"internalType":"uint256[]","name":"values","type":"uint256[]"}],"name":"TransferBatch","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"TransferSingle","type":"event"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"accounts","type":"address[]"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"}],"name":"balanceOfBatch","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"salePrice","type":"uint256"}],"name":"royaltyInfo","outputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"royaltyPercentage","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"royaltyRecipient","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeBatchTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_royaltyPercentage","type":"uint256"},{"internalType":"address","name":"_royaltyRecipient","type":"address"}],"name":"setRoyalty","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"isRoyaltyEnforcementExempt","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"bool","name":"exempt","type":"bool"}],"name":"setRoyaltyEnforcementExemption","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"name":"uri","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_minter","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setMinterApproval","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"lockMinterApproval","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unlockMinterApproval","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"reveal","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"},{"internalType":"uint256","name":"_maxSupply","type":"uint256"}],"name":"createNewToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"},{"internalType":"string","name":"_uri","type":"string"}],"name":"setURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unrevealedURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"quantity","type":"uint256"}],"name":"creatorMint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"creatorMintedCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isRevealed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_kol","type":"address"},{"internalType":"uint256","name":"_poolLimit","type":"uint256"},{"internalType":"uint256","name":"_enforcedSlotFee","type":"uint256"},{"internalType":"uint256","name":"_enforcedWinnerCount","type":"uint256"}],"name":"approveKOL","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_kol","type":"address"}],"name":"getKOLApprovalDetails","outputs":[{"internalType":"bool","name":"approved","type":"bool"},{"internalType":"uint256","name":"poolLimit","type":"uint256"},{"internalType":"uint256","name":"enforcedSlotFee","type":"uint256"},{"internalType":"uint256","name":"enforcedWinnerCount","type":"uint256"},{"internalType":"uint256","name":"poolCount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_kol","type":"address"}],"name":"revokeKOL","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"cliffEnd","type":"uint256"},{"internalType":"uint256","name":"numberOfUnlocks","type":"uint256"},{"internalType":"uint256","name":"durationBetweenUnlocks","type":"uint256"}],"name":"configureCreatorVesting","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"tokenCreationTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"creatorClaimedCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getAvailableCreatorMint","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getUnlockedAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"vestingConfig","outputs":[{"internalType":"uint256","name":"cliffEnd","type":"uint256"},{"internalType":"uint256","name":"numberOfUnlocks","type":"uint256"},{"internalType":"uint256","name":"durationBetweenUnlocks","type":"uint256"},{"internalType":"uint256","name":"amountPerUnlock","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"vestingConfigured","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"maxSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]'),NV=JSON.parse('[{"inputs":[{"internalType":"address","name":"_factory","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"ContractsCannotPurchase","type":"error"},{"inputs":[],"name":"CreatorNotAllowed","type":"error"},{"inputs":[],"name":"ExceedsMaxSlots","type":"error"},{"inputs":[],"name":"ExceedsSlotLimit","type":"error"},{"inputs":[],"name":"IncorrectPayment","type":"error"},{"inputs":[],"name":"InvalidNonPrizedPurchase","type":"error"},{"inputs":[],"name":"InvalidState","type":"error"},{"inputs":[],"name":"OnlyOperator","type":"error"},{"inputs":[],"name":"PoolDurationElapsed","type":"error"},{"inputs":[],"name":"ProtocolAdminNotAllowed","type":"error"},{"inputs":[],"name":"SocialEngagementNotConfigured","type":"error"},{"inputs":[],"name":"ZeroAddress","type":"error"},{"inputs":[],"name":"ZeroQuantity","type":"error"},{"inputs":[],"name":"ZeroSlotFee","type":"error"},{"inputs":[],"name":"NotAWinner","type":"error"},{"inputs":[],"name":"NoPrizesToClaim","type":"error"},{"inputs":[],"name":"InvalidPrizeAmount","type":"error"},{"inputs":[],"name":"PrizeTransferFailed","type":"error"},{"inputs":[],"name":"InvalidPrizeCollection","type":"error"},{"inputs":[],"name":"InvalidPoolState","type":"error"},{"inputs":[],"name":"UnauthorizedCaller","type":"error"},{"inputs":[],"name":"ExceedsWinnersCount","type":"error"},{"inputs":[],"name":"MintingNotSupported","type":"error"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"reason","type":"string"}],"name":"BatchProcessingFailed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes","name":"lowLevelData","type":"bytes"}],"name":"BatchProcessingFailedBytes","type":"event"},{"anonymous":false,"inputs":[],"name":"FullRefundEnabledForDeletion","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"participant","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"FullRefundForDeletion","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[],"name":"PoolActivated","type":"event"},{"anonymous":false,"inputs":[],"name":"PoolDeleted","type":"event"},{"anonymous":false,"inputs":[],"name":"PoolEnded","type":"event"},{"anonymous":false,"inputs":[],"name":"PoolUnengaged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"winner","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"PrizeClaimed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"requestId","type":"uint256"}],"name":"RandomRequested","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"participant","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"RefundClaimed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"recipient","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"RevenueWithdrawn","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"participant","type":"address"},{"indexed":false,"internalType":"uint256","name":"quantity","type":"uint256"}],"name":"SlotsPurchased","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"reason","type":"string"}],"name":"VRFRequestFailed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes","name":"lowLevelData","type":"bytes"}],"name":"VRFRequestFailedBytes","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address[]","name":"winners","type":"address[]"}],"name":"WinnersSelected","type":"event"},{"inputs":[{"internalType":"uint256","name":"batchRandomSeed","type":"uint256"}],"name":"_processBatchWithRandomness","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"activate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"amountPerWinner","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"claimPrize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"claimRefund","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"claimedWins","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"creationFeePercentage","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"creator","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"currentBatchSize","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"deletePool","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"duration","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"endPool","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"endTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"erc20PrizeAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"erc20PrizeToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"erc721EscrowClaimed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getActualPoolDuration","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getParticipantsCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"participant","type":"address"}],"name":"getRefundableAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSlotLimit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"participant","type":"address"}],"name":"getSlotsPurchased","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getUniqueParticipantsCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"globalFeeProtocolRevenue","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"globalFeeRefundablePool","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"hasClaimedGlobalFeeRefund","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"hasCompletedSocialEngagement","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"holderTokenAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"holderTokenId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"holderTokenStandard","outputs":[{"internalType":"enum PrizeTypes.Standard","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"i_vrfCoordinator","outputs":[{"internalType":"contract VRFCoordinatorV2PlusInterface","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_manager","type":"address"},{"internalType":"string","name":"_name","type":"string"},{"internalType":"bool","name":"_isPrized","type":"bool"},{"internalType":"uint256","name":"_startTime","type":"uint256"},{"internalType":"uint256","name":"_duration","type":"uint256"},{"internalType":"uint256","name":"_winnersCount","type":"uint256"},{"internalType":"bool","name":"_isEscrowedPrize","type":"bool"},{"internalType":"address","name":"_prizeCollection","type":"address"},{"internalType":"address","name":"_creator","type":"address"},{"internalType":"uint256","name":"_slotLimit","type":"uint256"},{"internalType":"uint256","name":"_slotFee","type":"uint256"},{"internalType":"uint256","name":"_maxSlotsPerParticipant","type":"uint256"},{"internalType":"enum PrizeTypes.Standard","name":"_standard","type":"uint8"},{"internalType":"uint256","name":"_prizeTokenId","type":"uint256"},{"internalType":"uint256","name":"_amountPerWinner","type":"uint256"},{"internalType":"address","name":"_erc20PrizeToken","type":"address"},{"internalType":"uint256","name":"_erc20PrizeAmount","type":"uint256"},{"internalType":"uint256","name":"_nativePrizeAmount","type":"uint256"},{"internalType":"bool","name":"_usesCustomFee","type":"bool"},{"internalType":"address","name":"_holderTokenAddress","type":"address"},{"internalType":"enum PrizeTypes.Standard","name":"_holderTokenStandard","type":"uint8"},{"internalType":"uint256","name":"_minHolderTokenBalance","type":"uint256"},{"internalType":"uint256","name":"_holderTokenId","type":"uint256"},{"internalType":"address","name":"_revenueRecipient","type":"address"},{"internalType":"bool","name":"_socialEngagementRequired","type":"bool"},{"internalType":"bool","name":"_isCollabPool","type":"bool"}],"name":"initialize","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"isCollabPool","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isEscrowedPrize","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isPrized","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isRefundable","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"isUniqueParticipant","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxSlotsPerParticipant","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minHolderTokenBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"winner","type":"address"}],"name":"mintToWinner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"nativePrizeAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256[]","name":"","type":"uint256[]"},{"internalType":"uint256[]","name":"","type":"uint256[]"},{"internalType":"bytes","name":"","type":"bytes"}],"name":"onERC1155BatchReceived","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bytes","name":"","type":"bytes"}],"name":"onERC1155Received","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bytes","name":"","type":"bytes"}],"name":"onERC721Received","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"participants","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pendingProtocolFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"participant","type":"address"}],"name":"prizeClaimed","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"prizeCollection","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"prizeTokenId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"prizesClaimedCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"protocolFeePercentage","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"protocolFeeTaken","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"quantity","type":"uint256"},{"internalType":"uint256","name":"_nonce","type":"uint256"},{"internalType":"uint256","name":"_deadline","type":"uint256"},{"internalType":"bytes","name":"_signature","type":"bytes"}],"name":"purchaseSlots","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"randomRequested","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"randomSeed","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"randomnessUsed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"requestId","type":"uint256"},{"internalType":"uint256[]","name":"randomWords","type":"uint256[]"}],"name":"rawFulfillRandomWords","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"refundableAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"refundedNonWinningSlots","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"removeFromVRFSubscription","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"requestRandomWords","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"revenueRecipient","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"s_vrf_callbackGasLimit","outputs":[{"internalType":"uint32","name":"","type":"uint32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"s_vrf_keyHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"s_vrf_lastRequestId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"s_vrf_requestConfirmations","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"s_vrf_subscriptionId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"shuffleStartIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"slotFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"slotLimit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"slotsPurchased","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"socialEngagementRequired","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"standard","outputs":[{"internalType":"enum PrizeTypes.Standard","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"startTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"state","outputs":[{"internalType":"enum IPool.PoolState","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalCreatorRevenue","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalGlobalFeeRevenue","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalRefundableAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"uniqueParticipantsCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"usesCustomFee","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"wasDeletedForFullRefund","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"winners","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"winnersCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"winnersSelected","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"winsPerAddress","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"withdrawCreatorRevenue","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawEscrowedPrize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawProtocolRevenue","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),AV=[{inputs:[{internalType:"address",name:"",type:"address"}],name:"tasks",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"},{internalType:"address",name:"_pool",type:"address"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"verify",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"signer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"usedSignatures",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],jV=["function allowance(address owner, address spender) view returns (uint256)","function approve(address spender, uint256 amount) returns (bool)","function decimals() view returns (uint8)"],ht={protocolManager:kV,poolDeployer:_V,revenueManager:CV,nftFactory:SV,erc721Prize:EV,erc1155Prize:TV,socialEngagementManager:AV,pool:NV,erc20:jV};var PV=t=>{switch(t){case"success":return MV;case"info":return OV;case"warning":return DV;case"error":return LV;default:return null}},RV=Array(12).fill(0),IV=({visible:t,className:e})=>be.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},be.createElement("div",{className:"sonner-spinner"},RV.map((r,n)=>be.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),MV=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),DV=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),OV=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),LV=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),FV=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},be.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),be.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),zV=()=>{let[t,e]=be.useState(document.hidden);return be.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Sk=1,BV=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Sk++,s=this.toasts.find(a=>a.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...t,id:i,title:r}),{...a,...t,id:i,dismissible:o,title:r}):a):this.addToast({title:r,...n,dismissible:o,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=r!==void 0,s,o=n.then(async c=>{if(s=["resolve",c],be.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(UV(c)&&!c.ok){i=!1;let d=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,f=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:r,type:"error",message:d,description:f})}else if(e.success!==void 0){i=!1;let d=typeof e.success=="function"?await e.success(c):e.success,f=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"success",message:d,description:f})}}).catch(async c=>{if(s=["reject",c],e.error!==void 0){i=!1;let d=typeof e.error=="function"?await e.error(c):e.error,f=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"error",message:d,description:f})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=e.finally)==null||c.call(e)}),a=()=>new Promise((c,d)=>o.then(()=>s[0]==="reject"?d(s[1]):c(s[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:a}:Object.assign(r,{unwrap:a})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||Sk++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},cs=new BV,$V=(t,e)=>{let r=(e==null?void 0:e.id)||Sk++;return cs.addToast({title:t,...e,id:r}),r},UV=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",VV=$V,WV=()=>cs.toasts,qV=()=>cs.getActiveToasts(),qi=Object.assign(VV,{success:cs.success,info:cs.info,warning:cs.warning,error:cs.error,custom:cs.custom,message:cs.message,promise:cs.promise,dismiss:cs.dismiss,loading:cs.loading},{getHistory:WV,getToasts:qV});function HV(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}HV(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Dy(t){return t.label!==void 0}var GV=3,KV="32px",YV="16px",XA=4e3,JV=356,XV=14,QV=20,ZV=200;function Fo(...t){return t.filter(Boolean).join(" ")}function eW(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var tW=t=>{var e,r,n,i,s,o,a,c,d,f,p;let{invert:g,toast:m,unstyled:v,interacting:x,setHeights:w,visibleToasts:E,heights:P,index:R,toasts:S,expanded:B,removeToast:$,defaultRichColors:q,closeButton:G,style:H,cancelButtonStyle:K,actionButtonStyle:J,className:W="",descriptionClassName:F="",duration:b,position:A,gap:D,loadingIcon:j,expandByDefault:k,classNames:M,icons:T,closeButtonAriaLabel:O="Close toast",pauseWhenPageIsHidden:N}=t,[I,Q]=be.useState(null),[z,V]=be.useState(null),[Y,Z]=be.useState(!1),[ee,ae]=be.useState(!1),[ne,de]=be.useState(!1),[xe,me]=be.useState(!1),[Ce,ct]=be.useState(!1),[le,Ye]=be.useState(0),[jt,it]=be.useState(0),De=be.useRef(m.duration||b||XA),Jt=be.useRef(null),st=be.useRef(null),ft=R===0,Ie=R+1<=E,se=m.type,he=m.dismissible!==!1,Le=m.className||"",Ae=m.descriptionClassName||"",Me=be.useMemo(()=>P.findIndex(Pe=>Pe.toastId===m.id)||0,[P,m.id]),Gt=be.useMemo(()=>{var Pe;return(Pe=m.closeButton)!=null?Pe:G},[m.closeButton,G]),Xe=be.useMemo(()=>m.duration||b||XA,[m.duration,b]),_t=be.useRef(0),Wt=be.useRef(0),Ct=be.useRef(0),rt=be.useRef(null),[Xt,xt]=A.split("-"),Fe=be.useMemo(()=>P.reduce((Pe,yt,ot)=>ot>=Me?Pe:Pe+yt.height,0),[P,Me]),Vr=zV(),Tt=m.invert||g,St=se==="loading";Wt.current=be.useMemo(()=>Me*D+Fe,[Me,Fe]),be.useEffect(()=>{De.current=Xe},[Xe]),be.useEffect(()=>{Z(!0)},[]),be.useEffect(()=>{let Pe=st.current;if(Pe){let yt=Pe.getBoundingClientRect().height;return it(yt),w(ot=>[{toastId:m.id,height:yt,position:m.position},...ot]),()=>w(ot=>ot.filter(Re=>Re.toastId!==m.id))}},[w,m.id]),be.useLayoutEffect(()=>{if(!Y)return;let Pe=st.current,yt=Pe.style.height;Pe.style.height="auto";let ot=Pe.getBoundingClientRect().height;Pe.style.height=yt,it(ot),w(Re=>Re.find(Be=>Be.toastId===m.id)?Re.map(Be=>Be.toastId===m.id?{...Be,height:ot}:Be):[{toastId:m.id,height:ot,position:m.position},...Re])},[Y,m.title,m.description,w,m.id]);let pr=be.useCallback(()=>{ae(!0),Ye(Wt.current),w(Pe=>Pe.filter(yt=>yt.toastId!==m.id)),setTimeout(()=>{$(m)},ZV)},[m,$,w,Wt]);be.useEffect(()=>{if(m.promise&&se==="loading"||m.duration===1/0||m.type==="loading")return;let Pe;return B||x||N&&Vr?(()=>{if(Ct.current<_t.current){let yt=new Date().getTime()-_t.current;De.current=De.current-yt}Ct.current=new Date().getTime()})():De.current!==1/0&&(_t.current=new Date().getTime(),Pe=setTimeout(()=>{var yt;(yt=m.onAutoClose)==null||yt.call(m,m),pr()},De.current)),()=>clearTimeout(Pe)},[B,x,m,se,N,Vr,pr]),be.useEffect(()=>{m.delete&&pr()},[pr,m.delete]);function qt(){var Pe,yt,ot;return T!=null&&T.loading?be.createElement("div",{className:Fo(M==null?void 0:M.loader,(Pe=m==null?void 0:m.classNames)==null?void 0:Pe.loader,"sonner-loader"),"data-visible":se==="loading"},T.loading):j?be.createElement("div",{className:Fo(M==null?void 0:M.loader,(yt=m==null?void 0:m.classNames)==null?void 0:yt.loader,"sonner-loader"),"data-visible":se==="loading"},j):be.createElement(IV,{className:Fo(M==null?void 0:M.loader,(ot=m==null?void 0:m.classNames)==null?void 0:ot.loader),visible:se==="loading"})}return be.createElement("li",{tabIndex:0,ref:st,className:Fo(W,Le,M==null?void 0:M.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,M==null?void 0:M.default,M==null?void 0:M[se],(r=m==null?void 0:m.classNames)==null?void 0:r[se]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:q,"data-styled":!(m.jsx||m.unstyled||v),"data-mounted":Y,"data-promise":!!m.promise,"data-swiped":Ce,"data-removed":ee,"data-visible":Ie,"data-y-position":Xt,"data-x-position":xt,"data-index":R,"data-front":ft,"data-swiping":ne,"data-dismissible":he,"data-type":se,"data-invert":Tt,"data-swipe-out":xe,"data-swipe-direction":z,"data-expanded":!!(B||k&&Y),style:{"--index":R,"--toasts-before":R,"--z-index":S.length-R,"--offset":`${ee?le:Wt.current}px`,"--initial-height":k?"auto":`${jt}px`,...H,...m.style},onDragEnd:()=>{de(!1),Q(null),rt.current=null},onPointerDown:Pe=>{St||!he||(Jt.current=new Date,Ye(Wt.current),Pe.target.setPointerCapture(Pe.pointerId),Pe.target.tagName!=="BUTTON"&&(de(!0),rt.current={x:Pe.clientX,y:Pe.clientY}))},onPointerUp:()=>{var Pe,yt,ot,Re;if(xe||!he)return;rt.current=null;let Be=Number(((Pe=st.current)==null?void 0:Pe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ze=Number(((yt=st.current)==null?void 0:yt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),we=new Date().getTime()-((ot=Jt.current)==null?void 0:ot.getTime()),Ue=I==="x"?Be:ze,Te=Math.abs(Ue)/we;if(Math.abs(Ue)>=QV||Te>.11){Ye(Wt.current),(Re=m.onDismiss)==null||Re.call(m,m),V(I==="x"?Be>0?"right":"left":ze>0?"down":"up"),pr(),me(!0),ct(!1);return}de(!1),Q(null)},onPointerMove:Pe=>{var yt,ot,Re,Be;if(!rt.current||!he||((yt=window.getSelection())==null?void 0:yt.toString().length)>0)return;let ze=Pe.clientY-rt.current.y,we=Pe.clientX-rt.current.x,Ue=(ot=t.swipeDirections)!=null?ot:eW(A);!I&&(Math.abs(we)>1||Math.abs(ze)>1)&&Q(Math.abs(we)>Math.abs(ze)?"x":"y");let Te={x:0,y:0};I==="y"?(Ue.includes("top")||Ue.includes("bottom"))&&(Ue.includes("top")&&ze<0||Ue.includes("bottom")&&ze>0)&&(Te.y=ze):I==="x"&&(Ue.includes("left")||Ue.includes("right"))&&(Ue.includes("left")&&we<0||Ue.includes("right")&&we>0)&&(Te.x=we),(Math.abs(Te.x)>0||Math.abs(Te.y)>0)&&ct(!0),(Re=st.current)==null||Re.style.setProperty("--swipe-amount-x",`${Te.x}px`),(Be=st.current)==null||Be.style.setProperty("--swipe-amount-y",`${Te.y}px`)}},Gt&&!m.jsx?be.createElement("button",{"aria-label":O,"data-disabled":St,"data-close-button":!0,onClick:St||!he?()=>{}:()=>{var Pe;pr(),(Pe=m.onDismiss)==null||Pe.call(m,m)},className:Fo(M==null?void 0:M.closeButton,(i=m==null?void 0:m.classNames)==null?void 0:i.closeButton)},(s=T==null?void 0:T.close)!=null?s:FV):null,m.jsx||C.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:be.createElement(be.Fragment,null,se||m.icon||m.promise?be.createElement("div",{"data-icon":"",className:Fo(M==null?void 0:M.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||qt():null,m.type!=="loading"?m.icon||(T==null?void 0:T[se])||PV(se):null):null,be.createElement("div",{"data-content":"",className:Fo(M==null?void 0:M.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},be.createElement("div",{"data-title":"",className:Fo(M==null?void 0:M.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?be.createElement("div",{"data-description":"",className:Fo(F,Ae,M==null?void 0:M.description,(d=m==null?void 0:m.classNames)==null?void 0:d.description)},typeof m.description=="function"?m.description():m.description):null),C.isValidElement(m.cancel)?m.cancel:m.cancel&&Dy(m.cancel)?be.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||K,onClick:Pe=>{var yt,ot;Dy(m.cancel)&&he&&((ot=(yt=m.cancel).onClick)==null||ot.call(yt,Pe),pr())},className:Fo(M==null?void 0:M.cancelButton,(f=m==null?void 0:m.classNames)==null?void 0:f.cancelButton)},m.cancel.label):null,C.isValidElement(m.action)?m.action:m.action&&Dy(m.action)?be.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||J,onClick:Pe=>{var yt,ot;Dy(m.action)&&((ot=(yt=m.action).onClick)==null||ot.call(yt,Pe),!Pe.defaultPrevented&&pr())},className:Fo(M==null?void 0:M.actionButton,(p=m==null?void 0:m.classNames)==null?void 0:p.actionButton)},m.action.label):null))};function QA(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function rW(t,e){let r={};return[t,e].forEach((n,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",a=s?YV:KV;function c(d){["top","right","bottom","left"].forEach(f=>{r[`${o}-${f}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${o}-${d}`]=a:r[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(a)}),r}var nW=C.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:c,mobileOffset:d,theme:f="light",richColors:p,duration:g,style:m,visibleToasts:v=GV,toastOptions:x,dir:w=QA(),gap:E=XV,loadingIcon:P,icons:R,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:B}=t,[$,q]=be.useState([]),G=be.useMemo(()=>Array.from(new Set([n].concat($.filter(N=>N.position).map(N=>N.position)))),[$,n]),[H,K]=be.useState([]),[J,W]=be.useState(!1),[F,b]=be.useState(!1),[A,D]=be.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),j=be.useRef(null),k=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=be.useRef(null),T=be.useRef(!1),O=be.useCallback(N=>{q(I=>{var Q;return(Q=I.find(z=>z.id===N.id))!=null&&Q.delete||cs.dismiss(N.id),I.filter(({id:z})=>z!==N.id)})},[]);return be.useEffect(()=>cs.subscribe(N=>{if(N.dismiss){q(I=>I.map(Q=>Q.id===N.id?{...Q,delete:!0}:Q));return}setTimeout(()=>{cM.flushSync(()=>{q(I=>{let Q=I.findIndex(z=>z.id===N.id);return Q!==-1?[...I.slice(0,Q),{...I[Q],...N},...I.slice(Q+1)]:[N,...I]})})})}),[]),be.useEffect(()=>{if(f!=="system"){D(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?D("dark"):D("light")),typeof window>"u")return;let N=window.matchMedia("(prefers-color-scheme: dark)");try{N.addEventListener("change",({matches:I})=>{D(I?"dark":"light")})}catch{N.addListener(({matches:Q})=>{try{D(Q?"dark":"light")}catch(z){console.error(z)}})}},[f]),be.useEffect(()=>{$.length<=1&&W(!1)},[$]),be.useEffect(()=>{let N=I=>{var Q,z;i.every(V=>I[V]||I.code===V)&&(W(!0),(Q=j.current)==null||Q.focus()),I.code==="Escape"&&(document.activeElement===j.current||(z=j.current)!=null&&z.contains(document.activeElement))&&W(!1)};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[i]),be.useEffect(()=>{if(j.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,T.current=!1)}},[j.current]),be.createElement("section",{ref:e,"aria-label":`${S} ${k}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},G.map((N,I)=>{var Q;let[z,V]=N.split("-");return $.length?be.createElement("ol",{key:N,dir:w==="auto"?QA():w,tabIndex:-1,ref:j,className:a,"data-sonner-toaster":!0,"data-theme":A,"data-y-position":z,"data-lifted":J&&$.length>1&&!s,"data-x-position":V,style:{"--front-toast-height":`${((Q=H[0])==null?void 0:Q.height)||0}px`,"--width":`${JV}px`,"--gap":`${E}px`,...m,...rW(c,d)},onBlur:Y=>{T.current&&!Y.currentTarget.contains(Y.relatedTarget)&&(T.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||T.current||(T.current=!0,M.current=Y.relatedTarget)},onMouseEnter:()=>W(!0),onMouseMove:()=>W(!0),onMouseLeave:()=>{F||W(!1)},onDragEnd:()=>W(!1),onPointerDown:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||b(!0)},onPointerUp:()=>b(!1)},$.filter(Y=>!Y.position&&I===0||Y.position===N).map((Y,Z)=>{var ee,ae;return be.createElement(tW,{key:Y.id,icons:R,index:Z,toast:Y,defaultRichColors:p,duration:(ee=x==null?void 0:x.duration)!=null?ee:g,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:r,visibleToasts:v,closeButton:(ae=x==null?void 0:x.closeButton)!=null?ae:o,interacting:F,position:N,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:O,toasts:$.filter(ne=>ne.position==Y.position),heights:H.filter(ne=>ne.position==Y.position),setHeights:K,expandByDefault:s,gap:E,loadingIcon:P,expanded:J,pauseWhenPageIsHidden:B,swipeDirections:t.swipeDirections})})):null}))});class iW{constructor(){this.recentToasts=new Map,this.cleanupInterval=5e3,this.maxDuplicateWindow=3e3,setInterval(()=>{const e=Date.now();for(const[r,n]of this.recentToasts.entries())e-n>this.cleanupInterval&&this.recentToasts.delete(r)},this.cleanupInterval)}generateToastKey(e,r="default"){const n=String(e).toLowerCase().replace(/\s+/g," ").trim().replace(/0x[a-f0-9]{40,}/gi,"[address]").replace(/transaction:\s*0x[a-f0-9]+/gi,"[transaction]").replace(/\d+(\.\d+)?\s*(eth|matic|avax|bnb)/gi,"[amount]").replace(/attempt\s+\d+\/\d+/gi,"[attempt]");return`${r}:${n}`}isDuplicate(e,r="default"){const n=this.generateToastKey(e,r),i=Date.now(),s=this.recentToasts.get(n);return s&&i-s<this.maxDuplicateWindow?!0:(this.recentToasts.set(n,i),!1)}error(e,r={}){if(this.isDuplicate(e,"error")){console.log("Duplicate error toast prevented:",e);return}const n=this.processErrorMessage(e);return qi.error(n,{duration:4e3,...r})}success(e,r={}){if(this.isDuplicate(e,"success")){console.log("Duplicate success toast prevented:",e);return}return qi.success(e,{duration:3e3,...r})}info(e,r={}){if(this.isDuplicate(e,"info")){console.log("Duplicate info toast prevented:",e);return}return qi.info(e,{duration:3e3,...r})}warning(e,r={}){if(this.isDuplicate(e,"warning")){console.log("Duplicate warning toast prevented:",e);return}return qi.warning(e,{duration:4e3,...r})}processErrorMessage(e){if(!e)return"An unknown error occurred";let r=typeof e=="string"?e:e.message||e.toString();return r=r.replace(/^Error:\s*/i,"").replace(/^execution reverted:\s*/i,"").replace(/^call exception:\s*/i,"").replace(/^missing revert data in call exception;\s*/i,"").replace(/user rejected transaction/i,"Transaction was cancelled").replace(/insufficient funds/i,"Insufficient funds for transaction").replace(/gas required exceeds allowance/i,"Transaction requires more gas than available").replace(/nonce too low/i,"Transaction nonce error - please try again").replace(/replacement transaction underpriced/i,"Transaction fee too low - please increase gas price").replace(/network error/i,"Network connection error").replace(/timeout/i,"Request timed out").replace(/rate limit/i,"Too many requests - please wait a moment").replace(/contract not deployed/i,"Smart contract not found on this network").replace(/method not found/i,"Contract method not available").replace(/^./,n=>n.toUpperCase()),r.length>150&&(r=r.substring(0,147)+"..."),r}forceError(e,r={}){const n=this.processErrorMessage(e);return qi.error(n,{duration:4e3,...r})}clearHistory(){this.recentToasts.clear()}loading(e,r={}){return qi.loading(e,r)}dismiss(e){return qi.dismiss(e)}promise(e,r={}){return qi.promise(e,r)}}const te=new iW,sW=({...t})=>l.jsx(nW,{theme:"dark",className:"toaster group",position:"bottom-right",expand:!0,richColors:!1,closeButton:!0,...t}),SC=()=>{if(typeof window>"u")return{name:"unknown",version:"unknown"};const t=navigator.userAgent,e={chrome:/Chrome\/(\d+)/.test(t),firefox:/Firefox\/(\d+)/.test(t),safari:/Safari\/(\d+)/.test(t)&&!/Chrome/.test(t),edge:/Edg\/(\d+)/.test(t),opera:/OPR\/(\d+)/.test(t),brave:navigator.brave&&navigator.brave.isBrave},r=Object.keys(e).find(s=>e[s])||"unknown",n=t.match(new RegExp(`${r==="edge"?"Edg":r}\\/(\\d+)`,"i")),i=n?n[1]:"unknown";return{name:r,version:i,userAgent:t,isMetaMaskBrowser:t.includes("MetaMask"),isMobile:/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)}},EC=()=>{const t=SC(),e=t.isMobile||window.innerWidth<768,r={firefox:{timeout:15e3,retries:3,batchSize:3,useSequential:!0,delayBetweenCalls:200},safari:{timeout:2e4,retries:4,batchSize:2,useSequential:!0,delayBetweenCalls:300},edge:{timeout:12e3,retries:3,batchSize:4,useSequential:!1,delayBetweenCalls:100},chrome:{timeout:1e4,retries:3,batchSize:6,useSequential:!1,delayBetweenCalls:50},default:{timeout:12e3,retries:3,batchSize:4,useSequential:e,delayBetweenCalls:100}},n=r[t.name]||r.default;return e&&(n.timeout*=1.5,n.retries=Math.min(n.retries+1,5),n.batchSize=Math.min(n.batchSize,3),n.useSequential=!0,n.delayBetweenCalls*=2),{...n,browserInfo:t,isMobile:e}},ax=async(t,e,r={})=>{const{timeout:n=1e4,retries:i=3,fallbackValue:s=null,required:o=!1}=r;for(let a=1;a<=i;a++)try{const c=new Promise((f,p)=>setTimeout(()=>p(new Error(`Timeout calling ${e}`)),n));return{success:!0,result:await Promise.race([t(),c]),error:null}}catch(c){if(console.warn(`Attempt ${a}/${i} failed for ${e}:`,c.message),(c.message.includes("missing revert data")||c.message.includes("call exception")||c.code==="CALL_EXCEPTION")&&a<i){await new Promise(f=>setTimeout(f,1e3*a));continue}if(a===i){if(o)throw new Error(`Failed to call ${e} after ${i} attempts: ${c.message}`);return{success:!1,result:s,error:c.message}}}},oW=async(t,e={})=>{const r=EC(),{useSequential:n=r.useSequential,batchSize:i=r.batchSize,delayBetweenCalls:s=r.delayBetweenCalls,timeout:o=r.timeout}=e;if(console.log(` Batch contract calls - Browser: ${r.browserInfo.name}, Sequential: ${n}, Batch size: ${i}`),n){const a=[];for(let c=0;c<t.length;c++){const d=t[c];try{s>0&&c>0&&await new Promise(p=>setTimeout(p,s));const f=await ax(d.method,d.name,{timeout:o,fallbackValue:d.fallback,required:d.required});a.push(f.success?f.result:d.fallback)}catch(f){if(console.error(`Sequential call failed for ${d.name}:`,f),d.required)throw f;a.push(d.fallback)}}return a}else{const a=[];for(let c=0;c<t.length;c+=i){const d=t.slice(c,c+i);try{const f=d.map(g=>ax(g.method,g.name,{timeout:o,fallbackValue:g.fallback,required:g.required}).then(m=>m.success?m.result:g.fallback).catch(m=>{if(console.error(`Batch call failed for ${g.name}:`,m),g.required)throw m;return g.fallback})),p=await Promise.all(f);a.push(...p),c+i<t.length&&s>0&&await new Promise(g=>setTimeout(g,s))}catch(f){console.error("Batch execution failed:",f),d.forEach(p=>{if(p.required)throw f;a.push(p.fallback)})}}return a}},aW=(t,e)=>{try{return typeof t[e]=="function"}catch{return!1}},rl=(t,e,r=null)=>aW(t,e)?(...n)=>t[e](...n):(console.warn(`Method ${e} not found on contract`),()=>Promise.resolve(r)),b4=async t=>{if(!t)return 0;try{return(await t.getParticipantsCount()).toNumber()}catch(e){console.warn("getParticipantsCount failed, using fallback method:",e.message);let r=0,n=0;for(;;)try{await t.participants(n),r++,n++}catch{break}return r}},Ei=t=>{var r;if(!t)return"Unknown error occurred";let e="";return typeof t=="string"?e=t:t.reason?e=t.reason:(r=t.data)!=null&&r.message?e=t.data.message:t.message?e=t.message:e=t.toString(),e=e.replace(/^Error:\s*/i,"").replace(/^execution reverted:\s*/i,"").replace(/^call exception:\s*/i,"").replace(/^missing revert data in call exception;\s*/i,"").replace(/Transaction reverted without a reason string/i,"Transaction failed").trim(),e||"Unknown error occurred"},Zx=(t,e={})=>{const r=Ei(t).toLowerCase();return!(r.includes("user rejected")||r.includes("user denied")||(t==null?void 0:t.code)===4001||e.isReadOnly&&(r.includes("not found")||r.includes("does not exist")||r.includes("no tickets")||r.includes("unavailable")||r.includes("400")||r.includes("non-200 status code")||r.includes("failed to load")||r.includes("no data")||r.includes("empty result")||r.includes("no records"))||r.includes("network")||r.includes("timeout")||r.includes("connection")||r.includes("rate limit"))},Bp=(t,e={})=>{const{context:r={},showToast:n=!0,logError:i=!0,fallbackMessage:s="An error occurred"}=e;i&&console.error("Error handled:",t,r);const o=Ei(t);return n&&Zx(t,r)&&te.error(o||s),o},lW=(t,e={})=>{const{operation:r="transaction",showToast:n=!0}=e,i=Ei(t);return console.error(`Transaction error in ${r}:`,t),n&&Zx(t,{})&&te.error(i),i},cW=(t,e,r={})=>{const{showToast:n=!1,isRequired:i=!1}=r,s=Ei(t);return console.warn(`Contract call failed for ${e}:`,s),n&&(i||Zx(t,{isReadOnly:!0}))&&te.error(`${e} failed: ${s}`),s},w4=()=>({handleError:(n,i={})=>Bp(n,i),handleTransactionError:(n,i={})=>lW(n,i),handleContractCallError:(n,i,s={})=>cW(n,i,s),extractRevertReason:Ei,shouldShowErrorToast:Zx}),k4=C.createContext(),Cr=()=>{const t=C.useContext(k4);if(!t)throw new Error("useContract must be used within a ContractProvider");return t},uW=({children:t})=>{const{signer:e,provider:r,connected:n,chainId:i,isInitialized:s,isReconnecting:o}=xr(),[a,c]=C.useState({}),[d,f]=C.useState(!1);C.useEffect(()=>{if(n&&e&&s&&!o){f(!1);const R=setTimeout(()=>{p(),setTimeout(()=>{f(!0)},200)},100);return()=>clearTimeout(R)}else c({}),f(!1)},[n,e,s,o,i]);const p=()=>{var S,B,$,q,G,H,K,J,W,F,b,A,D,j,k,M;const R={};try{(B=(S=Ht[i])==null?void 0:S.contractAddresses)!=null&&B.protocolManager&&(R.protocolManager=new At((q=($=Ht[i])==null?void 0:$.contractAddresses)==null?void 0:q.protocolManager,ht.protocolManager,e)),(H=(G=Ht[i])==null?void 0:G.contractAddresses)!=null&&H.poolDeployer&&(R.poolDeployer=new At((J=(K=Ht[i])==null?void 0:K.contractAddresses)==null?void 0:J.poolDeployer,ht.poolDeployer,e)),(F=(W=Ht[i])==null?void 0:W.contractAddresses)!=null&&F.revenueManager&&(R.revenueManager=new At((A=(b=Ht[i])==null?void 0:b.contractAddresses)==null?void 0:A.revenueManager,ht.revenueManager,e)),(j=(D=Ht[i])==null?void 0:D.contractAddresses)!=null&&j.nftFactory&&(R.nftFactory=new At((M=(k=Ht[i])==null?void 0:k.contractAddresses)==null?void 0:M.nftFactory,ht.nftFactory,e)),c(R)}catch(T){console.error("Error initializing contracts:",T)}},g=(R,S)=>{if(!R)return console.warn("No address provided for contract instance"),null;if(!e&&!r)return console.warn("No signer or provider available for contract instance"),null;if(!ht[S])return console.error(`ABI not found for type: ${S}`),null;try{const B=e||r;return new At(R,ht[S],B)}catch(B){return console.error(`Error creating contract instance for ${S}:`,B),null}},m=async(R,S,B={})=>{var $;try{let q;return S===void 0?q=Object.keys(B).length>0?await R(B):await R():q=await R(S,B),{success:!0,receipt:await q.wait(),hash:q.hash}}catch(q){let G="Transaction failed";return q!=null&&q.reason?G=q.reason:($=q==null?void 0:q.data)!=null&&$.message?G=q.data.message:q!=null&&q.message&&(G=q.message),console.error("Contract transaction failed:",G),{success:!1,error:G}}},v=async(R,S="unknown",...B)=>{var q;const $=EC();try{const G=await ax(()=>R(...B),S,{timeout:$.timeout,retries:$.retries,required:!1});if(G.success)return{success:!0,result:G.result};throw new Error(G.error)}catch(G){let H="Contract call failed";return G.message.includes("missing revert data")||G.message.includes("call exception")||G.code==="CALL_EXCEPTION"?H="Network connectivity issue - please try again":G!=null&&G.reason?H=G.reason:(q=G==null?void 0:G.data)!=null&&q.message?H=G.data.message:G!=null&&G.message&&(H=G.message),Bp(G,{context:{operation:S,isReadOnly:!0,isContractCall:!0},fallbackMessage:`${S} failed`}),{success:!1,error:H}}},x=be.useRef({}),w=(R,S)=>(x.current[R]||(x.current[R]=[]),x.current[R].push(S),()=>{x.current[R]=x.current[R].filter(B=>B!==S)}),E=(R,...S)=>{x.current[R]&&x.current[R].forEach(B=>B(...S))};C.useEffect(()=>{if(!n||!e||!a.poolDeployer)return;const R=(S,B)=>{E("PoolCreated",{pool:S,creator:B})};if(a.poolDeployer.on("PoolCreated",R),a.pool){const S=$=>{E("WinnersSelected",{winners:$})};a.pool.on("WinnersSelected",S);const B=($,q)=>{E("PrizeClaimed",{winner:$,tokenId:q})};return a.pool.on("PrizeClaimed",B),()=>{a.pool.off("WinnersSelected",S),a.pool.off("PrizeClaimed",B)}}return()=>{a.poolDeployer.off("PoolCreated",R)}},[n,e,a.poolDeployer,a.pool]);const P={contracts:a,getContractInstance:g,executeTransaction:m,executeCall:v,onContractEvent:w,isContractsReady:d};return l.jsx(k4.Provider,{value:P,children:t})},_4=C.createContext(),TC=()=>{const t=C.useContext(_4);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},Ql=[{id:"light",name:"Light",icon:"Sun"},{id:"dark",name:"Dark",icon:"Moon"},{id:"dim-blue",name:"Dim Blue",icon:"Monitor"}],dW=({children:t})=>{const[e,r]=C.useState(()=>{const o=localStorage.getItem("theme");return o&&Ql.some(a=>a.id===o)?o:(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,"dark")});C.useEffect(()=>{const o=document.documentElement;Ql.forEach(a=>{o.classList.remove(a.id)}),o.classList.add(e),localStorage.setItem("theme",e)},[e]);const s={theme:e,setTheme:r,cycleTheme:()=>{const a=(Ql.findIndex(c=>c.id===e)+1)%Ql.length;r(Ql[a].id)},getCurrentTheme:()=>Ql.find(o=>o.id===e)||Ql[1],availableThemes:Ql,isDark:e==="dark",isLight:e==="light",isDimBlue:e==="dim-blue"};return l.jsx(_4.Provider,{value:s,children:t})},C4=C.createContext(),NC=()=>{const t=C.useContext(C4);if(!t)throw new Error("useCollabDetection must be used within a CollabDetectionProvider");return t},fW=({children:t})=>{const[e,r]=C.useState({}),[n,i]=C.useState({}),s=C.useCallback((m,v)=>{r(x=>({...x,[m]:v})),i(x=>{const w={...x};return delete w[m],w})},[]),o=C.useCallback((m,v)=>{i(x=>({...x,[m]:v}))},[]),a=C.useCallback(m=>e[m],[e]),c=C.useCallback(m=>n[m]||!1,[n]),d=C.useCallback(m=>{const v=e[m.address];return v==="nft_collab"||v==="whitelist_collab"?v:v===void 0&&n[m.address]&&m.isCollabPool||(v==="not_collab"||v===void 0)&&m.isCollabPool?"nft_collab":m.isPrized?"prized":"non_prized"},[e,n]),f=C.useCallback(m=>{const v={non_prized:0,prized:0,nft_collab:0,whitelist_collab:0};return m.forEach(x=>{const w=d(x);v[w]=(v[w]||0)+1}),v},[d]),p=C.useCallback((m,v)=>!v||v.length===0?m:m.filter(x=>{const w=d(x);return v.includes(w)}),[d]),g={collabResults:e,loadingStates:n,updateCollabStatus:s,setCollabLoading:o,getCollabStatus:a,isCollabLoading:c,getEnhancedRaffleType:d,countEnhancedRaffleTypes:f,filterByEnhancedType:p};return l.jsx(C4.Provider,{value:g,children:t})},AC=C.createContext({});function jC(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const PC=typeof window<"u",S4=PC?C.useLayoutEffect:C.useEffect,ev=C.createContext(null);function RC(t,e){t.indexOf(e)===-1&&t.push(e)}function IC(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const bl=(t,e,r)=>r>e?e:r<t?t:r;let MC=()=>{};const wl={},E4=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function T4(t){return typeof t=="object"&&t!==null}const N4=t=>/^0[^.\s]+$/u.test(t);function DC(t){let e;return()=>(e===void 0&&(e=t()),e)}const xo=t=>t,hW=(t,e)=>r=>e(t(r)),ag=(...t)=>t.reduce(hW),vm=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class OC{constructor(){this.subscriptions=[]}add(e){return RC(this.subscriptions,e),()=>IC(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ma=t=>t*1e3,po=t=>t/1e3;function A4(t,e){return e?t*(1e3/e):0}const j4=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,pW=1e-7,mW=12;function gW(t,e,r,n,i){let s,o,a=0;do o=e+(r-e)/2,s=j4(o,n,i)-t,s>0?r=o:e=o;while(Math.abs(s)>pW&&++a<mW);return o}function lg(t,e,r,n){if(t===e&&r===n)return xo;const i=s=>gW(s,0,1,t,r);return s=>s===0||s===1?s:j4(i(s),e,n)}const P4=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,R4=t=>e=>1-t(1-e),I4=lg(.33,1.53,.69,.99),LC=R4(I4),M4=P4(LC),D4=t=>(t*=2)<1?.5*LC(t):.5*(2-Math.pow(2,-10*(t-1))),FC=t=>1-Math.sin(Math.acos(t)),O4=R4(FC),L4=P4(FC),yW=lg(.42,0,1,1),xW=lg(0,0,.58,1),F4=lg(.42,0,.58,1),vW=t=>Array.isArray(t)&&typeof t[0]!="number",z4=t=>Array.isArray(t)&&typeof t[0]=="number",bW={linear:xo,easeIn:yW,easeInOut:F4,easeOut:xW,circIn:FC,circInOut:L4,circOut:O4,backIn:LC,backInOut:M4,backOut:I4,anticipate:D4},wW=t=>typeof t=="string",ZA=t=>{if(z4(t)){MC(t.length===4);const[e,r,n,i]=t;return lg(e,r,n,i)}else if(wW(t))return bW[t];return t},Oy=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function kW(t,e){let r=new Set,n=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function c(f){o.has(f)&&(d.schedule(f),t()),f(a)}const d={schedule:(f,p=!1,g=!1)=>{const v=g&&i?r:n;return p&&o.add(f),v.has(f)||v.add(f),f},cancel:f=>{n.delete(f),o.delete(f)},process:f=>{if(a=f,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(c),r.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const _W=40;function B4(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,o=Oy.reduce((R,S)=>(R[S]=kW(s),R),{}),{setup:a,read:c,resolveKeyframes:d,preUpdate:f,update:p,preRender:g,render:m,postRender:v}=o,x=()=>{const R=wl.useManualTiming?i.timestamp:performance.now();r=!1,wl.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(R-i.timestamp,_W),1)),i.timestamp=R,i.isProcessing=!0,a.process(i),c.process(i),d.process(i),f.process(i),p.process(i),g.process(i),m.process(i),v.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(x))},w=()=>{r=!0,n=!0,i.isProcessing||t(x)};return{schedule:Oy.reduce((R,S)=>{const B=o[S];return R[S]=($,q=!1,G=!1)=>(r||w(),B.schedule($,q,G)),R},{}),cancel:R=>{for(let S=0;S<Oy.length;S++)o[Oy[S]].cancel(R)},state:i,steps:o}}const{schedule:Xr,cancel:Sc,state:ai,steps:Hw}=B4(typeof requestAnimationFrame<"u"?requestAnimationFrame:xo,!0);let I0;function CW(){I0=void 0}const hs={now:()=>(I0===void 0&&hs.set(ai.isProcessing||wl.useManualTiming?ai.timestamp:performance.now()),I0),set:t=>{I0=t,queueMicrotask(CW)}},$4=t=>e=>typeof e=="string"&&e.startsWith(t),zC=$4("--"),SW=$4("var(--"),BC=t=>SW(t)?EW.test(t.split("/*")[0].trim()):!1,EW=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,gh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},bm={...gh,transform:t=>bl(0,1,t)},Ly={...gh,default:1},$p=t=>Math.round(t*1e5)/1e5,$C=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function TW(t){return t==null}const NW=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,UC=(t,e)=>r=>!!(typeof r=="string"&&NW.test(r)&&r.startsWith(t)||e&&!TW(r)&&Object.prototype.hasOwnProperty.call(r,e)),U4=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,s,o,a]=n.match($C);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},AW=t=>bl(0,255,t),Gw={...gh,transform:t=>Math.round(AW(t))},Ru={test:UC("rgb","red"),parse:U4("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Gw.transform(t)+", "+Gw.transform(e)+", "+Gw.transform(r)+", "+$p(bm.transform(n))+")"};function jW(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Ek={test:UC("#"),parse:jW,transform:Ru.transform},cg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),nc=cg("deg"),Da=cg("%"),Rt=cg("px"),PW=cg("vh"),RW=cg("vw"),ej={...Da,parse:t=>Da.parse(t)/100,transform:t=>Da.transform(t*100)},wf={test:UC("hsl","hue"),parse:U4("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Da.transform($p(e))+", "+Da.transform($p(r))+", "+$p(bm.transform(n))+")"},Mn={test:t=>Ru.test(t)||Ek.test(t)||wf.test(t),parse:t=>Ru.test(t)?Ru.parse(t):wf.test(t)?wf.parse(t):Ek.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ru.transform(t):wf.transform(t),getAnimatableNone:t=>{const e=Mn.parse(t);return e.alpha=0,Mn.transform(e)}},IW=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function MW(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match($C))==null?void 0:e.length)||0)+(((r=t.match(IW))==null?void 0:r.length)||0)>0}const V4="number",W4="color",DW="var",OW="var(",tj="${}",LW=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wm(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(LW,c=>(Mn.test(c)?(n.color.push(s),i.push(W4),r.push(Mn.parse(c))):c.startsWith(OW)?(n.var.push(s),i.push(DW),r.push(c)):(n.number.push(s),i.push(V4),r.push(parseFloat(c))),++s,tj)).split(tj);return{values:r,split:a,indexes:n,types:i}}function q4(t){return wm(t).values}function H4(t){const{split:e,types:r}=wm(t),n=e.length;return i=>{let s="";for(let o=0;o<n;o++)if(s+=e[o],i[o]!==void 0){const a=r[o];a===V4?s+=$p(i[o]):a===W4?s+=Mn.transform(i[o]):s+=i[o]}return s}}const FW=t=>typeof t=="number"?0:Mn.test(t)?Mn.getAnimatableNone(t):t;function zW(t){const e=q4(t);return H4(t)(e.map(FW))}const Ec={test:MW,parse:q4,createTransformer:H4,getAnimatableNone:zW};function Kw(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function BW({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,o=0;if(!e)i=s=o=r;else{const a=r<.5?r*(1+e):r+e-r*e,c=2*r-a;i=Kw(c,a,t+1/3),s=Kw(c,a,t),o=Kw(c,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function lx(t,e){return r=>r>0?e:t}const an=(t,e,r)=>t+(e-t)*r,Yw=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},$W=[Ek,Ru,wf],UW=t=>$W.find(e=>e.test(t));function rj(t){const e=UW(t);if(!e)return!1;let r=e.parse(t);return e===wf&&(r=BW(r)),r}const nj=(t,e)=>{const r=rj(t),n=rj(e);if(!r||!n)return lx(t,e);const i={...r};return s=>(i.red=Yw(r.red,n.red,s),i.green=Yw(r.green,n.green,s),i.blue=Yw(r.blue,n.blue,s),i.alpha=an(r.alpha,n.alpha,s),Ru.transform(i))},Tk=new Set(["none","hidden"]);function VW(t,e){return Tk.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function WW(t,e){return r=>an(t,e,r)}function VC(t){return typeof t=="number"?WW:typeof t=="string"?BC(t)?lx:Mn.test(t)?nj:GW:Array.isArray(t)?G4:typeof t=="object"?Mn.test(t)?nj:qW:lx}function G4(t,e){const r=[...t],n=r.length,i=t.map((s,o)=>VC(s)(s,e[o]));return s=>{for(let o=0;o<n;o++)r[o]=i[o](s);return r}}function qW(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=VC(t[i])(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function HW(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][n[s]],a=t.values[o]??0;r[i]=a,n[s]++}return r}const GW=(t,e)=>{const r=Ec.createTransformer(e),n=wm(t),i=wm(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Tk.has(t)&&!i.values.length||Tk.has(e)&&!n.values.length?VW(t,e):ag(G4(HW(n,i),i.values),r):lx(t,e)};function K4(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?an(t,e,r):VC(t)(t,e)}const KW=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Xr.update(e,r),stop:()=>Sc(e),now:()=>ai.isProcessing?ai.timestamp:hs.now()}},Y4=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let s=0;s<i;s++)n+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},cx=2e4;function WC(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<cx;)e+=r,n=t.next(e);return e>=cx?1/0:e}function YW(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(WC(n),cx);return{type:"keyframes",ease:s=>n.next(i*s).value/e,duration:po(i)}}const JW=5;function J4(t,e,r){const n=Math.max(e-JW,0);return A4(r-t(n),e-n)}const dn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Jw=.001;function XW({duration:t=dn.duration,bounce:e=dn.bounce,velocity:r=dn.velocity,mass:n=dn.mass}){let i,s,o=1-e;o=bl(dn.minDamping,dn.maxDamping,o),t=bl(dn.minDuration,dn.maxDuration,po(t)),o<1?(i=d=>{const f=d*o,p=f*t,g=f-r,m=Nk(d,o),v=Math.exp(-p);return Jw-g/m*v},s=d=>{const p=d*o*t,g=p*r+r,m=Math.pow(o,2)*Math.pow(d,2)*t,v=Math.exp(-p),x=Nk(Math.pow(d,2),o);return(-i(d)+Jw>0?-1:1)*((g-m)*v)/x}):(i=d=>{const f=Math.exp(-d*t),p=(d-r)*t+1;return-Jw+f*p},s=d=>{const f=Math.exp(-d*t),p=(r-d)*(t*t);return f*p});const a=5/t,c=ZW(i,s,a);if(t=Ma(t),isNaN(c))return{stiffness:dn.stiffness,damping:dn.damping,duration:t};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:t}}}const QW=12;function ZW(t,e,r){let n=r;for(let i=1;i<QW;i++)n=n-t(n)/e(n);return n}function Nk(t,e){return t*Math.sqrt(1-e*e)}const eq=["duration","bounce"],tq=["stiffness","damping","mass"];function ij(t,e){return e.some(r=>t[r]!==void 0)}function rq(t){let e={velocity:dn.velocity,stiffness:dn.stiffness,damping:dn.damping,mass:dn.mass,isResolvedFromDuration:!1,...t};if(!ij(t,tq)&&ij(t,eq))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*bl(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:dn.mass,stiffness:i,damping:s}}else{const r=XW(t);e={...e,...r,mass:dn.mass},e.isResolvedFromDuration=!0}return e}function ux(t=dn.visualDuration,e=dn.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],a={done:!1,value:s},{stiffness:c,damping:d,mass:f,duration:p,velocity:g,isResolvedFromDuration:m}=rq({...r,velocity:-po(r.velocity||0)}),v=g||0,x=d/(2*Math.sqrt(c*f)),w=o-s,E=po(Math.sqrt(c/f)),P=Math.abs(w)<5;n||(n=P?dn.restSpeed.granular:dn.restSpeed.default),i||(i=P?dn.restDelta.granular:dn.restDelta.default);let R;if(x<1){const B=Nk(E,x);R=$=>{const q=Math.exp(-x*E*$);return o-q*((v+x*E*w)/B*Math.sin(B*$)+w*Math.cos(B*$))}}else if(x===1)R=B=>o-Math.exp(-E*B)*(w+(v+E*w)*B);else{const B=E*Math.sqrt(x*x-1);R=$=>{const q=Math.exp(-x*E*$),G=Math.min(B*$,300);return o-q*((v+x*E*w)*Math.sinh(G)+B*w*Math.cosh(G))/B}}const S={calculatedDuration:m&&p||null,next:B=>{const $=R(B);if(m)a.done=B>=p;else{let q=B===0?v:0;x<1&&(q=B===0?Ma(v):J4(R,B,$));const G=Math.abs(q)<=n,H=Math.abs(o-$)<=i;a.done=G&&H}return a.value=a.done?o:$,a},toString:()=>{const B=Math.min(WC(S),cx),$=Y4(q=>S.next(B*q).value,B,30);return B+"ms "+$},toTransition:()=>{}};return S}ux.applyToOptions=t=>{const e=YW(t,100,ux);return t.ease=e.ease,t.duration=Ma(e.duration),t.type="keyframes",t};function Ak({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:c,restDelta:d=.5,restSpeed:f}){const p=t[0],g={done:!1,value:p},m=G=>a!==void 0&&G<a||c!==void 0&&G>c,v=G=>a===void 0?c:c===void 0||Math.abs(a-G)<Math.abs(c-G)?a:c;let x=r*e;const w=p+x,E=o===void 0?w:o(w);E!==w&&(x=E-p);const P=G=>-x*Math.exp(-G/n),R=G=>E+P(G),S=G=>{const H=P(G),K=R(G);g.done=Math.abs(H)<=d,g.value=g.done?E:K};let B,$;const q=G=>{m(g.value)&&(B=G,$=ux({keyframes:[g.value,v(g.value)],velocity:J4(R,G,g.value),damping:i,stiffness:s,restDelta:d,restSpeed:f}))};return q(0),{calculatedDuration:null,next:G=>{let H=!1;return!$&&B===void 0&&(H=!0,S(G),q(G)),B!==void 0&&G>=B?$.next(G-B):(!H&&S(G),g)}}}function nq(t,e,r){const n=[],i=r||wl.mix||K4,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||xo:e;a=ag(c,a)}n.push(a)}return n}function iq(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(MC(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=nq(e,n,i),c=a.length,d=f=>{if(o&&f<t[0])return e[0];let p=0;if(c>1)for(;p<t.length-2&&!(f<t[p+1]);p++);const g=vm(t[p],t[p+1],f);return a[p](g)};return r?f=>d(bl(t[0],t[s-1],f)):d}function sq(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=vm(0,e,n);t.push(an(r,1,i))}}function oq(t){const e=[0];return sq(e,t.length-1),e}function aq(t,e){return t.map(r=>r*e)}function lq(t,e){return t.map(()=>e||F4).splice(0,t.length-1)}function Up({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=vW(n)?n.map(ZA):ZA(n),s={done:!1,value:e[0]},o=aq(r&&r.length===e.length?r:oq(e),t),a=iq(o,e,{ease:Array.isArray(i)?i:lq(e,i)});return{calculatedDuration:t,next:c=>(s.value=a(c),s.done=c>=t,s)}}const cq=t=>t!==null;function qC(t,{repeat:e,repeatType:r="loop"},n,i=1){const s=t.filter(cq),a=i<0||e&&r!=="loop"&&e%2===1?0:s.length-1;return!a||n===void 0?s[a]:n}const uq={decay:Ak,inertia:Ak,tween:Up,keyframes:Up,spring:ux};function X4(t){typeof t.type=="string"&&(t.type=uq[t.type])}class HC{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const dq=t=>t/100;class GC extends HC{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==hs.now()&&this.tick(hs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;X4(e);const{type:r=Up,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const c=r||Up;c!==Up&&typeof a[0]!="number"&&(this.mixKeyframes=ag(dq,K4(a[0],a[1])),a=[0,100]);const d=c({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...a].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=WC(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=d}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:f,repeat:p,repeatType:g,repeatDelay:m,type:v,onUpdate:x,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const E=this.currentTime-d*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?E<0:E>i;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let R=this.currentTime,S=n;if(p){const G=Math.min(this.currentTime,i)/a;let H=Math.floor(G),K=G%1;!K&&G>=1&&(K=1),K===1&&H--,H=Math.min(H,p+1),!!(H%2)&&(g==="reverse"?(K=1-K,m&&(K-=m/a)):g==="mirror"&&(S=o)),R=bl(0,1,K)*a}const B=P?{done:!1,value:f[0]}:S.next(R);s&&(B.value=s(B.value));let{done:$}=B;!P&&c!==null&&($=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return q&&v!==Ak&&(B.value=qC(f,this.options,w,this.speed)),x&&x(B.value),q&&this.finish(),B}then(e,r){return this.finished.then(e,r)}get duration(){return po(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+po(e)}get time(){return po(this.currentTime)}set time(e){var r;e=Ma(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(hs.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=po(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=KW,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function fq(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Iu=t=>t*180/Math.PI,jk=t=>{const e=Iu(Math.atan2(t[1],t[0]));return Pk(e)},hq={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:jk,rotateZ:jk,skewX:t=>Iu(Math.atan(t[1])),skewY:t=>Iu(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Pk=t=>(t=t%360,t<0&&(t+=360),t),sj=jk,oj=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),aj=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),pq={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:oj,scaleY:aj,scale:t=>(oj(t)+aj(t))/2,rotateX:t=>Pk(Iu(Math.atan2(t[6],t[5]))),rotateY:t=>Pk(Iu(Math.atan2(-t[2],t[0]))),rotateZ:sj,rotate:sj,skewX:t=>Iu(Math.atan(t[4])),skewY:t=>Iu(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Rk(t){return t.includes("scale")?1:0}function Ik(t,e){if(!t||t==="none")return Rk(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=pq,i=r;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=hq,i=a}if(!i)return Rk(e);const s=n[e],o=i[1].split(",").map(gq);return typeof s=="function"?s(o):o[s]}const mq=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return Ik(r,e)};function gq(t){return parseFloat(t.trim())}const yh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xh=new Set(yh),lj=t=>t===gh||t===Rt,yq=new Set(["x","y","z"]),xq=yh.filter(t=>!yq.has(t));function vq(t){const e=[];return xq.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Lu={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ik(e,"x"),y:(t,{transform:e})=>Ik(e,"y")};Lu.translateX=Lu.x;Lu.translateY=Lu.y;const Fu=new Set;let Mk=!1,Dk=!1,Ok=!1;function Q4(){if(Dk){const t=Array.from(Fu).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=vq(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,o])=>{var a;(a=n.getValue(s))==null||a.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Dk=!1,Mk=!1,Fu.forEach(t=>t.complete(Ok)),Fu.clear()}function Z4(){Fu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Dk=!0)})}function bq(){Ok=!0,Z4(),Q4(),Ok=!1}class KC{constructor(e,r,n,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Fu.add(this),Mk||(Mk=!0,Xr.read(Z4),Xr.resolveKeyframes(Q4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(n&&r){const a=n.readValue(r,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}fq(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Fu.delete(this)}cancel(){this.state==="scheduled"&&(Fu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const wq=t=>t.startsWith("--");function kq(t,e,r){wq(e)?t.style.setProperty(e,r):t.style[e]=r}const _q=DC(()=>window.ScrollTimeline!==void 0),Cq={};function Sq(t,e){const r=DC(t);return()=>Cq[e]??r()}const e5=Sq(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Sp=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,cj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sp([0,.65,.55,1]),circOut:Sp([.55,0,1,.45]),backIn:Sp([.31,.01,.66,-.59]),backOut:Sp([.33,1.53,.69,.99])};function t5(t,e){if(t)return typeof t=="function"?e5()?Y4(t,e):"ease-out":z4(t)?Sp(t):Array.isArray(t)?t.map(r=>t5(r,e)||cj.easeOut):cj[t]}function Eq(t,e,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:c}={},d=void 0){const f={[e]:r};c&&(f.offset=c);const p=t5(a,i);Array.isArray(p)&&(f.easing=p);const g={delay:n,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return d&&(g.pseudoElement=d),t.animate(f,g)}function r5(t){return typeof t=="function"&&"applyToOptions"in t}function Tq({type:t,...e}){return r5(t)&&e5()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Nq extends HC{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,MC(typeof e.type!="string");const d=Tq(e);this.animation=Eq(r,n,i,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=qC(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(f):kq(r,n,f),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return po(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+po(e)}get time(){return po(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ma(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&_q()?(this.animation.timeline=e,xo):r(this)}}const n5={anticipate:D4,backInOut:M4,circInOut:L4};function Aq(t){return t in n5}function jq(t){typeof t.ease=="string"&&Aq(t.ease)&&(t.ease=n5[t.ease])}const uj=10;class Pq extends Nq{constructor(e){jq(e),X4(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const a=new GC({...o,autoplay:!1}),c=Ma(this.finishedTime??this.time);r.setWithVelocity(a.sample(c-uj).value,a.sample(c).value,uj),a.stop()}}const dj=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ec.test(t)||t==="0")&&!t.startsWith("url("));function Rq(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function Iq(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=dj(i,e),a=dj(s,e);return!o||!a?!1:Rq(t)||(r==="spring"||r5(r))&&n}function Lk(t){t.duration=0,t.type="keyframes"}const Mq=new Set(["opacity","clipPath","filter","transform"]),Dq=DC(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Oq(t){var f;const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:s,type:o}=t;if(!(((f=e==null?void 0:e.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return Dq()&&r&&Mq.has(r)&&(r!=="transform"||!d)&&!c&&!n&&i!=="mirror"&&s!==0&&o!=="inertia"}const Lq=40;class Fq extends HC{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:c,motionValue:d,element:f,...p}){var v;super(),this.stop=()=>{var x,w;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=hs.now();const g={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:o,name:c,motionValue:d,element:f,...p},m=(f==null?void 0:f.KeyframeResolver)||KC;this.keyframeResolver=new m(a,(x,w,E)=>this.onKeyframesResolved(x,w,g,!E),c,d,f),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:c,isHandoff:d,onUpdate:f}=n;this.resolvedAt=hs.now(),Iq(e,s,o,a)||((wl.instantAnimations||!c)&&(f==null||f(qC(e,n,r))),e[0]=e[e.length-1],Lk(n),n.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Lq?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},m=!d&&Oq(g)?new Pq({...g,element:g.motionValue.owner.current}):new GC(g);m.finished.then(()=>this.notifyFinished()).catch(xo),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),bq()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const zq=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Bq(t){const e=zq.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function i5(t,e,r=1){const[n,i]=Bq(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const o=s.trim();return E4(o)?parseFloat(o):o}return BC(i)?i5(i,e,r+1):i}function YC(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const s5=new Set(["width","height","top","left","right","bottom",...yh]),$q={test:t=>t==="auto",parse:t=>t},o5=t=>e=>e.test(t),a5=[gh,Rt,Da,nc,RW,PW,$q],fj=t=>a5.find(o5(t));function Uq(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||N4(t):!0}const Vq=new Set(["brightness","contrast","saturate","opacity"]);function Wq(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match($C)||[];if(!n)return t;const i=r.replace(n,"");let s=Vq.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const qq=/\b([a-z-]*)\(.*?\)/gu,Fk={...Ec,getAnimatableNone:t=>{const e=t.match(qq);return e?e.map(Wq).join(" "):t}},hj={...gh,transform:Math.round},Hq={rotate:nc,rotateX:nc,rotateY:nc,rotateZ:nc,scale:Ly,scaleX:Ly,scaleY:Ly,scaleZ:Ly,skew:nc,skewX:nc,skewY:nc,distance:Rt,translateX:Rt,translateY:Rt,translateZ:Rt,x:Rt,y:Rt,z:Rt,perspective:Rt,transformPerspective:Rt,opacity:bm,originX:ej,originY:ej,originZ:Rt},JC={borderWidth:Rt,borderTopWidth:Rt,borderRightWidth:Rt,borderBottomWidth:Rt,borderLeftWidth:Rt,borderRadius:Rt,radius:Rt,borderTopLeftRadius:Rt,borderTopRightRadius:Rt,borderBottomRightRadius:Rt,borderBottomLeftRadius:Rt,width:Rt,maxWidth:Rt,height:Rt,maxHeight:Rt,top:Rt,right:Rt,bottom:Rt,left:Rt,padding:Rt,paddingTop:Rt,paddingRight:Rt,paddingBottom:Rt,paddingLeft:Rt,margin:Rt,marginTop:Rt,marginRight:Rt,marginBottom:Rt,marginLeft:Rt,backgroundPositionX:Rt,backgroundPositionY:Rt,...Hq,zIndex:hj,fillOpacity:bm,strokeOpacity:bm,numOctaves:hj},Gq={...JC,color:Mn,backgroundColor:Mn,outlineColor:Mn,fill:Mn,stroke:Mn,borderColor:Mn,borderTopColor:Mn,borderRightColor:Mn,borderBottomColor:Mn,borderLeftColor:Mn,filter:Fk,WebkitFilter:Fk},l5=t=>Gq[t];function c5(t,e){let r=l5(t);return r!==Fk&&(r=Ec),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const Kq=new Set(["auto","none","0"]);function Yq(t,e,r){let n=0,i;for(;n<t.length&&!i;){const s=t[n];typeof s=="string"&&!Kq.has(s)&&wm(s).values.length&&(i=t[n]),n++}if(i&&r)for(const s of e)t[s]=c5(r,i)}class Jq extends KC{constructor(e,r,n,i,s){super(e,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),BC(d))){const f=i5(d,r.current);f!==void 0&&(e[c]=f),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!s5.has(n)||e.length!==2)return;const[i,s]=e,o=fj(i),a=fj(s);if(o!==a)if(lj(o)&&lj(a))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else Lu[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||Uq(e[i]))&&n.push(i);n.length&&Yq(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Lu[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,o=n[s];n[s]=Lu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function Xq(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=(r==null?void 0:r[t])??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const u5=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function d5(t){return T4(t)&&"offsetHeight"in t}const pj=30,Qq=t=>!isNaN(parseFloat(t));class Zq{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const i=hs.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=hs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Qq(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new OC);const n=this.events[e].add(r);return e==="change"?()=>{n(),Xr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=hs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>pj)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,pj);return A4(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Jf(t,e){return new Zq(t,e)}const{schedule:XC}=B4(queueMicrotask,!1),Vo={x:!1,y:!1};function f5(){return Vo.x||Vo.y}function eH(t){return t==="x"||t==="y"?Vo[t]?null:(Vo[t]=!0,()=>{Vo[t]=!1}):Vo.x||Vo.y?null:(Vo.x=Vo.y=!0,()=>{Vo.x=Vo.y=!1})}function h5(t,e){const r=Xq(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function mj(t){return!(t.pointerType==="touch"||f5())}function tH(t,e,r={}){const[n,i,s]=h5(t,r),o=a=>{if(!mj(a))return;const{target:c}=a,d=e(c,a);if(typeof d!="function"||!c)return;const f=p=>{mj(p)&&(d(p),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,i)};return n.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const p5=(t,e)=>e?t===e?!0:p5(t,e.parentElement):!1,QC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,rH=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function nH(t){return rH.has(t.tagName)||t.tabIndex!==-1}const M0=new WeakSet;function gj(t){return e=>{e.key==="Enter"&&t(e)}}function Xw(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const iH=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=gj(()=>{if(M0.has(r))return;Xw(r,"down");const i=gj(()=>{Xw(r,"up")}),s=()=>Xw(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function yj(t){return QC(t)&&!f5()}function sH(t,e,r={}){const[n,i,s]=h5(t,r),o=a=>{const c=a.currentTarget;if(!yj(a))return;M0.add(c);const d=e(c,a),f=(m,v)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),M0.has(c)&&M0.delete(c),yj(m)&&typeof d=="function"&&d(m,{success:v})},p=m=>{f(m,c===window||c===document||r.useGlobalTarget||p5(c,m.target))},g=m=>{f(m,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return n.forEach(a=>{(r.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),d5(a)&&(a.addEventListener("focus",d=>iH(d,i)),!nH(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function m5(t){return T4(t)&&"ownerSVGElement"in t}function oH(t){return m5(t)&&t.tagName==="svg"}const Ai=t=>!!(t&&t.getVelocity),aH=[...a5,Mn,Ec],lH=t=>aH.find(o5(t)),ZC=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function xj(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function cH(...t){return e=>{let r=!1;const n=t.map(i=>{const s=xj(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():xj(t[i],null)}}}}function uH(...t){return C.useCallback(cH(...t),t)}class dH extends C.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=d5(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function fH({children:t,isPresent:e,anchorX:r,root:n}){const i=C.useId(),s=C.useRef(null),o=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=C.useContext(ZC),c=uH(s,t==null?void 0:t.ref);return C.useInsertionEffect(()=>{const{width:d,height:f,top:p,left:g,right:m}=o.current;if(e||!s.current||!d||!f)return;const v=r==="left"?`left: ${g}`:`right: ${m}`;s.current.dataset.motionPopId=i;const x=document.createElement("style");a&&(x.nonce=a);const w=n??document.head;return w.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${v}px !important;
            top: ${p}px !important;
          }
        `),()=>{w.contains(x)&&w.removeChild(x)}},[e]),l.jsx(dH,{isPresent:e,childRef:s,sizeRef:o,children:C.cloneElement(t,{ref:c})})}const hH=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:c})=>{const d=jC(pH),f=C.useId();let p=!0,g=C.useMemo(()=>(p=!1,{id:f,initial:e,isPresent:r,custom:i,onExitComplete:m=>{d.set(m,!0);for(const v of d.values())if(!v)return;n&&n()},register:m=>(d.set(m,!1),()=>d.delete(m))}),[r,d,n]);return s&&p&&(g={...g}),C.useMemo(()=>{d.forEach((m,v)=>d.set(v,!1))},[r]),C.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),o==="popLayout"&&(t=l.jsx(fH,{isPresent:r,anchorX:a,root:c,children:t})),l.jsx(ev.Provider,{value:g,children:t})};function pH(){return new Map}function g5(t=!0){const e=C.useContext(ev);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,s=C.useId();C.useEffect(()=>{if(t)return i(s)},[t]);const o=C.useCallback(()=>t&&n&&n(s),[s,n,t]);return!r&&n?[!1,o]:[!0]}const Fy=t=>t.key||"";function vj(t){const e=[];return C.Children.forEach(t,r=>{C.isValidElement(r)&&e.push(r)}),e}const bj=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:c})=>{const[d,f]=g5(o),p=C.useMemo(()=>vj(t),[t]),g=o&&!d?[]:p.map(Fy),m=C.useRef(!0),v=C.useRef(p),x=jC(()=>new Map),[w,E]=C.useState(p),[P,R]=C.useState(p);S4(()=>{m.current=!1,v.current=p;for(let $=0;$<P.length;$++){const q=Fy(P[$]);g.includes(q)?x.delete(q):x.get(q)!==!0&&x.set(q,!1)}},[P,g.length,g.join("-")]);const S=[];if(p!==w){let $=[...p];for(let q=0;q<P.length;q++){const G=P[q],H=Fy(G);g.includes(H)||($.splice(q,0,G),S.push(G))}return s==="wait"&&S.length&&($=S),R(vj($)),E(p),null}const{forceRender:B}=C.useContext(AC);return l.jsx(l.Fragment,{children:P.map($=>{const q=Fy($),G=o&&!d?!1:p===P||g.includes(q),H=()=>{if(x.has(q))x.set(q,!0);else return;let K=!0;x.forEach(J=>{J||(K=!1)}),K&&(B==null||B(),R(v.current),o&&(f==null||f()),n&&n())};return l.jsx(hH,{isPresent:G,initial:!m.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:G?void 0:H,anchorX:a,children:$},q)})})},y5=C.createContext({strict:!1}),wj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xf={};for(const t in wj)Xf[t]={isEnabled:e=>wj[t].some(r=>!!e[r])};function mH(t){for(const e in t)Xf[e]={...Xf[e],...t[e]}}const gH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||gH.has(t)}let x5=t=>!dx(t);function yH(t){typeof t=="function"&&(x5=e=>e.startsWith("on")?!dx(e):t(e))}try{yH(require("@emotion/is-prop-valid").default)}catch{}function xH(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(x5(i)||r===!0&&dx(i)||!e&&!dx(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const tv=C.createContext({});function rv(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function km(t){return typeof t=="string"||Array.isArray(t)}const eS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tS=["initial",...eS];function nv(t){return rv(t.animate)||tS.some(e=>km(t[e]))}function v5(t){return!!(nv(t)||t.variants)}function vH(t,e){if(nv(t)){const{initial:r,animate:n}=t;return{initial:r===!1||km(r)?r:void 0,animate:km(n)?n:void 0}}return t.inherit!==!1?e:{}}function bH(t){const{initial:e,animate:r}=vH(t,C.useContext(tv));return C.useMemo(()=>({initial:e,animate:r}),[kj(e),kj(r)])}function kj(t){return Array.isArray(t)?t.join(" "):t}const _m={};function wH(t){for(const e in t)_m[e]=t[e],zC(e)&&(_m[e].isCSSVariable=!0)}function b5(t,{layout:e,layoutId:r}){return xh.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!_m[t]||t==="opacity")}const kH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_H=yh.length;function CH(t,e,r){let n="",i=!0;for(let s=0;s<_H;s++){const o=yh[s],a=t[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||r){const d=u5(a,JC[o]);if(!c){i=!1;const f=kH[o]||o;n+=`${f}(${d}) `}r&&(e[o]=d)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function rS(t,e,r){const{style:n,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const c in e){const d=e[c];if(xh.has(c)){o=!0;continue}else if(zC(c)){i[c]=d;continue}else{const f=u5(d,JC[c]);c.startsWith("origin")?(a=!0,s[c]=f):n[c]=f}}if(e.transform||(o||r?n.transform=CH(e,t.transform,r):n.transform&&(n.transform="none")),a){const{originX:c="50%",originY:d="50%",originZ:f=0}=s;n.transformOrigin=`${c} ${d} ${f}`}}const nS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function w5(t,e,r){for(const n in e)!Ai(e[n])&&!b5(n,r)&&(t[n]=e[n])}function SH({transformTemplate:t},e){return C.useMemo(()=>{const r=nS();return rS(r,e,t),Object.assign({},r.vars,r.style)},[e])}function EH(t,e){const r=t.style||{},n={};return w5(n,r,t),Object.assign(n,SH(t,e)),n}function TH(t,e){const r={},n=EH(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const NH={offset:"stroke-dashoffset",array:"stroke-dasharray"},AH={offset:"strokeDashoffset",array:"strokeDasharray"};function jH(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?NH:AH;t[s.offset]=Rt.transform(-n);const o=Rt.transform(e),a=Rt.transform(r);t[s.array]=`${o} ${a}`}function k5(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},c,d,f){if(rS(t,a,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g}=t;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),i!==void 0&&jH(p,i,s,o,!1)}const _5=()=>({...nS(),attrs:{}}),C5=t=>typeof t=="string"&&t.toLowerCase()==="svg";function PH(t,e,r,n){const i=C.useMemo(()=>{const s=_5();return k5(s,e,C5(n),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};w5(s,t.style,t),i.style={...s,...i.style}}return i}const RH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function iS(t){return typeof t!="string"||t.includes("-")?!1:!!(RH.indexOf(t)>-1||/[A-Z]/u.test(t))}function IH(t,e,r,{latestValues:n},i,s=!1){const a=(iS(t)?PH:TH)(e,n,i,t),c=xH(e,typeof t=="string",s),d=t!==C.Fragment?{...c,...a,ref:r}:{},{children:f}=e,p=C.useMemo(()=>Ai(f)?f.get():f,[f]);return C.createElement(t,{...d,children:p})}function _j(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function sS(t,e,r,n){if(typeof e=="function"){const[i,s]=_j(n);e=e(r!==void 0?r:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=_j(n);e=e(r!==void 0?r:t.custom,i,s)}return e}function D0(t){return Ai(t)?t.get():t}function MH({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:DH(r,n,i,t),renderState:e()}}function DH(t,e,r,n){const i={},s=n(t,{});for(const g in s)i[g]=D0(s[g]);let{initial:o,animate:a}=t;const c=nv(t),d=v5(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=r?r.initial===!1:!1;f=f||o===!1;const p=f?a:o;if(p&&typeof p!="boolean"&&!rv(p)){const g=Array.isArray(p)?p:[p];for(let m=0;m<g.length;m++){const v=sS(t,g[m]);if(v){const{transitionEnd:x,transition:w,...E}=v;for(const P in E){let R=E[P];if(Array.isArray(R)){const S=f?R.length-1:0;R=R[S]}R!==null&&(i[P]=R)}for(const P in x)i[P]=x[P]}}}return i}const S5=t=>(e,r)=>{const n=C.useContext(tv),i=C.useContext(ev),s=()=>MH(t,e,n,i);return r?s():jC(s)};function oS(t,e,r){var s;const{style:n}=t,i={};for(const o in n)(Ai(n[o])||e.style&&Ai(e.style[o])||b5(o,t)||((s=r==null?void 0:r.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=n[o]);return i}const OH=S5({scrapeMotionValuesFromProps:oS,createRenderState:nS});function E5(t,e,r){const n=oS(t,e,r);for(const i in t)if(Ai(t[i])||Ai(e[i])){const s=yh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}const LH=S5({scrapeMotionValuesFromProps:E5,createRenderState:_5}),FH=Symbol.for("motionComponentSymbol");function kf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function zH(t,e,r){return C.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):kf(r)&&(r.current=n))},[e])}const aS=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),BH="framerAppearId",T5="data-"+aS(BH),N5=C.createContext({});function $H(t,e,r,n,i){var x,w;const{visualElement:s}=C.useContext(tv),o=C.useContext(y5),a=C.useContext(ev),c=C.useContext(ZC).reducedMotion,d=C.useRef(null);n=n||o.renderer,!d.current&&n&&(d.current=n(t,{visualState:e,parent:s,props:r,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:c}));const f=d.current,p=C.useContext(N5);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&UH(d.current,r,i,p);const g=C.useRef(!1);C.useInsertionEffect(()=>{f&&g.current&&f.update(r,a)});const m=r[T5],v=C.useRef(!!m&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,m))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,m)));return S4(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),v.current&&f.animationState&&f.animationState.animateChanges())}),C.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)==null||E.call(window,m)}),v.current=!1),f.enteringChildren=void 0)}),f}function UH(t,e,r,n){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:d,layoutCrossfade:f}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:A5(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&kf(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:f,layoutScroll:c,layoutRoot:d})}function A5(t){if(t)return t.options.allowProjection!==!1?t.projection:A5(t.parent)}function Qw(t,{forwardMotionProps:e=!1}={},r,n){r&&mH(r);const i=iS(t)?LH:OH;function s(a,c){let d;const f={...C.useContext(ZC),...a,layoutId:VH(a)},{isStatic:p}=f,g=bH(a),m=i(a,p);if(!p&&PC){WH();const v=qH(f);d=v.MeasureLayout,g.visualElement=$H(t,m,f,n,v.ProjectionNode)}return l.jsxs(tv.Provider,{value:g,children:[d&&g.visualElement?l.jsx(d,{visualElement:g.visualElement,...f}):null,IH(t,a,zH(m,g.visualElement,c),m,p,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=C.forwardRef(s);return o[FH]=t,o}function VH({layoutId:t}){const e=C.useContext(AC).id;return e&&t!==void 0?e+"-"+t:t}function WH(t,e){C.useContext(y5).strict}function qH(t){const{drag:e,layout:r}=Xf;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function HH(t,e){if(typeof Proxy>"u")return Qw;const r=new Map,n=(s,o)=>Qw(s,o,t,e),i=(s,o)=>n(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?n:(r.has(o)||r.set(o,Qw(o,void 0,t,e)),r.get(o))})}function j5({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function GH({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function KH(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Zw(t){return t===void 0||t===1}function zk({scale:t,scaleX:e,scaleY:r}){return!Zw(t)||!Zw(e)||!Zw(r)}function ku(t){return zk(t)||P5(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function P5(t){return Cj(t.x)||Cj(t.y)}function Cj(t){return t&&t!=="0%"}function fx(t,e,r){const n=t-r,i=e*n;return r+i}function Sj(t,e,r,n,i){return i!==void 0&&(t=fx(t,i,n)),fx(t,r,n)+e}function Bk(t,e=0,r=1,n,i){t.min=Sj(t.min,e,r,n,i),t.max=Sj(t.max,e,r,n,i)}function R5(t,{x:e,y:r}){Bk(t.x,e.translate,e.scale,e.originPoint),Bk(t.y,r.translate,r.scale,r.originPoint)}const Ej=.999999999999,Tj=1.0000000000001;function YH(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=r[a],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Cf(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,R5(t,o)),n&&ku(s.latestValues)&&Cf(t,s.latestValues))}e.x<Tj&&e.x>Ej&&(e.x=1),e.y<Tj&&e.y>Ej&&(e.y=1)}function _f(t,e){t.min=t.min+e,t.max=t.max+e}function Nj(t,e,r,n,i=.5){const s=an(t.min,t.max,i);Bk(t,e,r,s,n)}function Cf(t,e){Nj(t.x,e.x,e.scaleX,e.scale,e.originX),Nj(t.y,e.y,e.scaleY,e.scale,e.originY)}function I5(t,e){return j5(KH(t.getBoundingClientRect(),e))}function JH(t,e,r){const n=I5(t,r),{scroll:i}=e;return i&&(_f(n.x,i.offset.x),_f(n.y,i.offset.y)),n}const Aj=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sf=()=>({x:Aj(),y:Aj()}),jj=()=>({min:0,max:0}),yn=()=>({x:jj(),y:jj()}),$k={current:null},M5={current:!1};function XH(){if(M5.current=!0,!!PC)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>$k.current=t.matches;t.addEventListener("change",e),e()}else $k.current=!1}const QH=new WeakMap;function ZH(t,e,r){for(const n in e){const i=e[n],s=r[n];if(Ai(i))t.addValue(n,i);else if(Ai(s))t.addValue(n,Jf(i,{owner:t}));else if(s!==i)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(n);t.addValue(n,Jf(o!==void 0?o:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const Pj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class eG{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=hs.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Xr.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=nv(r),this.isVariantNode=v5(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in p){const m=p[g];c[g]!==void 0&&Ai(m)&&m.set(c[g])}}mount(e){var r;this.current=e,QH.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),M5.current||XH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$k.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Sc(this.notifyUpdate),Sc(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=xh.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Xr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Xf){const r=Xf[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Pj.length;n++){const i=Pj[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=ZH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Jf(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(E4(n)||N4(n))?n=parseFloat(n):!lH(n)&&Ec.test(r)&&(n=c5(e,r)),this.setBaseTarget(e,Ai(n)?n.get():n)),Ai(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=sS(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ai(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new OC),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){XC.render(this.render)}}class D5 extends eG{constructor(){super(...arguments),this.KeyframeResolver=Jq}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ai(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function O5(t,{style:e,vars:r},n,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,n);for(o in r)s.setProperty(o,r[o])}function tG(t){return window.getComputedStyle(t)}class rG extends D5{constructor(){super(...arguments),this.type="html",this.renderInstance=O5}readValueFromInstance(e,r){var n;if(xh.has(r))return(n=this.projection)!=null&&n.isProjecting?Rk(r):mq(e,r);{const i=tG(e),s=(zC(r)?i.getPropertyValue(r):i[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return I5(e,r)}build(e,r,n){rS(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return oS(e,r,n)}}const L5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nG(t,e,r,n){O5(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(L5.has(i)?i:aS(i),e.attrs[i])}class iG extends D5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yn}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(xh.has(r)){const n=l5(r);return n&&n.default||0}return r=L5.has(r)?r:aS(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return E5(e,r,n)}build(e,r,n){k5(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){nG(e,r,n,i)}mount(e){this.isSVGTag=C5(e.tagName),super.mount(e)}}const sG=(t,e)=>iS(t)?new iG(e):new rG(e,{allowProjection:t!==C.Fragment});function If(t,e,r){const n=t.getProps();return sS(n,e,r!==void 0?r:n.custom,t)}const Uk=t=>Array.isArray(t);function oG(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Jf(r))}function aG(t){return Uk(t)?t[t.length-1]||0:t}function lG(t,e){const r=If(t,e);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const o in s){const a=aG(s[o]);oG(t,o,a)}}function cG(t){return!!(Ai(t)&&t.add)}function Vk(t,e){const r=t.getValue("willChange");if(cG(r))return r.add(e);if(!r&&wl.WillChange){const n=new wl.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function F5(t){return t.props[T5]}const uG=t=>t!==null;function dG(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(uG),s=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[s]}const fG={type:"spring",stiffness:500,damping:25,restSpeed:10},hG=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),pG={type:"keyframes",duration:.8},mG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gG=(t,{keyframes:e})=>e.length>2?pG:xh.has(t)?t.startsWith("scale")?hG(e[1]):fG:mG;function yG({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:c,elapsed:d,...f}){return!!Object.keys(f).length}const lS=(t,e,r,n={},i,s)=>o=>{const a=YC(n,t)||{},c=a.delay||n.delay||0;let{elapsed:d=0}=n;d=d-Ma(c);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-d,onUpdate:g=>{e.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};yG(a)||Object.assign(f,gG(t,f)),f.duration&&(f.duration=Ma(f.duration)),f.repeatDelay&&(f.repeatDelay=Ma(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(Lk(f),f.delay===0&&(p=!0)),(wl.instantAnimations||wl.skipAnimations)&&(p=!0,Lk(f),f.delay=0),f.allowFlatten=!a.type&&!a.ease,p&&!s&&e.get()!==void 0){const g=dG(f.keyframes,a);if(g!==void 0){Xr.update(()=>{f.onUpdate(g),f.onComplete()});return}}return a.isSync?new GC(f):new Fq(f)};function xG({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function z5(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;n&&(s=n);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in a){const p=t.getValue(f,t.latestValues[f]??null),g=a[f];if(g===void 0||d&&xG(d,f))continue;const m={delay:r,...YC(s||{},f)},v=p.get();if(v!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===v&&!m.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const E=F5(t);if(E){const P=window.MotionHandoffAnimation(E,f,Xr);P!==null&&(m.startTime=P,x=!0)}}Vk(t,f),p.start(lS(f,p,g,t.shouldReduceMotion&&s5.has(f)?{type:!1}:m,t,x));const w=p.animation;w&&c.push(w)}return o&&Promise.all(c).then(()=>{Xr.update(()=>{o&&lG(t,o)})}),c}function B5(t,e,r,n=0,i=1){const s=Array.from(t).sort((d,f)=>d.sortNodePosition(f)).indexOf(e),o=t.size,a=(o-1)*n;return typeof r=="function"?r(s,o):i===1?s*n:a-s*n}function Wk(t,e,r={}){var c;const n=If(t,e,r.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(z5(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:g}=i;return vG(t,e,d,f,p,g,r)}:()=>Promise.resolve(),{when:a}=i;if(a){const[d,f]=a==="beforeChildren"?[s,o]:[o,s];return d().then(()=>f())}else return Promise.all([s(),o(r.delay)])}function vG(t,e,r=0,n=0,i=0,s=1,o){const a=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),a.push(Wk(c,e,{...o,delay:r+(typeof n=="function"?0:n)+B5(t.variantChildren,c,n,i,s)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(a)}function bG(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>Wk(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=Wk(t,e,r);else{const i=typeof e=="function"?If(t,e,r.custom):e;n=Promise.all(z5(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function $5(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const wG=tS.length;function U5(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?U5(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<wG;r++){const n=tS[r],i=t.props[n];(km(i)||i===!1)&&(e[n]=i)}return e}const kG=[...eS].reverse(),_G=eS.length;function CG(t){return e=>Promise.all(e.map(({animation:r,options:n})=>bG(t,r,n)))}function SG(t){let e=CG(t),r=Rj(),n=!0;const i=c=>(d,f)=>{var g;const p=If(t,f,c==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(p){const{transition:m,transitionEnd:v,...x}=p;d={...d,...x,...v}}return d};function s(c){e=c(t)}function o(c){const{props:d}=t,f=U5(t.parent)||{},p=[],g=new Set;let m={},v=1/0;for(let w=0;w<_G;w++){const E=kG[w],P=r[E],R=d[E]!==void 0?d[E]:f[E],S=km(R),B=E===c?P.isActive:null;B===!1&&(v=w);let $=R===f[E]&&R!==d[E]&&S;if($&&n&&t.manuallyAnimateOnMount&&($=!1),P.protectedKeys={...m},!P.isActive&&B===null||!R&&!P.prevProp||rv(R)||typeof R=="boolean")continue;const q=EG(P.prevProp,R);let G=q||E===c&&P.isActive&&!$&&S||w>v&&S,H=!1;const K=Array.isArray(R)?R:[R];let J=K.reduce(i(E),{});B===!1&&(J={});const{prevResolvedValues:W={}}=P,F={...W,...J},b=j=>{G=!0,g.has(j)&&(H=!0,g.delete(j)),P.needsAnimating[j]=!0;const k=t.getValue(j);k&&(k.liveStyle=!1)};for(const j in F){const k=J[j],M=W[j];if(m.hasOwnProperty(j))continue;let T=!1;Uk(k)&&Uk(M)?T=!$5(k,M):T=k!==M,T?k!=null?b(j):g.add(j):k!==void 0&&g.has(j)?b(j):P.protectedKeys[j]=!0}P.prevProp=R,P.prevResolvedValues=J,P.isActive&&(m={...m,...J}),n&&t.blockInitialAnimation&&(G=!1);const A=$&&q;G&&(!A||H)&&p.push(...K.map(j=>{const k={type:E};if(typeof j=="string"&&n&&!A&&t.manuallyAnimateOnMount&&t.parent){const{parent:M}=t,T=If(M,j);if(M.enteringChildren&&T){const{delayChildren:O}=T.transition||{};k.delay=B5(M.enteringChildren,t,O)}}return{animation:j,options:k}}))}if(g.size){const w={};if(typeof d.initial!="boolean"){const E=If(t,Array.isArray(d.initial)?d.initial[0]:d.initial);E&&E.transition&&(w.transition=E.transition)}g.forEach(E=>{const P=t.getBaseTarget(E),R=t.getValue(E);R&&(R.liveStyle=!0),w[E]=P??null}),p.push({animation:w})}let x=!!p.length;return n&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(x=!1),n=!1,x?e(p):Promise.resolve()}function a(c,d){var p;if(r[c].isActive===d)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(g=>{var m;return(m=g.animationState)==null?void 0:m.setActive(c,d)}),r[c].isActive=d;const f=o(c);for(const g in r)r[g].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>r,reset:()=>{r=Rj(),n=!0}}}function EG(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!$5(e,t):!1}function fu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Rj(){return{animate:fu(!0),whileInView:fu(),whileHover:fu(),whileTap:fu(),whileDrag:fu(),whileFocus:fu(),exit:fu()}}class Oc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class TG extends Oc{constructor(e){super(e),e.animationState||(e.animationState=SG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();rv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let NG=0;class AG extends Oc{constructor(){super(...arguments),this.id=NG++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const jG={animation:{Feature:TG},exit:{Feature:AG}};function Cm(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function ug(t){return{point:{x:t.pageX,y:t.pageY}}}const PG=t=>e=>QC(e)&&t(e,ug(e));function Vp(t,e,r,n){return Cm(t,e,PG(r),n)}const V5=1e-4,RG=1-V5,IG=1+V5,W5=.01,MG=0-W5,DG=0+W5;function Ji(t){return t.max-t.min}function OG(t,e,r){return Math.abs(t-e)<=r}function Ij(t,e,r,n=.5){t.origin=n,t.originPoint=an(e.min,e.max,t.origin),t.scale=Ji(r)/Ji(e),t.translate=an(r.min,r.max,t.origin)-t.originPoint,(t.scale>=RG&&t.scale<=IG||isNaN(t.scale))&&(t.scale=1),(t.translate>=MG&&t.translate<=DG||isNaN(t.translate))&&(t.translate=0)}function Wp(t,e,r,n){Ij(t.x,e.x,r.x,n?n.originX:void 0),Ij(t.y,e.y,r.y,n?n.originY:void 0)}function Mj(t,e,r){t.min=r.min+e.min,t.max=t.min+Ji(e)}function LG(t,e,r){Mj(t.x,e.x,r.x),Mj(t.y,e.y,r.y)}function Dj(t,e,r){t.min=e.min-r.min,t.max=t.min+Ji(e)}function qp(t,e,r){Dj(t.x,e.x,r.x),Dj(t.y,e.y,r.y)}function ao(t){return[t("x"),t("y")]}const q5=({current:t})=>t?t.ownerDocument.defaultView:null,Oj=(t,e)=>Math.abs(t-e);function FG(t,e){const r=Oj(t.x,e.x),n=Oj(t.y,e.y);return Math.sqrt(r**2+n**2)}class H5{constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=t1(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=FG(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!v)return;const{point:x}=g,{timestamp:w}=ai;this.history.push({...x,timestamp:w});const{onStart:E,onMove:P}=this.handlers;m||(E&&E(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,g)},this.handlePointerMove=(g,m)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=e1(m,this.transformPagePoint),Xr.update(this.updatePoint,!0)},this.handlePointerUp=(g,m)=>{this.end();const{onEnd:v,onSessionEnd:x,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=t1(g.type==="pointercancel"?this.lastMoveEventInfo:e1(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(g,E),x&&x(g,E)},!QC(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=i||window;const a=ug(e),c=e1(a,this.transformPagePoint),{point:d}=c,{timestamp:f}=ai;this.history=[{...d,timestamp:f}];const{onSessionStart:p}=r;p&&p(e,t1(c,this.history)),this.removeListeners=ag(Vp(this.contextWindow,"pointermove",this.handlePointerMove),Vp(this.contextWindow,"pointerup",this.handlePointerUp),Vp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Sc(this.updatePoint)}}function e1(t,e){return e?{point:e(t.point)}:t}function Lj(t,e){return{x:t.x-e.x,y:t.y-e.y}}function t1({point:t},e){return{point:t,delta:Lj(t,G5(e)),offset:Lj(t,zG(e)),velocity:BG(e,.1)}}function zG(t){return t[0]}function G5(t){return t[t.length-1]}function BG(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=G5(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Ma(e)));)r--;if(!n)return{x:0,y:0};const s=po(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function $G(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?an(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?an(r,t,n.max):Math.min(t,r)),t}function Fj(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function UG(t,{top:e,left:r,bottom:n,right:i}){return{x:Fj(t.x,r,i),y:Fj(t.y,e,n)}}function zj(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function VG(t,e){return{x:zj(t.x,e.x),y:zj(t.y,e.y)}}function WG(t,e){let r=.5;const n=Ji(t),i=Ji(e);return i>n?r=vm(e.min,e.max-n,t.min):n>i&&(r=vm(t.min,t.max-i,e.min)),bl(0,1,r)}function qG(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const qk=.35;function HG(t=qk){return t===!1?t=0:t===!0&&(t=qk),{x:Bj(t,"left","right"),y:Bj(t,"top","bottom")}}function Bj(t,e,r){return{min:$j(t,e),max:$j(t,r)}}function $j(t,e){return typeof t=="number"?t:t[e]||0}const GG=new WeakMap;class KG{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ug(p).point)},o=(p,g)=>{const{drag:m,dragPropagation:v,onDragStart:x}=this.getProps();if(m&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=eH(m),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ao(E=>{let P=this.getAxisMotionValue(E).get()||0;if(Da.test(P)){const{projection:R}=this.visualElement;if(R&&R.layout){const S=R.layout.layoutBox[E];S&&(P=Ji(S)*(parseFloat(P)/100))}}this.originPoint[E]=P}),x&&Xr.postRender(()=>x(p,g)),Vk(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:x,onDrag:w}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:E}=g;if(v&&this.currentDirection===null){this.currentDirection=YG(E),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",g.point,E),this.updateAxis("y",g.point,E),this.visualElement.render(),w&&w(p,g)},c=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>ao(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)==null?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new H5(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:n,contextWindow:q5(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Xr.postRender(()=>a(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!zy(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=$G(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&kf(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=UG(n.layoutBox,e):this.constraints=!1,this.elastic=HG(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ao(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=qG(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!kf(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=JH(n,i.root,this.visualElement.getTransformPagePoint());let o=VG(i.layout.layoutBox,s);if(r){const a=r(GH(o));this.hasMutatedConstraints=!!a,a&&(o=j5(a))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},d=ao(f=>{if(!zy(f,r,this.currentDirection))return;let p=c&&c[f]||{};o&&(p={min:0,max:0});const g=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:n?e[f]:0,bounceStiffness:g,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(f,v)});return Promise.all(d).then(a)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return Vk(this.visualElement,e),n.start(lS(e,n,0,r,this.visualElement,!1))}stopAnimation(){ao(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ao(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){ao(r=>{const{drag:n}=this.getProps();if(!zy(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[r];s.set(e[r]-an(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!kf(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ao(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();i[o]=WG({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ao(o=>{if(!zy(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];a.set(an(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;GG.set(this.visualElement,this);const e=this.visualElement.current,r=Vp(e,"pointerdown",c=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();kf(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Xr.read(n);const o=Cm(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(ao(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=c[f].translate,p.set(p.get()+c[f].translate))}),this.visualElement.render())});return()=>{o(),r(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=qk,dragMomentum:a=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function zy(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function YG(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class JG extends Oc{constructor(e){super(e),this.removeGroupControls=xo,this.removeListeners=xo,this.controls=new KG(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xo}unmount(){this.removeGroupControls(),this.removeListeners()}}const Uj=t=>(e,r)=>{t&&Xr.postRender(()=>t(e,r))};class XG extends Oc{constructor(){super(...arguments),this.removePointerDownListener=xo}onPointerDown(e){this.session=new H5(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:q5(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:Uj(e),onStart:Uj(r),onMove:n,onEnd:(s,o)=>{delete this.session,i&&Xr.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Vp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const O0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Vj(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const dp={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Rt.test(t))t=parseFloat(t);else return t;const r=Vj(t,e.target.x),n=Vj(t,e.target.y);return`${r}% ${n}%`}},QG={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=Ec.parse(t);if(i.length>5)return n;const s=Ec.createTransformer(t),o=typeof i[0]!="number"?1:0,a=r.x.scale*e.x,c=r.y.scale*e.y;i[0+o]/=a,i[1+o]/=c;const d=an(a,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),s(i)}};let r1=!1;class ZG extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;wH(eK),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),r1&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),O0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:o}=n;return o&&(o.isPresent=s,r1=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Xr.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),XC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;r1=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function K5(t){const[e,r]=g5(),n=C.useContext(AC);return l.jsx(ZG,{...t,layoutGroup:n,switchLayoutGroup:C.useContext(N5),isPresent:e,safeToRemove:r})}const eK={borderRadius:{...dp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dp,borderTopRightRadius:dp,borderBottomLeftRadius:dp,borderBottomRightRadius:dp,boxShadow:QG};function tK(t,e,r){const n=Ai(t)?t:Jf(t);return n.start(lS("",n,e,r)),n.animation}const rK=(t,e)=>t.depth-e.depth;class nK{constructor(){this.children=[],this.isDirty=!1}add(e){RC(this.children,e),this.isDirty=!0}remove(e){IC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(rK),this.isDirty=!1,this.children.forEach(e)}}function iK(t,e){const r=hs.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(Sc(n),t(s-e))};return Xr.setup(n,!0),()=>Sc(n)}const Y5=["TopLeft","TopRight","BottomLeft","BottomRight"],sK=Y5.length,Wj=t=>typeof t=="string"?parseFloat(t):t,qj=t=>typeof t=="number"||Rt.test(t);function oK(t,e,r,n,i,s){i?(t.opacity=an(0,r.opacity??1,aK(n)),t.opacityExit=an(e.opacity??1,0,lK(n))):s&&(t.opacity=an(e.opacity??1,r.opacity??1,n));for(let o=0;o<sK;o++){const a=`border${Y5[o]}Radius`;let c=Hj(e,a),d=Hj(r,a);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||qj(c)===qj(d)?(t[a]=Math.max(an(Wj(c),Wj(d),n),0),(Da.test(d)||Da.test(c))&&(t[a]+="%")):t[a]=d}(e.rotate||r.rotate)&&(t.rotate=an(e.rotate||0,r.rotate||0,n))}function Hj(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const aK=J5(0,.5,O4),lK=J5(.5,.95,xo);function J5(t,e,r){return n=>n<t?0:n>e?1:r(vm(t,e,n))}function Gj(t,e){t.min=e.min,t.max=e.max}function so(t,e){Gj(t.x,e.x),Gj(t.y,e.y)}function Kj(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Yj(t,e,r,n,i){return t-=e,t=fx(t,1/r,n),i!==void 0&&(t=fx(t,1/i,n)),t}function cK(t,e=0,r=1,n=.5,i,s=t,o=t){if(Da.test(e)&&(e=parseFloat(e),e=an(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=an(s.min,s.max,n);t===s&&(a-=e),t.min=Yj(t.min,e,r,a,i),t.max=Yj(t.max,e,r,a,i)}function Jj(t,e,[r,n,i],s,o){cK(t,e[r],e[n],e[i],e.scale,s,o)}const uK=["x","scaleX","originX"],dK=["y","scaleY","originY"];function Xj(t,e,r,n){Jj(t.x,e,uK,r?r.x:void 0,n?n.x:void 0),Jj(t.y,e,dK,r?r.y:void 0,n?n.y:void 0)}function Qj(t){return t.translate===0&&t.scale===1}function X5(t){return Qj(t.x)&&Qj(t.y)}function Zj(t,e){return t.min===e.min&&t.max===e.max}function fK(t,e){return Zj(t.x,e.x)&&Zj(t.y,e.y)}function eP(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Q5(t,e){return eP(t.x,e.x)&&eP(t.y,e.y)}function tP(t){return Ji(t.x)/Ji(t.y)}function rP(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class hK{constructor(){this.members=[]}add(e){RC(this.members,e),e.scheduleRender()}remove(e){if(IC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function pK(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((i||s||o)&&(n=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:d,rotate:f,rotateX:p,rotateY:g,skewX:m,skewY:v}=r;d&&(n=`perspective(${d}px) ${n}`),f&&(n+=`rotate(${f}deg) `),p&&(n+=`rotateX(${p}deg) `),g&&(n+=`rotateY(${g}deg) `),m&&(n+=`skewX(${m}deg) `),v&&(n+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,c=t.y.scale*e.y;return(a!==1||c!==1)&&(n+=`scale(${a}, ${c})`),n||"none"}const n1=["","X","Y","Z"],mK=1e3;let gK=0;function i1(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function Z5(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=F5(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Xr,!(i||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&Z5(n)}function e3({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=gK++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(vK),this.nodes.forEach(_K),this.nodes.forEach(CK),this.nodes.forEach(bK)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new nK)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new OC),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=m5(o)&&!oH(o),this.instance=o;const{layoutId:a,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),t){let f,p=0;const g=()=>this.root.updateBlockedByResize=!1;Xr.read(()=>{p=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==p&&(p=m,this.root.updateBlockedByResize=!0,f&&f(),f=iK(g,250),O0.hasAnimatedSinceResize&&(O0.hasAnimatedSinceResize=!1,this.nodes.forEach(sP)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&d&&(a||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||AK,{onLayoutAnimationStart:x,onLayoutAnimationComplete:w}=d.getProps(),E=!this.targetLayout||!Q5(this.targetLayout,m),P=!p&&g;if(this.options.layoutRoot||this.resumeFrom||P||p&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...YC(v,"layout"),onPlay:x,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(f,P)}else p||sP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Sc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SK),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Z5(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nP);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(iP);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(kK),this.nodes.forEach(yK),this.nodes.forEach(xK)):this.nodes.forEach(iP),this.clearAllSnapshots();const a=hs.now();ai.delta=bl(0,1e3/60,a-ai.timestamp),ai.timestamp=a,ai.isProcessing=!0,Hw.update.process(ai),Hw.preRender.process(ai),Hw.render.process(ai),ai.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,XC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(wK),this.sharedNodes.forEach(EK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ji(this.snapshot.measuredBox.x)&&!Ji(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=yn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!X5(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&this.instance&&(a||ku(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),jK(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return yn();const a=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(PK))){const{scroll:f}=this.root;f&&(_f(a.x,f.offset.x),_f(a.y,f.offset.y))}return a}removeElementScroll(o){var c;const a=yn();if(so(a,o),(c=this.scroll)!=null&&c.wasRoot)return a;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:g}=f;f!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&so(a,o),_f(a.x,p.offset.x),_f(a.y,p.offset.y))}return a}applyTransform(o,a=!1){const c=yn();so(c,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Cf(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),ku(f.latestValues)&&Cf(c,f.latestValues)}return ku(this.latestValues)&&Cf(c,this.latestValues),c}removeTransform(o){const a=yn();so(a,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!ku(d.latestValues))continue;zk(d.latestValues)&&d.updateSnapshot();const f=yn(),p=d.measurePageBox();so(f,p),Xj(a,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return ku(this.latestValues)&&Xj(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ai.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=ai.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yn(),this.relativeTargetOrigin=yn(),qp(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),so(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=yn(),this.targetWithTransforms=yn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),LG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):so(this.target,this.layout.layoutBox),R5(this.target,this.targetDelta)):so(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yn(),this.relativeTargetOrigin=yn(),qp(this.relativeTargetOrigin,this.target,m.target),so(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||zk(this.parent.latestValues)||P5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ai.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;so(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;YH(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=yn());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Kj(this.prevProjectionDelta.x,this.projectionDelta.x),Kj(this.prevProjectionDelta.y,this.projectionDelta.y)),Wp(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!rP(this.projectionDelta.x,this.prevProjectionDelta.x)||!rP(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Sf(),this.projectionDelta=Sf(),this.projectionDeltaWithTransform=Sf()}setAnimationOrigin(o,a=!1){const c=this.snapshot,d=c?c.latestValues:{},f={...this.latestValues},p=Sf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=yn(),m=c?c.source:void 0,v=this.layout?this.layout.source:void 0,x=m!==v,w=this.getStack(),E=!w||w.members.length<=1,P=!!(x&&!E&&this.options.crossfade===!0&&!this.path.some(NK));this.animationProgress=0;let R;this.mixTargetDelta=S=>{const B=S/1e3;oP(p.x,o.x,B),oP(p.y,o.y,B),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qp(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),TK(this.relativeTarget,this.relativeTargetOrigin,g,B),R&&fK(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=yn()),so(R,this.relativeTarget)),x&&(this.animationValues=f,oK(f,d,this.latestValues,B,P,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,c,d;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Sc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xr.update(()=>{O0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Jf(0)),this.currentAnimation=tK(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mK),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:d,latestValues:f}=o;if(!(!a||!c||!d)){if(this!==o&&this.layout&&d&&t3(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||yn();const p=Ji(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+p;const g=Ji(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+g}so(a,c),Cf(a,f),Wp(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new hK),this.sharedNodes.get(o).add(a);const d=a.options.initialPromotionConfig;a.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const d={};c.z&&i1("z",o,d,this.animationValues);for(let f=0;f<n1.length;f++)i1(`rotate${n1[f]}`,o,d,this.animationValues),i1(`skew${n1[f]}`,o,d,this.animationValues);o.render();for(const f in d)o.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=D0(a==null?void 0:a.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=D0(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!ku(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let p=pK(this.projectionDeltaWithTransform,this.treeScale,f);c&&(p=c(f,p)),o.transform=p;const{x:g,y:m}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${m.origin*100}% 0`,d.animationValues?o.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in _m){if(f[v]===void 0)continue;const{correct:x,applyTo:w,isCSSVariable:E}=_m[v],P=p==="none"?f[v]:x(f[v],d);if(w){const R=w.length;for(let S=0;S<R;S++)o[w[S]]=P}else E?this.options.visualElement.renderState.vars[v]=P:o[v]=P}this.options.layoutId&&(o.pointerEvents=d===this?D0(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(nP),this.root.sharedNodes.clear()}}}function yK(t){t.updateLayout()}function xK(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?ao(p=>{const g=o?e.measuredBox[p]:e.layoutBox[p],m=Ji(g);g.min=n[p].min,g.max=g.min+m}):t3(s,e.layoutBox,n)&&ao(p=>{const g=o?e.measuredBox[p]:e.layoutBox[p],m=Ji(n[p]);g.max=g.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+m)});const a=Sf();Wp(a,n,e.layoutBox);const c=Sf();o?Wp(c,t.applyTransform(i,!0),e.measuredBox):Wp(c,n,e.layoutBox);const d=!X5(a);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:m}=p;if(g&&m){const v=yn();qp(v,e.layoutBox,g.layoutBox);const x=yn();qp(x,n,m.layoutBox),Q5(v,x)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=v,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:a,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function vK(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function bK(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function wK(t){t.clearSnapshot()}function nP(t){t.clearMeasurements()}function iP(t){t.isLayoutDirty=!1}function kK(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function sP(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function _K(t){t.resolveTargetDelta()}function CK(t){t.calcProjection()}function SK(t){t.resetSkewAndRotation()}function EK(t){t.removeLeadSnapshot()}function oP(t,e,r){t.translate=an(e.translate,0,r),t.scale=an(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function aP(t,e,r,n){t.min=an(e.min,r.min,n),t.max=an(e.max,r.max,n)}function TK(t,e,r,n){aP(t.x,e.x,r.x,n),aP(t.y,e.y,r.y,n)}function NK(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const AK={duration:.45,ease:[.4,0,.1,1]},lP=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),cP=lP("applewebkit/")&&!lP("chrome/")?Math.round:xo;function uP(t){t.min=cP(t.min),t.max=cP(t.max)}function jK(t){uP(t.x),uP(t.y)}function t3(t,e,r){return t==="position"||t==="preserve-aspect"&&!OG(tP(e),tP(r),.2)}function PK(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const RK=e3({attachResizeListener:(t,e)=>Cm(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),s1={current:void 0},r3=e3({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!s1.current){const t=new RK({});t.mount(window),t.setOptions({layoutScroll:!0}),s1.current=t}return s1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),IK={pan:{Feature:XG},drag:{Feature:JG,ProjectionNode:r3,MeasureLayout:K5}};function dP(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&Xr.postRender(()=>s(e,ug(e)))}class MK extends Oc{mount(){const{current:e}=this.node;e&&(this.unmount=tH(e,(r,n)=>(dP(this.node,n,"Start"),i=>dP(this.node,i,"End"))))}unmount(){}}class DK extends Oc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ag(Cm(this.node.current,"focus",()=>this.onFocus()),Cm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function fP(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&Xr.postRender(()=>s(e,ug(e)))}class OK extends Oc{mount(){const{current:e}=this.node;e&&(this.unmount=sH(e,(r,n)=>(fP(this.node,n,"Start"),(i,{success:s})=>fP(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Hk=new WeakMap,o1=new WeakMap,LK=t=>{const e=Hk.get(t.target);e&&e(t)},FK=t=>{t.forEach(LK)};function zK({root:t,...e}){const r=t||document;o1.has(r)||o1.set(r,{});const n=o1.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(FK,{root:t,...e})),n[i]}function BK(t,e,r){const n=zK(e);return Hk.set(t,r),n.observe(t),()=>{Hk.delete(t),n.unobserve(t)}}const $K={some:0,all:1};class UK extends Oc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:$K[i]},a=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),g=d?f:p;g&&g(c)};return BK(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(VK(e,r))&&this.startObserver()}unmount(){}}function VK({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const WK={inView:{Feature:UK},tap:{Feature:OK},focus:{Feature:DK},hover:{Feature:MK}},qK={layout:{ProjectionNode:r3,MeasureLayout:K5}},HK={...jG,...WK,...IK,...qK},An=HH(HK,sG);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KK=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),$e=(t,e)=>{const r=C.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:c,...d},f)=>C.createElement("svg",{ref:f,...GK,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${KK(t)}`,a].join(" "),...d},[...e.map(([p,g])=>C.createElement(p,g)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=$e("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=$e("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=$e("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YK=$e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=$e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=$e("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=$e("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XK=$e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=$e("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=$e("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=$e("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=$e("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=$e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=$e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=$e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=$e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=$e("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=$e("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=$e("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=$e("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=$e("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=$e("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=$e("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=$e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=$e("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=$e("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=$e("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=$e("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=$e("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=$e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=$e("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=$e("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=$e("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=$e("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=$e("LockKeyhole",[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=$e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=$e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=$e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=$e("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=$e("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=$e("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=$e("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=$e("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=$e("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=$e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=$e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=$e("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=$e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=$e("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=$e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=$e("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=$e("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=$e("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=$e("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=$e("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=$e("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=$e("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=$e("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=$e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=$e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=$e("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=$e("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=$e("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=$e("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=$e("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=$e("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=$e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=$e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=$e("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=$e("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=$e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=$e("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=$e("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function SP(t,[e,r]){return Math.min(r,Math.max(e,t))}function Ke(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function gY(t,e){const r=C.createContext(e),n=s=>{const{children:o,...a}=s,c=C.useMemo(()=>a,Object.values(a));return l.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function i(s){const o=C.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function So(t,e=[]){let r=[];function n(s,o){const a=C.createContext(o),c=r.length;r=[...r,o];const d=p=>{var E;const{scope:g,children:m,...v}=p,x=((E=g==null?void 0:g[t])==null?void 0:E[c])||a,w=C.useMemo(()=>v,Object.values(v));return l.jsx(x.Provider,{value:w,children:m})};d.displayName=s+"Provider";function f(p,g){var x;const m=((x=g==null?void 0:g[t])==null?void 0:x[c])||a,v=C.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[d,f]}const i=()=>{const s=r.map(o=>C.createContext(o));return function(a){const c=(a==null?void 0:a[t])||s;return C.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[n,yY(i,...e)]}function yY(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((a,{useScope:c,scopeName:d})=>{const p=c(s)[`__scope${d}`];return{...a,...p}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function EP(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function sv(...t){return e=>{let r=!1;const n=t.map(i=>{const s=EP(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():EP(t[i],null)}}}}function yr(...t){return C.useCallback(sv(...t),t)}function Qu(t){const e=xY(t),r=C.forwardRef((n,i)=>{const{children:s,...o}=n,a=C.Children.toArray(s),c=a.find(bY);if(c){const d=c.props.children,f=a.map(p=>p===c?C.Children.count(d)>1?C.Children.only(null):C.isValidElement(d)?d.props.children:null:p);return l.jsx(e,{...o,ref:i,children:C.isValidElement(d)?C.cloneElement(d,void 0,f):null})}return l.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}var a3=Qu("Slot");function xY(t){const e=C.forwardRef((r,n)=>{const{children:i,...s}=r;if(C.isValidElement(i)){const o=kY(i),a=wY(s,i.props);return i.type!==C.Fragment&&(a.ref=n?sv(n,o):o),C.cloneElement(i,a)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var l3=Symbol("radix.slottable");function vY(t){const e=({children:r})=>l.jsx(l.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=l3,e}function bY(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===l3}function wY(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...a)=>{const c=s(...a);return i(...a),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function kY(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function ov(t){const e=t+"CollectionProvider",[r,n]=So(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:w,children:E}=x,P=be.useRef(null),R=be.useRef(new Map).current;return l.jsx(i,{scope:w,itemMap:R,collectionRef:P,children:E})};o.displayName=e;const a=t+"CollectionSlot",c=Qu(a),d=be.forwardRef((x,w)=>{const{scope:E,children:P}=x,R=s(a,E),S=yr(w,R.collectionRef);return l.jsx(c,{ref:S,children:P})});d.displayName=a;const f=t+"CollectionItemSlot",p="data-radix-collection-item",g=Qu(f),m=be.forwardRef((x,w)=>{const{scope:E,children:P,...R}=x,S=be.useRef(null),B=yr(w,S),$=s(f,E);return be.useEffect(()=>($.itemMap.set(S,{ref:S,...R}),()=>void $.itemMap.delete(S))),l.jsx(g,{[p]:"",ref:B,children:P})});m.displayName=f;function v(x){const w=s(t+"CollectionConsumer",x);return be.useCallback(()=>{const P=w.collectionRef.current;if(!P)return[];const R=Array.from(P.querySelectorAll(`[${p}]`));return Array.from(w.itemMap.values()).sort(($,q)=>R.indexOf($.ref.current)-R.indexOf(q.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:d,ItemSlot:m},v,n]}var _Y=C.createContext(void 0);function dg(t){const e=C.useContext(_Y);return t||e||"ltr"}var CY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Dt=CY.reduce((t,e)=>{const r=Qu(`Primitive.${e}`),n=C.forwardRef((i,s)=>{const{asChild:o,...a}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function c3(t,e){t&&Qm.flushSync(()=>t.dispatchEvent(e))}function za(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function SY(t,e=globalThis==null?void 0:globalThis.document){const r=za(t);C.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var EY="DismissableLayer",Gk="dismissableLayer.update",TY="dismissableLayer.pointerDownOutside",NY="dismissableLayer.focusOutside",TP,u3=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fg=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...c}=t,d=C.useContext(u3),[f,p]=C.useState(null),g=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=C.useState({}),v=yr(e,q=>p(q)),x=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),E=x.indexOf(w),P=f?x.indexOf(f):-1,R=d.layersWithOutsidePointerEventsDisabled.size>0,S=P>=E,B=PY(q=>{const G=q.target,H=[...d.branches].some(K=>K.contains(G));!S||H||(i==null||i(q),o==null||o(q),q.defaultPrevented||a==null||a())},g),$=RY(q=>{const G=q.target;[...d.branches].some(K=>K.contains(G))||(s==null||s(q),o==null||o(q),q.defaultPrevented||a==null||a())},g);return SY(q=>{P===d.layers.size-1&&(n==null||n(q),!q.defaultPrevented&&a&&(q.preventDefault(),a()))},g),C.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(TP=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),NP(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=TP)}},[f,g,r,d]),C.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),NP())},[f,d]),C.useEffect(()=>{const q=()=>m({});return document.addEventListener(Gk,q),()=>document.removeEventListener(Gk,q)},[]),l.jsx(Dt.div,{...c,ref:v,style:{pointerEvents:R?S?"auto":"none":void 0,...t.style},onFocusCapture:Ke(t.onFocusCapture,$.onFocusCapture),onBlurCapture:Ke(t.onBlurCapture,$.onBlurCapture),onPointerDownCapture:Ke(t.onPointerDownCapture,B.onPointerDownCapture)})});fg.displayName=EY;var AY="DismissableLayerBranch",jY=C.forwardRef((t,e)=>{const r=C.useContext(u3),n=C.useRef(null),i=yr(e,n);return C.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),l.jsx(Dt.div,{...t,ref:i})});jY.displayName=AY;function PY(t,e=globalThis==null?void 0:globalThis.document){const r=za(t),n=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const s=a=>{if(a.target&&!n.current){let c=function(){d3(TY,r,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function RY(t,e=globalThis==null?void 0:globalThis.document){const r=za(t),n=C.useRef(!1);return C.useEffect(()=>{const i=s=>{s.target&&!n.current&&d3(NY,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function NP(){const t=new CustomEvent(Gk);document.dispatchEvent(t)}function d3(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?c3(i,s):i.dispatchEvent(s)}var l1=0;function hS(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??AP()),document.body.insertAdjacentElement("beforeend",t[1]??AP()),l1++,()=>{l1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),l1--}},[])}function AP(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var c1="focusScope.autoFocusOnMount",u1="focusScope.autoFocusOnUnmount",jP={bubbles:!1,cancelable:!0},IY="FocusScope",av=C.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,c]=C.useState(null),d=za(i),f=za(s),p=C.useRef(null),g=yr(e,x=>c(x)),m=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(n){let x=function(R){if(m.paused||!a)return;const S=R.target;a.contains(S)?p.current=S:ic(p.current,{select:!0})},w=function(R){if(m.paused||!a)return;const S=R.relatedTarget;S!==null&&(a.contains(S)||ic(p.current,{select:!0}))},E=function(R){if(document.activeElement===document.body)for(const B of R)B.removedNodes.length>0&&ic(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const P=new MutationObserver(E);return a&&P.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),P.disconnect()}}},[n,a,m.paused]),C.useEffect(()=>{if(a){RP.add(m);const x=document.activeElement;if(!a.contains(x)){const E=new CustomEvent(c1,jP);a.addEventListener(c1,d),a.dispatchEvent(E),E.defaultPrevented||(MY(zY(f3(a)),{select:!0}),document.activeElement===x&&ic(a))}return()=>{a.removeEventListener(c1,d),setTimeout(()=>{const E=new CustomEvent(u1,jP);a.addEventListener(u1,f),a.dispatchEvent(E),E.defaultPrevented||ic(x??document.body,{select:!0}),a.removeEventListener(u1,f),RP.remove(m)},0)}}},[a,d,f,m]);const v=C.useCallback(x=>{if(!r&&!n||m.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,E=document.activeElement;if(w&&E){const P=x.currentTarget,[R,S]=DY(P);R&&S?!x.shiftKey&&E===S?(x.preventDefault(),r&&ic(R,{select:!0})):x.shiftKey&&E===R&&(x.preventDefault(),r&&ic(S,{select:!0})):E===P&&x.preventDefault()}},[r,n,m.paused]);return l.jsx(Dt.div,{tabIndex:-1,...o,ref:g,onKeyDown:v})});av.displayName=IY;function MY(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(ic(n,{select:e}),document.activeElement!==r)return}function DY(t){const e=f3(t),r=PP(e,t),n=PP(e.reverse(),t);return[r,n]}function f3(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function PP(t,e){for(const r of t)if(!OY(r,{upTo:e}))return r}function OY(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function LY(t){return t instanceof HTMLInputElement&&"select"in t}function ic(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&LY(t)&&e&&t.select()}}var RP=FY();function FY(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=IP(t,e),t.unshift(e)},remove(e){var r;t=IP(t,e),(r=t[0])==null||r.resume()}}}function IP(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function zY(t){return t.filter(e=>e.tagName!=="A")}var ui=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},BY=cC[" useId ".trim().toString()]||(()=>{}),$Y=0;function qs(t){const[e,r]=C.useState(BY());return ui(()=>{r(n=>n??String($Y++))},[t]),e?`radix-${e}`:""}const UY=["top","right","bottom","left"],Nc=Math.min,Ms=Math.max,px=Math.round,By=Math.floor,Oa=t=>({x:t,y:t}),VY={left:"right",right:"left",bottom:"top",top:"bottom"},WY={start:"end",end:"start"};function Kk(t,e,r){return Ms(t,Nc(e,r))}function kl(t,e){return typeof t=="function"?t(e):t}function _l(t){return t.split("-")[0]}function bh(t){return t.split("-")[1]}function pS(t){return t==="x"?"y":"x"}function mS(t){return t==="y"?"height":"width"}const qY=new Set(["top","bottom"]);function Pa(t){return qY.has(_l(t))?"y":"x"}function gS(t){return pS(Pa(t))}function HY(t,e,r){r===void 0&&(r=!1);const n=bh(t),i=gS(t),s=mS(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=mx(o)),[o,mx(o)]}function GY(t){const e=mx(t);return[Yk(t),e,Yk(e)]}function Yk(t){return t.replace(/start|end/g,e=>WY[e])}const MP=["left","right"],DP=["right","left"],KY=["top","bottom"],YY=["bottom","top"];function JY(t,e,r){switch(t){case"top":case"bottom":return r?e?DP:MP:e?MP:DP;case"left":case"right":return e?KY:YY;default:return[]}}function XY(t,e,r,n){const i=bh(t);let s=JY(_l(t),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Yk)))),s}function mx(t){return t.replace(/left|right|bottom|top/g,e=>VY[e])}function QY(t){return{top:0,right:0,bottom:0,left:0,...t}}function h3(t){return typeof t!="number"?QY(t):{top:t,right:t,bottom:t,left:t}}function gx(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function OP(t,e,r){let{reference:n,floating:i}=t;const s=Pa(e),o=gS(e),a=mS(o),c=_l(e),d=s==="y",f=n.x+n.width/2-i.width/2,p=n.y+n.height/2-i.height/2,g=n[a]/2-i[a]/2;let m;switch(c){case"top":m={x:f,y:n.y-i.height};break;case"bottom":m={x:f,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:p};break;case"left":m={x:n.x-i.width,y:p};break;default:m={x:n.x,y:n.y}}switch(bh(e)){case"start":m[o]-=g*(r&&d?-1:1);break;case"end":m[o]+=g*(r&&d?-1:1);break}return m}const ZY=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:p}=OP(d,n,c),g=n,m={},v=0;for(let x=0;x<a.length;x++){const{name:w,fn:E}=a[x],{x:P,y:R,data:S,reset:B}=await E({x:f,y:p,initialPlacement:n,placement:g,strategy:i,middlewareData:m,rects:d,platform:o,elements:{reference:t,floating:e}});f=P??f,p=R??p,m={...m,[w]:{...m[w],...S}},B&&v<=50&&(v++,typeof B=="object"&&(B.placement&&(g=B.placement),B.rects&&(d=B.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):B.rects),{x:f,y:p}=OP(d,g,c)),x=-1)}return{x:f,y:p,placement:g,strategy:i,middlewareData:m}};async function Rm(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:o,elements:a,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:g=!1,padding:m=0}=kl(e,t),v=h3(m),w=a[g?p==="floating"?"reference":"floating":p],E=gx(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(w)))==null||r?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:d,rootBoundary:f,strategy:c})),P=p==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),S=await(s.isElement==null?void 0:s.isElement(R))?await(s.getScale==null?void 0:s.getScale(R))||{x:1,y:1}:{x:1,y:1},B=gx(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:P,offsetParent:R,strategy:c}):P);return{top:(E.top-B.top+v.top)/S.y,bottom:(B.bottom-E.bottom+v.bottom)/S.y,left:(E.left-B.left+v.left)/S.x,right:(B.right-E.right+v.right)/S.x}}const eJ=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:o,elements:a,middlewareData:c}=e,{element:d,padding:f=0}=kl(t,e)||{};if(d==null)return{};const p=h3(f),g={x:r,y:n},m=gS(i),v=mS(m),x=await o.getDimensions(d),w=m==="y",E=w?"top":"left",P=w?"bottom":"right",R=w?"clientHeight":"clientWidth",S=s.reference[v]+s.reference[m]-g[m]-s.floating[v],B=g[m]-s.reference[m],$=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let q=$?$[R]:0;(!q||!await(o.isElement==null?void 0:o.isElement($)))&&(q=a.floating[R]||s.floating[v]);const G=S/2-B/2,H=q/2-x[v]/2-1,K=Nc(p[E],H),J=Nc(p[P],H),W=K,F=q-x[v]-J,b=q/2-x[v]/2+G,A=Kk(W,b,F),D=!c.arrow&&bh(i)!=null&&b!==A&&s.reference[v]/2-(b<W?K:J)-x[v]/2<0,j=D?b<W?b-W:b-F:0;return{[m]:g[m]+j,data:{[m]:A,centerOffset:b-A-j,...D&&{alignmentOffset:j}},reset:D}}}),tJ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...w}=kl(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const E=_l(i),P=Pa(a),R=_l(a)===a,S=await(c.isRTL==null?void 0:c.isRTL(d.floating)),B=g||(R||!x?[mx(a)]:GY(a)),$=v!=="none";!g&&$&&B.push(...XY(a,x,v,S));const q=[a,...B],G=await Rm(e,w),H=[];let K=((n=s.flip)==null?void 0:n.overflows)||[];if(f&&H.push(G[E]),p){const b=HY(i,o,S);H.push(G[b[0]],G[b[1]])}if(K=[...K,{placement:i,overflows:H}],!H.every(b=>b<=0)){var J,W;const b=(((J=s.flip)==null?void 0:J.index)||0)+1,A=q[b];if(A&&(!(p==="alignment"?P!==Pa(A):!1)||K.every(k=>k.overflows[0]>0&&Pa(k.placement)===P)))return{data:{index:b,overflows:K},reset:{placement:A}};let D=(W=K.filter(j=>j.overflows[0]<=0).sort((j,k)=>j.overflows[1]-k.overflows[1])[0])==null?void 0:W.placement;if(!D)switch(m){case"bestFit":{var F;const j=(F=K.filter(k=>{if($){const M=Pa(k.placement);return M===P||M==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(M=>M>0).reduce((M,T)=>M+T,0)]).sort((k,M)=>k[1]-M[1])[0])==null?void 0:F[0];j&&(D=j);break}case"initialPlacement":D=a;break}if(i!==D)return{reset:{placement:D}}}return{}}}};function LP(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function FP(t){return UY.some(e=>t[e]>=0)}const rJ=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=kl(t,e);switch(n){case"referenceHidden":{const s=await Rm(e,{...i,elementContext:"reference"}),o=LP(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:FP(o)}}}case"escaped":{const s=await Rm(e,{...i,altBoundary:!0}),o=LP(s,r.floating);return{data:{escapedOffsets:o,escaped:FP(o)}}}default:return{}}}}},p3=new Set(["left","top"]);async function nJ(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=_l(r),a=bh(r),c=Pa(r)==="y",d=p3.has(o)?-1:1,f=s&&c?-1:1,p=kl(e,t);let{mainAxis:g,crossAxis:m,alignmentAxis:v}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),c?{x:m*f,y:g*d}:{x:g*d,y:m*f}}const iJ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:o,middlewareData:a}=e,c=await nJ(e,t);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},sJ=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:E,y:P}=w;return{x:E,y:P}}},...c}=kl(t,e),d={x:r,y:n},f=await Rm(e,c),p=Pa(_l(i)),g=pS(p);let m=d[g],v=d[p];if(s){const w=g==="y"?"top":"left",E=g==="y"?"bottom":"right",P=m+f[w],R=m-f[E];m=Kk(P,m,R)}if(o){const w=p==="y"?"top":"left",E=p==="y"?"bottom":"right",P=v+f[w],R=v-f[E];v=Kk(P,v,R)}const x=a.fn({...e,[g]:m,[p]:v});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[g]:s,[p]:o}}}}}},oJ=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:d=!0}=kl(t,e),f={x:r,y:n},p=Pa(i),g=pS(p);let m=f[g],v=f[p];const x=kl(a,e),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const R=g==="y"?"height":"width",S=s.reference[g]-s.floating[R]+w.mainAxis,B=s.reference[g]+s.reference[R]-w.mainAxis;m<S?m=S:m>B&&(m=B)}if(d){var E,P;const R=g==="y"?"width":"height",S=p3.has(_l(i)),B=s.reference[p]-s.floating[R]+(S&&((E=o.offset)==null?void 0:E[p])||0)+(S?0:w.crossAxis),$=s.reference[p]+s.reference[R]+(S?0:((P=o.offset)==null?void 0:P[p])||0)-(S?w.crossAxis:0);v<B?v=B:v>$&&(v=$)}return{[g]:m,[p]:v}}}},aJ=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:c=()=>{},...d}=kl(t,e),f=await Rm(e,d),p=_l(i),g=bh(i),m=Pa(i)==="y",{width:v,height:x}=s.floating;let w,E;p==="top"||p==="bottom"?(w=p,E=g===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=p,w=g==="end"?"top":"bottom");const P=x-f.top-f.bottom,R=v-f.left-f.right,S=Nc(x-f[w],P),B=Nc(v-f[E],R),$=!e.middlewareData.shift;let q=S,G=B;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(G=R),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(q=P),$&&!g){const K=Ms(f.left,0),J=Ms(f.right,0),W=Ms(f.top,0),F=Ms(f.bottom,0);m?G=v-2*(K!==0||J!==0?K+J:Ms(f.left,f.right)):q=x-2*(W!==0||F!==0?W+F:Ms(f.top,f.bottom))}await c({...e,availableWidth:G,availableHeight:q});const H=await o.getDimensions(a.floating);return v!==H.width||x!==H.height?{reset:{rects:!0}}:{}}}};function lv(){return typeof window<"u"}function wh(t){return m3(t)?(t.nodeName||"").toLowerCase():"#document"}function Hs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Wa(t){var e;return(e=(m3(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function m3(t){return lv()?t instanceof Node||t instanceof Hs(t).Node:!1}function ra(t){return lv()?t instanceof Element||t instanceof Hs(t).Element:!1}function Ba(t){return lv()?t instanceof HTMLElement||t instanceof Hs(t).HTMLElement:!1}function zP(t){return!lv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Hs(t).ShadowRoot}const lJ=new Set(["inline","contents"]);function hg(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=na(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!lJ.has(i)}const cJ=new Set(["table","td","th"]);function uJ(t){return cJ.has(wh(t))}const dJ=[":popover-open",":modal"];function cv(t){return dJ.some(e=>{try{return t.matches(e)}catch{return!1}})}const fJ=["transform","translate","scale","rotate","perspective"],hJ=["transform","translate","scale","rotate","perspective","filter"],pJ=["paint","layout","strict","content"];function yS(t){const e=xS(),r=ra(t)?na(t):t;return fJ.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||hJ.some(n=>(r.willChange||"").includes(n))||pJ.some(n=>(r.contain||"").includes(n))}function mJ(t){let e=Ac(t);for(;Ba(e)&&!eh(e);){if(yS(e))return e;if(cv(e))return null;e=Ac(e)}return null}function xS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const gJ=new Set(["html","body","#document"]);function eh(t){return gJ.has(wh(t))}function na(t){return Hs(t).getComputedStyle(t)}function uv(t){return ra(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ac(t){if(wh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||zP(t)&&t.host||Wa(t);return zP(e)?e.host:e}function g3(t){const e=Ac(t);return eh(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ba(e)&&hg(e)?e:g3(e)}function Im(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=g3(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),o=Hs(i);if(s){const a=Jk(o);return e.concat(o,o.visualViewport||[],hg(i)?i:[],a&&r?Im(a):[])}return e.concat(i,Im(i,[],r))}function Jk(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function y3(t){const e=na(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Ba(t),s=i?t.offsetWidth:r,o=i?t.offsetHeight:n,a=px(r)!==s||px(n)!==o;return a&&(r=s,n=o),{width:r,height:n,$:a}}function vS(t){return ra(t)?t:t.contextElement}function Of(t){const e=vS(t);if(!Ba(e))return Oa(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=y3(e);let o=(s?px(r.width):r.width)/n,a=(s?px(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const yJ=Oa(0);function x3(t){const e=Hs(t);return!xS()||!e.visualViewport?yJ:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function xJ(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Hs(t)?!1:e}function Zu(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=vS(t);let o=Oa(1);e&&(n?ra(n)&&(o=Of(n)):o=Of(t));const a=xJ(s,r,n)?x3(s):Oa(0);let c=(i.left+a.x)/o.x,d=(i.top+a.y)/o.y,f=i.width/o.x,p=i.height/o.y;if(s){const g=Hs(s),m=n&&ra(n)?Hs(n):n;let v=g,x=Jk(v);for(;x&&n&&m!==v;){const w=Of(x),E=x.getBoundingClientRect(),P=na(x),R=E.left+(x.clientLeft+parseFloat(P.paddingLeft))*w.x,S=E.top+(x.clientTop+parseFloat(P.paddingTop))*w.y;c*=w.x,d*=w.y,f*=w.x,p*=w.y,c+=R,d+=S,v=Hs(x),x=Jk(v)}}return gx({width:f,height:p,x:c,y:d})}function bS(t,e){const r=uv(t).scrollLeft;return e?e.left+r:Zu(Wa(t)).left+r}function v3(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:bS(t,n)),s=n.top+e.scrollTop;return{x:i,y:s}}function vJ(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",o=Wa(n),a=e?cv(e.floating):!1;if(n===o||a&&s)return r;let c={scrollLeft:0,scrollTop:0},d=Oa(1);const f=Oa(0),p=Ba(n);if((p||!p&&!s)&&((wh(n)!=="body"||hg(o))&&(c=uv(n)),Ba(n))){const m=Zu(n);d=Of(n),f.x=m.x+n.clientLeft,f.y=m.y+n.clientTop}const g=o&&!p&&!s?v3(o,c,!0):Oa(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+f.x+g.x,y:r.y*d.y-c.scrollTop*d.y+f.y+g.y}}function bJ(t){return Array.from(t.getClientRects())}function wJ(t){const e=Wa(t),r=uv(t),n=t.ownerDocument.body,i=Ms(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Ms(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+bS(t);const a=-r.scrollTop;return na(n).direction==="rtl"&&(o+=Ms(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:a}}function kJ(t,e){const r=Hs(t),n=Wa(t),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const d=xS();(!d||d&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a,y:c}}const _J=new Set(["absolute","fixed"]);function CJ(t,e){const r=Zu(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=Ba(t)?Of(t):Oa(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,c=i*s.x,d=n*s.y;return{width:o,height:a,x:c,y:d}}function BP(t,e,r){let n;if(e==="viewport")n=kJ(t,r);else if(e==="document")n=wJ(Wa(t));else if(ra(e))n=CJ(e,r);else{const i=x3(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return gx(n)}function b3(t,e){const r=Ac(t);return r===e||!ra(r)||eh(r)?!1:na(r).position==="fixed"||b3(r,e)}function SJ(t,e){const r=e.get(t);if(r)return r;let n=Im(t,[],!1).filter(a=>ra(a)&&wh(a)!=="body"),i=null;const s=na(t).position==="fixed";let o=s?Ac(t):t;for(;ra(o)&&!eh(o);){const a=na(o),c=yS(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&_J.has(i.position)||hg(o)&&!c&&b3(t,o))?n=n.filter(f=>f!==o):i=a,o=Ac(o)}return e.set(t,n),n}function EJ(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?cv(e)?[]:SJ(e,this._c):[].concat(r),n],a=o[0],c=o.reduce((d,f)=>{const p=BP(e,f,i);return d.top=Ms(p.top,d.top),d.right=Nc(p.right,d.right),d.bottom=Nc(p.bottom,d.bottom),d.left=Ms(p.left,d.left),d},BP(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function TJ(t){const{width:e,height:r}=y3(t);return{width:e,height:r}}function NJ(t,e,r){const n=Ba(e),i=Wa(e),s=r==="fixed",o=Zu(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=Oa(0);function d(){c.x=bS(i)}if(n||!n&&!s)if((wh(e)!=="body"||hg(i))&&(a=uv(e)),n){const m=Zu(e,!0,s,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else i&&d();s&&!n&&i&&d();const f=i&&!n&&!s?v3(i,a):Oa(0),p=o.left+a.scrollLeft-c.x-f.x,g=o.top+a.scrollTop-c.y-f.y;return{x:p,y:g,width:o.width,height:o.height}}function d1(t){return na(t).position==="static"}function $P(t,e){if(!Ba(t)||na(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Wa(t)===r&&(r=r.ownerDocument.body),r}function w3(t,e){const r=Hs(t);if(cv(t))return r;if(!Ba(t)){let i=Ac(t);for(;i&&!eh(i);){if(ra(i)&&!d1(i))return i;i=Ac(i)}return r}let n=$P(t,e);for(;n&&uJ(n)&&d1(n);)n=$P(n,e);return n&&eh(n)&&d1(n)&&!yS(n)?r:n||mJ(t)||r}const AJ=async function(t){const e=this.getOffsetParent||w3,r=this.getDimensions,n=await r(t.floating);return{reference:NJ(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function jJ(t){return na(t).direction==="rtl"}const PJ={convertOffsetParentRelativeRectToViewportRelativeRect:vJ,getDocumentElement:Wa,getClippingRect:EJ,getOffsetParent:w3,getElementRects:AJ,getClientRects:bJ,getDimensions:TJ,getScale:Of,isElement:ra,isRTL:jJ};function k3(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function RJ(t,e){let r=null,n;const i=Wa(t);function s(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const d=t.getBoundingClientRect(),{left:f,top:p,width:g,height:m}=d;if(a||e(),!g||!m)return;const v=By(p),x=By(i.clientWidth-(f+g)),w=By(i.clientHeight-(p+m)),E=By(f),R={rootMargin:-v+"px "+-x+"px "+-w+"px "+-E+"px",threshold:Ms(0,Nc(1,c))||1};let S=!0;function B($){const q=$[0].intersectionRatio;if(q!==c){if(!S)return o();q?o(!1,q):n=setTimeout(()=>{o(!1,1e-7)},1e3)}q===1&&!k3(d,t.getBoundingClientRect())&&o(),S=!1}try{r=new IntersectionObserver(B,{...R,root:i.ownerDocument})}catch{r=new IntersectionObserver(B,R)}r.observe(t)}return o(!0),s}function IJ(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=vS(t),f=i||s?[...d?Im(d):[],...Im(e)]:[];f.forEach(E=>{i&&E.addEventListener("scroll",r,{passive:!0}),s&&E.addEventListener("resize",r)});const p=d&&a?RJ(d,r):null;let g=-1,m=null;o&&(m=new ResizeObserver(E=>{let[P]=E;P&&P.target===d&&m&&(m.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var R;(R=m)==null||R.observe(e)})),r()}),d&&!c&&m.observe(d),m.observe(e));let v,x=c?Zu(t):null;c&&w();function w(){const E=Zu(t);x&&!k3(x,E)&&r(),x=E,v=requestAnimationFrame(w)}return r(),()=>{var E;f.forEach(P=>{i&&P.removeEventListener("scroll",r),s&&P.removeEventListener("resize",r)}),p==null||p(),(E=m)==null||E.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const MJ=iJ,DJ=sJ,OJ=tJ,LJ=aJ,FJ=rJ,UP=eJ,zJ=oJ,BJ=(t,e,r)=>{const n=new Map,i={platform:PJ,...r},s={...i.platform,_c:n};return ZY(t,e,{...i,platform:s})};var $J=typeof document<"u",UJ=function(){},F0=$J?C.useLayoutEffect:UJ;function yx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!yx(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!yx(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function _3(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function VP(t,e){const r=_3(t);return Math.round(e*r)/r}function f1(t){const e=C.useRef(t);return F0(()=>{e.current=t}),e}function VJ(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:d}=t,[f,p]=C.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[g,m]=C.useState(n);yx(g,n)||m(n);const[v,x]=C.useState(null),[w,E]=C.useState(null),P=C.useCallback(k=>{k!==$.current&&($.current=k,x(k))},[]),R=C.useCallback(k=>{k!==q.current&&(q.current=k,E(k))},[]),S=s||v,B=o||w,$=C.useRef(null),q=C.useRef(null),G=C.useRef(f),H=c!=null,K=f1(c),J=f1(i),W=f1(d),F=C.useCallback(()=>{if(!$.current||!q.current)return;const k={placement:e,strategy:r,middleware:g};J.current&&(k.platform=J.current),BJ($.current,q.current,k).then(M=>{const T={...M,isPositioned:W.current!==!1};b.current&&!yx(G.current,T)&&(G.current=T,Qm.flushSync(()=>{p(T)}))})},[g,e,r,J,W]);F0(()=>{d===!1&&G.current.isPositioned&&(G.current.isPositioned=!1,p(k=>({...k,isPositioned:!1})))},[d]);const b=C.useRef(!1);F0(()=>(b.current=!0,()=>{b.current=!1}),[]),F0(()=>{if(S&&($.current=S),B&&(q.current=B),S&&B){if(K.current)return K.current(S,B,F);F()}},[S,B,F,K,H]);const A=C.useMemo(()=>({reference:$,floating:q,setReference:P,setFloating:R}),[P,R]),D=C.useMemo(()=>({reference:S,floating:B}),[S,B]),j=C.useMemo(()=>{const k={position:r,left:0,top:0};if(!D.floating)return k;const M=VP(D.floating,f.x),T=VP(D.floating,f.y);return a?{...k,transform:"translate("+M+"px, "+T+"px)",..._3(D.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:T}},[r,a,D.floating,f.x,f.y]);return C.useMemo(()=>({...f,update:F,refs:A,elements:D,floatingStyles:j}),[f,F,A,D,j])}const WJ=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?UP({element:n.current,padding:i}).fn(r):{}:n?UP({element:n,padding:i}).fn(r):{}}}},qJ=(t,e)=>({...MJ(t),options:[t,e]}),HJ=(t,e)=>({...DJ(t),options:[t,e]}),GJ=(t,e)=>({...zJ(t),options:[t,e]}),KJ=(t,e)=>({...OJ(t),options:[t,e]}),YJ=(t,e)=>({...LJ(t),options:[t,e]}),JJ=(t,e)=>({...FJ(t),options:[t,e]}),XJ=(t,e)=>({...WJ(t),options:[t,e]});var QJ="Arrow",C3=C.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return l.jsx(Dt.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});C3.displayName=QJ;var ZJ=C3;function S3(t){const[e,r]=C.useState(void 0);return ui(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const c=s.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;r({width:o,height:a})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var wS="Popper",[E3,kh]=So(wS),[eX,T3]=E3(wS),N3=t=>{const{__scopePopper:e,children:r}=t,[n,i]=C.useState(null);return l.jsx(eX,{scope:e,anchor:n,onAnchorChange:i,children:r})};N3.displayName=wS;var A3="PopperAnchor",j3=C.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=T3(A3,r),o=C.useRef(null),a=yr(e,o);return C.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:l.jsx(Dt.div,{...i,ref:a})});j3.displayName=A3;var kS="PopperContent",[tX,rX]=E3(kS),P3=C.forwardRef((t,e)=>{var Y,Z,ee,ae,ne,de;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:m="optimized",onPlaced:v,...x}=t,w=T3(kS,r),[E,P]=C.useState(null),R=yr(e,xe=>P(xe)),[S,B]=C.useState(null),$=S3(S),q=($==null?void 0:$.width)??0,G=($==null?void 0:$.height)??0,H=n+(s!=="center"?"-"+s:""),K=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},J=Array.isArray(d)?d:[d],W=J.length>0,F={padding:K,boundary:J.filter(iX),altBoundary:W},{refs:b,floatingStyles:A,placement:D,isPositioned:j,middlewareData:k}=VJ({strategy:"fixed",placement:H,whileElementsMounted:(...xe)=>IJ(...xe,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[qJ({mainAxis:i+G,alignmentAxis:o}),c&&HJ({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?GJ():void 0,...F}),c&&KJ({...F}),YJ({...F,apply:({elements:xe,rects:me,availableWidth:Ce,availableHeight:ct})=>{const{width:le,height:Ye}=me.reference,jt=xe.floating.style;jt.setProperty("--radix-popper-available-width",`${Ce}px`),jt.setProperty("--radix-popper-available-height",`${ct}px`),jt.setProperty("--radix-popper-anchor-width",`${le}px`),jt.setProperty("--radix-popper-anchor-height",`${Ye}px`)}}),S&&XJ({element:S,padding:a}),sX({arrowWidth:q,arrowHeight:G}),g&&JJ({strategy:"referenceHidden",...F})]}),[M,T]=M3(D),O=za(v);ui(()=>{j&&(O==null||O())},[j,O]);const N=(Y=k.arrow)==null?void 0:Y.x,I=(Z=k.arrow)==null?void 0:Z.y,Q=((ee=k.arrow)==null?void 0:ee.centerOffset)!==0,[z,V]=C.useState();return ui(()=>{E&&V(window.getComputedStyle(E).zIndex)},[E]),l.jsx("div",{ref:b.setFloating,"data-radix-popper-content-wrapper":"",style:{...A,transform:j?A.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:z,"--radix-popper-transform-origin":[(ae=k.transformOrigin)==null?void 0:ae.x,(ne=k.transformOrigin)==null?void 0:ne.y].join(" "),...((de=k.hide)==null?void 0:de.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(tX,{scope:r,placedSide:M,onArrowChange:B,arrowX:N,arrowY:I,shouldHideArrow:Q,children:l.jsx(Dt.div,{"data-side":M,"data-align":T,...x,ref:R,style:{...x.style,animation:j?void 0:"none"}})})})});P3.displayName=kS;var R3="PopperArrow",nX={top:"bottom",right:"left",bottom:"top",left:"right"},I3=C.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=rX(R3,n),o=nX[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(ZJ,{...i,ref:r,style:{...i.style,display:"block"}})})});I3.displayName=R3;function iX(t){return t!==null}var sX=t=>({name:"transformOrigin",options:t,fn(e){var w,E,P;const{placement:r,rects:n,middlewareData:i}=e,o=((w=i.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,f]=M3(r),p={start:"0%",center:"50%",end:"100%"}[f],g=(((E=i.arrow)==null?void 0:E.x)??0)+a/2,m=(((P=i.arrow)==null?void 0:P.y)??0)+c/2;let v="",x="";return d==="bottom"?(v=o?p:`${g}px`,x=`${-c}px`):d==="top"?(v=o?p:`${g}px`,x=`${n.floating.height+c}px`):d==="right"?(v=`${-c}px`,x=o?p:`${m}px`):d==="left"&&(v=`${n.floating.width+c}px`,x=o?p:`${m}px`),{data:{x:v,y:x}}}});function M3(t){const[e,r="center"]=t.split("-");return[e,r]}var _S=N3,CS=j3,SS=P3,ES=I3,oX="Portal",pg=C.forwardRef((t,e)=>{var a;const{container:r,...n}=t,[i,s]=C.useState(!1);ui(()=>s(!0),[]);const o=r||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?cM.createPortal(l.jsx(Dt.div,{...n,ref:e}),o):null});pg.displayName=oX;var aX=cC[" useInsertionEffect ".trim().toString()]||ui;function ia({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,s,o]=lX({defaultProp:e,onChange:r}),a=t!==void 0,c=a?t:i;{const f=C.useRef(t!==void 0);C.useEffect(()=>{const p=f.current;p!==a&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,n])}const d=C.useCallback(f=>{var p;if(a){const g=cX(f)?f(t):f;g!==t&&((p=o.current)==null||p.call(o,g))}else s(f)},[a,t,s,o]);return[c,d]}function lX({defaultProp:t,onChange:e}){const[r,n]=C.useState(t),i=C.useRef(r),s=C.useRef(e);return aX(()=>{s.current=e},[e]),C.useEffect(()=>{var o;i.current!==r&&((o=s.current)==null||o.call(s,r),i.current=r)},[r,i]),[r,n,s]}function cX(t){return typeof t=="function"}function D3(t){const e=C.useRef({value:t,previous:t});return C.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var O3=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),uX="VisuallyHidden",L3=C.forwardRef((t,e)=>l.jsx(Dt.span,{...t,ref:e,style:{...O3,...t.style}}));L3.displayName=uX;var dX=L3,fX=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Yd=new WeakMap,$y=new WeakMap,Uy={},h1=0,F3=function(t){return t&&(t.host||F3(t.parentNode))},hX=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=F3(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},pX=function(t,e,r,n){var i=hX(e,Array.isArray(t)?t:[t]);Uy[r]||(Uy[r]=new WeakMap);var s=Uy[r],o=[],a=new Set,c=new Set(i),d=function(p){!p||a.has(p)||(a.add(p),d(p.parentNode))};i.forEach(d);var f=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(g){if(a.has(g))f(g);else try{var m=g.getAttribute(n),v=m!==null&&m!=="false",x=(Yd.get(g)||0)+1,w=(s.get(g)||0)+1;Yd.set(g,x),s.set(g,w),o.push(g),x===1&&v&&$y.set(g,!0),w===1&&g.setAttribute(r,"true"),v||g.setAttribute(n,"true")}catch(E){console.error("aria-hidden: cannot operate on ",g,E)}})};return f(e),a.clear(),h1++,function(){o.forEach(function(p){var g=Yd.get(p)-1,m=s.get(p)-1;Yd.set(p,g),s.set(p,m),g||($y.has(p)||p.removeAttribute(n),$y.delete(p)),m||p.removeAttribute(r)}),h1--,h1||(Yd=new WeakMap,Yd=new WeakMap,$y=new WeakMap,Uy={})}},TS=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=fX(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),pX(n,i,r,"aria-hidden")):function(){return null}},Xk=function(t,e){return Xk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Xk(t,e)};function z3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Xk(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ho=function(){return ho=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ho.apply(this,arguments)};function Lc(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function B3(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function $3(t,e){return function(r,n){e(r,n,t)}}function U3(t,e,r,n,i,s){function o(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",d=!e&&t?n.static?t:t.prototype:null,f=e||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),p,g=!1,m=r.length-1;m>=0;m--){var v={};for(var x in n)v[x]=x==="access"?{}:n[x];for(var x in n.access)v.access[x]=n.access[x];v.addInitializer=function(E){if(g)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(E||null))};var w=(0,r[m])(a==="accessor"?{get:f.get,set:f.set}:f[c],v);if(a==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(p=o(w.get))&&(f.get=p),(p=o(w.set))&&(f.set=p),(p=o(w.init))&&i.unshift(p)}else(p=o(w))&&(a==="field"?i.unshift(p):f[c]=p)}d&&Object.defineProperty(d,n.name,f),g=!0}function V3(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function W3(t){return typeof t=="symbol"?t:"".concat(t)}function q3(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function H3(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function at(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})}function G3(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(d){return function(f){return c([d,f])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(f){d=[6,f],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var dv=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function K3(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&dv(e,t,r)}function xx(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function NS(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Y3(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(NS(arguments[e]));return t}function J3(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function AS(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function th(t){return this instanceof th?(this.v=t,this):new th(t)}function X3(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(m){return function(v){return Promise.resolve(v).then(m,p)}}function a(m,v){n[m]&&(i[m]=function(x){return new Promise(function(w,E){s.push([m,x,w,E])>1||c(m,x)})},v&&(i[m]=v(i[m])))}function c(m,v){try{d(n[m](v))}catch(x){g(s[0][3],x)}}function d(m){m.value instanceof th?Promise.resolve(m.value.v).then(f,p):g(s[0][2],m)}function f(m){c("next",m)}function p(m){c("throw",m)}function g(m,v){m(v),s.shift(),s.length&&c(s[0][0],s[0][1])}}function Q3(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:th(t[i](o)),done:!1}:s?s(o):o}:s}}function Z3(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof xx=="function"?xx(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(d){s({value:d,done:a})},o)}}function eD(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var mX=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Qk=function(t){return Qk=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Qk(t)};function tD(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Qk(t),n=0;n<r.length;n++)r[n]!=="default"&&dv(e,t,r[n]);return mX(e,t),e}function rD(t){return t&&t.__esModule?t:{default:t}}function nD(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function iD(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function sD(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function oD(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var gX=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function aD(t){function e(s){t.error=t.hasError?new gX(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(o){return e(o),i()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function lD(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,o){return n?e?".jsx":".js":i&&(!s||!o)?r:i+s+"."+o.toLowerCase()+"js"}):t}const yX={__extends:z3,__assign:ho,__rest:Lc,__decorate:B3,__param:$3,__esDecorate:U3,__runInitializers:V3,__propKey:W3,__setFunctionName:q3,__metadata:H3,__awaiter:at,__generator:G3,__createBinding:dv,__exportStar:K3,__values:xx,__read:NS,__spread:Y3,__spreadArrays:J3,__spreadArray:AS,__await:th,__asyncGenerator:X3,__asyncDelegator:Q3,__asyncValues:Z3,__makeTemplateObject:eD,__importStar:tD,__importDefault:rD,__classPrivateFieldGet:nD,__classPrivateFieldSet:iD,__classPrivateFieldIn:sD,__addDisposableResource:oD,__disposeResources:aD,__rewriteRelativeImportExtension:lD},xX=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:oD,get __assign(){return ho},__asyncDelegator:Q3,__asyncGenerator:X3,__asyncValues:Z3,__await:th,__awaiter:at,__classPrivateFieldGet:nD,__classPrivateFieldIn:sD,__classPrivateFieldSet:iD,__createBinding:dv,__decorate:B3,__disposeResources:aD,__esDecorate:U3,__exportStar:K3,__extends:z3,__generator:G3,__importDefault:rD,__importStar:tD,__makeTemplateObject:eD,__metadata:H3,__param:$3,__propKey:W3,__read:NS,__rest:Lc,__rewriteRelativeImportExtension:lD,__runInitializers:V3,__setFunctionName:q3,__spread:Y3,__spreadArray:AS,__spreadArrays:J3,__values:xx,default:yX},Symbol.toStringTag,{value:"Module"}));var z0="right-scroll-bar-position",B0="width-before-scroll-bar",vX="with-scroll-bars-hidden",bX="--removed-body-scroll-bar-size";function p1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function wX(t,e){var r=C.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var kX=typeof window<"u"?C.useLayoutEffect:C.useEffect,WP=new WeakMap;function _X(t,e){var r=wX(null,function(n){return t.forEach(function(i){return p1(i,n)})});return kX(function(){var n=WP.get(r);if(n){var i=new Set(n),s=new Set(t),o=r.current;i.forEach(function(a){s.has(a)||p1(a,null)}),s.forEach(function(a){i.has(a)||p1(a,o)})}WP.set(r,t)},[t]),r}function CX(t){return t}function SX(t,e){e===void 0&&(e=CX);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var o=e(s,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(a){return s(a)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(s),o=r}var c=function(){var f=o;o=[],f.forEach(s)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),r}}}};return i}function EX(t){t===void 0&&(t={});var e=SX(null);return e.options=ho({async:!0,ssr:!1},t),e}var cD=function(t){var e=t.sideCar,r=Lc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return C.createElement(n,ho({},r))};cD.isSideCarExport=!0;function TX(t,e){return t.useMedium(e),cD}var uD=EX(),m1=function(){},fv=C.forwardRef(function(t,e){var r=C.useRef(null),n=C.useState({onScrollCapture:m1,onWheelCapture:m1,onTouchMoveCapture:m1}),i=n[0],s=n[1],o=t.forwardProps,a=t.children,c=t.className,d=t.removeScrollBar,f=t.enabled,p=t.shards,g=t.sideCar,m=t.noRelative,v=t.noIsolation,x=t.inert,w=t.allowPinchZoom,E=t.as,P=E===void 0?"div":E,R=t.gapMode,S=Lc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=g,$=_X([r,e]),q=ho(ho({},S),i);return C.createElement(C.Fragment,null,f&&C.createElement(B,{sideCar:uD,removeScrollBar:d,shards:p,noRelative:m,noIsolation:v,inert:x,setCallbacks:s,allowPinchZoom:!!w,lockRef:r,gapMode:R}),o?C.cloneElement(C.Children.only(a),ho(ho({},q),{ref:$})):C.createElement(P,ho({},q,{className:c,ref:$}),a))});fv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fv.classNames={fullWidth:B0,zeroRight:z0};var NX=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function AX(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=NX();return e&&t.setAttribute("nonce",e),t}function jX(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function PX(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var RX=function(){var t=0,e=null;return{add:function(r){t==0&&(e=AX())&&(jX(e,r),PX(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},IX=function(){var t=RX();return function(e,r){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},dD=function(){var t=IX(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},MX={left:0,top:0,right:0,gap:0},g1=function(t){return parseInt(t||"",10)||0},DX=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[g1(r),g1(n),g1(i)]},OX=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return MX;var e=DX(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},LX=dD(),Lf="data-scroll-locked",FX=function(t,e,r,n){var i=t.left,s=t.top,o=t.right,a=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(vX,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Lf,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(z0,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(B0,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(z0," .").concat(z0,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(B0," .").concat(B0,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Lf,`] {
    `).concat(bX,": ").concat(a,`px;
  }
`)},qP=function(){var t=parseInt(document.body.getAttribute(Lf)||"0",10);return isFinite(t)?t:0},zX=function(){C.useEffect(function(){return document.body.setAttribute(Lf,(qP()+1).toString()),function(){var t=qP()-1;t<=0?document.body.removeAttribute(Lf):document.body.setAttribute(Lf,t.toString())}},[])},BX=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;zX();var s=C.useMemo(function(){return OX(i)},[i]);return C.createElement(LX,{styles:FX(s,!e,i,r?"":"!important")})},Zk=!1;if(typeof window<"u")try{var Vy=Object.defineProperty({},"passive",{get:function(){return Zk=!0,!0}});window.addEventListener("test",Vy,Vy),window.removeEventListener("test",Vy,Vy)}catch{Zk=!1}var Jd=Zk?{passive:!1}:!1,$X=function(t){return t.tagName==="TEXTAREA"},fD=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!$X(t)&&r[e]==="visible")},UX=function(t){return fD(t,"overflowY")},VX=function(t){return fD(t,"overflowX")},HP=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=hD(t,n);if(i){var s=pD(t,n),o=s[1],a=s[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},WX=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},qX=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},hD=function(t,e){return t==="v"?UX(e):VX(e)},pD=function(t,e){return t==="v"?WX(e):qX(e)},HX=function(t,e){return t==="h"&&e==="rtl"?-1:1},GX=function(t,e,r,n,i){var s=HX(t,window.getComputedStyle(e).direction),o=s*n,a=r.target,c=e.contains(a),d=!1,f=o>0,p=0,g=0;do{if(!a)break;var m=pD(t,a),v=m[0],x=m[1],w=m[2],E=x-w-s*v;(v||E)&&hD(t,a)&&(p+=E,g+=v);var P=a.parentNode;a=P&&P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?P.host:P}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(f&&Math.abs(p)<1||!f&&Math.abs(g)<1)&&(d=!0),d},Wy=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},GP=function(t){return[t.deltaX,t.deltaY]},KP=function(t){return t&&"current"in t?t.current:t},KX=function(t,e){return t[0]===e[0]&&t[1]===e[1]},YX=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},JX=0,Xd=[];function XX(t){var e=C.useRef([]),r=C.useRef([0,0]),n=C.useRef(),i=C.useState(JX++)[0],s=C.useState(dD)[0],o=C.useRef(t);C.useEffect(function(){o.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=AS([t.lockRef.current],(t.shards||[]).map(KP),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=C.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var E=Wy(x),P=r.current,R="deltaX"in x?x.deltaX:P[0]-E[0],S="deltaY"in x?x.deltaY:P[1]-E[1],B,$=x.target,q=Math.abs(R)>Math.abs(S)?"h":"v";if("touches"in x&&q==="h"&&$.type==="range")return!1;var G=HP(q,$);if(!G)return!0;if(G?B=q:(B=q==="v"?"h":"v",G=HP(q,$)),!G)return!1;if(!n.current&&"changedTouches"in x&&(R||S)&&(n.current=B),!B)return!0;var H=n.current||B;return GX(H,w,x,H==="h"?R:S)},[]),c=C.useCallback(function(x){var w=x;if(!(!Xd.length||Xd[Xd.length-1]!==s)){var E="deltaY"in w?GP(w):Wy(w),P=e.current.filter(function(B){return B.name===w.type&&(B.target===w.target||w.target===B.shadowParent)&&KX(B.delta,E)})[0];if(P&&P.should){w.cancelable&&w.preventDefault();return}if(!P){var R=(o.current.shards||[]).map(KP).filter(Boolean).filter(function(B){return B.contains(w.target)}),S=R.length>0?a(w,R[0]):!o.current.noIsolation;S&&w.cancelable&&w.preventDefault()}}},[]),d=C.useCallback(function(x,w,E,P){var R={name:x,delta:w,target:E,should:P,shadowParent:QX(E)};e.current.push(R),setTimeout(function(){e.current=e.current.filter(function(S){return S!==R})},1)},[]),f=C.useCallback(function(x){r.current=Wy(x),n.current=void 0},[]),p=C.useCallback(function(x){d(x.type,GP(x),x.target,a(x,t.lockRef.current))},[]),g=C.useCallback(function(x){d(x.type,Wy(x),x.target,a(x,t.lockRef.current))},[]);C.useEffect(function(){return Xd.push(s),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Jd),document.addEventListener("touchmove",c,Jd),document.addEventListener("touchstart",f,Jd),function(){Xd=Xd.filter(function(x){return x!==s}),document.removeEventListener("wheel",c,Jd),document.removeEventListener("touchmove",c,Jd),document.removeEventListener("touchstart",f,Jd)}},[]);var m=t.removeScrollBar,v=t.inert;return C.createElement(C.Fragment,null,v?C.createElement(s,{styles:YX(i)}):null,m?C.createElement(BX,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function QX(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const ZX=TX(uD,XX);var hv=C.forwardRef(function(t,e){return C.createElement(fv,ho({},t,{ref:e,sideCar:ZX}))});hv.classNames=fv.classNames;var eQ=[" ","Enter","ArrowUp","ArrowDown"],tQ=[" ","Enter"],ed="Select",[pv,mv,rQ]=ov(ed),[_h,Ope]=So(ed,[rQ,kh]),gv=kh(),[nQ,Fc]=_h(ed),[iQ,sQ]=_h(ed),mD=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:c,dir:d,name:f,autoComplete:p,disabled:g,required:m,form:v}=t,x=gv(e),[w,E]=C.useState(null),[P,R]=C.useState(null),[S,B]=C.useState(!1),$=dg(d),[q,G]=ia({prop:n,defaultProp:i??!1,onChange:s,caller:ed}),[H,K]=ia({prop:o,defaultProp:a,onChange:c,caller:ed}),J=C.useRef(null),W=w?v||!!w.closest("form"):!0,[F,b]=C.useState(new Set),A=Array.from(F).map(D=>D.props.value).join(";");return l.jsx(_S,{...x,children:l.jsxs(nQ,{required:m,scope:e,trigger:w,onTriggerChange:E,valueNode:P,onValueNodeChange:R,valueNodeHasChildren:S,onValueNodeHasChildrenChange:B,contentId:qs(),value:H,onValueChange:K,open:q,onOpenChange:G,dir:$,triggerPointerDownPosRef:J,disabled:g,children:[l.jsx(pv.Provider,{scope:e,children:l.jsx(iQ,{scope:t.__scopeSelect,onNativeOptionAdd:C.useCallback(D=>{b(j=>new Set(j).add(D))},[]),onNativeOptionRemove:C.useCallback(D=>{b(j=>{const k=new Set(j);return k.delete(D),k})},[]),children:r})}),W?l.jsxs(LD,{"aria-hidden":!0,required:m,tabIndex:-1,name:f,autoComplete:p,value:H,onChange:D=>K(D.target.value),disabled:g,form:v,children:[H===void 0?l.jsx("option",{value:""}):null,Array.from(F)]},A):null]})})};mD.displayName=ed;var gD="SelectTrigger",yD=C.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=gv(r),o=Fc(gD,r),a=o.disabled||n,c=yr(e,o.onTriggerChange),d=mv(r),f=C.useRef("touch"),[p,g,m]=zD(x=>{const w=d().filter(R=>!R.disabled),E=w.find(R=>R.value===o.value),P=BD(w,x,E);P!==void 0&&o.onValueChange(P.value)}),v=x=>{a||(o.onOpenChange(!0),m()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return l.jsx(CS,{asChild:!0,...s,children:l.jsx(Dt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":FD(o.value)?"":void 0,...i,ref:c,onClick:Ke(i.onClick,x=>{x.currentTarget.focus(),f.current!=="mouse"&&v(x)}),onPointerDown:Ke(i.onPointerDown,x=>{f.current=x.pointerType;const w=x.target;w.hasPointerCapture(x.pointerId)&&w.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(v(x),x.preventDefault())}),onKeyDown:Ke(i.onKeyDown,x=>{const w=p.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&g(x.key),!(w&&x.key===" ")&&eQ.includes(x.key)&&(v(),x.preventDefault())})})})});yD.displayName=gD;var xD="SelectValue",vD=C.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:o="",...a}=t,c=Fc(xD,r),{onValueNodeHasChildrenChange:d}=c,f=s!==void 0,p=yr(e,c.onValueNodeChange);return ui(()=>{d(f)},[d,f]),l.jsx(Dt.span,{...a,ref:p,style:{pointerEvents:"none"},children:FD(c.value)?l.jsx(l.Fragment,{children:o}):s})});vD.displayName=xD;var oQ="SelectIcon",bD=C.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return l.jsx(Dt.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});bD.displayName=oQ;var aQ="SelectPortal",wD=t=>l.jsx(pg,{asChild:!0,...t});wD.displayName=aQ;var td="SelectContent",kD=C.forwardRef((t,e)=>{const r=Fc(td,t.__scopeSelect),[n,i]=C.useState();if(ui(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?Qm.createPortal(l.jsx(_D,{scope:t.__scopeSelect,children:l.jsx(pv.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),s):null}return l.jsx(CD,{...t,ref:e})});kD.displayName=td;var Wo=10,[_D,zc]=_h(td),lQ="SelectContentImpl",cQ=Qu("SelectContent.RemoveScroll"),CD=C.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:c,align:d,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:m,sticky:v,hideWhenDetached:x,avoidCollisions:w,...E}=t,P=Fc(td,r),[R,S]=C.useState(null),[B,$]=C.useState(null),q=yr(e,Y=>S(Y)),[G,H]=C.useState(null),[K,J]=C.useState(null),W=mv(r),[F,b]=C.useState(!1),A=C.useRef(!1);C.useEffect(()=>{if(R)return TS(R)},[R]),hS();const D=C.useCallback(Y=>{const[Z,...ee]=W().map(de=>de.ref.current),[ae]=ee.slice(-1),ne=document.activeElement;for(const de of Y)if(de===ne||(de==null||de.scrollIntoView({block:"nearest"}),de===Z&&B&&(B.scrollTop=0),de===ae&&B&&(B.scrollTop=B.scrollHeight),de==null||de.focus(),document.activeElement!==ne))return},[W,B]),j=C.useCallback(()=>D([G,R]),[D,G,R]);C.useEffect(()=>{F&&j()},[F,j]);const{onOpenChange:k,triggerPointerDownPosRef:M}=P;C.useEffect(()=>{if(R){let Y={x:0,y:0};const Z=ae=>{var ne,de;Y={x:Math.abs(Math.round(ae.pageX)-(((ne=M.current)==null?void 0:ne.x)??0)),y:Math.abs(Math.round(ae.pageY)-(((de=M.current)==null?void 0:de.y)??0))}},ee=ae=>{Y.x<=10&&Y.y<=10?ae.preventDefault():R.contains(ae.target)||k(!1),document.removeEventListener("pointermove",Z),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",ee,{capture:!0})}}},[R,k,M]),C.useEffect(()=>{const Y=()=>k(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[k]);const[T,O]=zD(Y=>{const Z=W().filter(ne=>!ne.disabled),ee=Z.find(ne=>ne.ref.current===document.activeElement),ae=BD(Z,Y,ee);ae&&setTimeout(()=>ae.ref.current.focus())}),N=C.useCallback((Y,Z,ee)=>{const ae=!A.current&&!ee;(P.value!==void 0&&P.value===Z||ae)&&(H(Y),ae&&(A.current=!0))},[P.value]),I=C.useCallback(()=>R==null?void 0:R.focus(),[R]),Q=C.useCallback((Y,Z,ee)=>{const ae=!A.current&&!ee;(P.value!==void 0&&P.value===Z||ae)&&J(Y)},[P.value]),z=n==="popper"?e_:SD,V=z===e_?{side:a,sideOffset:c,align:d,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:m,sticky:v,hideWhenDetached:x,avoidCollisions:w}:{};return l.jsx(_D,{scope:r,content:R,viewport:B,onViewportChange:$,itemRefCallback:N,selectedItem:G,onItemLeave:I,itemTextRefCallback:Q,focusSelectedItem:j,selectedItemText:K,position:n,isPositioned:F,searchRef:T,children:l.jsx(hv,{as:cQ,allowPinchZoom:!0,children:l.jsx(av,{asChild:!0,trapped:P.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:Ke(i,Y=>{var Z;(Z=P.trigger)==null||Z.focus({preventScroll:!0}),Y.preventDefault()}),children:l.jsx(fg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>P.onOpenChange(!1),children:l.jsx(z,{role:"listbox",id:P.contentId,"data-state":P.open?"open":"closed",dir:P.dir,onContextMenu:Y=>Y.preventDefault(),...E,...V,onPlaced:()=>b(!0),ref:q,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Ke(E.onKeyDown,Y=>{const Z=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!Z&&Y.key.length===1&&O(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let ae=W().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(ae=ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const ne=Y.target,de=ae.indexOf(ne);ae=ae.slice(de+1)}setTimeout(()=>D(ae)),Y.preventDefault()}})})})})})})});CD.displayName=lQ;var uQ="SelectItemAlignedPosition",SD=C.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=Fc(td,r),o=zc(td,r),[a,c]=C.useState(null),[d,f]=C.useState(null),p=yr(e,q=>f(q)),g=mv(r),m=C.useRef(!1),v=C.useRef(!0),{viewport:x,selectedItem:w,selectedItemText:E,focusSelectedItem:P}=o,R=C.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&d&&x&&w&&E){const q=s.trigger.getBoundingClientRect(),G=d.getBoundingClientRect(),H=s.valueNode.getBoundingClientRect(),K=E.getBoundingClientRect();if(s.dir!=="rtl"){const ne=K.left-G.left,de=H.left-ne,xe=q.left-de,me=q.width+xe,Ce=Math.max(me,G.width),ct=window.innerWidth-Wo,le=SP(de,[Wo,Math.max(Wo,ct-Ce)]);a.style.minWidth=me+"px",a.style.left=le+"px"}else{const ne=G.right-K.right,de=window.innerWidth-H.right-ne,xe=window.innerWidth-q.right-de,me=q.width+xe,Ce=Math.max(me,G.width),ct=window.innerWidth-Wo,le=SP(de,[Wo,Math.max(Wo,ct-Ce)]);a.style.minWidth=me+"px",a.style.right=le+"px"}const J=g(),W=window.innerHeight-Wo*2,F=x.scrollHeight,b=window.getComputedStyle(d),A=parseInt(b.borderTopWidth,10),D=parseInt(b.paddingTop,10),j=parseInt(b.borderBottomWidth,10),k=parseInt(b.paddingBottom,10),M=A+D+F+k+j,T=Math.min(w.offsetHeight*5,M),O=window.getComputedStyle(x),N=parseInt(O.paddingTop,10),I=parseInt(O.paddingBottom,10),Q=q.top+q.height/2-Wo,z=W-Q,V=w.offsetHeight/2,Y=w.offsetTop+V,Z=A+D+Y,ee=M-Z;if(Z<=Q){const ne=J.length>0&&w===J[J.length-1].ref.current;a.style.bottom="0px";const de=d.clientHeight-x.offsetTop-x.offsetHeight,xe=Math.max(z,V+(ne?I:0)+de+j),me=Z+xe;a.style.height=me+"px"}else{const ne=J.length>0&&w===J[0].ref.current;a.style.top="0px";const xe=Math.max(Q,A+x.offsetTop+(ne?N:0)+V)+ee;a.style.height=xe+"px",x.scrollTop=Z-Q+x.offsetTop}a.style.margin=`${Wo}px 0`,a.style.minHeight=T+"px",a.style.maxHeight=W+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[g,s.trigger,s.valueNode,a,d,x,w,E,s.dir,n]);ui(()=>R(),[R]);const[S,B]=C.useState();ui(()=>{d&&B(window.getComputedStyle(d).zIndex)},[d]);const $=C.useCallback(q=>{q&&v.current===!0&&(R(),P==null||P(),v.current=!1)},[R,P]);return l.jsx(fQ,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:$,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(Dt.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});SD.displayName=uQ;var dQ="SelectPopperPosition",e_=C.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Wo,...s}=t,o=gv(r);return l.jsx(SS,{...o,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});e_.displayName=dQ;var[fQ,jS]=_h(td,{}),t_="SelectViewport",ED=C.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=zc(t_,r),o=jS(t_,r),a=yr(e,s.onViewportChange),c=C.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(pv.Slot,{scope:r,children:l.jsx(Dt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ke(i.onScroll,d=>{const f=d.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&p){const m=Math.abs(c.current-f.scrollTop);if(m>0){const v=window.innerHeight-Wo*2,x=parseFloat(p.style.minHeight),w=parseFloat(p.style.height),E=Math.max(x,w);if(E<v){const P=E+m,R=Math.min(v,P),S=P-R;p.style.height=R+"px",p.style.bottom==="0px"&&(f.scrollTop=S>0?S:0,p.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});ED.displayName=t_;var TD="SelectGroup",[hQ,pQ]=_h(TD),mQ=C.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=qs();return l.jsx(hQ,{scope:r,id:i,children:l.jsx(Dt.div,{role:"group","aria-labelledby":i,...n,ref:e})})});mQ.displayName=TD;var ND="SelectLabel",gQ=C.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=pQ(ND,r);return l.jsx(Dt.div,{id:i.id,...n,ref:e})});gQ.displayName=ND;var vx="SelectItem",[yQ,AD]=_h(vx),jD=C.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...o}=t,a=Fc(vx,r),c=zc(vx,r),d=a.value===n,[f,p]=C.useState(s??""),[g,m]=C.useState(!1),v=yr(e,P=>{var R;return(R=c.itemRefCallback)==null?void 0:R.call(c,P,n,i)}),x=qs(),w=C.useRef("touch"),E=()=>{i||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(yQ,{scope:r,value:n,disabled:i,textId:x,isSelected:d,onItemTextChange:C.useCallback(P=>{p(R=>R||((P==null?void 0:P.textContent)??"").trim())},[]),children:l.jsx(pv.ItemSlot,{scope:r,value:n,disabled:i,textValue:f,children:l.jsx(Dt.div,{role:"option","aria-labelledby":x,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:Ke(o.onFocus,()=>m(!0)),onBlur:Ke(o.onBlur,()=>m(!1)),onClick:Ke(o.onClick,()=>{w.current!=="mouse"&&E()}),onPointerUp:Ke(o.onPointerUp,()=>{w.current==="mouse"&&E()}),onPointerDown:Ke(o.onPointerDown,P=>{w.current=P.pointerType}),onPointerMove:Ke(o.onPointerMove,P=>{var R;w.current=P.pointerType,i?(R=c.onItemLeave)==null||R.call(c):w.current==="mouse"&&P.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ke(o.onPointerLeave,P=>{var R;P.currentTarget===document.activeElement&&((R=c.onItemLeave)==null||R.call(c))}),onKeyDown:Ke(o.onKeyDown,P=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&P.key===" "||(tQ.includes(P.key)&&E(),P.key===" "&&P.preventDefault())})})})})});jD.displayName=vx;var Ep="SelectItemText",PD=C.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,o=Fc(Ep,r),a=zc(Ep,r),c=AD(Ep,r),d=sQ(Ep,r),[f,p]=C.useState(null),g=yr(e,E=>p(E),c.onItemTextChange,E=>{var P;return(P=a.itemTextRefCallback)==null?void 0:P.call(a,E,c.value,c.disabled)}),m=f==null?void 0:f.textContent,v=C.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:x,onNativeOptionRemove:w}=d;return ui(()=>(x(v),()=>w(v)),[x,w,v]),l.jsxs(l.Fragment,{children:[l.jsx(Dt.span,{id:c.textId,...s,ref:g}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Qm.createPortal(s.children,o.valueNode):null]})});PD.displayName=Ep;var RD="SelectItemIndicator",ID=C.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return AD(RD,r).isSelected?l.jsx(Dt.span,{"aria-hidden":!0,...n,ref:e}):null});ID.displayName=RD;var r_="SelectScrollUpButton",MD=C.forwardRef((t,e)=>{const r=zc(r_,t.__scopeSelect),n=jS(r_,t.__scopeSelect),[i,s]=C.useState(!1),o=yr(e,n.onScrollButtonChange);return ui(()=>{if(r.viewport&&r.isPositioned){let a=function(){const d=c.scrollTop>0;s(d)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),i?l.jsx(OD,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});MD.displayName=r_;var n_="SelectScrollDownButton",DD=C.forwardRef((t,e)=>{const r=zc(n_,t.__scopeSelect),n=jS(n_,t.__scopeSelect),[i,s]=C.useState(!1),o=yr(e,n.onScrollButtonChange);return ui(()=>{if(r.viewport&&r.isPositioned){let a=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;s(f)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),i?l.jsx(OD,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});DD.displayName=n_;var OD=C.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=zc("SelectScrollButton",r),o=C.useRef(null),a=mv(r),c=C.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return C.useEffect(()=>()=>c(),[c]),ui(()=>{var f;const d=a().find(p=>p.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),l.jsx(Dt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ke(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ke(i.onPointerMove,()=>{var d;(d=s.onItemLeave)==null||d.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ke(i.onPointerLeave,()=>{c()})})}),xQ="SelectSeparator",vQ=C.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return l.jsx(Dt.div,{"aria-hidden":!0,...n,ref:e})});vQ.displayName=xQ;var i_="SelectArrow",bQ=C.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=gv(r),s=Fc(i_,r),o=zc(i_,r);return s.open&&o.position==="popper"?l.jsx(ES,{...i,...n,ref:e}):null});bQ.displayName=i_;var wQ="SelectBubbleInput",LD=C.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=C.useRef(null),s=yr(n,i),o=D3(e);return C.useEffect(()=>{const a=i.current;if(!a)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&f){const p=new Event("change",{bubbles:!0});f.call(a,e),a.dispatchEvent(p)}},[o,e]),l.jsx(Dt.select,{...r,style:{...O3,...r.style},ref:s,defaultValue:e})});LD.displayName=wQ;function FD(t){return t===""||t===void 0}function zD(t){const e=za(t),r=C.useRef(""),n=C.useRef(0),i=C.useCallback(o=>{const a=r.current+o;e(a),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),s=C.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function BD(t,e,r){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=kQ(t,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function kQ(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var _Q=mD,CQ=yD,SQ=vD,EQ=bD,TQ=wD,NQ=kD,AQ=ED,jQ=jD,PQ=PD,RQ=ID,IQ=MD,MQ=DD;function $D(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=$D(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function UD(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=$D(t))&&(n&&(n+=" "),n+=e);return n}const PS="-",DQ=t=>{const e=LQ(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const a=o.split(PS);return a[0]===""&&a.length!==1&&a.shift(),VD(a,e)||OQ(o)},getConflictingClassGroupIds:(o,a)=>{const c=r[o]||[];return a&&n[o]?[...c,...n[o]]:c}}},VD=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?VD(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(PS);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},YP=/^\[(.+)\]$/,OQ=t=>{if(YP.test(t)){const e=YP.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},LQ=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return zQ(Object.entries(t.classGroups),r).forEach(([s,o])=>{s_(o,n,s,e)}),n},s_=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:JP(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(FQ(i)){s_(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{s_(o,JP(e,s),r,n)})})},JP=(t,e)=>{let r=t;return e.split(PS).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},FQ=t=>t.isThemeGetter,zQ=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[r,i]}):t,BQ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},WD="!",$Q=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,o=a=>{const c=[];let d=0,f=0,p;for(let w=0;w<a.length;w++){let E=a[w];if(d===0){if(E===i&&(n||a.slice(w,w+s)===e)){c.push(a.slice(f,w)),f=w+s;continue}if(E==="/"){p=w;continue}}E==="["?d++:E==="]"&&d--}const g=c.length===0?a:a.substring(f),m=g.startsWith(WD),v=m?g.substring(1):g,x=p&&p>f?p-f:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:x}};return r?a=>r({className:a,parseClassName:o}):o},UQ=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},VQ=t=>({cache:BQ(t.cacheSize),parseClassName:$Q(t),...DQ(t)}),WQ=/\s+/,qQ=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(WQ);let a="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:f,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}=r(d);let v=!!m,x=n(v?g.substring(0,m):g);if(!x){if(!v){a=d+(a.length>0?" "+a:a);continue}if(x=n(g),!x){a=d+(a.length>0?" "+a:a);continue}v=!1}const w=UQ(f).join(":"),E=p?w+WD:w,P=E+x;if(s.includes(P))continue;s.push(P);const R=i(x,v);for(let S=0;S<R.length;++S){const B=R[S];s.push(E+B)}a=d+(a.length>0?" "+a:a)}return a};function HQ(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=qD(e))&&(n&&(n+=" "),n+=r);return n}const qD=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=qD(t[n]))&&(r&&(r+=" "),r+=e);return r};function GQ(t,...e){let r,n,i,s=o;function o(c){const d=e.reduce((f,p)=>p(f),t());return r=VQ(d),n=r.cache.get,i=r.cache.set,s=a,a(c)}function a(c){const d=n(c);if(d)return d;const f=qQ(c,r);return i(c,f),f}return function(){return s(HQ.apply(null,arguments))}}const Hr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},HD=/^\[(?:([a-z-]+):)?(.+)\]$/i,KQ=/^\d+\/\d+$/,YQ=new Set(["px","full","screen"]),JQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,XQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,QQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ZQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,eZ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,nl=t=>Ff(t)||YQ.has(t)||KQ.test(t),Zl=t=>Ch(t,"length",lZ),Ff=t=>!!t&&!Number.isNaN(Number(t)),y1=t=>Ch(t,"number",Ff),hp=t=>!!t&&Number.isInteger(Number(t)),tZ=t=>t.endsWith("%")&&Ff(t.slice(0,-1)),$t=t=>HD.test(t),ec=t=>JQ.test(t),rZ=new Set(["length","size","percentage"]),nZ=t=>Ch(t,rZ,GD),iZ=t=>Ch(t,"position",GD),sZ=new Set(["image","url"]),oZ=t=>Ch(t,sZ,uZ),aZ=t=>Ch(t,"",cZ),pp=()=>!0,Ch=(t,e,r)=>{const n=HD.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},lZ=t=>XQ.test(t)&&!QQ.test(t),GD=()=>!1,cZ=t=>ZQ.test(t),uZ=t=>eZ.test(t),dZ=()=>{const t=Hr("colors"),e=Hr("spacing"),r=Hr("blur"),n=Hr("brightness"),i=Hr("borderColor"),s=Hr("borderRadius"),o=Hr("borderSpacing"),a=Hr("borderWidth"),c=Hr("contrast"),d=Hr("grayscale"),f=Hr("hueRotate"),p=Hr("invert"),g=Hr("gap"),m=Hr("gradientColorStops"),v=Hr("gradientColorStopPositions"),x=Hr("inset"),w=Hr("margin"),E=Hr("opacity"),P=Hr("padding"),R=Hr("saturate"),S=Hr("scale"),B=Hr("sepia"),$=Hr("skew"),q=Hr("space"),G=Hr("translate"),H=()=>["auto","contain","none"],K=()=>["auto","hidden","clip","visible","scroll"],J=()=>["auto",$t,e],W=()=>[$t,e],F=()=>["",nl,Zl],b=()=>["auto",Ff,$t],A=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],j=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",$t],T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[Ff,$t];return{cacheSize:500,separator:":",theme:{colors:[pp],spacing:[nl,Zl],blur:["none","",ec,$t],brightness:O(),borderColor:[t],borderRadius:["none","","full",ec,$t],borderSpacing:W(),borderWidth:F(),contrast:O(),grayscale:M(),hueRotate:O(),invert:M(),gap:W(),gradientColorStops:[t],gradientColorStopPositions:[tZ,Zl],inset:J(),margin:J(),opacity:O(),padding:W(),saturate:O(),scale:O(),sepia:M(),skew:O(),space:W(),translate:W()},classGroups:{aspect:[{aspect:["auto","square","video",$t]}],container:["container"],columns:[{columns:[ec]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...A(),$t]}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",hp,$t]}],basis:[{basis:J()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$t]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",hp,$t]}],"grid-cols":[{"grid-cols":[pp]}],"col-start-end":[{col:["auto",{span:["full",hp,$t]},$t]}],"col-start":[{"col-start":b()}],"col-end":[{"col-end":b()}],"grid-rows":[{"grid-rows":[pp]}],"row-start-end":[{row:["auto",{span:[hp,$t]},$t]}],"row-start":[{"row-start":b()}],"row-end":[{"row-end":b()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$t]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$t]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...k()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...k(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...k(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[P]}],px:[{px:[P]}],py:[{py:[P]}],ps:[{ps:[P]}],pe:[{pe:[P]}],pt:[{pt:[P]}],pr:[{pr:[P]}],pb:[{pb:[P]}],pl:[{pl:[P]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[q]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[q]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$t,e]}],"min-w":[{"min-w":[$t,e,"min","max","fit"]}],"max-w":[{"max-w":[$t,e,"none","full","min","max","fit","prose",{screen:[ec]},ec]}],h:[{h:[$t,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$t,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$t,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$t,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ec,Zl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",y1]}],"font-family":[{font:[pp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$t]}],"line-clamp":[{"line-clamp":["none",Ff,y1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",nl,$t]}],"list-image":[{"list-image":["none",$t]}],"list-style-type":[{list:["none","disc","decimal",$t]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",nl,Zl]}],"underline-offset":[{"underline-offset":["auto",nl,$t]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$t]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$t]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...A(),iZ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",nZ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},oZ]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:D()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[nl,$t]}],"outline-w":[{outline:[nl,Zl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[nl,Zl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ec,aZ]}],"shadow-color":[{shadow:[pp]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...j(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":j()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ec,$t]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[R]}],sepia:[{sepia:[B]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[R]}],"backdrop-sepia":[{"backdrop-sepia":[B]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$t]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",$t]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",$t]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[hp,$t]}],"translate-x":[{"translate-x":[G]}],"translate-y":[{"translate-y":[G]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$t]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$t]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$t]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[nl,Zl,y1]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},fZ=GQ(dZ);function et(...t){return fZ(UD(t))}function rd({...t}){return l.jsx(_Q,{"data-slot":"select",...t})}function nd({...t}){return l.jsx(SQ,{"data-slot":"select-value",...t})}function id({className:t,size:e="default",children:r,...n}){return l.jsxs(CQ,{"data-slot":"select-trigger","data-size":e,className:et("border-[#614E41] data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-[#614E41] focus-visible:ring-[#614E41]/40 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,l.jsx(EQ,{asChild:!0,children:l.jsx(ko,{className:"size-4 opacity-70 text-foreground"})})]})}function sd({className:t,children:e,position:r="popper",...n}){return l.jsx(TQ,{children:l.jsxs(NQ,{"data-slot":"select-content",className:et("bg-popover/90 backdrop-blur-md text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-xl border border-[#614E41] shadow-xl",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[l.jsx(hZ,{}),l.jsx(AQ,{className:et("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),l.jsx(pZ,{})]})})}function ji({className:t,children:e,...r}){return l.jsxs(jQ,{"data-slot":"select-item",className:et("focus:bg-accent focus:text-accent-foreground data-[state=checked]:bg-[#614E41]/15 hover:bg-[#614E41]/10 active:bg-[#614E41]/20 [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[l.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:l.jsx(RQ,{children:l.jsx(ZK,{className:"size-4"})})}),l.jsx(PQ,{children:e})]})}function hZ({className:t,...e}){return l.jsx(IQ,{"data-slot":"select-scroll-up-button",className:et("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(Xu,{className:"size-4"})})}function pZ({className:t,...e}){return l.jsx(MQ,{"data-slot":"select-scroll-down-button",className:et("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(ko,{className:"size-4"})})}const qy=t=>{if(!t)return"";if(typeof t=="string")return t;if(typeof t.message=="string")return t.message;try{return JSON.stringify(t)}catch{return String(t)}},XP=()=>{const{chainId:t,switchNetwork:e,addNetwork:r,isSupportedNetwork:n}=xr(),[i,s]=be.useState(!1),o=()=>Object.entries(Ht).filter(([d,f])=>{const p=f.contractAddresses;return(p==null?void 0:p.protocolManager)&&p.protocolManager!=="0x..."&&(p==null?void 0:p.poolDeployer)&&p.poolDeployer!=="0x..."}),a=o(),c=async d=>{var p;const f=parseInt(d,10);s(!0);try{await e(f)}catch(g){const m=qy(g).toLowerCase();if(g&&g.code===4902||m.includes("add this network")||m.includes("unrecognized chain id")||g&&g.code===-32603)try{await r(f),setTimeout(async()=>{try{await e(f)}catch(v){setTimeout(()=>{window.ethereum&&window.ethereum.chainId&&parseInt(window.ethereum.chainId,16)!==f&&te.error("Failed to switch to the new network after adding: "+qy(v))},1e3)}},500)}catch(v){setTimeout(()=>{window.ethereum&&window.ethereum.chainId&&parseInt(window.ethereum.chainId,16)!==f&&te.error("Failed to add network: "+qy(v))},1e3)}else!((p=g.message)!=null&&p.includes("User rejected"))&&g.code!==4001&&setTimeout(()=>{window.ethereum&&window.ethereum.chainId&&parseInt(window.ethereum.chainId,16)!==f&&te.error("Failed to switch network: "+qy(g))},1e3)}finally{s(!1)}};return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(rd,{value:t?String(t):"",onValueChange:c,disabled:i,children:[l.jsx(id,{className:"min-w-[160px] sm:min-w-[180px] header-accent-surface text-foreground",children:l.jsx(nd,{placeholder:"Select Network"})}),l.jsx(sd,{className:"border-border",children:o().map(([d,f])=>l.jsx(ji,{value:d,children:f.name},d))})]}),a.length===0&&l.jsx("span",{className:"text-xs text-red-500 ml-2",children:"Contracts Not Available"}),t&&n&&a.length>0&&!a.some(([d])=>parseInt(d)===t)&&l.jsx("span",{className:"text-xs text-red-500 ml-2",children:"Unsupported Network"})]})},hu=({className:t="",size:e="md",showIcon:r=!1,alt:n="Rafflehub",...i})=>{const{getCurrentTheme:s}=TC(),a={xs:"h-4 w-auto",sm:"h-5 w-auto",md:"h-6 w-auto",lg:"h-8 w-auto",xl:"h-12 w-auto"}[e]||e,c=()=>r?"/images/logo/logo-icon.png":s().id==="light"?"/images/logo/logo-light.svg":"/images/logo/logo-dark.svg";return l.jsx("img",{src:c(),alt:n,className:`${a} transition-opacity duration-200 ${t}`,...i})},pn=()=>{const t=()=>{if(typeof window>"u")return{isMobile:!1,isTablet:!1,isDesktop:!0,isTouchDevice:!1,screenWidth:1024,isInitialized:!1};const n=window.innerWidth;return{isMobile:n<768,isTablet:n>=768&&n<1024,isDesktop:n>=1024,isTouchDevice:"ontouchstart"in window||navigator.maxTouchPoints>0,screenWidth:n,isInitialized:!0}},[e,r]=C.useState(t);return C.useEffect(()=>{const n=()=>{const o=window.innerWidth,a=window.innerHeight,c=e.isMobile&&Math.abs(o-e.screenWidth)<50&&Math.abs(a-window.screen.height)>200;if(c){console.log("Skipping breakpoint update - likely keyboard resize");return}const d={isMobile:o<768,isTablet:o>=768&&o<1024,isDesktop:o>=1024,isTouchDevice:"ontouchstart"in window||navigator.maxTouchPoints>0,screenWidth:o,isInitialized:!0};o<768&&console.log("Mobile detected:",{width:o,height:a,userAgent:navigator.userAgent,touchDevice:d.isTouchDevice,isKeyboardResize:c}),r(d)};n();let i;const s=()=>{clearTimeout(i),i=setTimeout(n,150)};return window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s),clearTimeout(i)}},[e.isMobile,e.screenWidth]),e},QP=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ZP=UD,RS=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return ZP(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(d=>{const f=r==null?void 0:r[d],p=s==null?void 0:s[d];if(f===null)return null;const g=QP(f)||QP(p);return i[d][g]}),a=r&&Object.entries(r).reduce((d,f)=>{let[p,g]=f;return g===void 0||(d[p]=g),d},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((d,f)=>{let{class:p,className:g,...m}=f;return Object.entries(m).every(v=>{let[x,w]=v;return Array.isArray(w)?w.includes({...s,...a}[x]):{...s,...a}[x]===w})?[...d,p,g]:d},[]);return ZP(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},mZ=RS("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md font-medium transition-all duration-200 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90 focus-visible:ring-primary/20",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90 focus-visible:ring-destructive/20",outline:"border border-border bg-background shadow-sm hover:bg-muted hover:text-muted-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-muted hover:text-muted-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-success text-success-foreground shadow-sm hover:bg-success/90 focus-visible:ring-success/20",warning:"bg-warning text-warning-foreground shadow-sm hover:bg-warning/90 focus-visible:ring-warning/20",accent:"bg-accent text-accent-foreground shadow-sm hover:bg-accent/90 focus-visible:ring-accent/20"},size:{default:"h-10 px-4 py-2 text-[length:var(--text-base)] has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 py-2 text-[length:var(--text-sm)] has-[>svg]:px-2.5",lg:"h-12 rounded-md px-6 py-3 text-[length:var(--text-base)] has-[>svg]:px-4",xl:"h-14 rounded-lg px-8 py-3 text-[length:var(--text-lg)] has-[>svg]:px-5",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}}),qe=C.forwardRef(function({className:e,variant:r,size:n,asChild:i=!1,...s},o){const a=i?a3:"button";return l.jsx(a,{ref:o,"data-slot":"button",className:et(mZ({variant:r,size:n,className:e})),...s})});qe.displayName="Button";function gZ(t,e){return C.useReducer((r,n)=>e[r][n]??r,t)}var Eo=t=>{const{present:e,children:r}=t,n=yZ(e),i=typeof r=="function"?r({present:n.isPresent}):C.Children.only(r),s=yr(n.ref,xZ(i));return typeof r=="function"||n.isPresent?C.cloneElement(i,{ref:s}):null};Eo.displayName="Presence";function yZ(t){const[e,r]=C.useState(),n=C.useRef(null),i=C.useRef(t),s=C.useRef("none"),o=t?"mounted":"unmounted",[a,c]=gZ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const d=Hy(n.current);s.current=a==="mounted"?d:"none"},[a]),ui(()=>{const d=n.current,f=i.current;if(f!==t){const g=s.current,m=Hy(d);t?c("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&g!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),ui(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,p=m=>{const x=Hy(n.current).includes(m.animationName);if(m.target===e&&x&&(c("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},g=m=>{m.target===e&&(s.current=Hy(n.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:C.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Hy(t){return(t==null?void 0:t.animationName)||"none"}function xZ(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var x1="rovingFocusGroup.onEntryFocus",vZ={bubbles:!1,cancelable:!0},mg="RovingFocusGroup",[o_,KD,bZ]=ov(mg),[wZ,yv]=So(mg,[bZ]),[kZ,_Z]=wZ(mg),YD=C.forwardRef((t,e)=>l.jsx(o_.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(o_.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(CZ,{...t,ref:e})})}));YD.displayName=mg;var CZ=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...p}=t,g=C.useRef(null),m=yr(e,g),v=dg(s),[x,w]=ia({prop:o,defaultProp:a??null,onChange:c,caller:mg}),[E,P]=C.useState(!1),R=za(d),S=KD(r),B=C.useRef(!1),[$,q]=C.useState(0);return C.useEffect(()=>{const G=g.current;if(G)return G.addEventListener(x1,R),()=>G.removeEventListener(x1,R)},[R]),l.jsx(kZ,{scope:r,orientation:n,dir:v,loop:i,currentTabStopId:x,onItemFocus:C.useCallback(G=>w(G),[w]),onItemShiftTab:C.useCallback(()=>P(!0),[]),onFocusableItemAdd:C.useCallback(()=>q(G=>G+1),[]),onFocusableItemRemove:C.useCallback(()=>q(G=>G-1),[]),children:l.jsx(Dt.div,{tabIndex:E||$===0?-1:0,"data-orientation":n,...p,ref:m,style:{outline:"none",...t.style},onMouseDown:Ke(t.onMouseDown,()=>{B.current=!0}),onFocus:Ke(t.onFocus,G=>{const H=!B.current;if(G.target===G.currentTarget&&H&&!E){const K=new CustomEvent(x1,vZ);if(G.currentTarget.dispatchEvent(K),!K.defaultPrevented){const J=S().filter(D=>D.focusable),W=J.find(D=>D.active),F=J.find(D=>D.id===x),A=[W,F,...J].filter(Boolean).map(D=>D.ref.current);QD(A,f)}}B.current=!1}),onBlur:Ke(t.onBlur,()=>P(!1))})})}),JD="RovingFocusGroupItem",XD=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:o,...a}=t,c=qs(),d=s||c,f=_Z(JD,r),p=f.currentTabStopId===d,g=KD(r),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:x}=f;return C.useEffect(()=>{if(n)return m(),()=>v()},[n,m,v]),l.jsx(o_.ItemSlot,{scope:r,id:d,focusable:n,active:i,children:l.jsx(Dt.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...a,ref:e,onMouseDown:Ke(t.onMouseDown,w=>{n?f.onItemFocus(d):w.preventDefault()}),onFocus:Ke(t.onFocus,()=>f.onItemFocus(d)),onKeyDown:Ke(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){f.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const E=TZ(w,f.orientation,f.dir);if(E!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let R=g().filter(S=>S.focusable).map(S=>S.ref.current);if(E==="last")R.reverse();else if(E==="prev"||E==="next"){E==="prev"&&R.reverse();const S=R.indexOf(w.currentTarget);R=f.loop?NZ(R,S+1):R.slice(S+1)}setTimeout(()=>QD(R))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:x!=null}):o})})});XD.displayName=JD;var SZ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function EZ(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function TZ(t,e,r){const n=EZ(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return SZ[n]}function QD(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function NZ(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var ZD=YD,eO=XD,a_=["Enter"," "],AZ=["ArrowDown","PageUp","Home"],tO=["ArrowUp","PageDown","End"],jZ=[...AZ,...tO],PZ={ltr:[...a_,"ArrowRight"],rtl:[...a_,"ArrowLeft"]},RZ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},gg="Menu",[Mm,IZ,MZ]=ov(gg),[gd,rO]=So(gg,[MZ,kh,yv]),xv=kh(),nO=yv(),[DZ,yd]=gd(gg),[OZ,yg]=gd(gg),iO=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:s,modal:o=!0}=t,a=xv(e),[c,d]=C.useState(null),f=C.useRef(!1),p=za(s),g=dg(i);return C.useEffect(()=>{const m=()=>{f.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>f.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),l.jsx(_S,{...a,children:l.jsx(DZ,{scope:e,open:r,onOpenChange:p,content:c,onContentChange:d,children:l.jsx(OZ,{scope:e,onClose:C.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:f,dir:g,modal:o,children:n})})})};iO.displayName=gg;var LZ="MenuAnchor",IS=C.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=xv(r);return l.jsx(CS,{...i,...n,ref:e})});IS.displayName=LZ;var MS="MenuPortal",[FZ,sO]=gd(MS,{forceMount:void 0}),oO=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,s=yd(MS,e);return l.jsx(FZ,{scope:e,forceMount:r,children:l.jsx(Eo,{present:r||s.open,children:l.jsx(pg,{asChild:!0,container:i,children:n})})})};oO.displayName=MS;var vo="MenuContent",[zZ,DS]=gd(vo),aO=C.forwardRef((t,e)=>{const r=sO(vo,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=yd(vo,t.__scopeMenu),o=yg(vo,t.__scopeMenu);return l.jsx(Mm.Provider,{scope:t.__scopeMenu,children:l.jsx(Eo,{present:n||s.open,children:l.jsx(Mm.Slot,{scope:t.__scopeMenu,children:o.modal?l.jsx(BZ,{...i,ref:e}):l.jsx($Z,{...i,ref:e})})})})}),BZ=C.forwardRef((t,e)=>{const r=yd(vo,t.__scopeMenu),n=C.useRef(null),i=yr(e,n);return C.useEffect(()=>{const s=n.current;if(s)return TS(s)},[]),l.jsx(OS,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ke(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),$Z=C.forwardRef((t,e)=>{const r=yd(vo,t.__scopeMenu);return l.jsx(OS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),UZ=Qu("MenuContent.ScrollLock"),OS=C.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,onDismiss:m,disableOutsideScroll:v,...x}=t,w=yd(vo,r),E=yg(vo,r),P=xv(r),R=nO(r),S=IZ(r),[B,$]=C.useState(null),q=C.useRef(null),G=yr(e,q,w.onContentChange),H=C.useRef(0),K=C.useRef(""),J=C.useRef(0),W=C.useRef(null),F=C.useRef("right"),b=C.useRef(0),A=v?hv:C.Fragment,D=v?{as:UZ,allowPinchZoom:!0}:void 0,j=M=>{var Y,Z;const T=K.current+M,O=S().filter(ee=>!ee.disabled),N=document.activeElement,I=(Y=O.find(ee=>ee.ref.current===N))==null?void 0:Y.textValue,Q=O.map(ee=>ee.textValue),z=eee(Q,T,I),V=(Z=O.find(ee=>ee.textValue===z))==null?void 0:Z.ref.current;(function ee(ae){K.current=ae,window.clearTimeout(H.current),ae!==""&&(H.current=window.setTimeout(()=>ee(""),1e3))})(T),V&&setTimeout(()=>V.focus())};C.useEffect(()=>()=>window.clearTimeout(H.current),[]),hS();const k=C.useCallback(M=>{var O,N;return F.current===((O=W.current)==null?void 0:O.side)&&ree(M,(N=W.current)==null?void 0:N.area)},[]);return l.jsx(zZ,{scope:r,searchRef:K,onItemEnter:C.useCallback(M=>{k(M)&&M.preventDefault()},[k]),onItemLeave:C.useCallback(M=>{var T;k(M)||((T=q.current)==null||T.focus(),$(null))},[k]),onTriggerLeave:C.useCallback(M=>{k(M)&&M.preventDefault()},[k]),pointerGraceTimerRef:J,onPointerGraceIntentChange:C.useCallback(M=>{W.current=M},[]),children:l.jsx(A,{...D,children:l.jsx(av,{asChild:!0,trapped:i,onMountAutoFocus:Ke(s,M=>{var T;M.preventDefault(),(T=q.current)==null||T.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:l.jsx(fg,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,onDismiss:m,children:l.jsx(ZD,{asChild:!0,...R,dir:E.dir,orientation:"vertical",loop:n,currentTabStopId:B,onCurrentTabStopIdChange:$,onEntryFocus:Ke(c,M=>{E.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(SS,{role:"menu","aria-orientation":"vertical","data-state":_O(w.open),"data-radix-menu-content":"",dir:E.dir,...P,...x,ref:G,style:{outline:"none",...x.style},onKeyDown:Ke(x.onKeyDown,M=>{const O=M.target.closest("[data-radix-menu-content]")===M.currentTarget,N=M.ctrlKey||M.altKey||M.metaKey,I=M.key.length===1;O&&(M.key==="Tab"&&M.preventDefault(),!N&&I&&j(M.key));const Q=q.current;if(M.target!==Q||!jZ.includes(M.key))return;M.preventDefault();const V=S().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);tO.includes(M.key)&&V.reverse(),QZ(V)}),onBlur:Ke(t.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(H.current),K.current="")}),onPointerMove:Ke(t.onPointerMove,Dm(M=>{const T=M.target,O=b.current!==M.clientX;if(M.currentTarget.contains(T)&&O){const N=M.clientX>b.current?"right":"left";F.current=N,b.current=M.clientX}}))})})})})})})});aO.displayName=vo;var VZ="MenuGroup",LS=C.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return l.jsx(Dt.div,{role:"group",...n,ref:e})});LS.displayName=VZ;var WZ="MenuLabel",lO=C.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return l.jsx(Dt.div,{...n,ref:e})});lO.displayName=WZ;var bx="MenuItem",eR="menu.itemSelect",vv=C.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,s=C.useRef(null),o=yg(bx,t.__scopeMenu),a=DS(bx,t.__scopeMenu),c=yr(e,s),d=C.useRef(!1),f=()=>{const p=s.current;if(!r&&p){const g=new CustomEvent(eR,{bubbles:!0,cancelable:!0});p.addEventListener(eR,m=>n==null?void 0:n(m),{once:!0}),c3(p,g),g.defaultPrevented?d.current=!1:o.onClose()}};return l.jsx(cO,{...i,ref:c,disabled:r,onClick:Ke(t.onClick,f),onPointerDown:p=>{var g;(g=t.onPointerDown)==null||g.call(t,p),d.current=!0},onPointerUp:Ke(t.onPointerUp,p=>{var g;d.current||(g=p.currentTarget)==null||g.click()}),onKeyDown:Ke(t.onKeyDown,p=>{const g=a.searchRef.current!=="";r||g&&p.key===" "||a_.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});vv.displayName=bx;var cO=C.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=t,o=DS(bx,r),a=nO(r),c=C.useRef(null),d=yr(e,c),[f,p]=C.useState(!1),[g,m]=C.useState("");return C.useEffect(()=>{const v=c.current;v&&m((v.textContent??"").trim())},[s.children]),l.jsx(Mm.ItemSlot,{scope:r,disabled:n,textValue:i??g,children:l.jsx(eO,{asChild:!0,...a,focusable:!n,children:l.jsx(Dt.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:d,onPointerMove:Ke(t.onPointerMove,Dm(v=>{n?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ke(t.onPointerLeave,Dm(v=>o.onItemLeave(v))),onFocus:Ke(t.onFocus,()=>p(!0)),onBlur:Ke(t.onBlur,()=>p(!1))})})})}),qZ="MenuCheckboxItem",uO=C.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return l.jsx(mO,{scope:t.__scopeMenu,checked:r,children:l.jsx(vv,{role:"menuitemcheckbox","aria-checked":wx(r)?"mixed":r,...i,ref:e,"data-state":zS(r),onSelect:Ke(i.onSelect,()=>n==null?void 0:n(wx(r)?!0:!r),{checkForDefaultPrevented:!1})})})});uO.displayName=qZ;var dO="MenuRadioGroup",[HZ,GZ]=gd(dO,{value:void 0,onValueChange:()=>{}}),fO=C.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,s=za(n);return l.jsx(HZ,{scope:t.__scopeMenu,value:r,onValueChange:s,children:l.jsx(LS,{...i,ref:e})})});fO.displayName=dO;var hO="MenuRadioItem",pO=C.forwardRef((t,e)=>{const{value:r,...n}=t,i=GZ(hO,t.__scopeMenu),s=r===i.value;return l.jsx(mO,{scope:t.__scopeMenu,checked:s,children:l.jsx(vv,{role:"menuitemradio","aria-checked":s,...n,ref:e,"data-state":zS(s),onSelect:Ke(n.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,r)},{checkForDefaultPrevented:!1})})})});pO.displayName=hO;var FS="MenuItemIndicator",[mO,KZ]=gd(FS,{checked:!1}),gO=C.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,s=KZ(FS,r);return l.jsx(Eo,{present:n||wx(s.checked)||s.checked===!0,children:l.jsx(Dt.span,{...i,ref:e,"data-state":zS(s.checked)})})});gO.displayName=FS;var YZ="MenuSeparator",yO=C.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return l.jsx(Dt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});yO.displayName=YZ;var JZ="MenuArrow",xO=C.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=xv(r);return l.jsx(ES,{...i,...n,ref:e})});xO.displayName=JZ;var XZ="MenuSub",[Lpe,vO]=gd(XZ),Tp="MenuSubTrigger",bO=C.forwardRef((t,e)=>{const r=yd(Tp,t.__scopeMenu),n=yg(Tp,t.__scopeMenu),i=vO(Tp,t.__scopeMenu),s=DS(Tp,t.__scopeMenu),o=C.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=s,d={__scopeMenu:t.__scopeMenu},f=C.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return C.useEffect(()=>f,[f]),C.useEffect(()=>{const p=a.current;return()=>{window.clearTimeout(p),c(null)}},[a,c]),l.jsx(IS,{asChild:!0,...d,children:l.jsx(cO,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":_O(r.open),...t,ref:sv(e,i.onTriggerChange),onClick:p=>{var g;(g=t.onClick)==null||g.call(t,p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ke(t.onPointerMove,Dm(p=>{s.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:Ke(t.onPointerLeave,Dm(p=>{var m,v;f();const g=(m=r.content)==null?void 0:m.getBoundingClientRect();if(g){const x=(v=r.content)==null?void 0:v.dataset.side,w=x==="right",E=w?-5:5,P=g[w?"left":"right"],R=g[w?"right":"left"];s.onPointerGraceIntentChange({area:[{x:p.clientX+E,y:p.clientY},{x:P,y:g.top},{x:R,y:g.top},{x:R,y:g.bottom},{x:P,y:g.bottom}],side:x}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(p),p.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ke(t.onKeyDown,p=>{var m;const g=s.searchRef.current!=="";t.disabled||g&&p.key===" "||PZ[n.dir].includes(p.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),p.preventDefault())})})})});bO.displayName=Tp;var wO="MenuSubContent",kO=C.forwardRef((t,e)=>{const r=sO(vo,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=yd(vo,t.__scopeMenu),o=yg(vo,t.__scopeMenu),a=vO(wO,t.__scopeMenu),c=C.useRef(null),d=yr(e,c);return l.jsx(Mm.Provider,{scope:t.__scopeMenu,children:l.jsx(Eo,{present:n||s.open,children:l.jsx(Mm.Slot,{scope:t.__scopeMenu,children:l.jsx(OS,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var p;o.isUsingKeyboardRef.current&&((p=c.current)==null||p.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Ke(t.onFocusOutside,f=>{f.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ke(t.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:Ke(t.onKeyDown,f=>{var m;const p=f.currentTarget.contains(f.target),g=RZ[o.dir].includes(f.key);p&&g&&(s.onOpenChange(!1),(m=a.trigger)==null||m.focus(),f.preventDefault())})})})})})});kO.displayName=wO;function _O(t){return t?"open":"closed"}function wx(t){return t==="indeterminate"}function zS(t){return wx(t)?"indeterminate":t?"checked":"unchecked"}function QZ(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function ZZ(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function eee(t,e,r){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=ZZ(t,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function tee(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],c=e[o],d=a.x,f=a.y,p=c.x,g=c.y;f>n!=g>n&&r<(p-d)*(n-f)/(g-f)+d&&(i=!i)}return i}function ree(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return tee(r,e)}function Dm(t){return e=>e.pointerType==="mouse"?t(e):void 0}var nee=iO,iee=IS,see=oO,oee=aO,aee=LS,lee=lO,cee=vv,uee=uO,dee=fO,fee=pO,hee=gO,pee=yO,mee=xO,gee=bO,yee=kO,bv="DropdownMenu",[xee,Fpe]=So(bv,[rO]),Xi=rO(),[vee,CO]=xee(bv),SO=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,c=Xi(e),d=C.useRef(null),[f,p]=ia({prop:i,defaultProp:s??!1,onChange:o,caller:bv});return l.jsx(vee,{scope:e,triggerId:qs(),triggerRef:d,contentId:qs(),open:f,onOpenChange:p,onOpenToggle:C.useCallback(()=>p(g=>!g),[p]),modal:a,children:l.jsx(nee,{...c,open:f,onOpenChange:p,dir:n,modal:a,children:r})})};SO.displayName=bv;var EO="DropdownMenuTrigger",TO=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,s=CO(EO,r),o=Xi(r);return l.jsx(iee,{asChild:!0,...o,children:l.jsx(Dt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:sv(e,s.triggerRef),onPointerDown:Ke(t.onPointerDown,a=>{!n&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:Ke(t.onKeyDown,a=>{n||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});TO.displayName=EO;var bee="DropdownMenuPortal",NO=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Xi(e);return l.jsx(see,{...n,...r})};NO.displayName=bee;var AO="DropdownMenuContent",jO=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=CO(AO,r),s=Xi(r),o=C.useRef(!1);return l.jsx(oee,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:e,onCloseAutoFocus:Ke(t.onCloseAutoFocus,a=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Ke(t.onInteractOutside,a=>{const c=a.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;(!i.modal||f)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jO.displayName=AO;var wee="DropdownMenuGroup",kee=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Xi(r);return l.jsx(aee,{...i,...n,ref:e})});kee.displayName=wee;var _ee="DropdownMenuLabel",Cee=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Xi(r);return l.jsx(lee,{...i,...n,ref:e})});Cee.displayName=_ee;var See="DropdownMenuItem",PO=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Xi(r);return l.jsx(cee,{...i,...n,ref:e})});PO.displayName=See;var Eee="DropdownMenuCheckboxItem",Tee=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Xi(r);return l.jsx(uee,{...i,...n,ref:e})});Tee.displayName=Eee;var Nee="DropdownMenuRadioGroup",Aee=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Xi(r);return l.jsx(dee,{...i,...n,ref:e})});Aee.displayName=Nee;var jee="DropdownMenuRadioItem",Pee=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Xi(r);return l.jsx(fee,{...i,...n,ref:e})});Pee.displayName=jee;var Ree="DropdownMenuItemIndicator",Iee=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Xi(r);return l.jsx(hee,{...i,...n,ref:e})});Iee.displayName=Ree;var Mee="DropdownMenuSeparator",Dee=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Xi(r);return l.jsx(pee,{...i,...n,ref:e})});Dee.displayName=Mee;var Oee="DropdownMenuArrow",Lee=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Xi(r);return l.jsx(mee,{...i,...n,ref:e})});Lee.displayName=Oee;var Fee="DropdownMenuSubTrigger",zee=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Xi(r);return l.jsx(gee,{...i,...n,ref:e})});zee.displayName=Fee;var Bee="DropdownMenuSubContent",$ee=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Xi(r);return l.jsx(yee,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$ee.displayName=Bee;var Uee=SO,Vee=TO,Wee=NO,qee=jO,Hee=PO;function Gee({...t}){return l.jsx(Uee,{"data-slot":"dropdown-menu",...t})}function Kee({...t}){return l.jsx(Vee,{"data-slot":"dropdown-menu-trigger",...t})}function Yee({className:t,align:e="center",sideOffset:r=4,collisionPadding:n=8,avoidCollisions:i=!0,...s}){return l.jsx(Wee,{children:l.jsx(qee,{"data-slot":"dropdown-menu-content",align:e,sideOffset:r,collisionPadding:n,avoidCollisions:i,className:et("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...s})})}function v1({className:t,inset:e,variant:r="default",...n}){return l.jsx(Hee,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":r,className:et("focus:bg-accent focus:text-accent-foreground data-[variant=default]:hover:bg-[#614E41]/10 data-[variant=default]:focus:bg-[#614E41]/15 data-[variant=default]:active:bg-[#614E41]/20 data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}var wv="Dialog",[RO,zpe]=So(wv),[Jee,sa]=RO(wv),IO=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=C.useRef(null),c=C.useRef(null),[d,f]=ia({prop:n,defaultProp:i??!1,onChange:s,caller:wv});return l.jsx(Jee,{scope:e,triggerRef:a,contentRef:c,contentId:qs(),titleId:qs(),descriptionId:qs(),open:d,onOpenChange:f,onOpenToggle:C.useCallback(()=>f(p=>!p),[f]),modal:o,children:r})};IO.displayName=wv;var MO="DialogTrigger",DO=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=sa(MO,r),s=yr(e,i.triggerRef);return l.jsx(Dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":US(i.open),...n,ref:s,onClick:Ke(t.onClick,i.onOpenToggle)})});DO.displayName=MO;var BS="DialogPortal",[Xee,OO]=RO(BS,{forceMount:void 0}),LO=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=sa(BS,e);return l.jsx(Xee,{scope:e,forceMount:r,children:C.Children.map(n,o=>l.jsx(Eo,{present:r||s.open,children:l.jsx(pg,{asChild:!0,container:i,children:o})}))})};LO.displayName=BS;var kx="DialogOverlay",FO=C.forwardRef((t,e)=>{const r=OO(kx,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=sa(kx,t.__scopeDialog);return s.modal?l.jsx(Eo,{present:n||s.open,children:l.jsx(Zee,{...i,ref:e})}):null});FO.displayName=kx;var Qee=Qu("DialogOverlay.RemoveScroll"),Zee=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=sa(kx,r);return l.jsx(hv,{as:Qee,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(Dt.div,{"data-state":US(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),od="DialogContent",zO=C.forwardRef((t,e)=>{const r=OO(od,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=sa(od,t.__scopeDialog);return l.jsx(Eo,{present:n||s.open,children:s.modal?l.jsx(ete,{...i,ref:e}):l.jsx(tte,{...i,ref:e})})});zO.displayName=od;var ete=C.forwardRef((t,e)=>{const r=sa(od,t.__scopeDialog),n=C.useRef(null),i=yr(e,r.contentRef,n);return C.useEffect(()=>{const s=n.current;if(s)return TS(s)},[]),l.jsx(BO,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ke(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Ke(t.onFocusOutside,s=>s.preventDefault())})}),tte=C.forwardRef((t,e)=>{const r=sa(od,t.__scopeDialog),n=C.useRef(!1),i=C.useRef(!1);return l.jsx(BO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),BO=C.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=sa(od,r),c=C.useRef(null),d=yr(e,c);return hS(),l.jsxs(l.Fragment,{children:[l.jsx(av,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:l.jsx(fg,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":US(a.open),...o,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(nte,{titleId:a.titleId}),l.jsx(ste,{contentRef:c,descriptionId:a.descriptionId})]})]})}),$S="DialogTitle",$O=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=sa($S,r);return l.jsx(Dt.h2,{id:i.titleId,...n,ref:e})});$O.displayName=$S;var UO="DialogDescription",rte=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=sa(UO,r);return l.jsx(Dt.p,{id:i.descriptionId,...n,ref:e})});rte.displayName=UO;var VO="DialogClose",WO=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=sa(VO,r);return l.jsx(Dt.button,{type:"button",...n,ref:e,onClick:Ke(t.onClick,()=>i.onOpenChange(!1))})});WO.displayName=VO;function US(t){return t?"open":"closed"}var qO="DialogTitleWarning",[Bpe,HO]=gY(qO,{contentName:od,titleName:$S,docsSlug:"dialog"}),nte=({titleId:t})=>{const e=HO(qO),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return C.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},ite="DialogDescriptionWarning",ste=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${HO(ite).contentName}}.`;return C.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},GO=IO,KO=DO,YO=LO,JO=FO,XO=zO,QO=$O,ote=WO;function ate({...t}){return l.jsx(GO,{"data-slot":"sheet",...t})}function lte({...t}){return l.jsx(KO,{"data-slot":"sheet-trigger",...t})}function cte({...t}){return l.jsx(YO,{"data-slot":"sheet-portal",...t})}const ute=C.forwardRef(({className:t,...e},r)=>l.jsx(JO,{ref:r,"data-slot":"sheet-overlay",className:et("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})),dte=C.forwardRef(({className:t,children:e,side:r="right",...n},i)=>l.jsxs(cte,{children:[l.jsx(ute,{}),l.jsx(XO,{ref:i,"data-slot":"sheet-content",className:et("bg-background text-foreground data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l border-border sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r border-border sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b border-border",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t border-border",t),...n,children:e})]}));function fte({className:t,...e}){return l.jsx("div",{"data-slot":"sheet-header",className:et("flex flex-col gap-1.5 p-4",t),...e})}function hte({className:t,...e}){return l.jsx(QO,{"data-slot":"sheet-title",className:et("text-foreground font-semibold text-lg",t),...e})}const Om=C.forwardRef(({className:t,type:e,...r},n)=>l.jsx("input",{type:e,ref:n,"data-slot":"input",className:et("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r}));Om.displayName="Input";const pte=RS("inline-flex items-center justify-center rounded-full border px-2 py-1 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20",outline:"text-foreground [a&]:hover:bg-muted"}},defaultVariants:{variant:"default"}});function ea({className:t,variant:e,asChild:r=!1,...n}){const i=r?a3:"span";return l.jsx(i,{"data-slot":"badge",className:et(pte({variant:e}),t),...n})}const mte=()=>{const{connected:t,address:e,formatAddress:r,disconnect:n,connectWallet:i,provider:s,chainId:o}=xr(),{contracts:a,getContractInstance:c}=Cr(),{theme:d,cycleTheme:f,getCurrentTheme:p}=TC(),{isMobile:g,isTablet:m,isInitialized:v}=pn(),x=Ua(),w=hd(),[E,P]=C.useState(!1),[R,S]=C.useState(""),[B,$]=C.useState([]),[q,G]=C.useState(!1),[H,K]=C.useState([]),[J,W]=C.useState(!1),[F,b]=C.useState(!1),A=C.useRef(null),D=C.useRef(null),j=C.useRef(!1),k=w.pathname==="/";w.pathname,C.useEffect(()=>{const V=()=>{W(window.scrollY>20)};return window.addEventListener("scroll",V),()=>window.removeEventListener("scroll",V)},[]),C.useEffect(()=>{if(!s||!o||j.current)return;(async()=>{var Y,Z;try{const ee=(Z=(Y=Ht[o])==null?void 0:Y.contractAddresses)==null?void 0:Z.protocolManager;if(!ee){K([]),j.current=!0;return}const ne=await new At(ee,ht.protocolManager,s).getAllPools();if(!ne||ne.length===0){K([]),j.current=!0;return}const de=ne.map(async Ce=>{try{const le=await new At(Ce,ht.pool,s).name();return{address:Ce,name:le}}catch{return null}}),me=(await Promise.all(de)).filter(Ce=>Ce);K(me),j.current=!0}catch(ee){console.error("Error fetching pools:",ee),K([]),j.current=!0}})()},[s,o]),C.useEffect(()=>{if(!E||!(R!=null&&R.trim())){$([]);return}G(!0);const V=setTimeout(()=>{const Y=R.trim().toLowerCase(),Z=H.filter(ee=>(ee.name||"").trim().toLowerCase().includes(Y)||(ee.address||"").trim().toLowerCase()===Y||(ee.address||"").trim().toLowerCase().includes(Y));$(Z),G(!1)},300);return()=>clearTimeout(V)},[R,E,H]);const M=V=>{const Y=o&&Ht[o]?Ht[o].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):o||"",Z=Y?`/${Y}/raffle/${V}`:`/raffle/${V}`;x(Z),P(!1),S(""),$([])},T=async()=>{try{await i("metamask")}catch(V){console.error("Failed to connect wallet:",V)}},O=()=>{P(!E),E?(S(""),$([])):setTimeout(()=>{var V;return(V=A.current)==null?void 0:V.focus()},100)};C.useEffect(()=>{const V=Y=>{D.current&&!D.current.contains(Y.target)&&(P(!1),S(""),$([]))};return E&&document.addEventListener("mousedown",V),()=>{document.removeEventListener("mousedown",V)}},[E]);const N=[],I=[{label:"Create Raffle Pool",href:"/create-raffle",icon:Is},{label:"Profile",href:"/profile",icon:CP}],Q={initial:{y:-100,opacity:0},animate:{y:0,opacity:1,transition:{type:"spring",stiffness:100,damping:20,staggerChildren:.1}},scrolled:{backgroundColor:J?"hsl(var(--background) / 0.95)":"hsl(var(--background) / 0.8)",backdropFilter:J?"blur(12px)":"blur(8px)",borderBottom:J?"1px solid hsl(var(--border))":"1px solid transparent",transition:{duration:.3}}},z={initial:{y:-20,opacity:0},animate:{y:0,opacity:1}};return v?g||m?l.jsxs(An.header,{variants:Q,initial:"initial",animate:"animate",whileInView:"scrolled",className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border",children:[l.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[l.jsx(An.div,{variants:z,children:k?l.jsx(hu,{size:"sm"}):t?l.jsx(Gf,{to:"/app",children:l.jsx(hu,{size:"sm",className:"hover:opacity-80 transition-opacity"})}):l.jsx(hu,{size:"sm"})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(An.div,{variants:z,children:l.jsx(qe,{variant:"ghost",size:"icon",onClick:O,className:"relative",children:l.jsx(Jo,{className:"h-4 w-4"})})}),l.jsx(An.div,{variants:z,children:l.jsxs(qe,{variant:"ghost",size:"icon",onClick:f,title:`Current: ${p().name}`,children:[p().icon==="Sun"&&l.jsx(wP,{className:"h-4 w-4"}),p().icon==="Moon"&&l.jsx(vP,{className:"h-4 w-4"}),p().icon==="Monitor"&&l.jsx(xP,{className:"h-4 w-4"})]})}),l.jsx(An.div,{variants:z,children:l.jsxs(ate,{open:F,onOpenChange:b,children:[l.jsx(lte,{asChild:!0,children:l.jsx(qe,{variant:"ghost",size:"icon",children:l.jsx(lY,{className:"h-4 w-4"})})}),l.jsxs(dte,{side:"right",className:"w-[300px] sm:w-[400px]",children:[l.jsx(fte,{children:l.jsx(hte,{children:"Menu"})}),l.jsxs("div",{className:"flex flex-col gap-4 mt-6",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider px-3",children:"Navigation"}),l.jsx("nav",{className:"flex flex-col gap-1 px-2",children:I.map(V=>l.jsxs(qe,{variant:"ghost",className:"justify-start gap-3 h-10",onClick:()=>{x(V.href),b(!1)},children:[l.jsx(V.icon,{className:"h-4 w-4"}),V.label]},V.href))})]}),l.jsx("div",{className:"border-t border-border"}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider px-3",children:"Wallet"}),l.jsx("div",{className:"px-2 space-y-2",children:t?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/50",children:[l.jsx(a1,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm font-mono flex-1",children:r(e)})]}),l.jsxs(qe,{variant:"outline",className:"w-full justify-start gap-2 h-10",onClick:()=>{n(),b(!1)},children:[l.jsx(yP,{className:"h-4 w-4"}),"Disconnect"]})]}):l.jsxs(qe,{className:"w-full gap-2 h-10",onClick:()=>{T(),b(!1)},children:[l.jsx(a1,{className:"h-4 w-4"}),"Connect Wallet"]})})]}),l.jsx("div",{className:"border-t border-border"}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider px-3",children:"Network"}),l.jsx("div",{className:"px-2",children:l.jsx(XP,{})})]})]})]})]})})]})]}),l.jsx(bj,{children:E&&l.jsx(An.div,{ref:D,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-border bg-background",children:l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Jo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Om,{ref:A,placeholder:"Search raffles...",value:R,onChange:V=>S(V.target.value),className:"pl-10 pr-10 focus:ring-0 focus:border-border focus-visible:ring-0 focus-visible:border-border"}),l.jsx(qe,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8",onClick:()=>{P(!1),S("")},children:l.jsx(Pm,{className:"h-4 w-4"})})]}),B.length>0&&l.jsx("div",{className:"mt-4 space-y-2 max-h-64 overflow-y-auto",children:B.map(V=>l.jsx(qe,{variant:"ghost",className:"w-full justify-start h-auto p-3",onClick:()=>M(V.address),children:l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-medium",children:V.name}),l.jsxs("div",{className:"text-xs text-muted-foreground font-mono",children:[V.address.slice(0,10),"...",V.address.slice(-8)]})]})},V.address))})]})})})]}):l.jsx(An.header,{variants:Q,initial:"initial",animate:"animate",whileInView:"scrolled",className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border transition-all duration-300",children:l.jsx("div",{className:"max-w-7xl mx-auto px-6",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsxs(An.div,{variants:z,className:"flex items-center gap-8",children:[k?l.jsxs("div",{className:"flex items-center gap-3 cursor-default select-none",children:[l.jsx(hu,{size:"md"}),l.jsxs(ea,{variant:"secondary",className:"hidden xl:inline-flex items-center gap-1",children:[l.jsx(o3,{className:"h-3 w-3"}),"New"]})]}):t?l.jsx(Gf,{to:"/app",className:"flex items-center gap-3 outline-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:l.jsx(hu,{size:"md",className:"hover:opacity-80 transition-opacity"})}):l.jsx("div",{className:"flex items-center gap-3 cursor-default select-none",children:l.jsx(hu,{size:"md"})}),!k&&l.jsx("nav",{className:"hidden lg:flex items-center gap-6",children:N.map(V=>l.jsx(An.div,{variants:z,children:l.jsxs(qe,{variant:"ghost",className:"gap-2 hover:bg-muted/50",onClick:()=>x(V.href),children:[V.label==="Create"?null:l.jsx(V.icon,{className:"h-4 w-4"}),V.label]})},V.href))})]}),l.jsxs(An.div,{variants:z,className:"flex items-center gap-3",children:[l.jsx("div",{className:"relative",ref:D,children:l.jsx(bj,{children:E?l.jsxs(An.div,{initial:{width:40,opacity:0},animate:{width:300,opacity:1},exit:{width:40,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"relative",children:[l.jsx(Jo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Om,{ref:A,placeholder:"Search raffles...",value:R,onChange:V=>S(V.target.value),className:"pl-10 pr-10 bg-background/50 backdrop-blur-sm focus:ring-0 focus:border-border focus-visible:ring-0 focus-visible:border-border"}),l.jsx(qe,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8",onClick:O,children:l.jsx(Pm,{className:"h-4 w-4"})}),B.length>0&&l.jsx(An.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 mt-2 bg-popover border border-border rounded-lg shadow-lg max-h-80 overflow-y-auto z-50",children:B.map(V=>l.jsx(qe,{variant:"ghost",className:"w-full justify-start h-auto p-4 rounded-none border-b border-border last:border-b-0",onClick:()=>M(V.address),children:l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-medium",children:V.name}),l.jsxs("div",{className:"text-xs text-muted-foreground font-mono",children:[V.address.slice(0,10),"...",V.address.slice(-8)]})]})},V.address))})]}):l.jsx(qe,{variant:"ghost",size:"icon",onClick:O,className:"hover:bg-muted/50",children:l.jsx(Jo,{className:"h-4 w-4"})})})}),l.jsx(XP,{}),t?l.jsxs(Gee,{children:[l.jsx(Kee,{asChild:!0,children:l.jsxs(qe,{variant:"outline",className:"gap-2 hover:bg-muted/50",children:[l.jsx(a1,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:r(e)}),l.jsx(ko,{className:"h-4 w-4"})]})}),l.jsxs(Yee,{align:"end",className:"w-56",children:[l.jsxs(v1,{onClick:()=>x("/profile"),children:[l.jsx(CP,{className:"mr-2 h-4 w-4"}),"Profile"]}),l.jsxs(v1,{onClick:()=>x("/create-raffle"),children:[l.jsx(Is,{className:"mr-2 h-4 w-4"}),"Create Raffle Pool"]}),l.jsxs(v1,{onClick:n,children:[l.jsx(yP,{className:"mr-2 h-4 w-4"}),"Disconnect"]})]})]}):l.jsx(qe,{onClick:T,className:"bg-primary text-primary-foreground hover:bg-primary/90",children:"Connect Wallet"}),l.jsxs(qe,{variant:"ghost",size:"icon",onClick:f,title:`Current: ${p().name}`,className:"hover:bg-muted/50",children:[p().icon==="Sun"&&l.jsx(wP,{className:"h-4 w-4"}),p().icon==="Moon"&&l.jsx(vP,{className:"h-4 w-4"}),p().icon==="Monitor"&&l.jsx(xP,{className:"h-4 w-4"})]}),l.jsx(qe,{variant:"ghost",size:"icon",className:"hover:bg-muted/50 relative",children:l.jsx(XK,{className:"h-4 w-4"})})]})]})})}):l.jsx(An.header,{initial:{y:-100},animate:{y:0},className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-md border-b border-border",children:l.jsx("div",{className:"flex items-center justify-between h-16 px-4",children:l.jsx(hu,{size:"sm"})})})};var kv="Collapsible",[gte,ZO]=So(kv),[yte,VS]=gte(kv),eL=C.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:s,onOpenChange:o,...a}=t,[c,d]=ia({prop:n,defaultProp:i??!1,onChange:o,caller:kv});return l.jsx(yte,{scope:r,disabled:s,contentId:qs(),open:c,onOpenToggle:C.useCallback(()=>d(f=>!f),[d]),children:l.jsx(Dt.div,{"data-state":qS(c),"data-disabled":s?"":void 0,...a,ref:e})})});eL.displayName=kv;var tL="CollapsibleTrigger",rL=C.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,i=VS(tL,r);return l.jsx(Dt.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":qS(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:e,onClick:Ke(t.onClick,i.onOpenToggle)})});rL.displayName=tL;var WS="CollapsibleContent",nL=C.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=VS(WS,t.__scopeCollapsible);return l.jsx(Eo,{present:r||i.open,children:({present:s})=>l.jsx(xte,{...n,ref:e,present:s})})});nL.displayName=WS;var xte=C.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:i,...s}=t,o=VS(WS,r),[a,c]=C.useState(n),d=C.useRef(null),f=yr(e,d),p=C.useRef(0),g=p.current,m=C.useRef(0),v=m.current,x=o.open||a,w=C.useRef(x),E=C.useRef(void 0);return C.useEffect(()=>{const P=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(P)},[]),ui(()=>{const P=d.current;if(P){E.current=E.current||{transitionDuration:P.style.transitionDuration,animationName:P.style.animationName},P.style.transitionDuration="0s",P.style.animationName="none";const R=P.getBoundingClientRect();p.current=R.height,m.current=R.width,w.current||(P.style.transitionDuration=E.current.transitionDuration,P.style.animationName=E.current.animationName),c(n)}},[o.open,n]),l.jsx(Dt.div,{"data-state":qS(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!x,...s,ref:f,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...t.style},children:x&&i})});function qS(t){return t?"open":"closed"}var vte=eL,bte=rL,wte=nL,oa="Accordion",kte=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[HS,_te,Cte]=ov(oa),[_v,$pe]=So(oa,[Cte,ZO]),GS=ZO(),iL=be.forwardRef((t,e)=>{const{type:r,...n}=t,i=n,s=n;return l.jsx(HS.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?l.jsx(Nte,{...s,ref:e}):l.jsx(Tte,{...i,ref:e})})});iL.displayName=oa;var[sL,Ste]=_v(oa),[oL,Ete]=_v(oa,{collapsible:!1}),Tte=be.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},collapsible:s=!1,...o}=t,[a,c]=ia({prop:r,defaultProp:n??"",onChange:i,caller:oa});return l.jsx(sL,{scope:t.__scopeAccordion,value:be.useMemo(()=>a?[a]:[],[a]),onItemOpen:c,onItemClose:be.useCallback(()=>s&&c(""),[s,c]),children:l.jsx(oL,{scope:t.__scopeAccordion,collapsible:s,children:l.jsx(aL,{...o,ref:e})})})}),Nte=be.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},...s}=t,[o,a]=ia({prop:r,defaultProp:n??[],onChange:i,caller:oa}),c=be.useCallback(f=>a((p=[])=>[...p,f]),[a]),d=be.useCallback(f=>a((p=[])=>p.filter(g=>g!==f)),[a]);return l.jsx(sL,{scope:t.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:l.jsx(oL,{scope:t.__scopeAccordion,collapsible:!0,children:l.jsx(aL,{...s,ref:e})})})}),[Ate,Cv]=_v(oa),aL=be.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:i,orientation:s="vertical",...o}=t,a=be.useRef(null),c=yr(a,e),d=_te(r),p=dg(i)==="ltr",g=Ke(t.onKeyDown,m=>{var G;if(!kte.includes(m.key))return;const v=m.target,x=d().filter(H=>{var K;return!((K=H.ref.current)!=null&&K.disabled)}),w=x.findIndex(H=>H.ref.current===v),E=x.length;if(w===-1)return;m.preventDefault();let P=w;const R=0,S=E-1,B=()=>{P=w+1,P>S&&(P=R)},$=()=>{P=w-1,P<R&&(P=S)};switch(m.key){case"Home":P=R;break;case"End":P=S;break;case"ArrowRight":s==="horizontal"&&(p?B():$());break;case"ArrowDown":s==="vertical"&&B();break;case"ArrowLeft":s==="horizontal"&&(p?$():B());break;case"ArrowUp":s==="vertical"&&$();break}const q=P%E;(G=x[q].ref.current)==null||G.focus()});return l.jsx(Ate,{scope:r,disabled:n,direction:i,orientation:s,children:l.jsx(HS.Slot,{scope:r,children:l.jsx(Dt.div,{...o,"data-orientation":s,ref:c,onKeyDown:n?void 0:g})})})}),_x="AccordionItem",[jte,KS]=_v(_x),lL=be.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...i}=t,s=Cv(_x,r),o=Ste(_x,r),a=GS(r),c=qs(),d=n&&o.value.includes(n)||!1,f=s.disabled||t.disabled;return l.jsx(jte,{scope:r,open:d,disabled:f,triggerId:c,children:l.jsx(vte,{"data-orientation":s.orientation,"data-state":pL(d),...a,...i,ref:e,disabled:f,open:d,onOpenChange:p=>{p?o.onItemOpen(n):o.onItemClose(n)}})})});lL.displayName=_x;var cL="AccordionHeader",uL=be.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=Cv(oa,r),s=KS(cL,r);return l.jsx(Dt.h3,{"data-orientation":i.orientation,"data-state":pL(s.open),"data-disabled":s.disabled?"":void 0,...n,ref:e})});uL.displayName=cL;var l_="AccordionTrigger",dL=be.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=Cv(oa,r),s=KS(l_,r),o=Ete(l_,r),a=GS(r);return l.jsx(HS.ItemSlot,{scope:r,children:l.jsx(bte,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...a,...n,ref:e})})});dL.displayName=l_;var fL="AccordionContent",hL=be.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=Cv(oa,r),s=KS(fL,r),o=GS(r);return l.jsx(wte,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...o,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});hL.displayName=fL;function pL(t){return t?"open":"closed"}var mL=iL,gL=lL,yL=uL,xL=dL,vL=hL;function Pte({...t}){return l.jsx(mL,{"data-slot":"accordion",...t})}function Rte({className:t,...e}){return l.jsx(gL,{"data-slot":"accordion-item",className:et("border-b last:border-b-0",t),...e})}function Ite({className:t,children:e,...r}){return l.jsx(yL,{className:"flex",children:l.jsxs(xL,{"data-slot":"accordion-trigger",className:et("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,l.jsx(ko,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function Mte({className:t,children:e,...r}){return l.jsx(vL,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...r,children:l.jsx("div",{className:et("pt-0 pb-4",t),children:e})})}const Dte=()=>{const[t,e]=C.useState(""),[r,n]=C.useState(!1),[i,s]=C.useState([]),o=hd(),a=new Date().getFullYear(),c=o.pathname==="/",d=[{title:"Product",items:[{label:"Explore Raffles",href:"/app",icon:Tm},{label:"Create Raffle",href:"/create-raffle",icon:hx}]},{title:"Resources",items:[{label:"Documentation",href:"/docs",icon:fp},{label:"Blog",href:"#",icon:fp},{label:"Tutorials",href:"#",icon:fp}]},{title:"Company",items:[{label:"About Us",href:"#",icon:Tc},{label:"Careers",href:"#",icon:fp},{label:"Press Kit",href:"#",icon:fp}]},{title:"Legal",items:[{label:"Terms of Service",href:"#",icon:ml},{label:"Privacy Policy",href:"#",icon:ml},{label:"Cookie Policy",href:"#",icon:ml},{label:"Compliance",href:"#",icon:ml}]}],f=[{name:"Twitter",href:"https://twitter.com/droprdotfun",icon:jm,color:"hover:text-blue-400"},{name:"Discord",href:"#",icon:Df,color:"hover:text-indigo-400"},{name:"Telegram",href:"#",icon:Am,color:"hover:text-blue-500"},{name:"GitHub",href:"#",icon:nY,color:"hover:text-gray-400"},{name:"Medium",href:"https://medium.com/@rafflhub",icon:Tm,color:"hover:text-green-400"}],p=v=>{v.preventDefault(),t.trim()&&(n(!0),setTimeout(()=>{n(!1),e("")},3e3))},g={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},m={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return l.jsxs("footer",{className:"relative bg-background border-t border-border/50 overflow-hidden",children:[c&&l.jsx("div",{className:"relative border-b border-border/30 bg-muted/30",children:l.jsx("div",{className:"max-w-7xl mx-auto px-6 py-10",children:l.jsxs(An.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"max-w-4xl mx-auto text-center",children:[l.jsx(ea,{className:"mb-4 bg-primary text-primary-foreground border-0",children:"Stay Updated"}),l.jsx("h2",{className:"text-3xl font-bold mb-4 font-display",children:"Get the Latest Raffle Updates"}),l.jsx("p",{className:"text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Join our community to receive exclusive raffle announcements, platform updates, and special offers."}),l.jsxs("form",{onSubmit:p,className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[l.jsx(Om,{type:"email",placeholder:"Enter your email",value:t,onChange:v=>e(v.target.value),required:!0,className:"flex-1 h-12 bg-background/50 backdrop-blur-sm border-border/50"}),l.jsx(qe,{type:"submit",className:"h-12 px-8 bg-primary hover:bg-primary/90 text-primary-foreground",children:r?"Subscribed!":"Subscribe"})]}),r&&l.jsx(An.p,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"mt-4 text-success text-sm",children:" Successfully subscribed to newsletter!"})]})})}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:l.jsxs(An.div,{variants:g,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[l.jsx(An.div,{variants:m,className:"lg:col-span-1",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"text-xl font-bold font-display text-foreground",children:"Dropr"}),l.jsx(ea,{variant:"secondary",className:"text-xs",children:"Beta"})]}),l.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"The premier Web3 on-chain raffle platform for teams, creators, and communities. Create, participate, and win amazing prizes."}),l.jsx("div",{className:"flex items-center gap-3",children:f.map(v=>l.jsx(qe,{variant:"ghost",size:"icon",asChild:v.href!=="#",className:et("h-9 w-9 rounded-full transition-all duration-200 hover:scale-110",v.color),children:v.href==="#"?l.jsx("div",{title:v.name,className:"flex items-center justify-center h-full w-full",children:l.jsx(v.icon,{className:"h-4 w-4"})}):l.jsx("a",{href:v.href,target:"_blank",rel:"noopener noreferrer",title:v.name,children:l.jsx(v.icon,{className:"h-4 w-4"})})},v.name))})]})}),d.map((v,x)=>l.jsxs(An.div,{variants:m,className:"hidden lg:block",children:[l.jsx("h4",{className:"font-semibold mb-4 font-display",children:v.title}),l.jsx("ul",{className:"space-y-3",children:v.items.map(w=>l.jsx("li",{children:w.href==="#"?l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors duration-200 group cursor-pointer",children:[l.jsx(w.icon,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),l.jsx("span",{className:"group-hover:translate-x-1 transition-transform duration-200",children:w.label})]}):l.jsxs(Gf,{to:w.href,className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors duration-200 group",children:[l.jsx(w.icon,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),l.jsx("span",{className:"group-hover:translate-x-1 transition-transform duration-200",children:w.label})]})},w.label))})]},v.title)),l.jsx(An.div,{variants:m,className:"lg:hidden col-span-1 md:col-span-2",children:l.jsx(Pte,{type:"multiple",value:i,onValueChange:s,children:d.map(v=>l.jsxs(Rte,{value:v.title,className:"border-b border-border/30",children:[l.jsx(Ite,{className:"text-left font-semibold font-display",children:v.title}),l.jsx(Mte,{children:l.jsx("ul",{className:"space-y-3 pt-2",children:v.items.map(x=>l.jsx("li",{children:x.href==="#"?l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors duration-200 group cursor-pointer",children:[l.jsx(x.icon,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),l.jsx("span",{children:x.label})]}):l.jsxs(Gf,{to:x.href,className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors duration-200 group",children:[l.jsx(x.icon,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),l.jsx("span",{children:x.label})]})},x.label))})})]},v.title))})})]})}),l.jsx("div",{className:"border-t border-border/30",children:l.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:l.jsx(An.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"flex flex-col md:flex-row items-center justify-between gap-4",children:l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsxs("span",{children:[" ",a," Dropr. All rights reserved."]}),l.jsx("span",{className:"hidden md:inline",children:""}),l.jsxs("span",{className:"hidden md:inline-flex items-center gap-1",children:["Made with ",l.jsx(i3,{className:"h-3 w-3 text-red-500 fill-current"})," for Web3"]})]})})})})]})]})};function Pr({className:t,...e}){return l.jsx("div",{"data-slot":"card",className:et("bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 flex flex-col gap-6 hover:border-border/80",t),...e})}function wn({className:t,...e}){return l.jsx("div",{"data-slot":"card-header",className:et("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 py-4 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function kn({className:t,...e}){return l.jsx("div",{"data-slot":"card-title",className:et("leading-none font-semibold",t),...e})}function Zo({className:t,...e}){return l.jsx("div",{"data-slot":"card-description",className:et("text-muted-foreground text-sm",t),...e})}function Rr({className:t,...e}){return l.jsx("div",{"data-slot":"card-content",className:et("px-6 py-6",t),...e})}class Ote extends be.Component{constructor(r){super(r);_y(this,"handleRetry",()=>{this.setState(r=>({hasError:!1,error:null,errorInfo:null,retryCount:r.retryCount+1}))});_y(this,"handleGoHome",()=>{window.location.href="/"});_y(this,"getBrowserSpecificErrorInfo",()=>{const{error:r,browserInfo:n}=this.state,i=(r==null?void 0:r.message)||(r==null?void 0:r.toString())||"Unknown error";if(i.includes("missing revert data")||i.includes("call exception")||i.includes("CALL_EXCEPTION"))return{title:"Network Connection Issue",message:`Your browser (${(n==null?void 0:n.name)||"unknown"}) is experiencing connectivity issues with the blockchain network.`,suggestions:["Check your internet connection","Try refreshing the page","Switch to a different network and back",(n==null?void 0:n.name)==="firefox"?"Firefox may need extra time - please be patient":"Try using Chrome for better compatibility"]};if(i.includes("MetaMask")||i.includes("wallet"))return{title:"Wallet Connection Issue",message:"There was a problem connecting to your wallet.",suggestions:["Make sure MetaMask is installed and unlocked","Try disconnecting and reconnecting your wallet","Refresh the page and try again"]};const s=["Refresh the page and try again"];return(n==null?void 0:n.name)==="firefox"?s.push("Firefox users may experience slower loading - please be patient"):(n==null?void 0:n.name)==="safari"?s.push("Safari users should ensure they have the latest version"):(n==null?void 0:n.name)==="edge"&&s.push("Edge users may need to clear browser cache"),n!=null&&n.isMobile&&s.push("Mobile users: ensure stable internet connection"),{title:"Something went wrong",message:"An unexpected error occurred while loading the application.",suggestions:s}});this.state={hasError:!1,error:null,errorInfo:null,retryCount:0,browserInfo:null}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,n){const i=SC();this.setState({error:r,errorInfo:n,browserInfo:i}),console.group(" Error Boundary Caught Error"),console.log("Browser:",i),console.log("Error:",r),console.log("Error Info:",n),console.groupEnd(),window.gtag&&window.gtag("event","exception",{description:r.toString(),fatal:!1,custom_parameters:{browser:i.name,browser_version:i.version,is_mobile:i.isMobile}})}render(){if(this.state.hasError){const{isMobile:r=!1,fallbackComponent:n}=this.props,{error:i,retryCount:s,browserInfo:o}=this.state,a=this.getBrowserSpecificErrorInfo();return n?n(i,this.handleRetry,this.handleGoHome):r?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:l.jsxs(Pr,{className:"w-full max-w-md",children:[l.jsxs(wn,{className:"text-center",children:[l.jsx(hP,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),l.jsx(kn,{className:"text-lg",children:a.title})]}),l.jsxs(Rr,{className:"space-y-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground text-center",children:a.message}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-semibold text-sm",children:"Try these solutions:"}),l.jsx("ul",{className:"text-xs text-muted-foreground space-y-1",children:a.suggestions.map((c,d)=>l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"mr-2",children:""}),l.jsx("span",{children:c})]},d))})]}),s<3&&l.jsxs(qe,{onClick:this.handleRetry,className:"w-full",variant:"default",children:[l.jsx(Qf,{className:"h-4 w-4 mr-2"}),"Try Again"]}),l.jsxs(qe,{onClick:this.handleGoHome,variant:"outline",className:"w-full",children:[l.jsx(gP,{className:"h-4 w-4 mr-2"}),"Go Home"]}),!1]})]})}):l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:l.jsxs(Pr,{className:"w-full max-w-2xl",children:[l.jsxs(wn,{className:"text-center",children:[l.jsx(hP,{className:"h-16 w-16 text-destructive mx-auto mb-6"}),l.jsx(kn,{className:"text-2xl",children:"Oops! Something went wrong"})]}),l.jsxs(Rr,{className:"space-y-6",children:[l.jsx("p",{className:"text-muted-foreground text-center",children:"The application encountered an unexpected error. This could be due to:"}),l.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2 max-w-md mx-auto",children:[l.jsx("li",{children:" Network connectivity issues"}),l.jsx("li",{children:" Blockchain RPC provider problems"}),l.jsx("li",{children:" Temporary service disruption"}),l.jsx("li",{children:" Browser compatibility issues"})]}),l.jsxs("div",{className:"flex gap-4 justify-center",children:[s<3&&l.jsxs(qe,{onClick:this.handleRetry,variant:"default",children:[l.jsx(Qf,{className:"h-4 w-4 mr-2"}),"Try Again"]}),l.jsxs(qe,{onClick:this.handleGoHome,variant:"outline",children:[l.jsx(gP,{className:"h-4 w-4 mr-2"}),"Return Home"]})]}),!1]})]})})}return this.props.children}}class Lte{constructor(){this.cache=new Map,this.cacheTimeout=300*1e3,this.retryAttempts=3,this.retryDelay=1e3,this.performanceMetrics=new Map,this.errorMetrics=new Map}initialize(e,r){this.walletContext=e,this.contractContext=r}getPlatformConfig(e=!1){const r=typeof window<"u"&&(/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<768),n=e||r;return{maxRafflesToFetch:n?25:30,timeout:n?2e4:12e3,concurrency:n?2:4,batchDelay:n?200:100,retryDelay:n?2e3:1e3,maxRetries:n?2:3,useCache:!0,retryOnFailure:!0,progressiveLoading:n,prioritizeRecent:n}}createContractInstance(e,r,n=!1){var i,s,o;try{if(!e||e===He)throw new Error(`Invalid contract address for ${r}`);const a=ht[r];if(!a)throw new Error(`ABI not found for ${r}`);const c=n?(i=this.walletContext)==null?void 0:i.provider:((s=this.walletContext)==null?void 0:s.signer)||((o=this.walletContext)==null?void 0:o.provider);if(!c)throw new Error("No signer or provider available");return new At(e,a,c)}catch(a){return console.error(`Error creating contract instance for ${r}:`,a),null}}areContractsAvailable(){const{chainId:e}=this.walletContext||{};if(!e||!Ht[e])return console.log(" Chain not supported or chainId missing:",{chainId:e}),!1;const r=Ht[e].contractAddresses,n=(r==null?void 0:r.protocolManager)&&r.protocolManager!=="0x..."&&(r==null?void 0:r.poolDeployer)&&r.poolDeployer!=="0x...";return console.log(" Contract availability check:",{chainId:e,isAvailable:n,protocolManager:r==null?void 0:r.protocolManager,poolDeployer:r==null?void 0:r.poolDeployer}),n}getProtocolManagerContract(){var r,n,i,s;const{chainId:e}=this.walletContext||{};if(!this.areContractsAvailable())return null;if((n=(r=this.contractContext)==null?void 0:r.contracts)!=null&&n.protocolManager)return this.contractContext.contracts.protocolManager;if(e&&((s=(i=Ht[e])==null?void 0:i.contractAddresses)!=null&&s.protocolManager)){const o=Ht[e].contractAddresses.protocolManager;return this.createContractInstance(o,"protocolManager",!0)}return null}async withRetry(e,r="",n={}){var d;const i=this.getPlatformConfig(n.isMobile),s=n.maxRetries||i.maxRetries,o=n.retryDelay||i.retryDelay,a=n.timeout||i.timeout;let c;(d=this.walletContext)==null||d.chainId;for(let f=1;f<=s;f++)try{return await Promise.race([e(),new Promise((p,g)=>setTimeout(()=>g(new Error("Operation timeout")),a))])}catch(p){if(c=p,console.warn(`${r} attempt ${f}/${s} failed:`,p.message),p.message.includes("user rejected")||p.message.includes("User denied")||p.code===4001||p.message.includes("Invalid contract address"))throw p;if(n.isMobile&&(p.message.includes("Network Error")||p.message.includes("CONNECTION ERROR")||p.code==="NETWORK_ERROR"))throw console.warn(`Mobile network error detected, skipping retries for ${r}`),p;if(f<s){const g=o*f;console.log(`Retrying ${r} in ${g}ms...`),await new Promise(m=>setTimeout(m,g))}}throw c}async getAllRaffleAddresses(){var o;const e=`raffleAddresses_${(o=this.walletContext)==null?void 0:o.chainId}`,r=this.cache.get(e);if(r&&Date.now()-r.timestamp<this.cacheTimeout)return r.data;if(!this.areContractsAvailable())throw new Error("CONTRACTS_NOT_AVAILABLE");const n=this.getProtocolManagerContract();if(!n)throw new Error("CONTRACTS_NOT_AVAILABLE");const s=(await this.withRetry(()=>n.getAllPools(),"getAllPools")||[]).slice().reverse();return this.cache.set(e,{data:s,timestamp:Date.now()}),s}async fetchRaffleDetails(e,r={}){var n,i,s,o,a,c,d,f,p,g,m,v,x,w,E,P,R,S,B,$,q,G;try{const H=this.createContractInstance(e,"pool",!0);if(!H)return console.error(`Failed to create raffle contract for ${e}`),null;let K,J,W,F,b,A,D,j,k,M,T,O,N,I,Q,z,V,Y,Z;r.isMobile?(K=await this.withRetry(()=>H.name(),`name-${e}`,r),J=await this.withRetry(()=>H.creator(),`creator-${e}`,r),W=await this.withRetry(()=>H.startTime(),`startTime-${e}`,r),F=await this.withRetry(()=>H.duration(),`duration-${e}`,r),b=await this.withRetry(()=>H.slotFee(),`slotFee-${e}`,r),A=await this.withRetry(()=>H.slotLimit(),`slotLimit-${e}`,r),D=await this.withRetry(()=>H.winnersCount(),`winnersCount-${e}`,r),j=await this.withRetry(()=>H.maxSlotsPerParticipant(),`maxSlots-${e}`,r),k=await this.withRetry(()=>H.state(),`state-${e}`,r),M=await((n=H.isPrized)==null?void 0:n.call(H).catch(()=>!1)),T=await((i=H.prizeCollection)==null?void 0:i.call(H).catch(()=>He)),O=await((s=H.prizeTokenId)==null?void 0:s.call(H).catch(()=>ue.from(0))),N=await((o=H.erc20PrizeToken)==null?void 0:o.call(H).catch(()=>He)),I=await((a=H.erc20PrizeAmount)==null?void 0:a.call(H).catch(()=>ue.from(0))),Q=await((c=H.nativePrizeAmount)==null?void 0:c.call(H).catch(()=>ue.from(0))),z=await((d=H.isCollabPool)==null?void 0:d.call(H).catch(ne=>(console.warn(`isCollabPool failed for ${e}:`,ne.message),!1))),V=await((f=H.standard)==null?void 0:f.call(H).catch(ne=>{console.warn(`[RaffleService] standard failed for ${e}:`,ne.message)})),Y=await((p=H.usesCustomFee)==null?void 0:p.call(H).catch(ne=>(console.warn(`[RaffleService] usesCustomFee failed for ${e}:`,ne.message),!1))),Z=await((g=H.isEscrowedPrize)==null?void 0:g.call(H).catch(ne=>(console.warn(`[RaffleService] isEscrowedPrize failed for ${e}:`,ne.message),!1)))):[K,J,W,F,b,A,D,j,k,M,T,O,N,I,Q,z,V,Y,Z]=await Promise.all([this.withRetry(()=>H.name(),`name-${e}`,r),this.withRetry(()=>H.creator(),`creator-${e}`,r),this.withRetry(()=>H.startTime(),`startTime-${e}`,r),this.withRetry(()=>H.duration(),`duration-${e}`,r),this.withRetry(()=>H.slotFee(),`slotFee-${e}`,r),this.withRetry(()=>H.slotLimit(),`slotLimit-${e}`,r),this.withRetry(()=>H.winnersCount(),`winnersCount-${e}`,r),this.withRetry(()=>H.maxSlotsPerParticipant(),`maxSlots-${e}`,r),this.withRetry(()=>H.state(),`state-${e}`,r),(m=H.isPrized)==null?void 0:m.call(H).catch(()=>!1),(v=H.prizeCollection)==null?void 0:v.call(H).catch(()=>He),(x=H.prizeTokenId)==null?void 0:x.call(H).catch(()=>ue.from(0)),(w=H.erc20PrizeToken)==null?void 0:w.call(H).catch(()=>He),(E=H.erc20PrizeAmount)==null?void 0:E.call(H).catch(()=>ue.from(0)),(P=H.nativePrizeAmount)==null?void 0:P.call(H).catch(()=>ue.from(0)),(R=H.isCollabPool)==null?void 0:R.call(H).catch(ne=>(console.warn(`[RaffleService] isCollabPool failed for ${e}:`,ne.message),!1)),(S=H.standard)==null?void 0:S.call(H).catch(ne=>{console.warn(`[RaffleService] standard failed for ${e}:`,ne.message)}),(B=H.usesCustomFee)==null?void 0:B.call(H).catch(ne=>(console.warn(`[RaffleService] usesCustomFee failed for ${e}:`,ne.message),!1)),($=H.isEscrowedPrize)==null?void 0:$.call(H).catch(ne=>(console.warn(`[RaffleService] isEscrowedPrize failed for ${e}:`,ne.message),!1))]);let ee;switch(k){case 0:ee="pending";break;case 1:ee="active";break;case 2:ee="drawing";break;case 3:ee="completed";break;case 4:ee="completed";break;case 5:ee="ended";break;default:ee="ended"}let ae;if([2,3,4,5,6,7,8].includes(k))try{const ne=await((q=H.getActualPoolDuration)==null?void 0:q.call(H));ne&&(ae=ne.toNumber?ne.toNumber():Number(ne))}catch{}return{id:e,name:K,address:e,chainId:(G=this.walletContext)==null?void 0:G.chainId,creator:J,startTime:W.toNumber(),duration:F.toNumber(),actualDuration:ae,slotFee:b,ticketLimit:A.toNumber(),slotLimit:A.toNumber(),ticketsSold:0,winnersCount:D.toNumber(),maxTicketsPerParticipant:j.toNumber(),isPrized:!!M,prizeCollection:T,prizeTokenId:O?O.toNumber?O.toNumber():Number(O):0,stateNum:k,state:ee,erc20PrizeToken:N,erc20PrizeAmount:I,nativePrizeAmount:Q,isCollabPool:z,standard:V!=null?V.toNumber?V.toNumber():Number(V):void 0,usesCustomFee:Y,isEscrowedPrize:Z}}catch(H){return console.error(`Error fetching raffle details for ${e}:`,H),null}}async processBatch(e,r={}){const n=this.getPlatformConfig(r.isMobile),i=r.batchSize||n.concurrency,s=r.batchDelay||n.batchDelay,o=r.onProgress,a=[],c=Math.ceil(e.length/i);console.log(`Processing ${e.length} raffles in ${c} batches (${i} per batch)`);for(let d=0;d<e.length;d+=i){const f=Math.floor(d/i)+1,p=e.slice(d,d+i);console.log(`Processing batch ${f}/${c} (${p.length} raffles)`);try{if(r.isMobile&&n.progressiveLoading)for(const g of p)try{const m=await this.fetchRaffleDetails(g,{isMobile:!0});m&&(a.push(m),o&&o(a.length,e.length)),await new Promise(v=>setTimeout(v,50))}catch(m){console.warn(`Failed to fetch raffle ${g}:`,m.message)}else{const g=p.map(x=>this.fetchRaffleDetails(x,{isMobile:r.isMobile})),v=(await Promise.allSettled(g)).filter(x=>x.status==="fulfilled"&&x.value!==null).map(x=>x.value);a.push(...v),o&&o(a.length,e.length)}d+i<e.length&&(console.log(`Waiting ${s}ms before next batch...`),await new Promise(g=>setTimeout(g,s)))}catch(g){console.error(`Error processing batch ${f}:`,g)}}return console.log(`Successfully processed ${a.length}/${e.length} raffles`),a}async fetchAllRaffles(e={}){var c,d,f;const{isMobile:r=!1,useCache:n=!0,maxRaffles:i=null}=e,s=this.getPlatformConfig(r),o=`allRaffles_${(c=this.walletContext)==null?void 0:c.chainId}_${r}`,a=this.startTimer("fetchAllRaffles",{isMobile:r,chainId:(d=this.walletContext)==null?void 0:d.chainId});if(n){const p=this.cache.get(o);if(p&&Date.now()-p.timestamp<this.cacheTimeout)return this.endTimer(a,{fromCache:!0,rafflCount:p.data.length}),p.data}try{const p=this.startTimer("getAllRaffleAddresses",{isMobile:r}),g=await this.getAllRaffleAddresses();if(this.endTimer(p,{addressCount:(g==null?void 0:g.length)||0}),!g||g.length===0)return this.endTimer(a,{rafflCount:0,fromCache:!1}),[];const m=i||s.maxRafflesToFetch,v=g.slice(0,m),x=this.startTimer("processBatch",{isMobile:r,totalAddresses:v.length,batchSize:s.concurrency}),w=await this.processBatch(v,{...s,isMobile:r,onProgress:(E,P)=>{console.log(`[RaffleService] Progress: ${E}/${P} raffles processed (${(E/P*100).toFixed(1)}%)`)}});return this.endTimer(x,{successfulRaffles:w.length,failedRaffles:v.length-w.length}),n&&this.cache.set(o,{data:w,timestamp:Date.now()}),this.endTimer(a,{rafflCount:w.length,fromCache:!1,totalAddresses:g.length,processedAddresses:v.length}),w}catch(p){throw this.trackError("fetchAllRaffles",p,{isMobile:r,chainId:(f=this.walletContext)==null?void 0:f.chainId}),this.endTimer(a,{error:!0,errorMessage:p.message}),p}}async searchRaffles(e,r={}){const n=await this.fetchAllRaffles(r),i=e.trim().toLowerCase();return n.filter(s=>(s.name||"").toLowerCase().includes(i)||(s.address||"").toLowerCase().includes(i)||(s.address||"").toLowerCase()===i)}clearCache(){this.cache.clear()}startTimer(e,r={}){const n=`${e}_${Date.now()}_${Math.random()}`;return this.performanceMetrics.set(n,{operation:e,context:r,startTime:performance.now(),platform:r.isMobile?"mobile":"desktop"}),n}endTimer(e,r={}){const n=this.performanceMetrics.get(e);if(!n)return;const i=performance.now(),s=i-n.startTime,o={...n,endTime:i,duration:s,...r};if(console.log(`[RaffleService] ${n.operation} completed in ${s.toFixed(2)}ms`,{platform:n.platform,context:n.context,...r}),this.performanceMetrics.set(e,o),this.performanceMetrics.size>100){const a=this.performanceMetrics.keys().next().value;this.performanceMetrics.delete(a)}return o}trackError(e,r,n={}){const i=`${e}_${n.isMobile?"mobile":"desktop"}`,s=this.errorMetrics.get(i)||{count:0,errors:[]};s.count++,s.errors.push({timestamp:Date.now(),message:r.message,stack:r.stack,context:n}),s.errors.length>10&&(s.errors=s.errors.slice(-10)),this.errorMetrics.set(i,s),console.error(`[RaffleService] Error in ${e} (${n.isMobile?"mobile":"desktop"}):`,r)}getPerformanceStats(){const e={mobile:{operations:{},totalOperations:0,avgDuration:0},desktop:{operations:{},totalOperations:0,avgDuration:0}};let r=0,n=0;for(const i of this.performanceMetrics.values()){if(!i.duration)continue;const s=i.platform,o=i.operation;e[s].operations[o]||(e[s].operations[o]={count:0,totalDuration:0,avgDuration:0,minDuration:1/0,maxDuration:0});const a=e[s].operations[o];a.count++,a.totalDuration+=i.duration,a.avgDuration=a.totalDuration/a.count,a.minDuration=Math.min(a.minDuration,i.duration),a.maxDuration=Math.max(a.maxDuration,i.duration),e[s].totalOperations++,s==="mobile"?r+=i.duration:n+=i.duration}return e.mobile.avgDuration=e.mobile.totalOperations>0?r/e.mobile.totalOperations:0,e.desktop.avgDuration=e.desktop.totalOperations>0?n/e.desktop.totalOperations:0,e}getErrorStats(){const e={};for(const[r,n]of this.errorMetrics.entries())e[r]={count:n.count,lastError:n.errors[n.errors.length-1],recentErrors:n.errors.slice(-3)};return e}getCacheStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys()),performance:this.getPerformanceStats(),errors:this.getErrorStats()}}}const xa=new Lte,Fte=()=>{const[t,e]=C.useState(!1);return C.useEffect(()=>{},[!1]),{component:null}},zte=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),bL=()=>{zte&&console.log("Mobile keyboard fix initialized (simplified version)")},wL=()=>{console.log("Mobile keyboard fix cleanup (simplified version)")},Bte=bL,$te=wL;let b1=null;function Ute(){if(typeof window>"u"||typeof document>"u")return()=>{};const t={capture:!0},e=r=>{const n=r.target;if(!n||!(n instanceof Element))return;const i=n.closest('input[type="number"]');i&&(i.disabled||i.readOnly||i.dataset&&i.dataset.wheelAllowed==="true"||i.blur())};return document.addEventListener("wheel",e,t),b1=()=>{document.removeEventListener("wheel",e,t),b1=null},b1}function al(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kL(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Gs={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},rh={duration:.5,overwrite:!1,delay:0},YS,ci,Yr,mo=1e8,Lr=1/mo,c_=Math.PI*2,Vte=c_/4,Wte=0,_L=Math.sqrt,qte=Math.cos,Hte=Math.sin,ei=function(e){return typeof e=="string"},hn=function(e){return typeof e=="function"},Cl=function(e){return typeof e=="number"},JS=function(e){return typeof e>"u"},$a=function(e){return typeof e=="object"},ps=function(e){return e!==!1},XS=function(){return typeof window<"u"},Gy=function(e){return hn(e)||ei(e)},CL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Ii=Array.isArray,u_=/(?:-?\.?\d|\.)+/gi,SL=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Tf=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,w1=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,EL=/[+-]=-?[.\d]+/,TL=/[^,'"\[\]\s]+/gi,Gte=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,on,Ca,d_,QS,Ys={},Cx={},NL,AL=function(e){return(Cx=nh(e,Ys))&&xs},ZS=function(e,r){return console.warn("Invalid property",e,"set to",r,"Missing plugin? gsap.registerPlugin()")},Lm=function(e,r){return!r&&console.warn(e)},jL=function(e,r){return e&&(Ys[e]=r)&&Cx&&(Cx[e]=r)||Ys},Fm=function(){return 0},Kte={suppressEvents:!0,isStart:!0,kill:!1},$0={suppressEvents:!0,kill:!1},Yte={suppressEvents:!0},e2={},wc=[],f_={},PL,Ps={},k1={},tR=30,U0=[],t2="",r2=function(e){var r=e[0],n,i;if($a(r)||hn(r)||(e=[e]),!(n=(r._gsap||{}).harness)){for(i=U0.length;i--&&!U0[i].targetTest(r););n=U0[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new t6(e[i],n)))||e.splice(i,1);return e},$u=function(e){return e._gsap||r2(go(e))[0]._gsap},RL=function(e,r,n){return(n=e[r])&&hn(n)?e[r]():JS(n)&&e.getAttribute&&e.getAttribute(r)||n},ms=function(e,r){return(e=e.split(",")).forEach(r)||e},bn=function(e){return Math.round(e*1e5)/1e5||0},On=function(e){return Math.round(e*1e7)/1e7||0},zf=function(e,r){var n=r.charAt(0),i=parseFloat(r.substr(2));return e=parseFloat(e),n==="+"?e+i:n==="-"?e-i:n==="*"?e*i:e/i},Jte=function(e,r){for(var n=r.length,i=0;e.indexOf(r[i])<0&&++i<n;);return i<n},Sx=function(){var e=wc.length,r=wc.slice(0),n,i;for(f_={},wc.length=0,n=0;n<e;n++)i=r[n],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},n2=function(e){return!!(e._initted||e._startAt||e.add)},IL=function(e,r,n,i){wc.length&&!ci&&Sx(),e.render(r,n,!!(ci&&r<0&&n2(e))),wc.length&&!ci&&Sx()},ML=function(e){var r=parseFloat(e);return(r||r===0)&&(e+"").match(TL).length<2?r:ei(e)?e.trim():e},DL=function(e){return e},Js=function(e,r){for(var n in r)n in e||(e[n]=r[n]);return e},Xte=function(e){return function(r,n){for(var i in n)i in r||i==="duration"&&e||i==="ease"||(r[i]=n[i])}},nh=function(e,r){for(var n in r)e[n]=r[n];return e},rR=function t(e,r){for(var n in r)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=$a(r[n])?t(e[n]||(e[n]={}),r[n]):r[n]);return e},Ex=function(e,r){var n={},i;for(i in e)i in r||(n[i]=e[i]);return n},Hp=function(e){var r=e.parent||on,n=e.keyframes?Xte(Ii(e.keyframes)):Js;if(ps(e.inherit))for(;r;)n(e,r.vars.defaults),r=r.parent||r._dp;return e},Qte=function(e,r){for(var n=e.length,i=n===r.length;i&&n--&&e[n]===r[n];);return n<0},OL=function(e,r,n,i,s){var o=e[i],a;if(s)for(a=r[s];o&&o[s]>a;)o=o._prev;return o?(r._next=o._next,o._next=r):(r._next=e[n],e[n]=r),r._next?r._next._prev=r:e[i]=r,r._prev=o,r.parent=r._dp=e,r},Sv=function(e,r,n,i){n===void 0&&(n="_first"),i===void 0&&(i="_last");var s=r._prev,o=r._next;s?s._next=o:e[n]===r&&(e[n]=o),o?o._prev=s:e[i]===r&&(e[i]=s),r._next=r._prev=r.parent=null},jc=function(e,r){e.parent&&(!r||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Uu=function(e,r){if(e&&(!r||r._end>e._dur||r._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},Zte=function(e){for(var r=e.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return e},h_=function(e,r,n,i){return e._startAt&&(ci?e._startAt.revert($0):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(r,!0,i))},ere=function t(e){return!e||e._ts&&t(e.parent)},nR=function(e){return e._repeat?ih(e._tTime,e=e.duration()+e._rDelay)*e:0},ih=function(e,r){var n=Math.floor(e=On(e/r));return e&&n===e?n-1:n},Tx=function(e,r){return(e-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},Ev=function(e){return e._end=On(e._start+(e._tDur/Math.abs(e._ts||e._rts||Lr)||0))},Tv=function(e,r){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=On(n._time-(e._ts>0?r/e._ts:((e._dirty?e.totalDuration():e._tDur)-r)/-e._ts)),Ev(e),n._dirty||Uu(n,e)),e},LL=function(e,r){var n;if((r._time||!r._dur&&r._initted||r._start<e._time&&(r._dur||!r.add))&&(n=Tx(e.rawTime(),r),(!r._dur||xg(0,r.totalDuration(),n)-r._tTime>Lr)&&r.render(n,!0)),Uu(e,r)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-Lr}},ja=function(e,r,n,i){return r.parent&&jc(r),r._start=On((Cl(n)?n:n||e!==on?lo(e,n,r):e._time)+r._delay),r._end=On(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),OL(e,r,"_first","_last",e._sort?"_start":0),p_(r)||(e._recent=r),i||LL(e,r),e._ts<0&&Tv(e,e._tTime),e},FL=function(e,r){return(Ys.ScrollTrigger||ZS("scrollTrigger",r))&&Ys.ScrollTrigger.create(r,e)},zL=function(e,r,n,i,s){if(s2(e,r,s),!e._initted)return 1;if(!n&&e._pt&&!ci&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&PL!==Os.frame)return wc.push(e),e._lazy=[s,i],1},tre=function t(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))},p_=function(e){var r=e.data;return r==="isFromStart"||r==="isStart"},rre=function(e,r,n,i){var s=e.ratio,o=r<0||!r&&(!e._start&&tre(e)&&!(!e._initted&&p_(e))||(e._ts<0||e._dp._ts<0)&&!p_(e))?0:1,a=e._rDelay,c=0,d,f,p;if(a&&e._repeat&&(c=xg(0,e._tDur,r),f=ih(c,a),e._yoyo&&f&1&&(o=1-o),f!==ih(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||ci||i||e._zTime===Lr||!r&&e._zTime){if(!e._initted&&zL(e,r,i,n,c))return;for(p=e._zTime,e._zTime=r||(n?Lr:0),n||(n=r&&!p),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=c,d=e._pt;d;)d.r(o,d.d),d=d._next;r<0&&h_(e,r,n,!0),e._onUpdate&&!n&&Us(e,"onUpdate"),c&&e._repeat&&!n&&e.parent&&Us(e,"onRepeat"),(r>=e._tDur||r<0)&&e.ratio===o&&(o&&jc(e,1),!n&&!ci&&(Us(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=r)},nre=function(e,r,n){var i;if(n>r)for(i=e._first;i&&i._start<=n;){if(i.data==="isPause"&&i._start>r)return i;i=i._next}else for(i=e._last;i&&i._start>=n;){if(i.data==="isPause"&&i._start<r)return i;i=i._prev}},sh=function(e,r,n,i){var s=e._repeat,o=On(r)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:On(o*(s+1)+e._rDelay*s):o,a>0&&!i&&Tv(e,e._tTime=e._tDur*a),e.parent&&Ev(e),n||Uu(e.parent,e),e},iR=function(e){return e instanceof Gi?Uu(e):sh(e,e._dur)},ire={_start:0,endTime:Fm,totalDuration:Fm},lo=function t(e,r,n){var i=e.labels,s=e._recent||ire,o=e.duration()>=mo?s.endTime(!1):e._dur,a,c,d;return ei(r)&&(isNaN(r)||r in i)?(c=r.charAt(0),d=r.substr(-1)==="%",a=r.indexOf("="),c==="<"||c===">"?(a>=0&&(r=r.replace(/=/,"")),(c==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(r.substr(1))||0)*(d?(a<0?s:n).totalDuration()/100:1)):a<0?(r in i||(i[r]=o),i[r]):(c=parseFloat(r.charAt(a-1)+r.substr(a+1)),d&&n&&(c=c/100*(Ii(n)?n[0]:n).totalDuration()),a>1?t(e,r.substr(0,a-1),n)+c:o+c)):r==null?o:+r},Gp=function(e,r,n){var i=Cl(r[1]),s=(i?2:1)+(e<2?0:1),o=r[s],a,c;if(i&&(o.duration=r[1]),o.parent=n,e){for(a=o,c=n;c&&!("immediateRender"in a);)a=c.vars.defaults||{},c=ps(c.vars.inherit)&&c.parent;o.immediateRender=ps(a.immediateRender),e<2?o.runBackwards=1:o.startAt=r[s-1]}return new Dn(r[0],o,r[s+1])},Bc=function(e,r){return e||e===0?r(e):r},xg=function(e,r,n){return n<e?e:n>r?r:n},Ti=function(e,r){return!ei(e)||!(r=Gte.exec(e))?"":r[1]},sre=function(e,r,n){return Bc(n,function(i){return xg(e,r,i)})},m_=[].slice,BL=function(e,r){return e&&$a(e)&&"length"in e&&(!r&&!e.length||e.length-1 in e&&$a(e[0]))&&!e.nodeType&&e!==Ca},ore=function(e,r,n){return n===void 0&&(n=[]),e.forEach(function(i){var s;return ei(i)&&!r||BL(i,1)?(s=n).push.apply(s,go(i)):n.push(i)})||n},go=function(e,r,n){return Yr&&!r&&Yr.selector?Yr.selector(e):ei(e)&&!n&&(d_||!oh())?m_.call((r||QS).querySelectorAll(e),0):Ii(e)?ore(e,n):BL(e)?m_.call(e,0):e?[e]:[]},g_=function(e){return e=go(e)[0]||Lm("Invalid scope")||{},function(r){var n=e.current||e.nativeElement||e;return go(r,n.querySelectorAll?n:n===e?Lm("Invalid scope")||QS.createElement("div"):e)}},$L=function(e){return e.sort(function(){return .5-Math.random()})},UL=function(e){if(hn(e))return e;var r=$a(e)?e:{each:e},n=Vu(r.ease),i=r.from||0,s=parseFloat(r.base)||0,o={},a=i>0&&i<1,c=isNaN(i)||a,d=r.axis,f=i,p=i;return ei(i)?f=p={center:.5,edges:.5,end:1}[i]||0:!a&&c&&(f=i[0],p=i[1]),function(g,m,v){var x=(v||r).length,w=o[x],E,P,R,S,B,$,q,G,H;if(!w){if(H=r.grid==="auto"?0:(r.grid||[1,mo])[1],!H){for(q=-mo;q<(q=v[H++].getBoundingClientRect().left)&&H<x;);H<x&&H--}for(w=o[x]=[],E=c?Math.min(H,x)*f-.5:i%H,P=H===mo?0:c?x*p/H-.5:i/H|0,q=0,G=mo,$=0;$<x;$++)R=$%H-E,S=P-($/H|0),w[$]=B=d?Math.abs(d==="y"?S:R):_L(R*R+S*S),B>q&&(q=B),B<G&&(G=B);i==="random"&&$L(w),w.max=q-G,w.min=G,w.v=x=(parseFloat(r.amount)||parseFloat(r.each)*(H>x?x-1:d?d==="y"?x/H:H:Math.max(H,x/H))||0)*(i==="edges"?-1:1),w.b=x<0?s-x:s,w.u=Ti(r.amount||r.each)||0,n=n&&x<0?QL(n):n}return x=(w[g]-w.min)/w.max||0,On(w.b+(n?n(x):x)*w.v)+w.u}},y_=function(e){var r=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var i=On(Math.round(parseFloat(n)/e)*e*r);return(i-i%1)/r+(Cl(n)?0:Ti(n))}},VL=function(e,r){var n=Ii(e),i,s;return!n&&$a(e)&&(i=n=e.radius||mo,e.values?(e=go(e.values),(s=!Cl(e[0]))&&(i*=i)):e=y_(e.increment)),Bc(r,n?hn(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),c=parseFloat(s?o.y:0),d=mo,f=0,p=e.length,g,m;p--;)s?(g=e[p].x-a,m=e[p].y-c,g=g*g+m*m):g=Math.abs(e[p]-a),g<d&&(d=g,f=p);return f=!i||d<=i?e[f]:o,s||f===o||Cl(o)?f:f+Ti(o)}:y_(e))},WL=function(e,r,n,i){return Bc(Ii(e)?!r:n===!0?!!(n=0):!i,function(){return Ii(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(r-e+n*.99))/n)*n*i)/i})},are=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(i){return r.reduce(function(s,o){return o(s)},i)}},lre=function(e,r){return function(n){return e(parseFloat(n))+(r||Ti(n))}},cre=function(e,r,n){return HL(e,r,0,1,n)},qL=function(e,r,n){return Bc(n,function(i){return e[~~r(i)]})},ure=function t(e,r,n){var i=r-e;return Ii(e)?qL(e,t(0,e.length),r):Bc(n,function(s){return(i+(s-e)%i)%i+e})},dre=function t(e,r,n){var i=r-e,s=i*2;return Ii(e)?qL(e,t(0,e.length-1),r):Bc(n,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},zm=function(e){for(var r=0,n="",i,s,o,a;~(i=e.indexOf("random(",r));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?TL:u_),n+=e.substr(r,i-r)+WL(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),r=o+1;return n+e.substr(r,e.length-r)},HL=function(e,r,n,i,s){var o=r-e,a=i-n;return Bc(s,function(c){return n+((c-e)/o*a||0)})},fre=function t(e,r,n,i){var s=isNaN(e+r)?0:function(m){return(1-m)*e+m*r};if(!s){var o=ei(e),a={},c,d,f,p,g;if(n===!0&&(i=1)&&(n=null),o)e={p:e},r={p:r};else if(Ii(e)&&!Ii(r)){for(f=[],p=e.length,g=p-2,d=1;d<p;d++)f.push(t(e[d-1],e[d]));p--,s=function(v){v*=p;var x=Math.min(g,~~v);return f[x](v-x)},n=r}else i||(e=nh(Ii(e)?[]:{},e));if(!f){for(c in r)i2.call(a,e,c,"get",r[c]);s=function(v){return l2(v,a)||(o?e.p:e)}}}return Bc(n,s)},sR=function(e,r,n){var i=e.labels,s=mo,o,a,c;for(o in i)a=i[o]-r,a<0==!!n&&a&&s>(a=Math.abs(a))&&(c=o,s=a);return c},Us=function(e,r,n){var i=e.vars,s=i[r],o=Yr,a=e._ctx,c,d,f;if(s)return c=i[r+"Params"],d=i.callbackScope||e,n&&wc.length&&Sx(),a&&(Yr=a),f=c?s.apply(d,c):s.call(d),Yr=o,f},Np=function(e){return jc(e),e.scrollTrigger&&e.scrollTrigger.kill(!!ci),e.progress()<1&&Us(e,"onInterrupt"),e},Nf,GL=[],KL=function(e){if(e)if(e=!e.name&&e.default||e,XS()||e.headless){var r=e.name,n=hn(e),i=r&&!n&&e.init?function(){this._props=[]}:e,s={init:Fm,render:l2,add:i2,kill:Nre,modifier:Tre,rawVars:0},o={targetTest:0,get:0,getSetter:a2,aliases:{},register:0};if(oh(),e!==i){if(Ps[r])return;Js(i,Js(Ex(e,s),o)),nh(i.prototype,nh(s,Ex(e,o))),Ps[i.prop=r]=i,e.targetTest&&(U0.push(i),e2[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}jL(r,i),e.register&&e.register(xs,i,gs)}else GL.push(e)},Or=255,Ap={aqua:[0,Or,Or],lime:[0,Or,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Or],navy:[0,0,128],white:[Or,Or,Or],olive:[128,128,0],yellow:[Or,Or,0],orange:[Or,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Or,0,0],pink:[Or,192,203],cyan:[0,Or,Or],transparent:[Or,Or,Or,0]},_1=function(e,r,n){return e+=e<0?1:e>1?-1:0,(e*6<1?r+(n-r)*e*6:e<.5?n:e*3<2?r+(n-r)*(2/3-e)*6:r)*Or+.5|0},YL=function(e,r,n){var i=e?Cl(e)?[e>>16,e>>8&Or,e&Or]:0:Ap.black,s,o,a,c,d,f,p,g,m,v;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Ap[e])i=Ap[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&Or,i&Or,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&Or,e&Or]}else if(e.substr(0,3)==="hsl"){if(i=v=e.match(u_),!r)c=+i[0]%360/360,d=+i[1]/100,f=+i[2]/100,o=f<=.5?f*(d+1):f+d-f*d,s=f*2-o,i.length>3&&(i[3]*=1),i[0]=_1(c+1/3,s,o),i[1]=_1(c,s,o),i[2]=_1(c-1/3,s,o);else if(~e.indexOf("="))return i=e.match(SL),n&&i.length<4&&(i[3]=1),i}else i=e.match(u_)||Ap.transparent;i=i.map(Number)}return r&&!v&&(s=i[0]/Or,o=i[1]/Or,a=i[2]/Or,p=Math.max(s,o,a),g=Math.min(s,o,a),f=(p+g)/2,p===g?c=d=0:(m=p-g,d=f>.5?m/(2-p-g):m/(p+g),c=p===s?(o-a)/m+(o<a?6:0):p===o?(a-s)/m+2:(s-o)/m+4,c*=60),i[0]=~~(c+.5),i[1]=~~(d*100+.5),i[2]=~~(f*100+.5)),n&&i.length<4&&(i[3]=1),i},JL=function(e){var r=[],n=[],i=-1;return e.split(kc).forEach(function(s){var o=s.match(Tf)||[];r.push.apply(r,o),n.push(i+=o.length+1)}),r.c=n,r},oR=function(e,r,n){var i="",s=(e+i).match(kc),o=r?"hsla(":"rgba(",a=0,c,d,f,p;if(!s)return e;if(s=s.map(function(g){return(g=YL(g,r,1))&&o+(r?g[0]+","+g[1]+"%,"+g[2]+"%,"+g[3]:g.join(","))+")"}),n&&(f=JL(e),c=n.c,c.join(i)!==f.c.join(i)))for(d=e.replace(kc,"1").split(Tf),p=d.length-1;a<p;a++)i+=d[a]+(~c.indexOf(a)?s.shift()||o+"0,0,0,0)":(f.length?f:s.length?s:n).shift());if(!d)for(d=e.split(kc),p=d.length-1;a<p;a++)i+=d[a]+s[a];return i+d[p]},kc=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Ap)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),hre=/hsl[a]?\(/,XL=function(e){var r=e.join(" "),n;if(kc.lastIndex=0,kc.test(r))return n=hre.test(r),e[1]=oR(e[1],n),e[0]=oR(e[0],n,JL(e[1])),!0},Bm,Os=function(){var t=Date.now,e=500,r=33,n=t(),i=n,s=1e3/240,o=s,a=[],c,d,f,p,g,m,v=function x(w){var E=t()-i,P=w===!0,R,S,B,$;if((E>e||E<0)&&(n+=E-r),i+=E,B=i-n,R=B-o,(R>0||P)&&($=++p.frame,g=B-p.time*1e3,p.time=B=B/1e3,o+=R+(R>=s?4:s-R),S=1),P||(c=d(x)),S)for(m=0;m<a.length;m++)a[m](B,g,$,w)};return p={time:0,frame:0,tick:function(){v(!0)},deltaRatio:function(w){return g/(1e3/(w||60))},wake:function(){NL&&(!d_&&XS()&&(Ca=d_=window,QS=Ca.document||{},Ys.gsap=xs,(Ca.gsapVersions||(Ca.gsapVersions=[])).push(xs.version),AL(Cx||Ca.GreenSockGlobals||!Ca.gsap&&Ca||{}),GL.forEach(KL)),f=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&p.sleep(),d=f||function(w){return setTimeout(w,o-p.time*1e3+1|0)},Bm=1,v(2))},sleep:function(){(f?cancelAnimationFrame:clearTimeout)(c),Bm=0,d=Fm},lagSmoothing:function(w,E){e=w||1/0,r=Math.min(E||33,e)},fps:function(w){s=1e3/(w||240),o=p.time*1e3+s},add:function(w,E,P){var R=E?function(S,B,$,q){w(S,B,$,q),p.remove(R)}:w;return p.remove(w),a[P?"unshift":"push"](R),oh(),R},remove:function(w,E){~(E=a.indexOf(w))&&a.splice(E,1)&&m>=E&&m--},_listeners:a},p}(),oh=function(){return!Bm&&Os.wake()},fr={},pre=/^[\d.\-M][\d.\-,\s]/,mre=/["']/g,gre=function(e){for(var r={},n=e.substr(1,e.length-3).split(":"),i=n[0],s=1,o=n.length,a,c,d;s<o;s++)c=n[s],a=s!==o-1?c.lastIndexOf(","):c.length,d=c.substr(0,a),r[i]=isNaN(d)?d.replace(mre,"").trim():+d,i=c.substr(a+1).trim();return r},yre=function(e){var r=e.indexOf("(")+1,n=e.indexOf(")"),i=e.indexOf("(",r);return e.substring(r,~i&&i<n?e.indexOf(")",n+1):n)},xre=function(e){var r=(e+"").split("("),n=fr[r[0]];return n&&r.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[gre(r[1])]:yre(e).split(",").map(ML)):fr._CE&&pre.test(e)?fr._CE("",e):n},QL=function(e){return function(r){return 1-e(1-r)}},ZL=function t(e,r){for(var n=e._first,i;n;)n instanceof Gi?t(n,r):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==r&&(n.timeline?t(n.timeline,r):(i=n._ease,n._ease=n._yEase,n._yEase=i,n._yoyo=r)),n=n._next},Vu=function(e,r){return e&&(hn(e)?e:fr[e]||xre(e))||r},xd=function(e,r,n,i){n===void 0&&(n=function(c){return 1-r(1-c)}),i===void 0&&(i=function(c){return c<.5?r(c*2)/2:1-r((1-c)*2)/2});var s={easeIn:r,easeOut:n,easeInOut:i},o;return ms(e,function(a){fr[a]=Ys[a]=s,fr[o=a.toLowerCase()]=n;for(var c in s)fr[o+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=fr[a+"."+c]=s[c]}),s},e6=function(e){return function(r){return r<.5?(1-e(1-r*2))/2:.5+e((r-.5)*2)/2}},C1=function t(e,r,n){var i=r>=1?r:1,s=(n||(e?.3:.45))/(r<1?r:1),o=s/c_*(Math.asin(1/i)||0),a=function(f){return f===1?1:i*Math.pow(2,-10*f)*Hte((f-o)*s)+1},c=e==="out"?a:e==="in"?function(d){return 1-a(1-d)}:e6(a);return s=c_/s,c.config=function(d,f){return t(e,d,f)},c},S1=function t(e,r){r===void 0&&(r=1.70158);var n=function(o){return o?--o*o*((r+1)*o+r)+1:0},i=e==="out"?n:e==="in"?function(s){return 1-n(1-s)}:e6(n);return i.config=function(s){return t(e,s)},i};ms("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var r=e<5?e+1:e;xd(t+",Power"+(r-1),e?function(n){return Math.pow(n,r)}:function(n){return n},function(n){return 1-Math.pow(1-n,r)},function(n){return n<.5?Math.pow(n*2,r)/2:1-Math.pow((1-n)*2,r)/2})});fr.Linear.easeNone=fr.none=fr.Linear.easeIn;xd("Elastic",C1("in"),C1("out"),C1());(function(t,e){var r=1/e,n=2*r,i=2.5*r,s=function(a){return a<r?t*a*a:a<n?t*Math.pow(a-1.5/e,2)+.75:a<i?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};xd("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);xd("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});xd("Circ",function(t){return-(_L(1-t*t)-1)});xd("Sine",function(t){return t===1?1:-qte(t*Vte)+1});xd("Back",S1("in"),S1("out"),S1());fr.SteppedEase=fr.steps=Ys.SteppedEase={config:function(e,r){e===void 0&&(e=1);var n=1/e,i=e+(r?0:1),s=r?1:0,o=1-Lr;return function(a){return((i*xg(0,o,a)|0)+s)*n}}};rh.ease=fr["quad.out"];ms("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return t2+=t+","+t+"Params,"});var t6=function(e,r){this.id=Wte++,e._gsap=this,this.target=e,this.harness=r,this.get=r?r.get:RL,this.set=r?r.getSetter:a2},$m=function(){function t(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,sh(this,+r.duration,1,1),this.data=r.data,Yr&&(this._ctx=Yr,Yr.data.push(this)),Bm||Os.wake()}var e=t.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,sh(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,i){if(oh(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(Tv(this,n),!s._dp||s.parent||LL(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&ja(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Lr||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),IL(this,n,i)),this},e.time=function(n,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+nR(this))%(this._dur+this._rDelay)||(n?this._dur:0),i):this._time},e.totalProgress=function(n,i){return arguments.length?this.totalTime(this.totalDuration()*n,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+nR(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*s,i):this._repeat?ih(this._tTime,s)+1:1},e.timeScale=function(n,i){if(!arguments.length)return this._rts===-Lr?0:this._rts;if(this._rts===n)return this;var s=this.parent&&this._ts?Tx(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-Lr?0:this._rts,this.totalTime(xg(-Math.abs(this._delay),this.totalDuration(),s),i!==!1),Ev(this),Zte(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(oh(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Lr&&(this._tTime-=Lr)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&ja(i,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(ps(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var i=this.parent||this._dp;return i?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Tx(i.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=Yte);var i=ci;return ci=n,n2(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),ci=i,this},e.globalTime=function(n){for(var i=this,s=arguments.length?n:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(n):s},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,iR(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var i=this._time;return this._rDelay=n,iR(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,i){return this.totalTime(lo(this,n),ps(i))},e.restart=function(n,i){return this.play().totalTime(n?-this._delay:0,ps(i)),this._dur||(this._zTime=-Lr),this},e.play=function(n,i){return n!=null&&this.seek(n,i),this.reversed(!1).paused(!1)},e.reverse=function(n,i){return n!=null&&this.seek(n||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(n,i){return n!=null&&this.seek(n,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-Lr:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Lr,this},e.isActive=function(){var n=this.parent||this._dp,i=this._start,s;return!!(!n||this._ts&&this._initted&&n.isActive()&&(s=n.rawTime(!0))>=i&&s<this.endTime(!0)-Lr)},e.eventCallback=function(n,i,s){var o=this.vars;return arguments.length>1?(i?(o[n]=i,s&&(o[n+"Params"]=s),n==="onUpdate"&&(this._onUpdate=i)):delete o[n],this):o[n]},e.then=function(n){var i=this;return new Promise(function(s){var o=hn(n)?n:DL,a=function(){var d=i.then;i.then=null,hn(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=d),s(o),i.then=d};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){Np(this)},t}();Js($m.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Lr,_prom:0,_ps:!1,_rts:1});var Gi=function(t){kL(e,t);function e(n,i){var s;return n===void 0&&(n={}),s=t.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=ps(n.sortChildren),on&&ja(n.parent||on,al(s),i),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&FL(al(s),n.scrollTrigger),s}var r=e.prototype;return r.to=function(i,s,o){return Gp(0,arguments,this),this},r.from=function(i,s,o){return Gp(1,arguments,this),this},r.fromTo=function(i,s,o,a){return Gp(2,arguments,this),this},r.set=function(i,s,o){return s.duration=0,s.parent=this,Hp(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Dn(i,s,lo(this,o),1),this},r.call=function(i,s,o){return ja(this,Dn.delayedCall(0,i,s),o)},r.staggerTo=function(i,s,o,a,c,d,f){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=d,o.onCompleteParams=f,o.parent=this,new Dn(i,o,lo(this,c)),this},r.staggerFrom=function(i,s,o,a,c,d,f){return o.runBackwards=1,Hp(o).immediateRender=ps(o.immediateRender),this.staggerTo(i,s,o,a,c,d,f)},r.staggerFromTo=function(i,s,o,a,c,d,f,p){return a.startAt=o,Hp(a).immediateRender=ps(a.immediateRender),this.staggerTo(i,s,a,c,d,f,p)},r.render=function(i,s,o){var a=this._time,c=this._dirty?this.totalDuration():this._tDur,d=this._dur,f=i<=0?0:On(i),p=this._zTime<0!=i<0&&(this._initted||!d),g,m,v,x,w,E,P,R,S,B,$,q;if(this!==on&&f>c&&i>=0&&(f=c),f!==this._tTime||o||p){if(a!==this._time&&d&&(f+=this._time-a,i+=this._time-a),g=f,S=this._start,R=this._ts,E=!R,p&&(d||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if($=this._yoyo,w=d+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(w*100+i,s,o);if(g=On(f%w),f===c?(x=this._repeat,g=d):(B=On(f/w),x=~~B,x&&x===B&&(g=d,x--),g>d&&(g=d)),B=ih(this._tTime,w),!a&&this._tTime&&B!==x&&this._tTime-B*w-this._dur<=0&&(B=x),$&&x&1&&(g=d-g,q=1),x!==B&&!this._lock){var G=$&&B&1,H=G===($&&x&1);if(x<B&&(G=!G),a=G?0:f%d?d:f,this._lock=1,this.render(a||(q?0:On(x*w)),s,!d)._lock=0,this._tTime=f,!s&&this.parent&&Us(this,"onRepeat"),this.vars.repeatRefresh&&!q&&(this.invalidate()._lock=1),a&&a!==this._time||E!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,c=this._tDur,H&&(this._lock=2,a=G?d:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!q&&this.invalidate()),this._lock=0,!this._ts&&!E)return this;ZL(this,q)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(P=nre(this,On(a),On(g)),P&&(f-=g-(g=P._start))),this._tTime=f,this._time=g,this._act=!R,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&f&&!s&&!B&&(Us(this,"onStart"),this._tTime!==f))return this;if(g>=a&&i>=0)for(m=this._first;m;){if(v=m._next,(m._act||g>=m._start)&&m._ts&&P!==m){if(m.parent!==this)return this.render(i,s,o);if(m.render(m._ts>0?(g-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(g-m._start)*m._ts,s,o),g!==this._time||!this._ts&&!E){P=0,v&&(f+=this._zTime=-Lr);break}}m=v}else{m=this._last;for(var K=i<0?i:g;m;){if(v=m._prev,(m._act||K<=m._end)&&m._ts&&P!==m){if(m.parent!==this)return this.render(i,s,o);if(m.render(m._ts>0?(K-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(K-m._start)*m._ts,s,o||ci&&n2(m)),g!==this._time||!this._ts&&!E){P=0,v&&(f+=this._zTime=K?-Lr:Lr);break}}m=v}}if(P&&!s&&(this.pause(),P.render(g>=a?0:-Lr)._zTime=g>=a?1:-1,this._ts))return this._start=S,Ev(this),this.render(i,s,o);this._onUpdate&&!s&&Us(this,"onUpdate",!0),(f===c&&this._tTime>=this.totalDuration()||!f&&a)&&(S===this._start||Math.abs(R)!==Math.abs(this._ts))&&(this._lock||((i||!d)&&(f===c&&this._ts>0||!f&&this._ts<0)&&jc(this,1),!s&&!(i<0&&!a)&&(f||a||!c)&&(Us(this,f===c&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(f<c&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(i,s){var o=this;if(Cl(s)||(s=lo(this,s,i)),!(i instanceof $m)){if(Ii(i))return i.forEach(function(a){return o.add(a,s)}),this;if(ei(i))return this.addLabel(i,s);if(hn(i))i=Dn.delayedCall(0,i);else return this}return this!==i?ja(this,i,s):this},r.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-mo);for(var c=[],d=this._first;d;)d._start>=a&&(d instanceof Dn?s&&c.push(d):(o&&c.push(d),i&&c.push.apply(c,d.getChildren(!0,s,o)))),d=d._next;return c},r.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},r.remove=function(i){return ei(i)?this.removeLabel(i):hn(i)?this.killTweensOf(i):(i.parent===this&&Sv(this,i),i===this._recent&&(this._recent=this._last),Uu(this))},r.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=On(Os.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},r.addLabel=function(i,s){return this.labels[i]=lo(this,s),this},r.removeLabel=function(i){return delete this.labels[i],this},r.addPause=function(i,s,o){var a=Dn.delayedCall(0,s||Fm,o);return a.data="isPause",this._hasPause=1,ja(this,a,lo(this,i))},r.removePause=function(i){var s=this._first;for(i=lo(this,i);s;)s._start===i&&s.data==="isPause"&&jc(s),s=s._next},r.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),c=a.length;c--;)fc!==a[c]&&a[c].kill(i,s);return this},r.getTweensOf=function(i,s){for(var o=[],a=go(i),c=this._first,d=Cl(s),f;c;)c instanceof Dn?Jte(c._targets,a)&&(d?(!fc||c._initted&&c._ts)&&c.globalTime(0)<=s&&c.globalTime(c.totalDuration())>s:!s||c.isActive())&&o.push(c):(f=c.getTweensOf(a,s)).length&&o.push.apply(o,f),c=c._next;return o},r.tweenTo=function(i,s){s=s||{};var o=this,a=lo(o,i),c=s,d=c.startAt,f=c.onStart,p=c.onStartParams,g=c.immediateRender,m,v=Dn.to(o,Js({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(d&&"time"in d?d.time:o._time))/o.timeScale())||Lr,onStart:function(){if(o.pause(),!m){var w=s.duration||Math.abs((a-(d&&"time"in d?d.time:o._time))/o.timeScale());v._dur!==w&&sh(v,w,0,1).render(v._time,!0,!0),m=1}f&&f.apply(v,p||[])}},s));return g?v.render(0):v},r.tweenFromTo=function(i,s,o){return this.tweenTo(s,Js({startAt:{time:lo(this,i)}},o))},r.recent=function(){return this._recent},r.nextLabel=function(i){return i===void 0&&(i=this._time),sR(this,lo(this,i))},r.previousLabel=function(i){return i===void 0&&(i=this._time),sR(this,lo(this,i),1)},r.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Lr)},r.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,c=this.labels,d;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(d in c)c[d]>=o&&(c[d]+=i);return Uu(this)},r.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return t.prototype.invalidate.call(this,i)},r.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Uu(this)},r.totalDuration=function(i){var s=0,o=this,a=o._last,c=mo,d,f,p;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(p=o.parent;a;)d=a._prev,a._dirty&&a.totalDuration(),f=a._start,f>c&&o._sort&&a._ts&&!o._lock?(o._lock=1,ja(o,a,f-a._delay,1)._lock=0):c=f,f<0&&a._ts&&(s-=f,(!p&&!o._dp||p&&p.smoothChildTiming)&&(o._start+=f/o._ts,o._time-=f,o._tTime-=f),o.shiftChildren(-f,!1,-1/0),c=0),a._end>s&&a._ts&&(s=a._end),a=d;sh(o,o===on&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(on._ts&&(IL(on,Tx(i,on)),PL=Os.frame),Os.frame>=tR){tR+=Gs.autoSleep||120;var s=on._first;if((!s||!s._ts)&&Gs.autoSleep&&Os._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Os.sleep()}}},e}($m);Js(Gi.prototype,{_lock:0,_hasPause:0,_forcing:0});var vre=function(e,r,n,i,s,o,a){var c=new gs(this._pt,e,r,0,1,a6,null,s),d=0,f=0,p,g,m,v,x,w,E,P;for(c.b=n,c.e=i,n+="",i+="",(E=~i.indexOf("random("))&&(i=zm(i)),o&&(P=[n,i],o(P,e,r),n=P[0],i=P[1]),g=n.match(w1)||[];p=w1.exec(i);)v=p[0],x=i.substring(d,p.index),m?m=(m+1)%5:x.substr(-5)==="rgba("&&(m=1),v!==g[f++]&&(w=parseFloat(g[f-1])||0,c._pt={_next:c._pt,p:x||f===1?x:",",s:w,c:v.charAt(1)==="="?zf(w,v)-w:parseFloat(v)-w,m:m&&m<4?Math.round:0},d=w1.lastIndex);return c.c=d<i.length?i.substring(d,i.length):"",c.fp=a,(EL.test(i)||E)&&(c.e=0),this._pt=c,c},i2=function(e,r,n,i,s,o,a,c,d,f){hn(i)&&(i=i(s||0,e,o));var p=e[r],g=n!=="get"?n:hn(p)?d?e[r.indexOf("set")||!hn(e["get"+r.substr(3)])?r:"get"+r.substr(3)](d):e[r]():p,m=hn(p)?d?Cre:s6:o2,v;if(ei(i)&&(~i.indexOf("random(")&&(i=zm(i)),i.charAt(1)==="="&&(v=zf(g,i)+(Ti(g)||0),(v||v===0)&&(i=v))),!f||g!==i||x_)return!isNaN(g*i)&&i!==""?(v=new gs(this._pt,e,r,+g||0,i-(g||0),typeof p=="boolean"?Ere:o6,0,m),d&&(v.fp=d),a&&v.modifier(a,this,e),this._pt=v):(!p&&!(r in e)&&ZS(r,i),vre.call(this,e,r,g,i,m,c||Gs.stringFilter,d))},bre=function(e,r,n,i,s){if(hn(e)&&(e=Kp(e,s,r,n,i)),!$a(e)||e.style&&e.nodeType||Ii(e)||CL(e))return ei(e)?Kp(e,s,r,n,i):e;var o={},a;for(a in e)o[a]=Kp(e[a],s,r,n,i);return o},r6=function(e,r,n,i,s,o){var a,c,d,f;if(Ps[e]&&(a=new Ps[e]).init(s,a.rawVars?r[e]:bre(r[e],i,s,o,n),n,i,o)!==!1&&(n._pt=c=new gs(n._pt,s,e,0,1,a.render,a,0,a.priority),n!==Nf))for(d=n._ptLookup[n._targets.indexOf(s)],f=a._props.length;f--;)d[a._props[f]]=c;return a},fc,x_,s2=function t(e,r,n){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,c=i.lazy,d=i.onUpdate,f=i.runBackwards,p=i.yoyoEase,g=i.keyframes,m=i.autoRevert,v=e._dur,x=e._startAt,w=e._targets,E=e.parent,P=E&&E.data==="nested"?E.vars.targets:w,R=e._overwrite==="auto"&&!YS,S=e.timeline,B,$,q,G,H,K,J,W,F,b,A,D,j;if(S&&(!g||!s)&&(s="none"),e._ease=Vu(s,rh.ease),e._yEase=p?QL(Vu(p===!0?s:p,rh.ease)):0,p&&e._yoyo&&!e._repeat&&(p=e._yEase,e._yEase=e._ease,e._ease=p),e._from=!S&&!!i.runBackwards,!S||g&&!i.stagger){if(W=w[0]?$u(w[0]).harness:0,D=W&&i[W.prop],B=Ex(i,e2),x&&(x._zTime<0&&x.progress(1),r<0&&f&&a&&!m?x.render(-1,!0):x.revert(f&&v?$0:Kte),x._lazy=0),o){if(jc(e._startAt=Dn.set(w,Js({data:"isStart",overwrite:!1,parent:E,immediateRender:!0,lazy:!x&&ps(c),startAt:null,delay:0,onUpdate:d&&function(){return Us(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,r<0&&(ci||!a&&!m)&&e._startAt.revert($0),a&&v&&r<=0&&n<=0){r&&(e._zTime=r);return}}else if(f&&v&&!x){if(r&&(a=!1),q=Js({overwrite:!1,data:"isFromStart",lazy:a&&!x&&ps(c),immediateRender:a,stagger:0,parent:E},B),D&&(q[W.prop]=D),jc(e._startAt=Dn.set(w,q)),e._startAt._dp=0,e._startAt._sat=e,r<0&&(ci?e._startAt.revert($0):e._startAt.render(-1,!0)),e._zTime=r,!a)t(e._startAt,Lr,Lr);else if(!r)return}for(e._pt=e._ptCache=0,c=v&&ps(c)||c&&!v,$=0;$<w.length;$++){if(H=w[$],J=H._gsap||r2(w)[$]._gsap,e._ptLookup[$]=b={},f_[J.id]&&wc.length&&Sx(),A=P===w?$:P.indexOf(H),W&&(F=new W).init(H,D||B,e,A,P)!==!1&&(e._pt=G=new gs(e._pt,H,F.name,0,1,F.render,F,0,F.priority),F._props.forEach(function(k){b[k]=G}),F.priority&&(K=1)),!W||D)for(q in B)Ps[q]&&(F=r6(q,B,e,A,H,P))?F.priority&&(K=1):b[q]=G=i2.call(e,H,q,"get",B[q],A,P,0,i.stringFilter);e._op&&e._op[$]&&e.kill(H,e._op[$]),R&&e._pt&&(fc=e,on.killTweensOf(H,b,e.globalTime(r)),j=!e.parent,fc=0),e._pt&&c&&(f_[J.id]=1)}K&&l6(e),e._onInit&&e._onInit(e)}e._onUpdate=d,e._initted=(!e._op||e._pt)&&!j,g&&r<=0&&S.render(mo,!0,!0)},wre=function(e,r,n,i,s,o,a,c){var d=(e._pt&&e._ptCache||(e._ptCache={}))[r],f,p,g,m;if(!d)for(d=e._ptCache[r]=[],g=e._ptLookup,m=e._targets.length;m--;){if(f=g[m][r],f&&f.d&&f.d._pt)for(f=f.d._pt;f&&f.p!==r&&f.fp!==r;)f=f._next;if(!f)return x_=1,e.vars[r]="+=0",s2(e,a),x_=0,c?Lm(r+" not eligible for reset"):1;d.push(f)}for(m=d.length;m--;)p=d[m],f=p._pt||p,f.s=(i||i===0)&&!s?i:f.s+(i||0)+o*f.c,f.c=n-f.s,p.e&&(p.e=bn(n)+Ti(p.e)),p.b&&(p.b=f.s+Ti(p.b))},kre=function(e,r){var n=e[0]?$u(e[0]).harness:0,i=n&&n.aliases,s,o,a,c;if(!i)return r;s=nh({},r);for(o in i)if(o in s)for(c=i[o].split(","),a=c.length;a--;)s[c[a]]=s[o];return s},_re=function(e,r,n,i){var s=r.ease||i||"power1.inOut",o,a;if(Ii(r))a=n[e]||(n[e]=[]),r.forEach(function(c,d){return a.push({t:d/(r.length-1)*100,v:c,e:s})});else for(o in r)a=n[o]||(n[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:r[o],e:s})},Kp=function(e,r,n,i,s){return hn(e)?e.call(r,n,i,s):ei(e)&&~e.indexOf("random(")?zm(e):e},n6=t2+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",i6={};ms(n6+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return i6[t]=1});var Dn=function(t){kL(e,t);function e(n,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=t.call(this,o?i:Hp(i))||this;var c=a.vars,d=c.duration,f=c.delay,p=c.immediateRender,g=c.stagger,m=c.overwrite,v=c.keyframes,x=c.defaults,w=c.scrollTrigger,E=c.yoyoEase,P=i.parent||on,R=(Ii(n)||CL(n)?Cl(n[0]):"length"in i)?[n]:go(n),S,B,$,q,G,H,K,J;if(a._targets=R.length?r2(R):Lm("GSAP target "+n+" not found. https://gsap.com",!Gs.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=m,v||g||Gy(d)||Gy(f)){if(i=a.vars,S=a.timeline=new Gi({data:"nested",defaults:x||{},targets:P&&P.data==="nested"?P.vars.targets:R}),S.kill(),S.parent=S._dp=al(a),S._start=0,g||Gy(d)||Gy(f)){if(q=R.length,K=g&&UL(g),$a(g))for(G in g)~n6.indexOf(G)&&(J||(J={}),J[G]=g[G]);for(B=0;B<q;B++)$=Ex(i,i6),$.stagger=0,E&&($.yoyoEase=E),J&&nh($,J),H=R[B],$.duration=+Kp(d,al(a),B,H,R),$.delay=(+Kp(f,al(a),B,H,R)||0)-a._delay,!g&&q===1&&$.delay&&(a._delay=f=$.delay,a._start+=f,$.delay=0),S.to(H,$,K?K(B,H,R):0),S._ease=fr.none;S.duration()?d=f=0:a.timeline=0}else if(v){Hp(Js(S.vars.defaults,{ease:"none"})),S._ease=Vu(v.ease||i.ease||"none");var W=0,F,b,A;if(Ii(v))v.forEach(function(D){return S.to(R,D,">")}),S.duration();else{$={};for(G in v)G==="ease"||G==="easeEach"||_re(G,v[G],$,v.easeEach);for(G in $)for(F=$[G].sort(function(D,j){return D.t-j.t}),W=0,B=0;B<F.length;B++)b=F[B],A={ease:b.e,duration:(b.t-(B?F[B-1].t:0))/100*d},A[G]=b.v,S.to(R,A,W),W+=A.duration;S.duration()<d&&S.to({},{duration:d-S.duration()})}}d||a.duration(d=S.duration())}else a.timeline=0;return m===!0&&!YS&&(fc=al(a),on.killTweensOf(R),fc=0),ja(P,al(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(p||!d&&!v&&a._start===On(P._time)&&ps(p)&&ere(al(a))&&P.data!=="nested")&&(a._tTime=-Lr,a.render(Math.max(0,-f)||0)),w&&FL(al(a),w),a}var r=e.prototype;return r.render=function(i,s,o){var a=this._time,c=this._tDur,d=this._dur,f=i<0,p=i>c-Lr&&!f?c:i<Lr?0:i,g,m,v,x,w,E,P,R,S;if(!d)rre(this,i,s,o);else if(p!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==f||this._lazy){if(g=p,R=this.timeline,this._repeat){if(x=d+this._rDelay,this._repeat<-1&&f)return this.totalTime(x*100+i,s,o);if(g=On(p%x),p===c?(v=this._repeat,g=d):(w=On(p/x),v=~~w,v&&v===w?(g=d,v--):g>d&&(g=d)),E=this._yoyo&&v&1,E&&(S=this._yEase,g=d-g),w=ih(this._tTime,x),g===a&&!o&&this._initted&&v===w)return this._tTime=p,this;v!==w&&(R&&this._yEase&&ZL(R,E),this.vars.repeatRefresh&&!E&&!this._lock&&g!==x&&this._initted&&(this._lock=o=1,this.render(On(x*v),!0).invalidate()._lock=0))}if(!this._initted){if(zL(this,f?i:g,o,s,p))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&v!==w))return this;if(d!==this._dur)return this.render(i,s,o)}if(this._tTime=p,this._time=g,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=P=(S||this._ease)(g/d),this._from&&(this.ratio=P=1-P),!a&&p&&!s&&!w&&(Us(this,"onStart"),this._tTime!==p))return this;for(m=this._pt;m;)m.r(P,m.d),m=m._next;R&&R.render(i<0?i:R._dur*R._ease(g/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(f&&h_(this,i,s,o),Us(this,"onUpdate")),this._repeat&&v!==w&&this.vars.onRepeat&&!s&&this.parent&&Us(this,"onRepeat"),(p===this._tDur||!p)&&this._tTime===p&&(f&&!this._onUpdate&&h_(this,i,!0,!0),(i||!d)&&(p===this._tDur&&this._ts>0||!p&&this._ts<0)&&jc(this,1),!s&&!(f&&!a)&&(p||a||E)&&(Us(this,p===c?"onComplete":"onReverseComplete",!0),this._prom&&!(p<c&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},r.resetTo=function(i,s,o,a,c){Bm||Os.wake(),this._ts||this.play();var d=Math.min(this._dur,(this._dp._time-this._start)*this._ts),f;return this._initted||s2(this,d),f=this._ease(d/this._dur),wre(this,i,s,o,a,f,d,c)?this.resetTo(i,s,o,a,1):(Tv(this,0),this.parent||OL(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Np(this):this.scrollTrigger&&this.scrollTrigger.kill(!!ci),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,fc&&fc.vars.overwrite!==!0)._first||Np(this),this.parent&&o!==this.timeline.totalDuration()&&sh(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,c=i?go(i):a,d=this._ptLookup,f=this._pt,p,g,m,v,x,w,E;if((!s||s==="all")&&Qte(a,c))return s==="all"&&(this._pt=0),Np(this);for(p=this._op=this._op||[],s!=="all"&&(ei(s)&&(x={},ms(s,function(P){return x[P]=1}),s=x),s=kre(a,s)),E=a.length;E--;)if(~c.indexOf(a[E])){g=d[E],s==="all"?(p[E]=s,v=g,m={}):(m=p[E]=p[E]||{},v=s);for(x in v)w=g&&g[x],w&&((!("kill"in w.d)||w.d.kill(x)===!0)&&Sv(this,w,"_pt"),delete g[x]),m!=="all"&&(m[x]=1)}return this._initted&&!this._pt&&f&&Np(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return Gp(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return Gp(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return on.killTweensOf(i,s,o)},e}($m);Js(Dn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});ms("staggerTo,staggerFrom,staggerFromTo",function(t){Dn[t]=function(){var e=new Gi,r=m_.call(arguments,0);return r.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,r)}});var o2=function(e,r,n){return e[r]=n},s6=function(e,r,n){return e[r](n)},Cre=function(e,r,n,i){return e[r](i.fp,n)},Sre=function(e,r,n){return e.setAttribute(r,n)},a2=function(e,r){return hn(e[r])?s6:JS(e[r])&&e.setAttribute?Sre:o2},o6=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e6)/1e6,r)},Ere=function(e,r){return r.set(r.t,r.p,!!(r.s+r.c*e),r)},a6=function(e,r){var n=r._pt,i="";if(!e&&r.b)i=r.b;else if(e===1&&r.e)i=r.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+i,n=n._next;i+=r.c}r.set(r.t,r.p,i,r)},l2=function(e,r){for(var n=r._pt;n;)n.r(e,n.d),n=n._next},Tre=function(e,r,n,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,r,n),s=o},Nre=function(e){for(var r=this._pt,n,i;r;)i=r._next,r.p===e&&!r.op||r.op===e?Sv(this,r,"_pt"):r.dep||(n=1),r=i;return!n},Are=function(e,r,n,i){i.mSet(e,r,i.m.call(i.tween,n,i.mt),i)},l6=function(e){for(var r=e._pt,n,i,s,o;r;){for(n=r._next,i=s;i&&i.pr>r.pr;)i=i._next;(r._prev=i?i._prev:o)?r._prev._next=r:s=r,(r._next=i)?i._prev=r:o=r,r=n}e._pt=s},gs=function(){function t(r,n,i,s,o,a,c,d,f){this.t=n,this.s=s,this.c=o,this.p=i,this.r=a||o6,this.d=c||this,this.set=d||o2,this.pr=f||0,this._next=r,r&&(r._prev=this)}var e=t.prototype;return e.modifier=function(n,i,s){this.mSet=this.mSet||this.set,this.set=Are,this.m=n,this.mt=s,this.tween=i},t}();ms(t2+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return e2[t]=1});Ys.TweenMax=Ys.TweenLite=Dn;Ys.TimelineLite=Ys.TimelineMax=Gi;on=new Gi({sortChildren:!1,defaults:rh,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Gs.stringFilter=XL;var Wu=[],V0={},jre=[],aR=0,Pre=0,E1=function(e){return(V0[e]||jre).map(function(r){return r()})},v_=function(){var e=Date.now(),r=[];e-aR>2&&(E1("matchMediaInit"),Wu.forEach(function(n){var i=n.queries,s=n.conditions,o,a,c,d;for(a in i)o=Ca.matchMedia(i[a]).matches,o&&(c=1),o!==s[a]&&(s[a]=o,d=1);d&&(n.revert(),c&&r.push(n))}),E1("matchMediaRevert"),r.forEach(function(n){return n.onMatch(n,function(i){return n.add(null,i)})}),aR=e,E1("matchMedia"))},c6=function(){function t(r,n){this.selector=n&&g_(n),this.data=[],this._r=[],this.isReverted=!1,this.id=Pre++,r&&this.add(r)}var e=t.prototype;return e.add=function(n,i,s){hn(n)&&(s=i,i=n,n=hn);var o=this,a=function(){var d=Yr,f=o.selector,p;return d&&d!==o&&d.data.push(o),s&&(o.selector=g_(s)),Yr=o,p=i.apply(o,arguments),hn(p)&&o._r.push(p),Yr=d,o.selector=f,o.isReverted=!1,p};return o.last=a,n===hn?a(o,function(c){return o.add(null,c)}):n?o[n]=a:a},e.ignore=function(n){var i=Yr;Yr=null,n(this),Yr=i},e.getTweens=function(){var n=[];return this.data.forEach(function(i){return i instanceof t?n.push.apply(n,i.getTweens()):i instanceof Dn&&!(i.parent&&i.parent.data==="nested")&&n.push(i)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,i){var s=this;if(n?function(){for(var a=s.getTweens(),c=s.data.length,d;c--;)d=s.data[c],d.data==="isFlip"&&(d.revert(),d.getChildren(!0,!0,!1).forEach(function(f){return a.splice(a.indexOf(f),1)}));for(a.map(function(f){return{g:f._dur||f._delay||f._sat&&!f._sat.vars.immediateRender?f.globalTime(0):-1/0,t:f}}).sort(function(f,p){return p.g-f.g||-1/0}).forEach(function(f){return f.t.revert(n)}),c=s.data.length;c--;)d=s.data[c],d instanceof Gi?d.data!=="nested"&&(d.scrollTrigger&&d.scrollTrigger.revert(),d.kill()):!(d instanceof Dn)&&d.revert&&d.revert(n);s._r.forEach(function(f){return f(n,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var o=Wu.length;o--;)Wu[o].id===this.id&&Wu.splice(o,1)},e.revert=function(n){this.kill(n||{})},t}(),Rre=function(){function t(r){this.contexts=[],this.scope=r,Yr&&Yr.data.push(this)}var e=t.prototype;return e.add=function(n,i,s){$a(n)||(n={matches:n});var o=new c6(0,s||this.scope),a=o.conditions={},c,d,f;Yr&&!o.selector&&(o.selector=Yr.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=n;for(d in n)d==="all"?f=1:(c=Ca.matchMedia(n[d]),c&&(Wu.indexOf(o)<0&&Wu.push(o),(a[d]=c.matches)&&(f=1),c.addListener?c.addListener(v_):c.addEventListener("change",v_)));return f&&i(o,function(p){return o.add(null,p)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(i){return i.kill(n,!0)})},t}(),Nx={registerPlugin:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];r.forEach(function(i){return KL(i)})},timeline:function(e){return new Gi(e)},getTweensOf:function(e,r){return on.getTweensOf(e,r)},getProperty:function(e,r,n,i){ei(e)&&(e=go(e)[0]);var s=$u(e||{}).get,o=n?DL:ML;return n==="native"&&(n=""),e&&(r?o((Ps[r]&&Ps[r].get||s)(e,r,n,i)):function(a,c,d){return o((Ps[a]&&Ps[a].get||s)(e,a,c,d))})},quickSetter:function(e,r,n){if(e=go(e),e.length>1){var i=e.map(function(f){return xs.quickSetter(f,r,n)}),s=i.length;return function(f){for(var p=s;p--;)i[p](f)}}e=e[0]||{};var o=Ps[r],a=$u(e),c=a.harness&&(a.harness.aliases||{})[r]||r,d=o?function(f){var p=new o;Nf._pt=0,p.init(e,n?f+n:f,Nf,0,[e]),p.render(1,p),Nf._pt&&l2(1,Nf)}:a.set(e,c);return o?d:function(f){return d(e,c,n?f+n:f,a,1)}},quickTo:function(e,r,n){var i,s=xs.to(e,Js((i={},i[r]="+=0.1",i.paused=!0,i.stagger=0,i),n||{})),o=function(c,d,f){return s.resetTo(r,c,d,f)};return o.tween=s,o},isTweening:function(e){return on.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Vu(e.ease,rh.ease)),rR(rh,e||{})},config:function(e){return rR(Gs,e||{})},registerEffect:function(e){var r=e.name,n=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!Ps[a]&&!Ys[a]&&Lm(r+" effect requires "+a+" plugin.")}),k1[r]=function(a,c,d){return n(go(a),Js(c||{},s),d)},o&&(Gi.prototype[r]=function(a,c,d){return this.add(k1[r](a,$a(c)?c:(d=c)&&{},this),d)})},registerEase:function(e,r){fr[e]=Vu(r)},parseEase:function(e,r){return arguments.length?Vu(e,r):fr},getById:function(e){return on.getById(e)},exportRoot:function(e,r){e===void 0&&(e={});var n=new Gi(e),i,s;for(n.smoothChildTiming=ps(e.smoothChildTiming),on.remove(n),n._dp=0,n._time=n._tTime=on._time,i=on._first;i;)s=i._next,(r||!(!i._dur&&i instanceof Dn&&i.vars.onComplete===i._targets[0]))&&ja(n,i,i._start-i._delay),i=s;return ja(on,n,0),n},context:function(e,r){return e?new c6(e,r):Yr},matchMedia:function(e){return new Rre(e)},matchMediaRefresh:function(){return Wu.forEach(function(e){var r=e.conditions,n,i;for(i in r)r[i]&&(r[i]=!1,n=1);n&&e.revert()})||v_()},addEventListener:function(e,r){var n=V0[e]||(V0[e]=[]);~n.indexOf(r)||n.push(r)},removeEventListener:function(e,r){var n=V0[e],i=n&&n.indexOf(r);i>=0&&n.splice(i,1)},utils:{wrap:ure,wrapYoyo:dre,distribute:UL,random:WL,snap:VL,normalize:cre,getUnit:Ti,clamp:sre,splitColor:YL,toArray:go,selector:g_,mapRange:HL,pipe:are,unitize:lre,interpolate:fre,shuffle:$L},install:AL,effects:k1,ticker:Os,updateRoot:Gi.updateRoot,plugins:Ps,globalTimeline:on,core:{PropTween:gs,globals:jL,Tween:Dn,Timeline:Gi,Animation:$m,getCache:$u,_removeLinkedListItem:Sv,reverting:function(){return ci},context:function(e){return e&&Yr&&(Yr.data.push(e),e._ctx=Yr),Yr},suppressOverwrites:function(e){return YS=e}}};ms("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Nx[t]=Dn[t]});Os.add(Gi.updateRoot);Nf=Nx.to({},{duration:0});var Ire=function(e,r){for(var n=e._pt;n&&n.p!==r&&n.op!==r&&n.fp!==r;)n=n._next;return n},Mre=function(e,r){var n=e._targets,i,s,o;for(i in r)for(s=n.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=Ire(o,i)),o&&o.modifier&&o.modifier(r[i],e,n[s],i))},T1=function(e,r){return{name:e,headless:1,rawVars:1,init:function(i,s,o){o._onInit=function(a){var c,d;if(ei(s)&&(c={},ms(s,function(f){return c[f]=1}),s=c),r){c={};for(d in s)c[d]=r(s[d]);s=c}Mre(a,s)}}}},xs=Nx.registerPlugin({name:"attr",init:function(e,r,n,i,s){var o,a,c;this.tween=n;for(o in r)c=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(c||0)+"",r[o],i,s,0,0,o),a.op=o,a.b=c,this._props.push(o)},render:function(e,r){for(var n=r._pt;n;)ci?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,r){for(var n=r.length;n--;)this.add(e,n,e[n]||0,r[n],0,0,0,0,0,1)}},T1("roundProps",y_),T1("modifiers"),T1("snap",VL))||Nx;Dn.version=Gi.version=xs.version="3.13.0";NL=1;XS()&&oh();fr.Power0;fr.Power1;fr.Power2;fr.Power3;fr.Power4;fr.Linear;fr.Quad;fr.Cubic;fr.Quart;fr.Quint;fr.Strong;fr.Elastic;fr.Back;fr.SteppedEase;fr.Bounce;fr.Sine;fr.Expo;fr.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var lR,hc,Bf,c2,Mu,cR,u2,Dre=function(){return typeof window<"u"},Sl={},_u=180/Math.PI,$f=Math.PI/180,Qd=Math.atan2,uR=1e8,d2=/([A-Z])/g,Ore=/(left|right|width|margin|padding|x)/i,Lre=/[\s,\(]\S/,Ra={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},b_=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},Fre=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},zre=function(e,r){return r.set(r.t,r.p,e?Math.round((r.s+r.c*e)*1e4)/1e4+r.u:r.b,r)},Bre=function(e,r){var n=r.s+r.c*e;r.set(r.t,r.p,~~(n+(n<0?-.5:.5))+r.u,r)},u6=function(e,r){return r.set(r.t,r.p,e?r.e:r.b,r)},d6=function(e,r){return r.set(r.t,r.p,e!==1?r.b:r.e,r)},$re=function(e,r,n){return e.style[r]=n},Ure=function(e,r,n){return e.style.setProperty(r,n)},Vre=function(e,r,n){return e._gsap[r]=n},Wre=function(e,r,n){return e._gsap.scaleX=e._gsap.scaleY=n},qre=function(e,r,n,i,s){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(s,o)},Hre=function(e,r,n,i,s){var o=e._gsap;o[r]=n,o.renderTransform(s,o)},ln="transform",ys=ln+"Origin",Gre=function t(e,r){var n=this,i=this.target,s=i.style,o=i._gsap;if(e in Sl&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Ra[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return n.tfm[a]=cl(i,a)}):this.tfm[e]=o.x?o[e]:cl(i,e),e===ys&&(this.tfm.zOrigin=o.zOrigin);else return Ra.transform.split(",").forEach(function(a){return t.call(n,a,r)});if(this.props.indexOf(ln)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(ys,r,"")),e=ln}(s||r)&&this.props.push(e,r,s[e])},f6=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Kre=function(){var e=this.props,r=this.target,n=r.style,i=r._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?r[e[s]](e[s+2]):r[e[s]]=e[s+2]:e[s+2]?n[e[s]]=e[s+2]:n.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(d2,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),s=u2(),(!s||!s.isStart)&&!n[ln]&&(f6(n),i.zOrigin&&n[ys]&&(n[ys]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},h6=function(e,r){var n={target:e,props:[],revert:Kre,save:Gre};return e._gsap||xs.core.getCache(e),r&&e.style&&e.nodeType&&r.split(",").forEach(function(i){return n.save(i)}),n},p6,w_=function(e,r){var n=hc.createElementNS?hc.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):hc.createElement(e);return n&&n.style?n:hc.createElement(e)},yo=function t(e,r,n){var i=getComputedStyle(e);return i[r]||i.getPropertyValue(r.replace(d2,"-$1").toLowerCase())||i.getPropertyValue(r)||!n&&t(e,ah(r)||r,1)||""},dR="O,Moz,ms,Ms,Webkit".split(","),ah=function(e,r,n){var i=r||Mu,s=i.style,o=5;if(e in s&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(dR[o]+e in s););return o<0?null:(o===3?"ms":o>=0?dR[o]:"")+e},k_=function(){Dre()&&window.document&&(lR=window,hc=lR.document,Bf=hc.documentElement,Mu=w_("div")||{style:{}},w_("div"),ln=ah(ln),ys=ln+"Origin",Mu.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",p6=!!ah("perspective"),u2=xs.core.reverting,c2=1)},fR=function(e){var r=e.ownerSVGElement,n=w_("svg",r&&r.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),s;i.style.display="block",n.appendChild(i),Bf.appendChild(n);try{s=i.getBBox()}catch{}return n.removeChild(i),Bf.removeChild(n),s},hR=function(e,r){for(var n=r.length;n--;)if(e.hasAttribute(r[n]))return e.getAttribute(r[n])},m6=function(e){var r,n;try{r=e.getBBox()}catch{r=fR(e),n=1}return r&&(r.width||r.height)||n||(r=fR(e)),r&&!r.width&&!r.x&&!r.y?{x:+hR(e,["x","cx","x1"])||0,y:+hR(e,["y","cy","y1"])||0,width:0,height:0}:r},g6=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&m6(e))},ad=function(e,r){if(r){var n=e.style,i;r in Sl&&r!==ys&&(r=ln),n.removeProperty?(i=r.substr(0,2),(i==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),n.removeProperty(i==="--"?r:r.replace(d2,"-$1").toLowerCase())):n.removeAttribute(r)}},pc=function(e,r,n,i,s,o){var a=new gs(e._pt,r,n,0,1,o?d6:u6);return e._pt=a,a.b=i,a.e=s,e._props.push(n),a},pR={deg:1,rad:1,turn:1},Yre={grid:1,flex:1},Pc=function t(e,r,n,i){var s=parseFloat(n)||0,o=(n+"").trim().substr((s+"").length)||"px",a=Mu.style,c=Ore.test(r),d=e.tagName.toLowerCase()==="svg",f=(d?"client":"offset")+(c?"Width":"Height"),p=100,g=i==="px",m=i==="%",v,x,w,E;if(i===o||!s||pR[i]||pR[o])return s;if(o!=="px"&&!g&&(s=t(e,r,n,"px")),E=e.getCTM&&g6(e),(m||o==="%")&&(Sl[r]||~r.indexOf("adius")))return v=E?e.getBBox()[c?"width":"height"]:e[f],bn(m?s/v*p:s/100*v);if(a[c?"width":"height"]=p+(g?o:i),x=i!=="rem"&&~r.indexOf("adius")||i==="em"&&e.appendChild&&!d?e:e.parentNode,E&&(x=(e.ownerSVGElement||{}).parentNode),(!x||x===hc||!x.appendChild)&&(x=hc.body),w=x._gsap,w&&m&&w.width&&c&&w.time===Os.time&&!w.uncache)return bn(s/w.width*p);if(m&&(r==="height"||r==="width")){var P=e.style[r];e.style[r]=p+i,v=e[f],P?e.style[r]=P:ad(e,r)}else(m||o==="%")&&!Yre[yo(x,"display")]&&(a.position=yo(e,"position")),x===e&&(a.position="static"),x.appendChild(Mu),v=Mu[f],x.removeChild(Mu),a.position="absolute";return c&&m&&(w=$u(x),w.time=Os.time,w.width=x[f]),bn(g?v*s/p:v&&s?p/v*s:0)},cl=function(e,r,n,i){var s;return c2||k_(),r in Ra&&r!=="transform"&&(r=Ra[r],~r.indexOf(",")&&(r=r.split(",")[0])),Sl[r]&&r!=="transform"?(s=Vm(e,i),s=r!=="transformOrigin"?s[r]:s.svg?s.origin:jx(yo(e,ys))+" "+s.zOrigin+"px"):(s=e.style[r],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=Ax[r]&&Ax[r](e,r,n)||yo(e,r)||RL(e,r)||(r==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?Pc(e,r,s,n)+n:s},Jre=function(e,r,n,i){if(!n||n==="none"){var s=ah(r,e,1),o=s&&yo(e,s,1);o&&o!==n?(r=s,n=o):r==="borderColor"&&(n=yo(e,"borderTopColor"))}var a=new gs(this._pt,e.style,r,0,1,a6),c=0,d=0,f,p,g,m,v,x,w,E,P,R,S,B;if(a.b=n,a.e=i,n+="",i+="",i.substring(0,6)==="var(--"&&(i=yo(e,i.substring(4,i.indexOf(")")))),i==="auto"&&(x=e.style[r],e.style[r]=i,i=yo(e,r)||i,x?e.style[r]=x:ad(e,r)),f=[n,i],XL(f),n=f[0],i=f[1],g=n.match(Tf)||[],B=i.match(Tf)||[],B.length){for(;p=Tf.exec(i);)w=p[0],P=i.substring(c,p.index),v?v=(v+1)%5:(P.substr(-5)==="rgba("||P.substr(-5)==="hsla(")&&(v=1),w!==(x=g[d++]||"")&&(m=parseFloat(x)||0,S=x.substr((m+"").length),w.charAt(1)==="="&&(w=zf(m,w)+S),E=parseFloat(w),R=w.substr((E+"").length),c=Tf.lastIndex-R.length,R||(R=R||Gs.units[r]||S,c===i.length&&(i+=R,a.e+=R)),S!==R&&(m=Pc(e,r,x,R)||0),a._pt={_next:a._pt,p:P||d===1?P:",",s:m,c:E-m,m:v&&v<4||r==="zIndex"?Math.round:0});a.c=c<i.length?i.substring(c,i.length):""}else a.r=r==="display"&&i==="none"?d6:u6;return EL.test(i)&&(a.e=0),this._pt=a,a},mR={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Xre=function(e){var r=e.split(" "),n=r[0],i=r[1]||"50%";return(n==="top"||n==="bottom"||i==="left"||i==="right")&&(e=n,n=i,i=e),r[0]=mR[n]||n,r[1]=mR[i]||i,r.join(" ")},Qre=function(e,r){if(r.tween&&r.tween._time===r.tween._dur){var n=r.t,i=n.style,s=r.u,o=n._gsap,a,c,d;if(s==="all"||s===!0)i.cssText="",c=1;else for(s=s.split(","),d=s.length;--d>-1;)a=s[d],Sl[a]&&(c=1,a=a==="transformOrigin"?ys:ln),ad(n,a);c&&(ad(n,ln),o&&(o.svg&&n.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",Vm(n,1),o.uncache=1,f6(i)))}},Ax={clearProps:function(e,r,n,i,s){if(s.data!=="isFromStart"){var o=e._pt=new gs(e._pt,r,n,0,0,Qre);return o.u=i,o.pr=-10,o.tween=s,e._props.push(n),1}}},Um=[1,0,0,1,0,0],y6={},x6=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},gR=function(e){var r=yo(e,ln);return x6(r)?Um:r.substr(7).match(SL).map(bn)},f2=function(e,r){var n=e._gsap||$u(e),i=e.style,s=gR(e),o,a,c,d;return n.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,s=[c.a,c.b,c.c,c.d,c.e,c.f],s.join(",")==="1,0,0,1,0,0"?Um:s):(s===Um&&!e.offsetParent&&e!==Bf&&!n.svg&&(c=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(d=1,a=e.nextElementSibling,Bf.appendChild(e)),s=gR(e),c?i.display=c:ad(e,"display"),d&&(a?o.insertBefore(e,a):o?o.appendChild(e):Bf.removeChild(e))),r&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},__=function(e,r,n,i,s,o){var a=e._gsap,c=s||f2(e,!0),d=a.xOrigin||0,f=a.yOrigin||0,p=a.xOffset||0,g=a.yOffset||0,m=c[0],v=c[1],x=c[2],w=c[3],E=c[4],P=c[5],R=r.split(" "),S=parseFloat(R[0])||0,B=parseFloat(R[1])||0,$,q,G,H;n?c!==Um&&(q=m*w-v*x)&&(G=S*(w/q)+B*(-x/q)+(x*P-w*E)/q,H=S*(-v/q)+B*(m/q)-(m*P-v*E)/q,S=G,B=H):($=m6(e),S=$.x+(~R[0].indexOf("%")?S/100*$.width:S),B=$.y+(~(R[1]||R[0]).indexOf("%")?B/100*$.height:B)),i||i!==!1&&a.smooth?(E=S-d,P=B-f,a.xOffset=p+(E*m+P*x)-E,a.yOffset=g+(E*v+P*w)-P):a.xOffset=a.yOffset=0,a.xOrigin=S,a.yOrigin=B,a.smooth=!!i,a.origin=r,a.originIsAbsolute=!!n,e.style[ys]="0px 0px",o&&(pc(o,a,"xOrigin",d,S),pc(o,a,"yOrigin",f,B),pc(o,a,"xOffset",p,a.xOffset),pc(o,a,"yOffset",g,a.yOffset)),e.setAttribute("data-svg-origin",S+" "+B)},Vm=function(e,r){var n=e._gsap||new t6(e);if("x"in n&&!r&&!n.uncache)return n;var i=e.style,s=n.scaleX<0,o="px",a="deg",c=getComputedStyle(e),d=yo(e,ys)||"0",f,p,g,m,v,x,w,E,P,R,S,B,$,q,G,H,K,J,W,F,b,A,D,j,k,M,T,O,N,I,Q,z;return f=p=g=x=w=E=P=R=S=0,m=v=1,n.svg=!!(e.getCTM&&g6(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(i[ln]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[ln]!=="none"?c[ln]:"")),i.scale=i.rotate=i.translate="none"),q=f2(e,n.svg),n.svg&&(n.uncache?(k=e.getBBox(),d=n.xOrigin-k.x+"px "+(n.yOrigin-k.y)+"px",j=""):j=!r&&e.getAttribute("data-svg-origin"),__(e,j||d,!!j||n.originIsAbsolute,n.smooth!==!1,q)),B=n.xOrigin||0,$=n.yOrigin||0,q!==Um&&(J=q[0],W=q[1],F=q[2],b=q[3],f=A=q[4],p=D=q[5],q.length===6?(m=Math.sqrt(J*J+W*W),v=Math.sqrt(b*b+F*F),x=J||W?Qd(W,J)*_u:0,P=F||b?Qd(F,b)*_u+x:0,P&&(v*=Math.abs(Math.cos(P*$f))),n.svg&&(f-=B-(B*J+$*F),p-=$-(B*W+$*b))):(z=q[6],I=q[7],T=q[8],O=q[9],N=q[10],Q=q[11],f=q[12],p=q[13],g=q[14],G=Qd(z,N),w=G*_u,G&&(H=Math.cos(-G),K=Math.sin(-G),j=A*H+T*K,k=D*H+O*K,M=z*H+N*K,T=A*-K+T*H,O=D*-K+O*H,N=z*-K+N*H,Q=I*-K+Q*H,A=j,D=k,z=M),G=Qd(-F,N),E=G*_u,G&&(H=Math.cos(-G),K=Math.sin(-G),j=J*H-T*K,k=W*H-O*K,M=F*H-N*K,Q=b*K+Q*H,J=j,W=k,F=M),G=Qd(W,J),x=G*_u,G&&(H=Math.cos(G),K=Math.sin(G),j=J*H+W*K,k=A*H+D*K,W=W*H-J*K,D=D*H-A*K,J=j,A=k),w&&Math.abs(w)+Math.abs(x)>359.9&&(w=x=0,E=180-E),m=bn(Math.sqrt(J*J+W*W+F*F)),v=bn(Math.sqrt(D*D+z*z)),G=Qd(A,D),P=Math.abs(G)>2e-4?G*_u:0,S=Q?1/(Q<0?-Q:Q):0),n.svg&&(j=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!x6(yo(e,ln)),j&&e.setAttribute("transform",j))),Math.abs(P)>90&&Math.abs(P)<270&&(s?(m*=-1,P+=x<=0?180:-180,x+=x<=0?180:-180):(v*=-1,P+=P<=0?180:-180)),r=r||n.uncache,n.x=f-((n.xPercent=f&&(!r&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-f)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+o,n.y=p-((n.yPercent=p&&(!r&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-p)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+o,n.z=g+o,n.scaleX=bn(m),n.scaleY=bn(v),n.rotation=bn(x)+a,n.rotationX=bn(w)+a,n.rotationY=bn(E)+a,n.skewX=P+a,n.skewY=R+a,n.transformPerspective=S+o,(n.zOrigin=parseFloat(d.split(" ")[2])||!r&&n.zOrigin||0)&&(i[ys]=jx(d)),n.xOffset=n.yOffset=0,n.force3D=Gs.force3D,n.renderTransform=n.svg?ene:p6?v6:Zre,n.uncache=0,n},jx=function(e){return(e=e.split(" "))[0]+" "+e[1]},N1=function(e,r,n){var i=Ti(r);return bn(parseFloat(r)+parseFloat(Pc(e,"x",n+"px",i)))+i},Zre=function(e,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,v6(e,r)},pu="0deg",mp="0px",mu=") ",v6=function(e,r){var n=r||this,i=n.xPercent,s=n.yPercent,o=n.x,a=n.y,c=n.z,d=n.rotation,f=n.rotationY,p=n.rotationX,g=n.skewX,m=n.skewY,v=n.scaleX,x=n.scaleY,w=n.transformPerspective,E=n.force3D,P=n.target,R=n.zOrigin,S="",B=E==="auto"&&e&&e!==1||E===!0;if(R&&(p!==pu||f!==pu)){var $=parseFloat(f)*$f,q=Math.sin($),G=Math.cos($),H;$=parseFloat(p)*$f,H=Math.cos($),o=N1(P,o,q*H*-R),a=N1(P,a,-Math.sin($)*-R),c=N1(P,c,G*H*-R+R)}w!==mp&&(S+="perspective("+w+mu),(i||s)&&(S+="translate("+i+"%, "+s+"%) "),(B||o!==mp||a!==mp||c!==mp)&&(S+=c!==mp||B?"translate3d("+o+", "+a+", "+c+") ":"translate("+o+", "+a+mu),d!==pu&&(S+="rotate("+d+mu),f!==pu&&(S+="rotateY("+f+mu),p!==pu&&(S+="rotateX("+p+mu),(g!==pu||m!==pu)&&(S+="skew("+g+", "+m+mu),(v!==1||x!==1)&&(S+="scale("+v+", "+x+mu),P.style[ln]=S||"translate(0, 0)"},ene=function(e,r){var n=r||this,i=n.xPercent,s=n.yPercent,o=n.x,a=n.y,c=n.rotation,d=n.skewX,f=n.skewY,p=n.scaleX,g=n.scaleY,m=n.target,v=n.xOrigin,x=n.yOrigin,w=n.xOffset,E=n.yOffset,P=n.forceCSS,R=parseFloat(o),S=parseFloat(a),B,$,q,G,H;c=parseFloat(c),d=parseFloat(d),f=parseFloat(f),f&&(f=parseFloat(f),d+=f,c+=f),c||d?(c*=$f,d*=$f,B=Math.cos(c)*p,$=Math.sin(c)*p,q=Math.sin(c-d)*-g,G=Math.cos(c-d)*g,d&&(f*=$f,H=Math.tan(d-f),H=Math.sqrt(1+H*H),q*=H,G*=H,f&&(H=Math.tan(f),H=Math.sqrt(1+H*H),B*=H,$*=H)),B=bn(B),$=bn($),q=bn(q),G=bn(G)):(B=p,G=g,$=q=0),(R&&!~(o+"").indexOf("px")||S&&!~(a+"").indexOf("px"))&&(R=Pc(m,"x",o,"px"),S=Pc(m,"y",a,"px")),(v||x||w||E)&&(R=bn(R+v-(v*B+x*q)+w),S=bn(S+x-(v*$+x*G)+E)),(i||s)&&(H=m.getBBox(),R=bn(R+i/100*H.width),S=bn(S+s/100*H.height)),H="matrix("+B+","+$+","+q+","+G+","+R+","+S+")",m.setAttribute("transform",H),P&&(m.style[ln]=H)},tne=function(e,r,n,i,s){var o=360,a=ei(s),c=parseFloat(s)*(a&&~s.indexOf("rad")?_u:1),d=c-i,f=i+d+"deg",p,g;return a&&(p=s.split("_")[1],p==="short"&&(d%=o,d!==d%(o/2)&&(d+=d<0?o:-o)),p==="cw"&&d<0?d=(d+o*uR)%o-~~(d/o)*o:p==="ccw"&&d>0&&(d=(d-o*uR)%o-~~(d/o)*o)),e._pt=g=new gs(e._pt,r,n,i,d,Fre),g.e=f,g.u="deg",e._props.push(n),g},yR=function(e,r){for(var n in r)e[n]=r[n];return e},rne=function(e,r,n){var i=yR({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=n.style,a,c,d,f,p,g,m,v;i.svg?(d=n.getAttribute("transform"),n.setAttribute("transform",""),o[ln]=r,a=Vm(n,1),ad(n,ln),n.setAttribute("transform",d)):(d=getComputedStyle(n)[ln],o[ln]=r,a=Vm(n,1),o[ln]=d);for(c in Sl)d=i[c],f=a[c],d!==f&&s.indexOf(c)<0&&(m=Ti(d),v=Ti(f),p=m!==v?Pc(n,c,d,v):parseFloat(d),g=parseFloat(f),e._pt=new gs(e._pt,a,c,p,g-p,b_),e._pt.u=v||0,e._props.push(c));yR(a,i)};ms("padding,margin,Width,Radius",function(t,e){var r="Top",n="Right",i="Bottom",s="Left",o=(e<3?[r,n,i,s]:[r+s,r+n,i+n,i+s]).map(function(a){return e<2?t+a:"border"+a+t});Ax[e>1?"border"+t:t]=function(a,c,d,f,p){var g,m;if(arguments.length<4)return g=o.map(function(v){return cl(a,v,d)}),m=g.join(" "),m.split(g[0]).length===5?g[0]:m;g=(f+"").split(" "),m={},o.forEach(function(v,x){return m[v]=g[x]=g[x]||g[(x-1)/2|0]}),a.init(c,m,p)}});var b6={name:"css",register:k_,targetTest:function(e){return e.style&&e.nodeType},init:function(e,r,n,i,s){var o=this._props,a=e.style,c=n.vars.startAt,d,f,p,g,m,v,x,w,E,P,R,S,B,$,q,G;c2||k_(),this.styles=this.styles||h6(e),G=this.styles.props,this.tween=n;for(x in r)if(x!=="autoRound"&&(f=r[x],!(Ps[x]&&r6(x,r,n,i,e,s)))){if(m=typeof f,v=Ax[x],m==="function"&&(f=f.call(n,i,e,s),m=typeof f),m==="string"&&~f.indexOf("random(")&&(f=zm(f)),v)v(this,e,x,f,n)&&(q=1);else if(x.substr(0,2)==="--")d=(getComputedStyle(e).getPropertyValue(x)+"").trim(),f+="",kc.lastIndex=0,kc.test(d)||(w=Ti(d),E=Ti(f)),E?w!==E&&(d=Pc(e,x,d,E)+E):w&&(f+=w),this.add(a,"setProperty",d,f,i,s,0,0,x),o.push(x),G.push(x,0,a[x]);else if(m!=="undefined"){if(c&&x in c?(d=typeof c[x]=="function"?c[x].call(n,i,e,s):c[x],ei(d)&&~d.indexOf("random(")&&(d=zm(d)),Ti(d+"")||d==="auto"||(d+=Gs.units[x]||Ti(cl(e,x))||""),(d+"").charAt(1)==="="&&(d=cl(e,x))):d=cl(e,x),g=parseFloat(d),P=m==="string"&&f.charAt(1)==="="&&f.substr(0,2),P&&(f=f.substr(2)),p=parseFloat(f),x in Ra&&(x==="autoAlpha"&&(g===1&&cl(e,"visibility")==="hidden"&&p&&(g=0),G.push("visibility",0,a.visibility),pc(this,a,"visibility",g?"inherit":"hidden",p?"inherit":"hidden",!p)),x!=="scale"&&x!=="transform"&&(x=Ra[x],~x.indexOf(",")&&(x=x.split(",")[0]))),R=x in Sl,R){if(this.styles.save(x),m==="string"&&f.substring(0,6)==="var(--"&&(f=yo(e,f.substring(4,f.indexOf(")"))),p=parseFloat(f)),S||(B=e._gsap,B.renderTransform&&!r.parseTransform||Vm(e,r.parseTransform),$=r.smoothOrigin!==!1&&B.smooth,S=this._pt=new gs(this._pt,a,ln,0,1,B.renderTransform,B,0,-1),S.dep=1),x==="scale")this._pt=new gs(this._pt,B,"scaleY",B.scaleY,(P?zf(B.scaleY,P+p):p)-B.scaleY||0,b_),this._pt.u=0,o.push("scaleY",x),x+="X";else if(x==="transformOrigin"){G.push(ys,0,a[ys]),f=Xre(f),B.svg?__(e,f,0,$,0,this):(E=parseFloat(f.split(" ")[2])||0,E!==B.zOrigin&&pc(this,B,"zOrigin",B.zOrigin,E),pc(this,a,x,jx(d),jx(f)));continue}else if(x==="svgOrigin"){__(e,f,1,$,0,this);continue}else if(x in y6){tne(this,B,x,g,P?zf(g,P+f):f);continue}else if(x==="smoothOrigin"){pc(this,B,"smooth",B.smooth,f);continue}else if(x==="force3D"){B[x]=f;continue}else if(x==="transform"){rne(this,f,e);continue}}else x in a||(x=ah(x)||x);if(R||(p||p===0)&&(g||g===0)&&!Lre.test(f)&&x in a)w=(d+"").substr((g+"").length),p||(p=0),E=Ti(f)||(x in Gs.units?Gs.units[x]:w),w!==E&&(g=Pc(e,x,d,E)),this._pt=new gs(this._pt,R?B:a,x,g,(P?zf(g,P+p):p)-g,!R&&(E==="px"||x==="zIndex")&&r.autoRound!==!1?Bre:b_),this._pt.u=E||0,w!==E&&E!=="%"&&(this._pt.b=d,this._pt.r=zre);else if(x in a)Jre.call(this,e,x,d,P?P+f:f);else if(x in e)this.add(e,x,d||e[x],P?P+f:f,i,s);else if(x!=="parseTransform"){ZS(x,f);continue}R||(x in a?G.push(x,0,a[x]):typeof e[x]=="function"?G.push(x,2,e[x]()):G.push(x,1,d||e[x])),o.push(x)}}q&&l6(this)},render:function(e,r){if(r.tween._time||!u2())for(var n=r._pt;n;)n.r(e,n.d),n=n._next;else r.styles.revert()},get:cl,aliases:Ra,getSetter:function(e,r,n){var i=Ra[r];return i&&i.indexOf(",")<0&&(r=i),r in Sl&&r!==ys&&(e._gsap.x||cl(e,"x"))?n&&cR===n?r==="scale"?Wre:Vre:(cR=n||{})&&(r==="scale"?qre:Hre):e.style&&!JS(e.style[r])?$re:~r.indexOf("-")?Ure:a2(e,r)},core:{_removeProperty:ad,_getMatrix:f2}};xs.utils.checkPrefix=ah;xs.core.getStyleSaver=h6;(function(t,e,r,n){var i=ms(t+","+e+","+r,function(s){Sl[s]=1});ms(e,function(s){Gs.units[s]="deg",y6[s]=1}),Ra[i[13]]=t+","+e,ms(n,function(s){var o=s.split(":");Ra[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");ms("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Gs.units[t]="px"});xs.registerPlugin(b6);var ul=xs.registerPlugin(b6)||xs;ul.core.Tween;function nne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ine(t,e,r){return e&&nne(t.prototype,e),t}/*!
 * Observer 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var li,W0,Ls,mc,gc,Uf,w6,Cu,Yp,k6,gl,Bo,_6,C6=function(){return li||typeof window<"u"&&(li=window.gsap)&&li.registerPlugin&&li},S6=1,Af=[],tr=[],La=[],Jp=Date.now,C_=function(e,r){return r},sne=function(){var e=Yp.core,r=e.bridge||{},n=e._scrollers,i=e._proxies;n.push.apply(n,tr),i.push.apply(i,La),tr=n,La=i,C_=function(o,a){return r[o](a)}},_c=function(e,r){return~La.indexOf(e)&&La[La.indexOf(e)+1][r]},Xp=function(e){return!!~k6.indexOf(e)},Bi=function(e,r,n,i,s){return e.addEventListener(r,n,{passive:i!==!1,capture:!!s})},zi=function(e,r,n,i){return e.removeEventListener(r,n,!!i)},Ky="scrollLeft",Yy="scrollTop",S_=function(){return gl&&gl.isPressed||tr.cache++},Px=function(e,r){var n=function i(s){if(s||s===0){S6&&(Ls.history.scrollRestoration="manual");var o=gl&&gl.isPressed;s=i.v=Math.round(s)||(gl&&gl.iOS?1:0),e(s),i.cacheID=tr.cache,o&&C_("ss",s)}else(r||tr.cache!==i.cacheID||C_("ref"))&&(i.cacheID=tr.cache,i.v=e());return i.v+i.offset};return n.offset=0,e&&n},Ki={s:Ky,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Px(function(t){return arguments.length?Ls.scrollTo(t,Wn.sc()):Ls.pageXOffset||mc[Ky]||gc[Ky]||Uf[Ky]||0})},Wn={s:Yy,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Ki,sc:Px(function(t){return arguments.length?Ls.scrollTo(Ki.sc(),t):Ls.pageYOffset||mc[Yy]||gc[Yy]||Uf[Yy]||0})},us=function(e,r){return(r&&r._ctx&&r._ctx.selector||li.utils.toArray)(e)[0]||(typeof e=="string"&&li.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},one=function(e,r){for(var n=r.length;n--;)if(r[n]===e||r[n].contains(e))return!0;return!1},Rc=function(e,r){var n=r.s,i=r.sc;Xp(e)&&(e=mc.scrollingElement||gc);var s=tr.indexOf(e),o=i===Wn.sc?1:2;!~s&&(s=tr.push(e)-1),tr[s+o]||Bi(e,"scroll",S_);var a=tr[s+o],c=a||(tr[s+o]=Px(_c(e,n),!0)||(Xp(e)?i:Px(function(d){return arguments.length?e[n]=d:e[n]})));return c.target=e,a||(c.smooth=li.getProperty(e,"scrollBehavior")==="smooth"),c},E_=function(e,r,n){var i=e,s=e,o=Jp(),a=o,c=r||50,d=Math.max(500,c*3),f=function(v,x){var w=Jp();x||w-o>c?(s=i,i=v,a=o,o=w):n?i+=v:i=s+(v-s)/(w-a)*(o-a)},p=function(){s=i=n?0:i,a=o=0},g=function(v){var x=a,w=s,E=Jp();return(v||v===0)&&v!==i&&f(v),o===a||E-a>d?0:(i+(n?w:-w))/((n?E:o)-x)*1e3};return{update:f,reset:p,getVelocity:g}},gp=function(e,r){return r&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},xR=function(e){var r=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(r)>=Math.abs(n)?r:n},E6=function(){Yp=li.core.globals().ScrollTrigger,Yp&&Yp.core&&sne()},T6=function(e){return li=e||C6(),!W0&&li&&typeof document<"u"&&document.body&&(Ls=window,mc=document,gc=mc.documentElement,Uf=mc.body,k6=[Ls,mc,gc,Uf],li.utils.clamp,_6=li.core.context||function(){},Cu="onpointerenter"in Uf?"pointer":"mouse",w6=_n.isTouch=Ls.matchMedia&&Ls.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Ls||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Bo=_n.eventTypes=("ontouchstart"in gc?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in gc?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return S6=0},500),E6(),W0=1),W0};Ki.op=Wn;tr.cache=0;var _n=function(){function t(r){this.init(r)}var e=t.prototype;return e.init=function(n){W0||T6(li)||console.warn("Please gsap.registerPlugin(Observer)"),Yp||E6();var i=n.tolerance,s=n.dragMinimum,o=n.type,a=n.target,c=n.lineHeight,d=n.debounce,f=n.preventDefault,p=n.onStop,g=n.onStopDelay,m=n.ignore,v=n.wheelSpeed,x=n.event,w=n.onDragStart,E=n.onDragEnd,P=n.onDrag,R=n.onPress,S=n.onRelease,B=n.onRight,$=n.onLeft,q=n.onUp,G=n.onDown,H=n.onChangeX,K=n.onChangeY,J=n.onChange,W=n.onToggleX,F=n.onToggleY,b=n.onHover,A=n.onHoverEnd,D=n.onMove,j=n.ignoreCheck,k=n.isNormalizer,M=n.onGestureStart,T=n.onGestureEnd,O=n.onWheel,N=n.onEnable,I=n.onDisable,Q=n.onClick,z=n.scrollSpeed,V=n.capture,Y=n.allowClicks,Z=n.lockAxis,ee=n.onLockAxis;this.target=a=us(a)||gc,this.vars=n,m&&(m=li.utils.toArray(m)),i=i||1e-9,s=s||0,v=v||1,z=z||1,o=o||"wheel,touch,pointer",d=d!==!1,c||(c=parseFloat(Ls.getComputedStyle(Uf).lineHeight)||22);var ae,ne,de,xe,me,Ce,ct,le=this,Ye=0,jt=0,it=n.passive||!f&&n.passive!==!1,De=Rc(a,Ki),Jt=Rc(a,Wn),st=De(),ft=Jt(),Ie=~o.indexOf("touch")&&!~o.indexOf("pointer")&&Bo[0]==="pointerdown",se=Xp(a),he=a.ownerDocument||mc,Le=[0,0,0],Ae=[0,0,0],Me=0,Gt=function(){return Me=Jp()},Xe=function(Be,ze){return(le.event=Be)&&m&&one(Be.target,m)||ze&&Ie&&Be.pointerType!=="touch"||j&&j(Be,ze)},_t=function(){le._vx.reset(),le._vy.reset(),ne.pause(),p&&p(le)},Wt=function(){var Be=le.deltaX=xR(Le),ze=le.deltaY=xR(Ae),we=Math.abs(Be)>=i,Ue=Math.abs(ze)>=i;J&&(we||Ue)&&J(le,Be,ze,Le,Ae),we&&(B&&le.deltaX>0&&B(le),$&&le.deltaX<0&&$(le),H&&H(le),W&&le.deltaX<0!=Ye<0&&W(le),Ye=le.deltaX,Le[0]=Le[1]=Le[2]=0),Ue&&(G&&le.deltaY>0&&G(le),q&&le.deltaY<0&&q(le),K&&K(le),F&&le.deltaY<0!=jt<0&&F(le),jt=le.deltaY,Ae[0]=Ae[1]=Ae[2]=0),(xe||de)&&(D&&D(le),de&&(w&&de===1&&w(le),P&&P(le),de=0),xe=!1),Ce&&!(Ce=!1)&&ee&&ee(le),me&&(O(le),me=!1),ae=0},Ct=function(Be,ze,we){Le[we]+=Be,Ae[we]+=ze,le._vx.update(Be),le._vy.update(ze),d?ae||(ae=requestAnimationFrame(Wt)):Wt()},rt=function(Be,ze){Z&&!ct&&(le.axis=ct=Math.abs(Be)>Math.abs(ze)?"x":"y",Ce=!0),ct!=="y"&&(Le[2]+=Be,le._vx.update(Be,!0)),ct!=="x"&&(Ae[2]+=ze,le._vy.update(ze,!0)),d?ae||(ae=requestAnimationFrame(Wt)):Wt()},Xt=function(Be){if(!Xe(Be,1)){Be=gp(Be,f);var ze=Be.clientX,we=Be.clientY,Ue=ze-le.x,Te=we-le.y,Oe=le.isDragging;le.x=ze,le.y=we,(Oe||(Ue||Te)&&(Math.abs(le.startX-ze)>=s||Math.abs(le.startY-we)>=s))&&(de=Oe?2:1,Oe||(le.isDragging=!0),rt(Ue,Te))}},xt=le.onPress=function(Re){Xe(Re,1)||Re&&Re.button||(le.axis=ct=null,ne.pause(),le.isPressed=!0,Re=gp(Re),Ye=jt=0,le.startX=le.x=Re.clientX,le.startY=le.y=Re.clientY,le._vx.reset(),le._vy.reset(),Bi(k?a:he,Bo[1],Xt,it,!0),le.deltaX=le.deltaY=0,R&&R(le))},Fe=le.onRelease=function(Re){if(!Xe(Re,1)){zi(k?a:he,Bo[1],Xt,!0);var Be=!isNaN(le.y-le.startY),ze=le.isDragging,we=ze&&(Math.abs(le.x-le.startX)>3||Math.abs(le.y-le.startY)>3),Ue=gp(Re);!we&&Be&&(le._vx.reset(),le._vy.reset(),f&&Y&&li.delayedCall(.08,function(){if(Jp()-Me>300&&!Re.defaultPrevented){if(Re.target.click)Re.target.click();else if(he.createEvent){var Te=he.createEvent("MouseEvents");Te.initMouseEvent("click",!0,!0,Ls,1,Ue.screenX,Ue.screenY,Ue.clientX,Ue.clientY,!1,!1,!1,!1,0,null),Re.target.dispatchEvent(Te)}}})),le.isDragging=le.isGesturing=le.isPressed=!1,p&&ze&&!k&&ne.restart(!0),de&&Wt(),E&&ze&&E(le),S&&S(le,we)}},Vr=function(Be){return Be.touches&&Be.touches.length>1&&(le.isGesturing=!0)&&M(Be,le.isDragging)},Tt=function(){return(le.isGesturing=!1)||T(le)},St=function(Be){if(!Xe(Be)){var ze=De(),we=Jt();Ct((ze-st)*z,(we-ft)*z,1),st=ze,ft=we,p&&ne.restart(!0)}},pr=function(Be){if(!Xe(Be)){Be=gp(Be,f),O&&(me=!0);var ze=(Be.deltaMode===1?c:Be.deltaMode===2?Ls.innerHeight:1)*v;Ct(Be.deltaX*ze,Be.deltaY*ze,0),p&&!k&&ne.restart(!0)}},qt=function(Be){if(!Xe(Be)){var ze=Be.clientX,we=Be.clientY,Ue=ze-le.x,Te=we-le.y;le.x=ze,le.y=we,xe=!0,p&&ne.restart(!0),(Ue||Te)&&rt(Ue,Te)}},Pe=function(Be){le.event=Be,b(le)},yt=function(Be){le.event=Be,A(le)},ot=function(Be){return Xe(Be)||gp(Be,f)&&Q(le)};ne=le._dc=li.delayedCall(g||.25,_t).pause(),le.deltaX=le.deltaY=0,le._vx=E_(0,50,!0),le._vy=E_(0,50,!0),le.scrollX=De,le.scrollY=Jt,le.isDragging=le.isGesturing=le.isPressed=!1,_6(this),le.enable=function(Re){return le.isEnabled||(Bi(se?he:a,"scroll",S_),o.indexOf("scroll")>=0&&Bi(se?he:a,"scroll",St,it,V),o.indexOf("wheel")>=0&&Bi(a,"wheel",pr,it,V),(o.indexOf("touch")>=0&&w6||o.indexOf("pointer")>=0)&&(Bi(a,Bo[0],xt,it,V),Bi(he,Bo[2],Fe),Bi(he,Bo[3],Fe),Y&&Bi(a,"click",Gt,!0,!0),Q&&Bi(a,"click",ot),M&&Bi(he,"gesturestart",Vr),T&&Bi(he,"gestureend",Tt),b&&Bi(a,Cu+"enter",Pe),A&&Bi(a,Cu+"leave",yt),D&&Bi(a,Cu+"move",qt)),le.isEnabled=!0,le.isDragging=le.isGesturing=le.isPressed=xe=de=!1,le._vx.reset(),le._vy.reset(),st=De(),ft=Jt(),Re&&Re.type&&xt(Re),N&&N(le)),le},le.disable=function(){le.isEnabled&&(Af.filter(function(Re){return Re!==le&&Xp(Re.target)}).length||zi(se?he:a,"scroll",S_),le.isPressed&&(le._vx.reset(),le._vy.reset(),zi(k?a:he,Bo[1],Xt,!0)),zi(se?he:a,"scroll",St,V),zi(a,"wheel",pr,V),zi(a,Bo[0],xt,V),zi(he,Bo[2],Fe),zi(he,Bo[3],Fe),zi(a,"click",Gt,!0),zi(a,"click",ot),zi(he,"gesturestart",Vr),zi(he,"gestureend",Tt),zi(a,Cu+"enter",Pe),zi(a,Cu+"leave",yt),zi(a,Cu+"move",qt),le.isEnabled=le.isPressed=le.isDragging=!1,I&&I(le))},le.kill=le.revert=function(){le.disable();var Re=Af.indexOf(le);Re>=0&&Af.splice(Re,1),gl===le&&(gl=0)},Af.push(le),k&&Xp(a)&&(gl=le),le.enable(x)},ine(t,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),t}();_n.version="3.13.0";_n.create=function(t){return new _n(t)};_n.register=T6;_n.getAll=function(){return Af.slice()};_n.getById=function(t){return Af.filter(function(e){return e.vars.id===t})[0]};C6()&&li.registerPlugin(_n);/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Qe,df,er,$r,Ds,Er,h2,Rx,Wm,Qp,jp,Jy,ki,Nv,T_,Vi,vR,bR,ff,N6,A1,A6,Ui,N_,j6,P6,sc,A_,p2,Vf,m2,Ix,j_,j1,Xy=1,_i=Date.now,P1=_i(),bo=0,Pp=0,wR=function(e,r,n){var i=Ns(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return n["_"+r+"Clamp"]=i,i?e.substr(6,e.length-7):e},kR=function(e,r){return r&&(!Ns(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},ane=function t(){return Pp&&requestAnimationFrame(t)},_R=function(){return Nv=1},CR=function(){return Nv=0},Sa=function(e){return e},Rp=function(e){return Math.round(e*1e5)/1e5||0},R6=function(){return typeof window<"u"},I6=function(){return Qe||R6()&&(Qe=window.gsap)&&Qe.registerPlugin&&Qe},ld=function(e){return!!~h2.indexOf(e)},M6=function(e){return(e==="Height"?m2:er["inner"+e])||Ds["client"+e]||Er["client"+e]},D6=function(e){return _c(e,"getBoundingClientRect")||(ld(e)?function(){return Y0.width=er.innerWidth,Y0.height=m2,Y0}:function(){return hl(e)})},lne=function(e,r,n){var i=n.d,s=n.d2,o=n.a;return(o=_c(e,"getBoundingClientRect"))?function(){return o()[i]}:function(){return(r?M6(s):e["client"+s])||0}},cne=function(e,r){return!r||~La.indexOf(e)?D6(e):function(){return Y0}},Ia=function(e,r){var n=r.s,i=r.d2,s=r.d,o=r.a;return Math.max(0,(n="scroll"+i)&&(o=_c(e,n))?o()-D6(e)()[s]:ld(e)?(Ds[n]||Er[n])-M6(i):e[n]-e["offset"+i])},Qy=function(e,r){for(var n=0;n<ff.length;n+=3)(!r||~r.indexOf(ff[n+1]))&&e(ff[n],ff[n+1],ff[n+2])},Ns=function(e){return typeof e=="string"},Ni=function(e){return typeof e=="function"},Ip=function(e){return typeof e=="number"},Su=function(e){return typeof e=="object"},yp=function(e,r,n){return e&&e.progress(r?0:1)&&n&&e.pause()},R1=function(e,r){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return r(e)}):r(e);n&&n.totalTime&&(e.callbackAnimation=n)}},Zd=Math.abs,O6="left",L6="top",g2="right",y2="bottom",qu="width",Hu="height",Zp="Right",em="Left",tm="Top",rm="Bottom",Pn="padding",co="margin",lh="Width",x2="Height",Vn="px",uo=function(e){return er.getComputedStyle(e)},une=function(e){var r=uo(e).position;e.style.position=r==="absolute"||r==="fixed"?r:"relative"},SR=function(e,r){for(var n in r)n in e||(e[n]=r[n]);return e},hl=function(e,r){var n=r&&uo(e)[T_]!=="matrix(1, 0, 0, 1, 0, 0)"&&Qe.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=e.getBoundingClientRect();return n&&n.progress(0).kill(),i},Mx=function(e,r){var n=r.d2;return e["offset"+n]||e["client"+n]||0},F6=function(e){var r=[],n=e.labels,i=e.duration(),s;for(s in n)r.push(n[s]/i);return r},dne=function(e){return function(r){return Qe.utils.snap(F6(e),r)}},v2=function(e){var r=Qe.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(i,s){return i-s});return n?function(i,s,o){o===void 0&&(o=.001);var a;if(!s)return r(i);if(s>0){for(i-=o,a=0;a<n.length;a++)if(n[a]>=i)return n[a];return n[a-1]}else for(a=n.length,i+=o;a--;)if(n[a]<=i)return n[a];return n[0]}:function(i,s,o){o===void 0&&(o=.001);var a=r(i);return!s||Math.abs(a-i)<o||a-i<0==s<0?a:r(s<0?i-e:i+e)}},fne=function(e){return function(r,n){return v2(F6(e))(r,n.direction)}},Zy=function(e,r,n,i){return n.split(",").forEach(function(s){return e(r,s,i)})},Xn=function(e,r,n,i,s){return e.addEventListener(r,n,{passive:!i,capture:!!s})},Jn=function(e,r,n,i){return e.removeEventListener(r,n,!!i)},e0=function(e,r,n){n=n&&n.wheelHandler,n&&(e(r,"wheel",n),e(r,"touchmove",n))},ER={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},t0={toggleActions:"play",anticipatePin:0},Dx={top:0,left:0,center:.5,bottom:1,right:1},q0=function(e,r){if(Ns(e)){var n=e.indexOf("="),i=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(i*=r/100),e=e.substr(0,n-1)),e=i+(e in Dx?Dx[e]*r:~e.indexOf("%")?parseFloat(e)*r/100:parseFloat(e)||0)}return e},r0=function(e,r,n,i,s,o,a,c){var d=s.startColor,f=s.endColor,p=s.fontSize,g=s.indent,m=s.fontWeight,v=$r.createElement("div"),x=ld(n)||_c(n,"pinType")==="fixed",w=e.indexOf("scroller")!==-1,E=x?Er:n,P=e.indexOf("start")!==-1,R=P?d:f,S="border-color:"+R+";font-size:"+p+";color:"+R+";font-weight:"+m+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return S+="position:"+((w||c)&&x?"fixed;":"absolute;"),(w||c||!x)&&(S+=(i===Wn?g2:y2)+":"+(o+parseFloat(g))+"px;"),a&&(S+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),v._isStart=P,v.setAttribute("class","gsap-marker-"+e+(r?" marker-"+r:"")),v.style.cssText=S,v.innerText=r||r===0?e+"-"+r:e,E.children[0]?E.insertBefore(v,E.children[0]):E.appendChild(v),v._offset=v["offset"+i.op.d2],H0(v,0,i,P),v},H0=function(e,r,n,i){var s={display:"block"},o=n[i?"os2":"p2"],a=n[i?"p2":"os2"];e._isFlipped=i,s[n.a+"Percent"]=i?-100:0,s[n.a]=i?"1px":0,s["border"+o+lh]=1,s["border"+a+lh]=0,s[n.p]=r+"px",Qe.set(e,s)},Kt=[],P_={},qm,TR=function(){return _i()-bo>34&&(qm||(qm=requestAnimationFrame(vl)))},ef=function(){(!Ui||!Ui.isPressed||Ui.startX>Er.clientWidth)&&(tr.cache++,Ui?qm||(qm=requestAnimationFrame(vl)):vl(),bo||ud("scrollStart"),bo=_i())},I1=function(){P6=er.innerWidth,j6=er.innerHeight},Mp=function(e){tr.cache++,(e===!0||!ki&&!A6&&!$r.fullscreenElement&&!$r.webkitFullscreenElement&&(!N_||P6!==er.innerWidth||Math.abs(er.innerHeight-j6)>er.innerHeight*.25))&&Rx.restart(!0)},cd={},hne=[],z6=function t(){return Jn(rr,"scrollEnd",t)||Du(!0)},ud=function(e){return cd[e]&&cd[e].map(function(r){return r()})||hne},Ts=[],B6=function(e){for(var r=0;r<Ts.length;r+=5)(!e||Ts[r+4]&&Ts[r+4].query===e)&&(Ts[r].style.cssText=Ts[r+1],Ts[r].getBBox&&Ts[r].setAttribute("transform",Ts[r+2]||""),Ts[r+3].uncache=1)},b2=function(e,r){var n;for(Vi=0;Vi<Kt.length;Vi++)n=Kt[Vi],n&&(!r||n._ctx===r)&&(e?n.kill(1):n.revert(!0,!0));Ix=!0,r&&B6(r),r||ud("revert")},$6=function(e,r){tr.cache++,(r||!Wi)&&tr.forEach(function(n){return Ni(n)&&n.cacheID++&&(n.rec=0)}),Ns(e)&&(er.history.scrollRestoration=p2=e)},Wi,Gu=0,NR,pne=function(){if(NR!==Gu){var e=NR=Gu;requestAnimationFrame(function(){return e===Gu&&Du(!0)})}},U6=function(){Er.appendChild(Vf),m2=!Ui&&Vf.offsetHeight||er.innerHeight,Er.removeChild(Vf)},AR=function(e){return Wm(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(r){return r.style.display=e?"none":"block"})},Du=function(e,r){if(Ds=$r.documentElement,Er=$r.body,h2=[er,$r,Ds,Er],bo&&!e&&!Ix){Xn(rr,"scrollEnd",z6);return}U6(),Wi=rr.isRefreshing=!0,tr.forEach(function(i){return Ni(i)&&++i.cacheID&&(i.rec=i())});var n=ud("refreshInit");N6&&rr.sort(),r||b2(),tr.forEach(function(i){Ni(i)&&(i.smooth&&(i.target.style.scrollBehavior="auto"),i(0))}),Kt.slice(0).forEach(function(i){return i.refresh()}),Ix=!1,Kt.forEach(function(i){if(i._subPinOffset&&i.pin){var s=i.vars.horizontal?"offsetWidth":"offsetHeight",o=i.pin[s];i.revert(!0,1),i.adjustPinSpacing(i.pin[s]-o),i.refresh()}}),j_=1,AR(!0),Kt.forEach(function(i){var s=Ia(i.scroller,i._dir),o=i.vars.end==="max"||i._endClamp&&i.end>s,a=i._startClamp&&i.start>=s;(o||a)&&i.setPositions(a?s-1:i.start,o?Math.max(a?s:i.start+1,s):i.end,!0)}),AR(!1),j_=0,n.forEach(function(i){return i&&i.render&&i.render(-1)}),tr.forEach(function(i){Ni(i)&&(i.smooth&&requestAnimationFrame(function(){return i.target.style.scrollBehavior="smooth"}),i.rec&&i(i.rec))}),$6(p2,1),Rx.pause(),Gu++,Wi=2,vl(2),Kt.forEach(function(i){return Ni(i.vars.onRefresh)&&i.vars.onRefresh(i)}),Wi=rr.isRefreshing=!1,ud("refresh")},R_=0,G0=1,nm,vl=function(e){if(e===2||!Wi&&!Ix){rr.isUpdating=!0,nm&&nm.update(0);var r=Kt.length,n=_i(),i=n-P1>=50,s=r&&Kt[0].scroll();if(G0=R_>s?-1:1,Wi||(R_=s),i&&(bo&&!Nv&&n-bo>200&&(bo=0,ud("scrollEnd")),jp=P1,P1=n),G0<0){for(Vi=r;Vi-- >0;)Kt[Vi]&&Kt[Vi].update(0,i);G0=1}else for(Vi=0;Vi<r;Vi++)Kt[Vi]&&Kt[Vi].update(0,i);rr.isUpdating=!1}qm=0},I_=[O6,L6,y2,g2,co+rm,co+Zp,co+tm,co+em,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],K0=I_.concat([qu,Hu,"boxSizing","max"+lh,"max"+x2,"position",co,Pn,Pn+tm,Pn+Zp,Pn+rm,Pn+em]),mne=function(e,r,n){Wf(n);var i=e._gsap;if(i.spacerIsNative)Wf(i.spacerState);else if(e._gsap.swappedIn){var s=r.parentNode;s&&(s.insertBefore(e,r),s.removeChild(r))}e._gsap.swappedIn=!1},M1=function(e,r,n,i){if(!e._gsap.swappedIn){for(var s=I_.length,o=r.style,a=e.style,c;s--;)c=I_[s],o[c]=n[c];o.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(o.display="inline-block"),a[y2]=a[g2]="auto",o.flexBasis=n.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[qu]=Mx(e,Ki)+Vn,o[Hu]=Mx(e,Wn)+Vn,o[Pn]=a[co]=a[L6]=a[O6]="0",Wf(i),a[qu]=a["max"+lh]=n[qu],a[Hu]=a["max"+x2]=n[Hu],a[Pn]=n[Pn],e.parentNode!==r&&(e.parentNode.insertBefore(r,e),r.appendChild(e)),e._gsap.swappedIn=!0}},gne=/([A-Z])/g,Wf=function(e){if(e){var r=e.t.style,n=e.length,i=0,s,o;for((e.t._gsap||Qe.core.getCache(e.t)).uncache=1;i<n;i+=2)o=e[i+1],s=e[i],o?r[s]=o:r[s]&&r.removeProperty(s.replace(gne,"-$1").toLowerCase())}},n0=function(e){for(var r=K0.length,n=e.style,i=[],s=0;s<r;s++)i.push(K0[s],n[K0[s]]);return i.t=e,i},yne=function(e,r,n){for(var i=[],s=e.length,o=n?8:0,a;o<s;o+=2)a=e[o],i.push(a,a in r?r[a]:e[o+1]);return i.t=e.t,i},Y0={left:0,top:0},jR=function(e,r,n,i,s,o,a,c,d,f,p,g,m,v){Ni(e)&&(e=e(c)),Ns(e)&&e.substr(0,3)==="max"&&(e=g+(e.charAt(4)==="="?q0("0"+e.substr(3),n):0));var x=m?m.time():0,w,E,P;if(m&&m.seek(0),isNaN(e)||(e=+e),Ip(e))m&&(e=Qe.utils.mapRange(m.scrollTrigger.start,m.scrollTrigger.end,0,g,e)),a&&H0(a,n,i,!0);else{Ni(r)&&(r=r(c));var R=(e||"0").split(" "),S,B,$,q;P=us(r,c)||Er,S=hl(P)||{},(!S||!S.left&&!S.top)&&uo(P).display==="none"&&(q=P.style.display,P.style.display="block",S=hl(P),q?P.style.display=q:P.style.removeProperty("display")),B=q0(R[0],S[i.d]),$=q0(R[1]||"0",n),e=S[i.p]-d[i.p]-f+B+s-$,a&&H0(a,$,i,n-$<20||a._isStart&&$>20),n-=n-$}if(v&&(c[v]=e||-.001,e<0&&(e=0)),o){var G=e+n,H=o._isStart;w="scroll"+i.d2,H0(o,G,i,H&&G>20||!H&&(p?Math.max(Er[w],Ds[w]):o.parentNode[w])<=G+1),p&&(d=hl(a),p&&(o.style[i.op.p]=d[i.op.p]-i.op.m-o._offset+Vn))}return m&&P&&(w=hl(P),m.seek(g),E=hl(P),m._caScrollDist=w[i.p]-E[i.p],e=e/m._caScrollDist*g),m&&m.seek(x),m?e:Math.round(e)},xne=/(webkit|moz|length|cssText|inset)/i,PR=function(e,r,n,i){if(e.parentNode!==r){var s=e.style,o,a;if(r===Er){e._stOrig=s.cssText,a=uo(e);for(o in a)!+o&&!xne.test(o)&&a[o]&&typeof s[o]=="string"&&o!=="0"&&(s[o]=a[o]);s.top=n,s.left=i}else s.cssText=e._stOrig;Qe.core.getCache(e).uncache=1,r.appendChild(e)}},V6=function(e,r,n){var i=r,s=i;return function(o){var a=Math.round(e());return a!==i&&a!==s&&Math.abs(a-i)>3&&Math.abs(a-s)>3&&(o=a,n&&n()),s=i,i=Math.round(o),i}},i0=function(e,r,n){var i={};i[r.p]="+="+n,Qe.set(e,i)},RR=function(e,r){var n=Rc(e,r),i="_scroll"+r.p2,s=function o(a,c,d,f,p){var g=o.tween,m=c.onComplete,v={};d=d||n();var x=V6(n,d,function(){g.kill(),o.tween=0});return p=f&&p||0,f=f||a-d,g&&g.kill(),c[i]=a,c.inherit=!1,c.modifiers=v,v[i]=function(){return x(d+f*g.ratio+p*g.ratio*g.ratio)},c.onUpdate=function(){tr.cache++,o.tween&&vl()},c.onComplete=function(){o.tween=0,m&&m.call(g)},g=o.tween=Qe.to(e,c),g};return e[i]=n,n.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},Xn(e,"wheel",n.wheelHandler),rr.isTouch&&Xn(e,"touchmove",n.wheelHandler),s},rr=function(){function t(r,n){df||t.register(Qe)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),A_(this),this.init(r,n)}var e=t.prototype;return e.init=function(n,i){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Pp){this.update=this.refresh=this.kill=Sa;return}n=SR(Ns(n)||Ip(n)||n.nodeType?{trigger:n}:n,t0);var s=n,o=s.onUpdate,a=s.toggleClass,c=s.id,d=s.onToggle,f=s.onRefresh,p=s.scrub,g=s.trigger,m=s.pin,v=s.pinSpacing,x=s.invalidateOnRefresh,w=s.anticipatePin,E=s.onScrubComplete,P=s.onSnapComplete,R=s.once,S=s.snap,B=s.pinReparent,$=s.pinSpacer,q=s.containerAnimation,G=s.fastScrollEnd,H=s.preventOverlaps,K=n.horizontal||n.containerAnimation&&n.horizontal!==!1?Ki:Wn,J=!p&&p!==0,W=us(n.scroller||er),F=Qe.core.getCache(W),b=ld(W),A=("pinType"in n?n.pinType:_c(W,"pinType")||b&&"fixed")==="fixed",D=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],j=J&&n.toggleActions.split(" "),k="markers"in n?n.markers:t0.markers,M=b?0:parseFloat(uo(W)["border"+K.p2+lh])||0,T=this,O=n.onRefreshInit&&function(){return n.onRefreshInit(T)},N=lne(W,b,K),I=cne(W,b),Q=0,z=0,V=0,Y=Rc(W,K),Z,ee,ae,ne,de,xe,me,Ce,ct,le,Ye,jt,it,De,Jt,st,ft,Ie,se,he,Le,Ae,Me,Gt,Xe,_t,Wt,Ct,rt,Xt,xt,Fe,Vr,Tt,St,pr,qt,Pe,yt;if(T._startClamp=T._endClamp=!1,T._dir=K,w*=45,T.scroller=W,T.scroll=q?q.time.bind(q):Y,ne=Y(),T.vars=n,i=i||n.animation,"refreshPriority"in n&&(N6=1,n.refreshPriority===-9999&&(nm=T)),F.tweenScroll=F.tweenScroll||{top:RR(W,Wn),left:RR(W,Ki)},T.tweenTo=Z=F.tweenScroll[K.p],T.scrubDuration=function(we){Vr=Ip(we)&&we,Vr?Fe?Fe.duration(we):Fe=Qe.to(i,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Vr,paused:!0,onComplete:function(){return E&&E(T)}}):(Fe&&Fe.progress(1).kill(),Fe=0)},i&&(i.vars.lazy=!1,i._initted&&!T.isReverted||i.vars.immediateRender!==!1&&n.immediateRender!==!1&&i.duration()&&i.render(0,!0,!0),T.animation=i.pause(),i.scrollTrigger=T,T.scrubDuration(p),Xt=0,c||(c=i.vars.id)),S&&((!Su(S)||S.push)&&(S={snapTo:S}),"scrollBehavior"in Er.style&&Qe.set(b?[Er,Ds]:W,{scrollBehavior:"auto"}),tr.forEach(function(we){return Ni(we)&&we.target===(b?$r.scrollingElement||Ds:W)&&(we.smooth=!1)}),ae=Ni(S.snapTo)?S.snapTo:S.snapTo==="labels"?dne(i):S.snapTo==="labelsDirectional"?fne(i):S.directional!==!1?function(we,Ue){return v2(S.snapTo)(we,_i()-z<500?0:Ue.direction)}:Qe.utils.snap(S.snapTo),Tt=S.duration||{min:.1,max:2},Tt=Su(Tt)?Qp(Tt.min,Tt.max):Qp(Tt,Tt),St=Qe.delayedCall(S.delay||Vr/2||.1,function(){var we=Y(),Ue=_i()-z<500,Te=Z.tween;if((Ue||Math.abs(T.getVelocity())<10)&&!Te&&!Nv&&Q!==we){var Oe=(we-xe)/De,mr=i&&!J?i.totalProgress():Oe,Ge=Ue?0:(mr-xt)/(_i()-jp)*1e3||0,pt=Qe.utils.clamp(-Oe,1-Oe,Zd(Ge/2)*Ge/.185),Nr=Oe+(S.inertia===!1?0:pt),vt,mt,Ot=S,zt=Ot.onStart,gt=Ot.onInterrupt,Mr=Ot.onComplete;if(vt=ae(Nr,T),Ip(vt)||(vt=Nr),mt=Math.max(0,Math.round(xe+vt*De)),we<=me&&we>=xe&&mt!==we){if(Te&&!Te._initted&&Te.data<=Zd(mt-we))return;S.inertia===!1&&(pt=vt-Oe),Z(mt,{duration:Tt(Zd(Math.max(Zd(Nr-mr),Zd(vt-mr))*.185/Ge/.05||0)),ease:S.ease||"power3",data:Zd(mt-we),onInterrupt:function(){return St.restart(!0)&&gt&&gt(T)},onComplete:function(){T.update(),Q=Y(),i&&!J&&(Fe?Fe.resetTo("totalProgress",vt,i._tTime/i._tDur):i.progress(vt)),Xt=xt=i&&!J?i.totalProgress():T.progress,P&&P(T),Mr&&Mr(T)}},we,pt*De,mt-we-pt*De),zt&&zt(T,Z.tween)}}else T.isActive&&Q!==we&&St.restart(!0)}).pause()),c&&(P_[c]=T),g=T.trigger=us(g||m!==!0&&m),yt=g&&g._gsap&&g._gsap.stRevert,yt&&(yt=yt(T)),m=m===!0?g:us(m),Ns(a)&&(a={targets:g,className:a}),m&&(v===!1||v===co||(v=!v&&m.parentNode&&m.parentNode.style&&uo(m.parentNode).display==="flex"?!1:Pn),T.pin=m,ee=Qe.core.getCache(m),ee.spacer?Jt=ee.pinState:($&&($=us($),$&&!$.nodeType&&($=$.current||$.nativeElement),ee.spacerIsNative=!!$,$&&(ee.spacerState=n0($))),ee.spacer=Ie=$||$r.createElement("div"),Ie.classList.add("pin-spacer"),c&&Ie.classList.add("pin-spacer-"+c),ee.pinState=Jt=n0(m)),n.force3D!==!1&&Qe.set(m,{force3D:!0}),T.spacer=Ie=ee.spacer,rt=uo(m),Gt=rt[v+K.os2],he=Qe.getProperty(m),Le=Qe.quickSetter(m,K.a,Vn),M1(m,Ie,rt),ft=n0(m)),k){jt=Su(k)?SR(k,ER):ER,le=r0("scroller-start",c,W,K,jt,0),Ye=r0("scroller-end",c,W,K,jt,0,le),se=le["offset"+K.op.d2];var ot=us(_c(W,"content")||W);Ce=this.markerStart=r0("start",c,ot,K,jt,se,0,q),ct=this.markerEnd=r0("end",c,ot,K,jt,se,0,q),q&&(Pe=Qe.quickSetter([Ce,ct],K.a,Vn)),!A&&!(La.length&&_c(W,"fixedMarkers")===!0)&&(une(b?Er:W),Qe.set([le,Ye],{force3D:!0}),_t=Qe.quickSetter(le,K.a,Vn),Ct=Qe.quickSetter(Ye,K.a,Vn))}if(q){var Re=q.vars.onUpdate,Be=q.vars.onUpdateParams;q.eventCallback("onUpdate",function(){T.update(0,0,1),Re&&Re.apply(q,Be||[])})}if(T.previous=function(){return Kt[Kt.indexOf(T)-1]},T.next=function(){return Kt[Kt.indexOf(T)+1]},T.revert=function(we,Ue){if(!Ue)return T.kill(!0);var Te=we!==!1||!T.enabled,Oe=ki;Te!==T.isReverted&&(Te&&(pr=Math.max(Y(),T.scroll.rec||0),V=T.progress,qt=i&&i.progress()),Ce&&[Ce,ct,le,Ye].forEach(function(mr){return mr.style.display=Te?"none":"block"}),Te&&(ki=T,T.update(Te)),m&&(!B||!T.isActive)&&(Te?mne(m,Ie,Jt):M1(m,Ie,uo(m),Xe)),Te||T.update(Te),ki=Oe,T.isReverted=Te)},T.refresh=function(we,Ue,Te,Oe){if(!((ki||!T.enabled)&&!Ue)){if(m&&we&&bo){Xn(t,"scrollEnd",z6);return}!Wi&&O&&O(T),ki=T,Z.tween&&!Te&&(Z.tween.kill(),Z.tween=0),Fe&&Fe.pause(),x&&i&&(i.revert({kill:!1}).invalidate(),i.getChildren&&i.getChildren(!0,!0,!1).forEach(function(mi){return mi.vars.immediateRender&&mi.render(0,!0,!0)})),T.isReverted||T.revert(!0,!0),T._subPinOffset=!1;var mr=N(),Ge=I(),pt=q?q.duration():Ia(W,K),Nr=De<=.01||!De,vt=0,mt=Oe||0,Ot=Su(Te)?Te.end:n.end,zt=n.endTrigger||g,gt=Su(Te)?Te.start:n.start||(n.start===0||!g?0:m?"0 0":"0 100%"),Mr=T.pinnedContainer=n.pinnedContainer&&us(n.pinnedContainer,T),Gr=g&&Math.max(0,Kt.indexOf(T))||0,vr=Gr,kr,_r,Di,Qi,Lt,Sr,zn,To,hi,pi,Zr,Hn,mn;for(k&&Su(Te)&&(Hn=Qe.getProperty(le,K.p),mn=Qe.getProperty(Ye,K.p));vr-- >0;)Sr=Kt[vr],Sr.end||Sr.refresh(0,1)||(ki=T),zn=Sr.pin,zn&&(zn===g||zn===m||zn===Mr)&&!Sr.isReverted&&(pi||(pi=[]),pi.unshift(Sr),Sr.revert(!0,!0)),Sr!==Kt[vr]&&(Gr--,vr--);for(Ni(gt)&&(gt=gt(T)),gt=wR(gt,"start",T),xe=jR(gt,g,mr,K,Y(),Ce,le,T,Ge,M,A,pt,q,T._startClamp&&"_startClamp")||(m?-.001:0),Ni(Ot)&&(Ot=Ot(T)),Ns(Ot)&&!Ot.indexOf("+=")&&(~Ot.indexOf(" ")?Ot=(Ns(gt)?gt.split(" ")[0]:"")+Ot:(vt=q0(Ot.substr(2),mr),Ot=Ns(gt)?gt:(q?Qe.utils.mapRange(0,q.duration(),q.scrollTrigger.start,q.scrollTrigger.end,xe):xe)+vt,zt=g)),Ot=wR(Ot,"end",T),me=Math.max(xe,jR(Ot||(zt?"100% 0":pt),zt,mr,K,Y()+vt,ct,Ye,T,Ge,M,A,pt,q,T._endClamp&&"_endClamp"))||-.001,vt=0,vr=Gr;vr--;)Sr=Kt[vr],zn=Sr.pin,zn&&Sr.start-Sr._pinPush<=xe&&!q&&Sr.end>0&&(kr=Sr.end-(T._startClamp?Math.max(0,Sr.start):Sr.start),(zn===g&&Sr.start-Sr._pinPush<xe||zn===Mr)&&isNaN(gt)&&(vt+=kr*(1-Sr.progress)),zn===m&&(mt+=kr));if(xe+=vt,me+=vt,T._startClamp&&(T._startClamp+=vt),T._endClamp&&!Wi&&(T._endClamp=me||-.001,me=Math.min(me,Ia(W,K))),De=me-xe||(xe-=.01)&&.001,Nr&&(V=Qe.utils.clamp(0,1,Qe.utils.normalize(xe,me,pr))),T._pinPush=mt,Ce&&vt&&(kr={},kr[K.a]="+="+vt,Mr&&(kr[K.p]="-="+Y()),Qe.set([Ce,ct],kr)),m&&!(j_&&T.end>=Ia(W,K)))kr=uo(m),Qi=K===Wn,Di=Y(),Ae=parseFloat(he(K.a))+mt,!pt&&me>1&&(Zr=(b?$r.scrollingElement||Ds:W).style,Zr={style:Zr,value:Zr["overflow"+K.a.toUpperCase()]},b&&uo(Er)["overflow"+K.a.toUpperCase()]!=="scroll"&&(Zr.style["overflow"+K.a.toUpperCase()]="scroll")),M1(m,Ie,kr),ft=n0(m),_r=hl(m,!0),To=A&&Rc(W,Qi?Ki:Wn)(),v?(Xe=[v+K.os2,De+mt+Vn],Xe.t=Ie,vr=v===Pn?Mx(m,K)+De+mt:0,vr&&(Xe.push(K.d,vr+Vn),Ie.style.flexBasis!=="auto"&&(Ie.style.flexBasis=vr+Vn)),Wf(Xe),Mr&&Kt.forEach(function(mi){mi.pin===Mr&&mi.vars.pinSpacing!==!1&&(mi._subPinOffset=!0)}),A&&Y(pr)):(vr=Mx(m,K),vr&&Ie.style.flexBasis!=="auto"&&(Ie.style.flexBasis=vr+Vn)),A&&(Lt={top:_r.top+(Qi?Di-xe:To)+Vn,left:_r.left+(Qi?To:Di-xe)+Vn,boxSizing:"border-box",position:"fixed"},Lt[qu]=Lt["max"+lh]=Math.ceil(_r.width)+Vn,Lt[Hu]=Lt["max"+x2]=Math.ceil(_r.height)+Vn,Lt[co]=Lt[co+tm]=Lt[co+Zp]=Lt[co+rm]=Lt[co+em]="0",Lt[Pn]=kr[Pn],Lt[Pn+tm]=kr[Pn+tm],Lt[Pn+Zp]=kr[Pn+Zp],Lt[Pn+rm]=kr[Pn+rm],Lt[Pn+em]=kr[Pn+em],st=yne(Jt,Lt,B),Wi&&Y(0)),i?(hi=i._initted,A1(1),i.render(i.duration(),!0,!0),Me=he(K.a)-Ae+De+mt,Wt=Math.abs(De-Me)>1,A&&Wt&&st.splice(st.length-2,2),i.render(0,!0,!0),hi||i.invalidate(!0),i.parent||i.totalTime(i.totalTime()),A1(0)):Me=De,Zr&&(Zr.value?Zr.style["overflow"+K.a.toUpperCase()]=Zr.value:Zr.style.removeProperty("overflow-"+K.a));else if(g&&Y()&&!q)for(_r=g.parentNode;_r&&_r!==Er;)_r._pinOffset&&(xe-=_r._pinOffset,me-=_r._pinOffset),_r=_r.parentNode;pi&&pi.forEach(function(mi){return mi.revert(!1,!0)}),T.start=xe,T.end=me,ne=de=Wi?pr:Y(),!q&&!Wi&&(ne<pr&&Y(pr),T.scroll.rec=0),T.revert(!1,!0),z=_i(),St&&(Q=-1,St.restart(!0)),ki=0,i&&J&&(i._initted||qt)&&i.progress()!==qt&&i.progress(qt||0,!0).render(i.time(),!0,!0),(Nr||V!==T.progress||q||x||i&&!i._initted)&&(i&&!J&&(i._initted||V||i.vars.immediateRender!==!1)&&i.totalProgress(q&&xe<-.001&&!V?Qe.utils.normalize(xe,me,0):V,!0),T.progress=Nr||(ne-xe)/De===V?0:V),m&&v&&(Ie._pinOffset=Math.round(T.progress*Me)),Fe&&Fe.invalidate(),isNaN(Hn)||(Hn-=Qe.getProperty(le,K.p),mn-=Qe.getProperty(Ye,K.p),i0(le,K,Hn),i0(Ce,K,Hn-(Oe||0)),i0(Ye,K,mn),i0(ct,K,mn-(Oe||0))),Nr&&!Wi&&T.update(),f&&!Wi&&!it&&(it=!0,f(T),it=!1)}},T.getVelocity=function(){return(Y()-de)/(_i()-jp)*1e3||0},T.endAnimation=function(){yp(T.callbackAnimation),i&&(Fe?Fe.progress(1):i.paused()?J||yp(i,T.direction<0,1):yp(i,i.reversed()))},T.labelToScroll=function(we){return i&&i.labels&&(xe||T.refresh()||xe)+i.labels[we]/i.duration()*De||0},T.getTrailing=function(we){var Ue=Kt.indexOf(T),Te=T.direction>0?Kt.slice(0,Ue).reverse():Kt.slice(Ue+1);return(Ns(we)?Te.filter(function(Oe){return Oe.vars.preventOverlaps===we}):Te).filter(function(Oe){return T.direction>0?Oe.end<=xe:Oe.start>=me})},T.update=function(we,Ue,Te){if(!(q&&!Te&&!we)){var Oe=Wi===!0?pr:T.scroll(),mr=we?0:(Oe-xe)/De,Ge=mr<0?0:mr>1?1:mr||0,pt=T.progress,Nr,vt,mt,Ot,zt,gt,Mr,Gr;if(Ue&&(de=ne,ne=q?Y():Oe,S&&(xt=Xt,Xt=i&&!J?i.totalProgress():Ge)),w&&m&&!ki&&!Xy&&bo&&(!Ge&&xe<Oe+(Oe-de)/(_i()-jp)*w?Ge=1e-4:Ge===1&&me>Oe+(Oe-de)/(_i()-jp)*w&&(Ge=.9999)),Ge!==pt&&T.enabled){if(Nr=T.isActive=!!Ge&&Ge<1,vt=!!pt&&pt<1,gt=Nr!==vt,zt=gt||!!Ge!=!!pt,T.direction=Ge>pt?1:-1,T.progress=Ge,zt&&!ki&&(mt=Ge&&!pt?0:Ge===1?1:pt===1?2:3,J&&(Ot=!gt&&j[mt+1]!=="none"&&j[mt+1]||j[mt],Gr=i&&(Ot==="complete"||Ot==="reset"||Ot in i))),H&&(gt||Gr)&&(Gr||p||!i)&&(Ni(H)?H(T):T.getTrailing(H).forEach(function(Di){return Di.endAnimation()})),J||(Fe&&!ki&&!Xy?(Fe._dp._time-Fe._start!==Fe._time&&Fe.render(Fe._dp._time-Fe._start),Fe.resetTo?Fe.resetTo("totalProgress",Ge,i._tTime/i._tDur):(Fe.vars.totalProgress=Ge,Fe.invalidate().restart())):i&&i.totalProgress(Ge,!!(ki&&(z||we)))),m){if(we&&v&&(Ie.style[v+K.os2]=Gt),!A)Le(Rp(Ae+Me*Ge));else if(zt){if(Mr=!we&&Ge>pt&&me+1>Oe&&Oe+1>=Ia(W,K),B)if(!we&&(Nr||Mr)){var vr=hl(m,!0),kr=Oe-xe;PR(m,Er,vr.top+(K===Wn?kr:0)+Vn,vr.left+(K===Wn?0:kr)+Vn)}else PR(m,Ie);Wf(Nr||Mr?st:ft),Wt&&Ge<1&&Nr||Le(Ae+(Ge===1&&!Mr?Me:0))}}S&&!Z.tween&&!ki&&!Xy&&St.restart(!0),a&&(gt||R&&Ge&&(Ge<1||!j1))&&Wm(a.targets).forEach(function(Di){return Di.classList[Nr||R?"add":"remove"](a.className)}),o&&!J&&!we&&o(T),zt&&!ki?(J&&(Gr&&(Ot==="complete"?i.pause().totalProgress(1):Ot==="reset"?i.restart(!0).pause():Ot==="restart"?i.restart(!0):i[Ot]()),o&&o(T)),(gt||!j1)&&(d&&gt&&R1(T,d),D[mt]&&R1(T,D[mt]),R&&(Ge===1?T.kill(!1,1):D[mt]=0),gt||(mt=Ge===1?1:3,D[mt]&&R1(T,D[mt]))),G&&!Nr&&Math.abs(T.getVelocity())>(Ip(G)?G:2500)&&(yp(T.callbackAnimation),Fe?Fe.progress(1):yp(i,Ot==="reverse"?1:!Ge,1))):J&&o&&!ki&&o(T)}if(Ct){var _r=q?Oe/q.duration()*(q._caScrollDist||0):Oe;_t(_r+(le._isFlipped?1:0)),Ct(_r)}Pe&&Pe(-Oe/q.duration()*(q._caScrollDist||0))}},T.enable=function(we,Ue){T.enabled||(T.enabled=!0,Xn(W,"resize",Mp),b||Xn(W,"scroll",ef),O&&Xn(t,"refreshInit",O),we!==!1&&(T.progress=V=0,ne=de=Q=Y()),Ue!==!1&&T.refresh())},T.getTween=function(we){return we&&Z?Z.tween:Fe},T.setPositions=function(we,Ue,Te,Oe){if(q){var mr=q.scrollTrigger,Ge=q.duration(),pt=mr.end-mr.start;we=mr.start+pt*we/Ge,Ue=mr.start+pt*Ue/Ge}T.refresh(!1,!1,{start:kR(we,Te&&!!T._startClamp),end:kR(Ue,Te&&!!T._endClamp)},Oe),T.update()},T.adjustPinSpacing=function(we){if(Xe&&we){var Ue=Xe.indexOf(K.d)+1;Xe[Ue]=parseFloat(Xe[Ue])+we+Vn,Xe[1]=parseFloat(Xe[1])+we+Vn,Wf(Xe)}},T.disable=function(we,Ue){if(T.enabled&&(we!==!1&&T.revert(!0,!0),T.enabled=T.isActive=!1,Ue||Fe&&Fe.pause(),pr=0,ee&&(ee.uncache=1),O&&Jn(t,"refreshInit",O),St&&(St.pause(),Z.tween&&Z.tween.kill()&&(Z.tween=0)),!b)){for(var Te=Kt.length;Te--;)if(Kt[Te].scroller===W&&Kt[Te]!==T)return;Jn(W,"resize",Mp),b||Jn(W,"scroll",ef)}},T.kill=function(we,Ue){T.disable(we,Ue),Fe&&!Ue&&Fe.kill(),c&&delete P_[c];var Te=Kt.indexOf(T);Te>=0&&Kt.splice(Te,1),Te===Vi&&G0>0&&Vi--,Te=0,Kt.forEach(function(Oe){return Oe.scroller===T.scroller&&(Te=1)}),Te||Wi||(T.scroll.rec=0),i&&(i.scrollTrigger=null,we&&i.revert({kill:!1}),Ue||i.kill()),Ce&&[Ce,ct,le,Ye].forEach(function(Oe){return Oe.parentNode&&Oe.parentNode.removeChild(Oe)}),nm===T&&(nm=0),m&&(ee&&(ee.uncache=1),Te=0,Kt.forEach(function(Oe){return Oe.pin===m&&Te++}),Te||(ee.spacer=0)),n.onKill&&n.onKill(T)},Kt.push(T),T.enable(!1,!1),yt&&yt(T),i&&i.add&&!De){var ze=T.update;T.update=function(){T.update=ze,tr.cache++,xe||me||T.refresh()},Qe.delayedCall(.01,T.update),De=.01,xe=me=0}else T.refresh();m&&pne()},t.register=function(n){return df||(Qe=n||I6(),R6()&&window.document&&t.enable(),df=Pp),df},t.defaults=function(n){if(n)for(var i in n)t0[i]=n[i];return t0},t.disable=function(n,i){Pp=0,Kt.forEach(function(o){return o[i?"kill":"disable"](n)}),Jn(er,"wheel",ef),Jn($r,"scroll",ef),clearInterval(Jy),Jn($r,"touchcancel",Sa),Jn(Er,"touchstart",Sa),Zy(Jn,$r,"pointerdown,touchstart,mousedown",_R),Zy(Jn,$r,"pointerup,touchend,mouseup",CR),Rx.kill(),Qy(Jn);for(var s=0;s<tr.length;s+=3)e0(Jn,tr[s],tr[s+1]),e0(Jn,tr[s],tr[s+2])},t.enable=function(){if(er=window,$r=document,Ds=$r.documentElement,Er=$r.body,Qe&&(Wm=Qe.utils.toArray,Qp=Qe.utils.clamp,A_=Qe.core.context||Sa,A1=Qe.core.suppressOverwrites||Sa,p2=er.history.scrollRestoration||"auto",R_=er.pageYOffset||0,Qe.core.globals("ScrollTrigger",t),Er)){Pp=1,Vf=document.createElement("div"),Vf.style.height="100vh",Vf.style.position="absolute",U6(),ane(),_n.register(Qe),t.isTouch=_n.isTouch,sc=_n.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),N_=_n.isTouch===1,Xn(er,"wheel",ef),h2=[er,$r,Ds,Er],Qe.matchMedia?(t.matchMedia=function(d){var f=Qe.matchMedia(),p;for(p in d)f.add(p,d[p]);return f},Qe.addEventListener("matchMediaInit",function(){return b2()}),Qe.addEventListener("matchMediaRevert",function(){return B6()}),Qe.addEventListener("matchMedia",function(){Du(0,1),ud("matchMedia")}),Qe.matchMedia().add("(orientation: portrait)",function(){return I1(),I1})):console.warn("Requires GSAP 3.11.0 or later"),I1(),Xn($r,"scroll",ef);var n=Er.hasAttribute("style"),i=Er.style,s=i.borderTopStyle,o=Qe.core.Animation.prototype,a,c;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",a=hl(Er),Wn.m=Math.round(a.top+Wn.sc())||0,Ki.m=Math.round(a.left+Ki.sc())||0,s?i.borderTopStyle=s:i.removeProperty("border-top-style"),n||(Er.setAttribute("style",""),Er.removeAttribute("style")),Jy=setInterval(TR,250),Qe.delayedCall(.5,function(){return Xy=0}),Xn($r,"touchcancel",Sa),Xn(Er,"touchstart",Sa),Zy(Xn,$r,"pointerdown,touchstart,mousedown",_R),Zy(Xn,$r,"pointerup,touchend,mouseup",CR),T_=Qe.utils.checkPrefix("transform"),K0.push(T_),df=_i(),Rx=Qe.delayedCall(.2,Du).pause(),ff=[$r,"visibilitychange",function(){var d=er.innerWidth,f=er.innerHeight;$r.hidden?(vR=d,bR=f):(vR!==d||bR!==f)&&Mp()},$r,"DOMContentLoaded",Du,er,"load",Du,er,"resize",Mp],Qy(Xn),Kt.forEach(function(d){return d.enable(0,1)}),c=0;c<tr.length;c+=3)e0(Jn,tr[c],tr[c+1]),e0(Jn,tr[c],tr[c+2])}},t.config=function(n){"limitCallbacks"in n&&(j1=!!n.limitCallbacks);var i=n.syncInterval;i&&clearInterval(Jy)||(Jy=i)&&setInterval(TR,i),"ignoreMobileResize"in n&&(N_=t.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(Qy(Jn)||Qy(Xn,n.autoRefreshEvents||"none"),A6=(n.autoRefreshEvents+"").indexOf("resize")===-1)},t.scrollerProxy=function(n,i){var s=us(n),o=tr.indexOf(s),a=ld(s);~o&&tr.splice(o,a?6:2),i&&(a?La.unshift(er,i,Er,i,Ds,i):La.unshift(s,i))},t.clearMatchMedia=function(n){Kt.forEach(function(i){return i._ctx&&i._ctx.query===n&&i._ctx.kill(!0,!0)})},t.isInViewport=function(n,i,s){var o=(Ns(n)?us(n):n).getBoundingClientRect(),a=o[s?qu:Hu]*i||0;return s?o.right-a>0&&o.left+a<er.innerWidth:o.bottom-a>0&&o.top+a<er.innerHeight},t.positionInViewport=function(n,i,s){Ns(n)&&(n=us(n));var o=n.getBoundingClientRect(),a=o[s?qu:Hu],c=i==null?a/2:i in Dx?Dx[i]*a:~i.indexOf("%")?parseFloat(i)*a/100:parseFloat(i)||0;return s?(o.left+c)/er.innerWidth:(o.top+c)/er.innerHeight},t.killAll=function(n){if(Kt.slice(0).forEach(function(s){return s.vars.id!=="ScrollSmoother"&&s.kill()}),n!==!0){var i=cd.killAll||[];cd={},i.forEach(function(s){return s()})}},t}();rr.version="3.13.0";rr.saveStyles=function(t){return t?Wm(t).forEach(function(e){if(e&&e.style){var r=Ts.indexOf(e);r>=0&&Ts.splice(r,5),Ts.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Qe.core.getCache(e),A_())}}):Ts};rr.revert=function(t,e){return b2(!t,e)};rr.create=function(t,e){return new rr(t,e)};rr.refresh=function(t){return t?Mp(!0):(df||rr.register())&&Du(!0)};rr.update=function(t){return++tr.cache&&vl(t===!0?2:0)};rr.clearScrollMemory=$6;rr.maxScroll=function(t,e){return Ia(t,e?Ki:Wn)};rr.getScrollFunc=function(t,e){return Rc(us(t),e?Ki:Wn)};rr.getById=function(t){return P_[t]};rr.getAll=function(){return Kt.filter(function(t){return t.vars.id!=="ScrollSmoother"})};rr.isScrolling=function(){return!!bo};rr.snapDirectional=v2;rr.addEventListener=function(t,e){var r=cd[t]||(cd[t]=[]);~r.indexOf(e)||r.push(e)};rr.removeEventListener=function(t,e){var r=cd[t],n=r&&r.indexOf(e);n>=0&&r.splice(n,1)};rr.batch=function(t,e){var r=[],n={},i=e.interval||.016,s=e.batchMax||1e9,o=function(d,f){var p=[],g=[],m=Qe.delayedCall(i,function(){f(p,g),p=[],g=[]}).pause();return function(v){p.length||m.restart(!0),p.push(v.trigger),g.push(v),s<=p.length&&m.progress(1)}},a;for(a in e)n[a]=a.substr(0,2)==="on"&&Ni(e[a])&&a!=="onRefreshInit"?o(a,e[a]):e[a];return Ni(s)&&(s=s(),Xn(rr,"refresh",function(){return s=e.batchMax()})),Wm(t).forEach(function(c){var d={};for(a in n)d[a]=n[a];d.trigger=c,r.push(rr.create(d))}),r};var IR=function(e,r,n,i){return r>i?e(i):r<0&&e(0),n>i?(i-r)/(n-r):n<0?r/(r-n):1},D1=function t(e,r){r===!0?e.style.removeProperty("touch-action"):e.style.touchAction=r===!0?"auto":r?"pan-"+r+(_n.isTouch?" pinch-zoom":""):"none",e===Ds&&t(Er,r)},s0={auto:1,scroll:1},vne=function(e){var r=e.event,n=e.target,i=e.axis,s=(r.changedTouches?r.changedTouches[0]:r).target,o=s._gsap||Qe.core.getCache(s),a=_i(),c;if(!o._isScrollT||a-o._isScrollT>2e3){for(;s&&s!==Er&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!(s0[(c=uo(s)).overflowY]||s0[c.overflowX]));)s=s.parentNode;o._isScroll=s&&s!==n&&!ld(s)&&(s0[(c=uo(s)).overflowY]||s0[c.overflowX]),o._isScrollT=a}(o._isScroll||i==="x")&&(r.stopPropagation(),r._gsapAllow=!0)},W6=function(e,r,n,i){return _n.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:r,onWheel:i=i&&vne,onPress:i,onDrag:i,onScroll:i,onEnable:function(){return n&&Xn($r,_n.eventTypes[0],DR,!1,!0)},onDisable:function(){return Jn($r,_n.eventTypes[0],DR,!0)}})},bne=/(input|label|select|textarea)/i,MR,DR=function(e){var r=bne.test(e.target.tagName);(r||MR)&&(e._gsapAllow=!0,MR=r)},wne=function(e){Su(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var r=e,n=r.normalizeScrollX,i=r.momentum,s=r.allowNestedScroll,o=r.onRelease,a,c,d=us(e.target)||Ds,f=Qe.core.globals().ScrollSmoother,p=f&&f.get(),g=sc&&(e.content&&us(e.content)||p&&e.content!==!1&&!p.smooth()&&p.content()),m=Rc(d,Wn),v=Rc(d,Ki),x=1,w=(_n.isTouch&&er.visualViewport?er.visualViewport.scale*er.visualViewport.width:er.outerWidth)/er.innerWidth,E=0,P=Ni(i)?function(){return i(a)}:function(){return i||2.8},R,S,B=W6(d,e.type,!0,s),$=function(){return S=!1},q=Sa,G=Sa,H=function(){c=Ia(d,Wn),G=Qp(sc?1:0,c),n&&(q=Qp(0,Ia(d,Ki))),R=Gu},K=function(){g._gsap.y=Rp(parseFloat(g._gsap.y)+m.offset)+"px",g.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(g._gsap.y)+", 0, 1)",m.offset=m.cacheID=0},J=function(){if(S){requestAnimationFrame($);var k=Rp(a.deltaY/2),M=G(m.v-k);if(g&&M!==m.v+m.offset){m.offset=M-m.v;var T=Rp((parseFloat(g&&g._gsap.y)||0)-m.offset);g.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+T+", 0, 1)",g._gsap.y=T+"px",m.cacheID=tr.cache,vl()}return!0}m.offset&&K(),S=!0},W,F,b,A,D=function(){H(),W.isActive()&&W.vars.scrollY>c&&(m()>c?W.progress(1)&&m(c):W.resetTo("scrollY",c))};return g&&Qe.set(g,{y:"+=0"}),e.ignoreCheck=function(j){return sc&&j.type==="touchmove"&&J()||x>1.05&&j.type!=="touchstart"||a.isGesturing||j.touches&&j.touches.length>1},e.onPress=function(){S=!1;var j=x;x=Rp((er.visualViewport&&er.visualViewport.scale||1)/w),W.pause(),j!==x&&D1(d,x>1.01?!0:n?!1:"x"),F=v(),b=m(),H(),R=Gu},e.onRelease=e.onGestureStart=function(j,k){if(m.offset&&K(),!k)A.restart(!0);else{tr.cache++;var M=P(),T,O;n&&(T=v(),O=T+M*.05*-j.velocityX/.227,M*=IR(v,T,O,Ia(d,Ki)),W.vars.scrollX=q(O)),T=m(),O=T+M*.05*-j.velocityY/.227,M*=IR(m,T,O,Ia(d,Wn)),W.vars.scrollY=G(O),W.invalidate().duration(M).play(.01),(sc&&W.vars.scrollY>=c||T>=c-1)&&Qe.to({},{onUpdate:D,duration:M})}o&&o(j)},e.onWheel=function(){W._ts&&W.pause(),_i()-E>1e3&&(R=0,E=_i())},e.onChange=function(j,k,M,T,O){if(Gu!==R&&H(),k&&n&&v(q(T[2]===k?F+(j.startX-j.x):v()+k-T[1])),M){m.offset&&K();var N=O[2]===M,I=N?b+j.startY-j.y:m()+M-O[1],Q=G(I);N&&I!==Q&&(b+=Q-I),m(Q)}(M||k)&&vl()},e.onEnable=function(){D1(d,n?!1:"x"),rr.addEventListener("refresh",D),Xn(er,"resize",D),m.smooth&&(m.target.style.scrollBehavior="auto",m.smooth=v.smooth=!1),B.enable()},e.onDisable=function(){D1(d,!0),Jn(er,"resize",D),rr.removeEventListener("refresh",D),B.kill()},e.lockAxis=e.lockAxis!==!1,a=new _n(e),a.iOS=sc,sc&&!m()&&m(1),sc&&Qe.ticker.add(Sa),A=a._dc,W=Qe.to(a,{ease:"power4",paused:!0,inherit:!1,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:V6(m,m(),function(){return W.pause()})},onUpdate:vl,onComplete:A.vars.onComplete}),a};rr.sort=function(t){if(Ni(t))return Kt.sort(t);var e=er.pageYOffset||0;return rr.getAll().forEach(function(r){return r._sortY=r.trigger?e+r.trigger.getBoundingClientRect().top:r.start+er.innerHeight}),Kt.sort(t||function(r,n){return(r.vars.refreshPriority||0)*-1e6+(r.vars.containerAnimation?1e6:r._sortY)-((n.vars.containerAnimation?1e6:n._sortY)+(n.vars.refreshPriority||0)*-1e6)})};rr.observe=function(t){return new _n(t)};rr.normalizeScroll=function(t){if(typeof t>"u")return Ui;if(t===!0&&Ui)return Ui.enable();if(t===!1){Ui&&Ui.kill(),Ui=t;return}var e=t instanceof _n?t:wne(t);return Ui&&Ui.target===e.target&&Ui.kill(),ld(e.target)&&(Ui=e),e};rr.core={_getVelocityProp:E_,_inputObserver:W6,_scrollers:tr,_proxies:La,bridge:{ss:function(){bo||ud("scrollStart"),bo=_i()},ref:function(){return ki}}};I6()&&Qe.registerPlugin(rr);function kne(t,e){const r={};return(t[t.length-1]===""?[...t,""]:t).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const _ne=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Cne=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Sne={};function OR(t,e){return(Sne.jsx?Cne:_ne).test(t)}const Ene=/[ \t\n\f\r]/g;function Tne(t){return typeof t=="object"?t.type==="text"?LR(t.value):!1:LR(t)}function LR(t){return t.replace(Ene,"")===""}class vg{constructor(e,r,n){this.normal=r,this.property=e,n&&(this.space=n)}}vg.prototype.normal={};vg.prototype.property={};vg.prototype.space=void 0;function q6(t,e){const r={},n={};for(const i of t)Object.assign(r,i.property),Object.assign(n,i.normal);return new vg(r,n,e)}function M_(t){return t.toLowerCase()}class vs{constructor(e,r){this.attribute=r,this.property=e}}vs.prototype.attribute="";vs.prototype.booleanish=!1;vs.prototype.boolean=!1;vs.prototype.commaOrSpaceSeparated=!1;vs.prototype.commaSeparated=!1;vs.prototype.defined=!1;vs.prototype.mustUseProperty=!1;vs.prototype.number=!1;vs.prototype.overloadedBoolean=!1;vs.prototype.property="";vs.prototype.spaceSeparated=!1;vs.prototype.space=void 0;let Nne=0;const Ut=vd(),Nn=vd(),D_=vd(),Ne=vd(),Ur=vd(),qf=vd(),Ss=vd();function vd(){return 2**++Nne}const O_=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ut,booleanish:Nn,commaOrSpaceSeparated:Ss,commaSeparated:qf,number:Ne,overloadedBoolean:D_,spaceSeparated:Ur},Symbol.toStringTag,{value:"Module"})),O1=Object.keys(O_);class w2 extends vs{constructor(e,r,n,i){let s=-1;if(super(e,r),FR(this,"space",i),typeof n=="number")for(;++s<O1.length;){const o=O1[s];FR(this,O1[s],(n&O_[o])===O_[o])}}}w2.prototype.defined=!0;function FR(t,e,r){r&&(t[e]=r)}function Sh(t){const e={},r={};for(const[n,i]of Object.entries(t.properties)){const s=new w2(n,t.transform(t.attributes||{},n),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(n)&&(s.mustUseProperty=!0),e[n]=s,r[M_(n)]=n,r[M_(s.attribute)]=n}return new vg(e,r,t.space)}const H6=Sh({properties:{ariaActiveDescendant:null,ariaAtomic:Nn,ariaAutoComplete:null,ariaBusy:Nn,ariaChecked:Nn,ariaColCount:Ne,ariaColIndex:Ne,ariaColSpan:Ne,ariaControls:Ur,ariaCurrent:null,ariaDescribedBy:Ur,ariaDetails:null,ariaDisabled:Nn,ariaDropEffect:Ur,ariaErrorMessage:null,ariaExpanded:Nn,ariaFlowTo:Ur,ariaGrabbed:Nn,ariaHasPopup:null,ariaHidden:Nn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ur,ariaLevel:Ne,ariaLive:null,ariaModal:Nn,ariaMultiLine:Nn,ariaMultiSelectable:Nn,ariaOrientation:null,ariaOwns:Ur,ariaPlaceholder:null,ariaPosInSet:Ne,ariaPressed:Nn,ariaReadOnly:Nn,ariaRelevant:null,ariaRequired:Nn,ariaRoleDescription:Ur,ariaRowCount:Ne,ariaRowIndex:Ne,ariaRowSpan:Ne,ariaSelected:Nn,ariaSetSize:Ne,ariaSort:null,ariaValueMax:Ne,ariaValueMin:Ne,ariaValueNow:Ne,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function G6(t,e){return e in t?t[e]:e}function K6(t,e){return G6(t,e.toLowerCase())}const Ane=Sh({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:qf,acceptCharset:Ur,accessKey:Ur,action:null,allow:null,allowFullScreen:Ut,allowPaymentRequest:Ut,allowUserMedia:Ut,alt:null,as:null,async:Ut,autoCapitalize:null,autoComplete:Ur,autoFocus:Ut,autoPlay:Ut,blocking:Ur,capture:null,charSet:null,checked:Ut,cite:null,className:Ur,cols:Ne,colSpan:null,content:null,contentEditable:Nn,controls:Ut,controlsList:Ur,coords:Ne|qf,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ut,defer:Ut,dir:null,dirName:null,disabled:Ut,download:D_,draggable:Nn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ut,formTarget:null,headers:Ur,height:Ne,hidden:D_,high:Ne,href:null,hrefLang:null,htmlFor:Ur,httpEquiv:Ur,id:null,imageSizes:null,imageSrcSet:null,inert:Ut,inputMode:null,integrity:null,is:null,isMap:Ut,itemId:null,itemProp:Ur,itemRef:Ur,itemScope:Ut,itemType:Ur,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ut,low:Ne,manifest:null,max:null,maxLength:Ne,media:null,method:null,min:null,minLength:Ne,multiple:Ut,muted:Ut,name:null,nonce:null,noModule:Ut,noValidate:Ut,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ut,optimum:Ne,pattern:null,ping:Ur,placeholder:null,playsInline:Ut,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ut,referrerPolicy:null,rel:Ur,required:Ut,reversed:Ut,rows:Ne,rowSpan:Ne,sandbox:Ur,scope:null,scoped:Ut,seamless:Ut,selected:Ut,shadowRootClonable:Ut,shadowRootDelegatesFocus:Ut,shadowRootMode:null,shape:null,size:Ne,sizes:null,slot:null,span:Ne,spellCheck:Nn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ne,step:null,style:null,tabIndex:Ne,target:null,title:null,translate:null,type:null,typeMustMatch:Ut,useMap:null,value:Nn,width:Ne,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ur,axis:null,background:null,bgColor:null,border:Ne,borderColor:null,bottomMargin:Ne,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ut,declare:Ut,event:null,face:null,frame:null,frameBorder:null,hSpace:Ne,leftMargin:Ne,link:null,longDesc:null,lowSrc:null,marginHeight:Ne,marginWidth:Ne,noResize:Ut,noHref:Ut,noShade:Ut,noWrap:Ut,object:null,profile:null,prompt:null,rev:null,rightMargin:Ne,rules:null,scheme:null,scrolling:Nn,standby:null,summary:null,text:null,topMargin:Ne,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ne,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ut,disableRemotePlayback:Ut,prefix:null,property:null,results:Ne,security:null,unselectable:null},space:"html",transform:K6}),jne=Sh({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ss,accentHeight:Ne,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ne,amplitude:Ne,arabicForm:null,ascent:Ne,attributeName:null,attributeType:null,azimuth:Ne,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ne,by:null,calcMode:null,capHeight:Ne,className:Ur,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ne,diffuseConstant:Ne,direction:null,display:null,dur:null,divisor:Ne,dominantBaseline:null,download:Ut,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ne,enableBackground:null,end:null,event:null,exponent:Ne,externalResourcesRequired:null,fill:null,fillOpacity:Ne,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:qf,g2:qf,glyphName:qf,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ne,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ne,horizOriginX:Ne,horizOriginY:Ne,id:null,ideographic:Ne,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ne,k:Ne,k1:Ne,k2:Ne,k3:Ne,k4:Ne,kernelMatrix:Ss,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ne,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ne,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ne,overlineThickness:Ne,paintOrder:null,panose1:null,path:null,pathLength:Ne,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ur,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ne,pointsAtY:Ne,pointsAtZ:Ne,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ss,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ss,rev:Ss,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ss,requiredFeatures:Ss,requiredFonts:Ss,requiredFormats:Ss,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ne,specularExponent:Ne,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ne,strikethroughThickness:Ne,string:null,stroke:null,strokeDashArray:Ss,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ne,strokeOpacity:Ne,strokeWidth:null,style:null,surfaceScale:Ne,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ss,tabIndex:Ne,tableValues:null,target:null,targetX:Ne,targetY:Ne,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ss,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ne,underlineThickness:Ne,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ne,values:null,vAlphabetic:Ne,vMathematical:Ne,vectorEffect:null,vHanging:Ne,vIdeographic:Ne,version:null,vertAdvY:Ne,vertOriginX:Ne,vertOriginY:Ne,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ne,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:G6}),Y6=Sh({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),J6=Sh({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:K6}),X6=Sh({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Pne={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Rne=/[A-Z]/g,zR=/-[a-z]/g,Ine=/^data[-\w.:]+$/i;function Mne(t,e){const r=M_(e);let n=e,i=vs;if(r in t.normal)return t.property[t.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&Ine.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(zR,One);n="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!zR.test(s)){let o=s.replace(Rne,Dne);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=w2}return new i(n,e)}function Dne(t){return"-"+t.toLowerCase()}function One(t){return t.charAt(1).toUpperCase()}const Lne=q6([H6,Ane,Y6,J6,X6],"html"),k2=q6([H6,jne,Y6,J6,X6],"svg");function Fne(t){return t.join(" ").trim()}var tf={},L1,BR;function zne(){if(BR)return L1;BR=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,r=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,c=`
`,d="/",f="*",p="",g="comment",m="declaration";L1=function(x,w){if(typeof x!="string")throw new TypeError("First argument must be a string");if(!x)return[];w=w||{};var E=1,P=1;function R(F){var b=F.match(e);b&&(E+=b.length);var A=F.lastIndexOf(c);P=~A?F.length-A:P+F.length}function S(){var F={line:E,column:P};return function(b){return b.position=new B(F),G(),b}}function B(F){this.start=F,this.end={line:E,column:P},this.source=w.source}B.prototype.content=x;function $(F){var b=new Error(w.source+":"+E+":"+P+": "+F);if(b.reason=F,b.filename=w.source,b.line=E,b.column=P,b.source=x,!w.silent)throw b}function q(F){var b=F.exec(x);if(b){var A=b[0];return R(A),x=x.slice(A.length),b}}function G(){q(r)}function H(F){var b;for(F=F||[];b=K();)b!==!1&&F.push(b);return F}function K(){var F=S();if(!(d!=x.charAt(0)||f!=x.charAt(1))){for(var b=2;p!=x.charAt(b)&&(f!=x.charAt(b)||d!=x.charAt(b+1));)++b;if(b+=2,p===x.charAt(b-1))return $("End of comment missing");var A=x.slice(2,b-2);return P+=2,R(A),x=x.slice(b),P+=2,F({type:g,comment:A})}}function J(){var F=S(),b=q(n);if(b){if(K(),!q(i))return $("property missing ':'");var A=q(s),D=F({type:m,property:v(b[0].replace(t,p)),value:A?v(A[0].replace(t,p)):p});return q(o),D}}function W(){var F=[];H(F);for(var b;b=J();)b!==!1&&(F.push(b),H(F));return F}return G(),W()};function v(x){return x?x.replace(a,p):p}return L1}var $R;function Bne(){if($R)return tf;$R=1;var t=tf&&tf.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(tf,"__esModule",{value:!0}),tf.default=r;var e=t(zne());function r(n,i){var s=null;if(!n||typeof n!="string")return s;var o=(0,e.default)(n),a=typeof i=="function";return o.forEach(function(c){if(c.type==="declaration"){var d=c.property,f=c.value;a?i(d,f,c):f&&(s=s||{},s[d]=f)}}),s}return tf}var xp={},UR;function $ne(){if(UR)return xp;UR=1,Object.defineProperty(xp,"__esModule",{value:!0}),xp.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,r=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(d){return!d||r.test(d)||t.test(d)},o=function(d,f){return f.toUpperCase()},a=function(d,f){return"".concat(f,"-")},c=function(d,f){return f===void 0&&(f={}),s(d)?d:(d=d.toLowerCase(),f.reactCompat?d=d.replace(i,a):d=d.replace(n,a),d.replace(e,o))};return xp.camelCase=c,xp}var vp,VR;function Une(){if(VR)return vp;VR=1;var t=vp&&vp.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(Bne()),r=$ne();function n(i,s){var o={};return!i||typeof i!="string"||(0,e.default)(i,function(a,c){a&&c&&(o[(0,r.camelCase)(a,s)]=c)}),o}return n.default=n,vp=n,vp}var Vne=Une();const Wne=El(Vne),Q6=Z6("end"),_2=Z6("start");function Z6(t){return e;function e(r){const n=r&&r.position&&r.position[t]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function qne(t){const e=_2(t),r=Q6(t);if(e&&r)return{start:e,end:r}}function im(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?WR(t.position):"start"in t||"end"in t?WR(t):"line"in t||"column"in t?L_(t):""}function L_(t){return qR(t&&t.line)+":"+qR(t&&t.column)}function WR(t){return L_(t&&t.start)+"-"+L_(t&&t.end)}function qR(t){return t&&typeof t=="number"?t:1}class Mi extends Error{constructor(e,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",s={},o=!1;if(r&&("line"in r&&"column"in r?s={place:r}:"start"in r&&"end"in r?s={place:r}:"type"in r?s={ancestors:[r],place:r.position}:s={...r}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof n=="string"){const c=n.indexOf(":");c===-1?s.ruleId=n:(s.source=n.slice(0,c),s.ruleId=n.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=im(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Mi.prototype.file="";Mi.prototype.name="";Mi.prototype.reason="";Mi.prototype.message="";Mi.prototype.stack="";Mi.prototype.column=void 0;Mi.prototype.line=void 0;Mi.prototype.ancestors=void 0;Mi.prototype.cause=void 0;Mi.prototype.fatal=void 0;Mi.prototype.place=void 0;Mi.prototype.ruleId=void 0;Mi.prototype.source=void 0;const C2={}.hasOwnProperty,Hne=new Map,Gne=/[A-Z]/g,Kne=new Set(["table","tbody","thead","tfoot","tr"]),Yne=new Set(["td","th"]),eF="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Jne(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=e.filePath||void 0;let n;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=iie(r,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=nie(r,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:n,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?k2:Lne,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=tF(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function tF(t,e,r){if(e.type==="element")return Xne(t,e,r);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Qne(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return eie(t,e,r);if(e.type==="mdxjsEsm")return Zne(t,e);if(e.type==="root")return tie(t,e,r);if(e.type==="text")return rie(t,e)}function Xne(t,e,r){const n=t.schema;let i=n;e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=k2,t.schema=i),t.ancestors.push(e);const s=nF(t,e.tagName,!1),o=sie(t,e);let a=E2(t,e);return Kne.has(e.tagName)&&(a=a.filter(function(c){return typeof c=="string"?!Tne(c):!0})),rF(t,o,s,e),S2(o,a),t.ancestors.pop(),t.schema=n,t.create(e,s,o,r)}function Qne(t,e){if(e.data&&e.data.estree&&t.evaluater){const n=e.data.estree.body[0];return n.type,t.evaluater.evaluateExpression(n.expression)}Hm(t,e.position)}function Zne(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Hm(t,e.position)}function eie(t,e,r){const n=t.schema;let i=n;e.name==="svg"&&n.space==="html"&&(i=k2,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:nF(t,e.name,!0),o=oie(t,e),a=E2(t,e);return rF(t,o,s,e),S2(o,a),t.ancestors.pop(),t.schema=n,t.create(e,s,o,r)}function tie(t,e,r){const n={};return S2(n,E2(t,e)),t.create(e,t.Fragment,n,r)}function rie(t,e){return e.value}function rF(t,e,r,n){typeof r!="string"&&r!==t.Fragment&&t.passNode&&(e.node=n)}function S2(t,e){if(e.length>0){const r=e.length>1?e:e[0];r&&(t.children=r)}}function nie(t,e,r){return n;function n(i,s,o,a){const d=Array.isArray(o.children)?r:e;return a?d(s,o,a):d(s,o)}}function iie(t,e){return r;function r(n,i,s,o){const a=Array.isArray(s.children),c=_2(n);return e(i,s,o,a,{columnNumber:c?c.column-1:void 0,fileName:t,lineNumber:c?c.line:void 0},void 0)}}function sie(t,e){const r={};let n,i;for(i in e.properties)if(i!=="children"&&C2.call(e.properties,i)){const s=aie(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&Yne.has(e.tagName)?n=a:r[o]=a}}if(n){const s=r.style||(r.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function oie(t,e){const r={};for(const n of e.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&t.evaluater){const s=n.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(r,t.evaluater.evaluateExpression(a.argument))}else Hm(t,e.position);else{const i=n.name;let s;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&t.evaluater){const a=n.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else Hm(t,e.position);else s=n.value===null?!0:n.value;r[i]=s}return r}function E2(t,e){const r=[];let n=-1;const i=t.passKeys?new Map:Hne;for(;++n<e.children.length;){const s=e.children[n];let o;if(t.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const d=i.get(c)||0;o=c+"-"+d,i.set(c,d+1)}}const a=tF(t,s,o);a!==void 0&&r.push(a)}return r}function aie(t,e,r){const n=Mne(t.schema,e);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?kne(r):Fne(r)),n.property==="style"){let i=typeof r=="object"?r:lie(t,String(r));return t.stylePropertyNameCase==="css"&&(i=cie(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&n.space?Pne[n.property]||n.property:n.attribute,r]}}function lie(t,e){try{return Wne(e,{reactCompat:!0})}catch(r){if(t.ignoreInvalidStyle)return{};const n=r,i=new Mi("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=eF+"#cannot-parse-style-attribute",i}}function nF(t,e,r){let n;if(!r)n={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=OR(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}n=o}else n=OR(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(n.type==="Literal"){const i=n.value;return C2.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(n);Hm(t)}function Hm(t,e){const r=new Mi("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=t.filePath||void 0,r.url=eF+"#cannot-handle-mdx-estrees-without-createevaluater",r}function cie(t){const e={};let r;for(r in t)C2.call(t,r)&&(e[uie(r)]=t[r]);return e}function uie(t){let e=t.replace(Gne,die);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function die(t){return"-"+t.toLowerCase()}const F1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},fie={};function T2(t,e){const r=fie,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return iF(t,n,i)}function iF(t,e,r){if(hie(t)){if("value"in t)return t.type==="html"&&!r?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return HR(t.children,e,r)}return Array.isArray(t)?HR(t,e,r):""}function HR(t,e,r){const n=[];let i=-1;for(;++i<t.length;)n[i]=iF(t[i],e,r);return n.join("")}function hie(t){return!!(t&&typeof t=="object")}const GR=document.createElement("i");function N2(t){const e="&"+t+";";GR.innerHTML=e;const r=GR.textContent;return r.charCodeAt(r.length-1)===59&&t!=="semi"||r===e?!1:r}function Ks(t,e,r,n){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,r=r>0?r:0,n.length<1e4)o=Array.from(n),o.unshift(e,r),t.splice(...o);else for(r&&t.splice(e,r);s<n.length;)o=n.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function fo(t,e){return t.length>0?(Ks(t,t.length,0,e),t):e}const KR={}.hasOwnProperty;function sF(t){const e={};let r=-1;for(;++r<t.length;)pie(e,t[r]);return e}function pie(t,e){let r;for(r in e){const i=(KR.call(t,r)?t[r]:void 0)||(t[r]={}),s=e[r];let o;if(s)for(o in s){KR.call(i,o)||(i[o]=[]);const a=s[o];mie(i[o],Array.isArray(a)?a:a?[a]:[])}}}function mie(t,e){let r=-1;const n=[];for(;++r<e.length;)(e[r].add==="after"?t:n).push(e[r]);Ks(t,0,0,n)}function oF(t,e){const r=Number.parseInt(t,e);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function ta(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Yi=$c(/[A-Za-z]/),Pi=$c(/[\dA-Za-z]/),gie=$c(/[#-'*+\--9=?A-Z^-~]/);function Ox(t){return t!==null&&(t<32||t===127)}const F_=$c(/\d/),yie=$c(/[\dA-Fa-f]/),xie=$c(/[!-/:-@[-`{-~]/);function kt(t){return t!==null&&t<-2}function Fr(t){return t!==null&&(t<0||t===32)}function lr(t){return t===-2||t===-1||t===32}const Av=$c(new RegExp("\\p{P}|\\p{S}","u")),dd=$c(/\s/);function $c(t){return e;function e(r){return r!==null&&r>-1&&t.test(String.fromCharCode(r))}}function Eh(t){const e=[];let r=-1,n=0,i=0;for(;++r<t.length;){const s=t.charCodeAt(r);let o="";if(s===37&&Pi(t.charCodeAt(r+1))&&Pi(t.charCodeAt(r+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(r+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(n,r),encodeURIComponent(o)),n=r+i+1,o=""),i&&(r+=i,i=0)}return e.join("")+t.slice(n)}function hr(t,e,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(c){return lr(c)?(t.enter(r),a(c)):e(c)}function a(c){return lr(c)&&s++<i?(t.consume(c),a):(t.exit(r),e(c))}}const vie={tokenize:bie};function bie(t){const e=t.attempt(this.parser.constructs.contentInitial,n,i);let r;return e;function n(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),hr(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const c=t.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=c),r=c,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return kt(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const wie={tokenize:kie},YR={tokenize:_ie};function kie(t){const e=this,r=[];let n=0,i,s,o;return a;function a(R){if(n<r.length){const S=r[n];return e.containerState=S[1],t.attempt(S[0].continuation,c,d)(R)}return d(R)}function c(R){if(n++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&P();const S=e.events.length;let B=S,$;for(;B--;)if(e.events[B][0]==="exit"&&e.events[B][1].type==="chunkFlow"){$=e.events[B][1].end;break}E(n);let q=S;for(;q<e.events.length;)e.events[q][1].end={...$},q++;return Ks(e.events,B+1,0,e.events.slice(S)),e.events.length=q,d(R)}return a(R)}function d(R){if(n===r.length){if(!i)return g(R);if(i.currentConstruct&&i.currentConstruct.concrete)return v(R);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(YR,f,p)(R)}function f(R){return i&&P(),E(n),g(R)}function p(R){return e.parser.lazy[e.now().line]=n!==r.length,o=e.now().offset,v(R)}function g(R){return e.containerState={},t.attempt(YR,m,v)(R)}function m(R){return n++,r.push([e.currentConstruct,e.containerState]),g(R)}function v(R){if(R===null){i&&P(),E(0),t.consume(R);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),x(R)}function x(R){if(R===null){w(t.exit("chunkFlow"),!0),E(0),t.consume(R);return}return kt(R)?(t.consume(R),w(t.exit("chunkFlow")),n=0,e.interrupt=void 0,a):(t.consume(R),x)}function w(R,S){const B=e.sliceStream(R);if(S&&B.push(null),R.previous=s,s&&(s.next=R),s=R,i.defineSkip(R.start),i.write(B),e.parser.lazy[R.start.line]){let $=i.events.length;for(;$--;)if(i.events[$][1].start.offset<o&&(!i.events[$][1].end||i.events[$][1].end.offset>o))return;const q=e.events.length;let G=q,H,K;for(;G--;)if(e.events[G][0]==="exit"&&e.events[G][1].type==="chunkFlow"){if(H){K=e.events[G][1].end;break}H=!0}for(E(n),$=q;$<e.events.length;)e.events[$][1].end={...K},$++;Ks(e.events,G+1,0,e.events.slice(q)),e.events.length=$}}function E(R){let S=r.length;for(;S-- >R;){const B=r[S];e.containerState=B[1],B[0].exit.call(e,t)}r.length=R}function P(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function _ie(t,e,r){return hr(t,t.attempt(this.parser.constructs.document,e,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ch(t){if(t===null||Fr(t)||dd(t))return 1;if(Av(t))return 2}function jv(t,e,r){const n=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!n.includes(s)&&(e=s(e,r),n.push(s))}return e}const z_={name:"attention",resolveAll:Cie,tokenize:Sie};function Cie(t,e){let r=-1,n,i,s,o,a,c,d,f;for(;++r<t.length;)if(t[r][0]==="enter"&&t[r][1].type==="attentionSequence"&&t[r][1]._close){for(n=r;n--;)if(t[n][0]==="exit"&&t[n][1].type==="attentionSequence"&&t[n][1]._open&&e.sliceSerialize(t[n][1]).charCodeAt(0)===e.sliceSerialize(t[r][1]).charCodeAt(0)){if((t[n][1]._close||t[r][1]._open)&&(t[r][1].end.offset-t[r][1].start.offset)%3&&!((t[n][1].end.offset-t[n][1].start.offset+t[r][1].end.offset-t[r][1].start.offset)%3))continue;c=t[n][1].end.offset-t[n][1].start.offset>1&&t[r][1].end.offset-t[r][1].start.offset>1?2:1;const p={...t[n][1].end},g={...t[r][1].start};JR(p,-c),JR(g,c),o={type:c>1?"strongSequence":"emphasisSequence",start:p,end:{...t[n][1].end}},a={type:c>1?"strongSequence":"emphasisSequence",start:{...t[r][1].start},end:g},s={type:c>1?"strongText":"emphasisText",start:{...t[n][1].end},end:{...t[r][1].start}},i={type:c>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[n][1].end={...o.start},t[r][1].start={...a.end},d=[],t[n][1].end.offset-t[n][1].start.offset&&(d=fo(d,[["enter",t[n][1],e],["exit",t[n][1],e]])),d=fo(d,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),d=fo(d,jv(e.parser.constructs.insideSpan.null,t.slice(n+1,r),e)),d=fo(d,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[r][1].end.offset-t[r][1].start.offset?(f=2,d=fo(d,[["enter",t[r][1],e],["exit",t[r][1],e]])):f=0,Ks(t,n-1,r-n+3,d),r=n+d.length-f-2;break}}for(r=-1;++r<t.length;)t[r][1].type==="attentionSequence"&&(t[r][1].type="data");return t}function Sie(t,e){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=ch(n);let s;return o;function o(c){return s=c,t.enter("attentionSequence"),a(c)}function a(c){if(c===s)return t.consume(c),a;const d=t.exit("attentionSequence"),f=ch(c),p=!f||f===2&&i||r.includes(c),g=!i||i===2&&f||r.includes(n);return d._open=!!(s===42?p:p&&(i||!g)),d._close=!!(s===42?g:g&&(f||!p)),e(c)}}function JR(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Eie={name:"autolink",tokenize:Tie};function Tie(t,e,r){let n=0;return i;function i(m){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(m){return Yi(m)?(t.consume(m),o):m===64?r(m):d(m)}function o(m){return m===43||m===45||m===46||Pi(m)?(n=1,a(m)):d(m)}function a(m){return m===58?(t.consume(m),n=0,c):(m===43||m===45||m===46||Pi(m))&&n++<32?(t.consume(m),a):(n=0,d(m))}function c(m){return m===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):m===null||m===32||m===60||Ox(m)?r(m):(t.consume(m),c)}function d(m){return m===64?(t.consume(m),f):gie(m)?(t.consume(m),d):r(m)}function f(m){return Pi(m)?p(m):r(m)}function p(m){return m===46?(t.consume(m),n=0,f):m===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):g(m)}function g(m){if((m===45||Pi(m))&&n++<63){const v=m===45?g:p;return t.consume(m),v}return r(m)}}const bg={partial:!0,tokenize:Nie};function Nie(t,e,r){return n;function n(s){return lr(s)?hr(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||kt(s)?e(s):r(s)}}const aF={continuation:{tokenize:jie},exit:Pie,name:"blockQuote",tokenize:Aie};function Aie(t,e,r){const n=this;return i;function i(o){if(o===62){const a=n.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return r(o)}function s(o){return lr(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function jie(t,e,r){const n=this;return i;function i(o){return lr(o)?hr(t,s,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(aF,e,r)(o)}}function Pie(t){t.exit("blockQuote")}const lF={name:"characterEscape",tokenize:Rie};function Rie(t,e,r){return n;function n(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return xie(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):r(s)}}const cF={name:"characterReference",tokenize:Iie};function Iie(t,e,r){const n=this;let i=0,s,o;return a;function a(p){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),c}function c(p){return p===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(p),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),s=31,o=Pi,f(p))}function d(p){return p===88||p===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(p),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=yie,f):(t.enter("characterReferenceValue"),s=7,o=F_,f(p))}function f(p){if(p===59&&i){const g=t.exit("characterReferenceValue");return o===Pi&&!N2(n.sliceSerialize(g))?r(p):(t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(p)&&i++<s?(t.consume(p),f):r(p)}}const XR={partial:!0,tokenize:Die},QR={concrete:!0,name:"codeFenced",tokenize:Mie};function Mie(t,e,r){const n=this,i={partial:!0,tokenize:B};let s=0,o=0,a;return c;function c($){return d($)}function d($){const q=n.events[n.events.length-1];return s=q&&q[1].type==="linePrefix"?q[2].sliceSerialize(q[1],!0).length:0,a=$,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),f($)}function f($){return $===a?(o++,t.consume($),f):o<3?r($):(t.exit("codeFencedFenceSequence"),lr($)?hr(t,p,"whitespace")($):p($))}function p($){return $===null||kt($)?(t.exit("codeFencedFence"),n.interrupt?e($):t.check(XR,x,S)($)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),g($))}function g($){return $===null||kt($)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),p($)):lr($)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),hr(t,m,"whitespace")($)):$===96&&$===a?r($):(t.consume($),g)}function m($){return $===null||kt($)?p($):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),v($))}function v($){return $===null||kt($)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),p($)):$===96&&$===a?r($):(t.consume($),v)}function x($){return t.attempt(i,S,w)($)}function w($){return t.enter("lineEnding"),t.consume($),t.exit("lineEnding"),E}function E($){return s>0&&lr($)?hr(t,P,"linePrefix",s+1)($):P($)}function P($){return $===null||kt($)?t.check(XR,x,S)($):(t.enter("codeFlowValue"),R($))}function R($){return $===null||kt($)?(t.exit("codeFlowValue"),P($)):(t.consume($),R)}function S($){return t.exit("codeFenced"),e($)}function B($,q,G){let H=0;return K;function K(A){return $.enter("lineEnding"),$.consume(A),$.exit("lineEnding"),J}function J(A){return $.enter("codeFencedFence"),lr(A)?hr($,W,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):W(A)}function W(A){return A===a?($.enter("codeFencedFenceSequence"),F(A)):G(A)}function F(A){return A===a?(H++,$.consume(A),F):H>=o?($.exit("codeFencedFenceSequence"),lr(A)?hr($,b,"whitespace")(A):b(A)):G(A)}function b(A){return A===null||kt(A)?($.exit("codeFencedFence"),q(A)):G(A)}}}function Die(t,e,r){const n=this;return i;function i(o){return o===null?r(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return n.parser.lazy[n.now().line]?r(o):e(o)}}const z1={name:"codeIndented",tokenize:Lie},Oie={partial:!0,tokenize:Fie};function Lie(t,e,r){const n=this;return i;function i(d){return t.enter("codeIndented"),hr(t,s,"linePrefix",5)(d)}function s(d){const f=n.events[n.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(d):r(d)}function o(d){return d===null?c(d):kt(d)?t.attempt(Oie,o,c)(d):(t.enter("codeFlowValue"),a(d))}function a(d){return d===null||kt(d)?(t.exit("codeFlowValue"),o(d)):(t.consume(d),a)}function c(d){return t.exit("codeIndented"),e(d)}}function Fie(t,e,r){const n=this;return i;function i(o){return n.parser.lazy[n.now().line]?r(o):kt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):hr(t,s,"linePrefix",5)(o)}function s(o){const a=n.events[n.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):kt(o)?i(o):r(o)}}const zie={name:"codeText",previous:$ie,resolve:Bie,tokenize:Uie};function Bie(t){let e=t.length-4,r=3,n,i;if((t[r][1].type==="lineEnding"||t[r][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(n=r;++n<e;)if(t[n][1].type==="codeTextData"){t[r][1].type="codeTextPadding",t[e][1].type="codeTextPadding",r+=2,e-=2;break}}for(n=r-1,e++;++n<=e;)i===void 0?n!==e&&t[n][1].type!=="lineEnding"&&(i=n):(n===e||t[n][1].type==="lineEnding")&&(t[i][1].type="codeTextData",n!==i+2&&(t[i][1].end=t[n-1][1].end,t.splice(i+2,n-i-2),e-=n-i-2,n=i+2),i=void 0);return t}function $ie(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Uie(t,e,r){let n=0,i,s;return o;function o(p){return t.enter("codeText"),t.enter("codeTextSequence"),a(p)}function a(p){return p===96?(t.consume(p),n++,a):(t.exit("codeTextSequence"),c(p))}function c(p){return p===null?r(p):p===32?(t.enter("space"),t.consume(p),t.exit("space"),c):p===96?(s=t.enter("codeTextSequence"),i=0,f(p)):kt(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),c):(t.enter("codeTextData"),d(p))}function d(p){return p===null||p===32||p===96||kt(p)?(t.exit("codeTextData"),c(p)):(t.consume(p),d)}function f(p){return p===96?(t.consume(p),i++,f):i===n?(t.exit("codeTextSequence"),t.exit("codeText"),e(p)):(s.type="codeTextData",d(p))}}class Vie{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,r,n){const i=r||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&bp(this.left,n),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),bp(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),bp(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const r=this.left.splice(e,Number.POSITIVE_INFINITY);bp(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);bp(this.left,r.reverse())}}}function bp(t,e){let r=0;if(e.length<1e4)t.push(...e);else for(;r<e.length;)t.push(...e.slice(r,r+1e4)),r+=1e4}function uF(t){const e={};let r=-1,n,i,s,o,a,c,d;const f=new Vie(t);for(;++r<f.length;){for(;r in e;)r=e[r];if(n=f.get(r),r&&n[1].type==="chunkFlow"&&f.get(r-1)[1].type==="listItemPrefix"&&(c=n[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(n[0]==="enter")n[1].contentType&&(Object.assign(e,Wie(f,r)),r=e[r],d=!0);else if(n[1]._container){for(s=r,i=void 0;s--;)if(o=f.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(n[1].end={...f.get(i)[1].start},a=f.slice(i,r),a.unshift(n),f.splice(i,r-i+1,a))}}return Ks(t,0,Number.POSITIVE_INFINITY,f.slice(0)),!d}function Wie(t,e){const r=t.get(e)[1],n=t.get(e)[2];let i=e-1;const s=[];let o=r._tokenizer;o||(o=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,c=[],d={};let f,p,g=-1,m=r,v=0,x=0;const w=[x];for(;m;){for(;t.get(++i)[1]!==m;);s.push(i),m._tokenizer||(f=n.sliceStream(m),m.next||f.push(null),p&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),p=m,m=m.next}for(m=r;++g<a.length;)a[g][0]==="exit"&&a[g-1][0]==="enter"&&a[g][1].type===a[g-1][1].type&&a[g][1].start.line!==a[g][1].end.line&&(x=g+1,w.push(x),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):w.pop(),g=w.length;g--;){const E=a.slice(w[g],w[g+1]),P=s.pop();c.push([P,P+E.length-1]),t.splice(P,2,E)}for(c.reverse(),g=-1;++g<c.length;)d[v+c[g][0]]=v+c[g][1],v+=c[g][1]-c[g][0]-1;return d}const qie={resolve:Gie,tokenize:Kie},Hie={partial:!0,tokenize:Yie};function Gie(t){return uF(t),t}function Kie(t,e){let r;return n;function n(a){return t.enter("content"),r=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):kt(a)?t.check(Hie,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),r.next=t.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function Yie(t,e,r){const n=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),hr(t,s,"linePrefix")}function s(o){if(o===null||kt(o))return r(o);const a=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(n.parser.constructs.flow,r,e)(o)}}function dF(t,e,r,n,i,s,o,a,c){const d=c||Number.POSITIVE_INFINITY;let f=0;return p;function p(E){return E===60?(t.enter(n),t.enter(i),t.enter(s),t.consume(E),t.exit(s),g):E===null||E===32||E===41||Ox(E)?r(E):(t.enter(n),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),x(E))}function g(E){return E===62?(t.enter(s),t.consume(E),t.exit(s),t.exit(i),t.exit(n),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),m(E))}function m(E){return E===62?(t.exit("chunkString"),t.exit(a),g(E)):E===null||E===60||kt(E)?r(E):(t.consume(E),E===92?v:m)}function v(E){return E===60||E===62||E===92?(t.consume(E),m):m(E)}function x(E){return!f&&(E===null||E===41||Fr(E))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(n),e(E)):f<d&&E===40?(t.consume(E),f++,x):E===41?(t.consume(E),f--,x):E===null||E===32||E===40||Ox(E)?r(E):(t.consume(E),E===92?w:x)}function w(E){return E===40||E===41||E===92?(t.consume(E),x):x(E)}}function fF(t,e,r,n,i,s){const o=this;let a=0,c;return d;function d(m){return t.enter(n),t.enter(i),t.consume(m),t.exit(i),t.enter(s),f}function f(m){return a>999||m===null||m===91||m===93&&!c||m===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?r(m):m===93?(t.exit(s),t.enter(i),t.consume(m),t.exit(i),t.exit(n),e):kt(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),f):(t.enter("chunkString",{contentType:"string"}),p(m))}function p(m){return m===null||m===91||m===93||kt(m)||a++>999?(t.exit("chunkString"),f(m)):(t.consume(m),c||(c=!lr(m)),m===92?g:p)}function g(m){return m===91||m===92||m===93?(t.consume(m),a++,p):p(m)}}function hF(t,e,r,n,i,s){let o;return a;function a(g){return g===34||g===39||g===40?(t.enter(n),t.enter(i),t.consume(g),t.exit(i),o=g===40?41:g,c):r(g)}function c(g){return g===o?(t.enter(i),t.consume(g),t.exit(i),t.exit(n),e):(t.enter(s),d(g))}function d(g){return g===o?(t.exit(s),c(o)):g===null?r(g):kt(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),hr(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===o||g===null||kt(g)?(t.exit("chunkString"),d(g)):(t.consume(g),g===92?p:f)}function p(g){return g===o||g===92?(t.consume(g),f):f(g)}}function sm(t,e){let r;return n;function n(i){return kt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),r=!0,n):lr(i)?hr(t,n,r?"linePrefix":"lineSuffix")(i):e(i)}}const Jie={name:"definition",tokenize:Qie},Xie={partial:!0,tokenize:Zie};function Qie(t,e,r){const n=this;let i;return s;function s(m){return t.enter("definition"),o(m)}function o(m){return fF.call(n,t,a,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function a(m){return i=ta(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),c):r(m)}function c(m){return Fr(m)?sm(t,d)(m):d(m)}function d(m){return dF(t,f,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function f(m){return t.attempt(Xie,p,p)(m)}function p(m){return lr(m)?hr(t,g,"whitespace")(m):g(m)}function g(m){return m===null||kt(m)?(t.exit("definition"),n.parser.defined.push(i),e(m)):r(m)}}function Zie(t,e,r){return n;function n(a){return Fr(a)?sm(t,i)(a):r(a)}function i(a){return hF(t,s,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return lr(a)?hr(t,o,"whitespace")(a):o(a)}function o(a){return a===null||kt(a)?e(a):r(a)}}const ese={name:"hardBreakEscape",tokenize:tse};function tse(t,e,r){return n;function n(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return kt(s)?(t.exit("hardBreakEscape"),e(s)):r(s)}}const rse={name:"headingAtx",resolve:nse,tokenize:ise};function nse(t,e){let r=t.length-2,n=3,i,s;return t[n][1].type==="whitespace"&&(n+=2),r-2>n&&t[r][1].type==="whitespace"&&(r-=2),t[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&t[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:t[n][1].start,end:t[r][1].end},s={type:"chunkText",start:t[n][1].start,end:t[r][1].end,contentType:"text"},Ks(t,n,r-n+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function ise(t,e,r){let n=0;return i;function i(f){return t.enter("atxHeading"),s(f)}function s(f){return t.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&n++<6?(t.consume(f),o):f===null||Fr(f)?(t.exit("atxHeadingSequence"),a(f)):r(f)}function a(f){return f===35?(t.enter("atxHeadingSequence"),c(f)):f===null||kt(f)?(t.exit("atxHeading"),e(f)):lr(f)?hr(t,a,"whitespace")(f):(t.enter("atxHeadingText"),d(f))}function c(f){return f===35?(t.consume(f),c):(t.exit("atxHeadingSequence"),a(f))}function d(f){return f===null||f===35||Fr(f)?(t.exit("atxHeadingText"),a(f)):(t.consume(f),d)}}const sse=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ZR=["pre","script","style","textarea"],ose={concrete:!0,name:"htmlFlow",resolveTo:cse,tokenize:use},ase={partial:!0,tokenize:fse},lse={partial:!0,tokenize:dse};function cse(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function use(t,e,r){const n=this;let i,s,o,a,c;return d;function d(I){return f(I)}function f(I){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(I),p}function p(I){return I===33?(t.consume(I),g):I===47?(t.consume(I),s=!0,x):I===63?(t.consume(I),i=3,n.interrupt?e:T):Yi(I)?(t.consume(I),o=String.fromCharCode(I),w):r(I)}function g(I){return I===45?(t.consume(I),i=2,m):I===91?(t.consume(I),i=5,a=0,v):Yi(I)?(t.consume(I),i=4,n.interrupt?e:T):r(I)}function m(I){return I===45?(t.consume(I),n.interrupt?e:T):r(I)}function v(I){const Q="CDATA[";return I===Q.charCodeAt(a++)?(t.consume(I),a===Q.length?n.interrupt?e:W:v):r(I)}function x(I){return Yi(I)?(t.consume(I),o=String.fromCharCode(I),w):r(I)}function w(I){if(I===null||I===47||I===62||Fr(I)){const Q=I===47,z=o.toLowerCase();return!Q&&!s&&ZR.includes(z)?(i=1,n.interrupt?e(I):W(I)):sse.includes(o.toLowerCase())?(i=6,Q?(t.consume(I),E):n.interrupt?e(I):W(I)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(I):s?P(I):R(I))}return I===45||Pi(I)?(t.consume(I),o+=String.fromCharCode(I),w):r(I)}function E(I){return I===62?(t.consume(I),n.interrupt?e:W):r(I)}function P(I){return lr(I)?(t.consume(I),P):K(I)}function R(I){return I===47?(t.consume(I),K):I===58||I===95||Yi(I)?(t.consume(I),S):lr(I)?(t.consume(I),R):K(I)}function S(I){return I===45||I===46||I===58||I===95||Pi(I)?(t.consume(I),S):B(I)}function B(I){return I===61?(t.consume(I),$):lr(I)?(t.consume(I),B):R(I)}function $(I){return I===null||I===60||I===61||I===62||I===96?r(I):I===34||I===39?(t.consume(I),c=I,q):lr(I)?(t.consume(I),$):G(I)}function q(I){return I===c?(t.consume(I),c=null,H):I===null||kt(I)?r(I):(t.consume(I),q)}function G(I){return I===null||I===34||I===39||I===47||I===60||I===61||I===62||I===96||Fr(I)?B(I):(t.consume(I),G)}function H(I){return I===47||I===62||lr(I)?R(I):r(I)}function K(I){return I===62?(t.consume(I),J):r(I)}function J(I){return I===null||kt(I)?W(I):lr(I)?(t.consume(I),J):r(I)}function W(I){return I===45&&i===2?(t.consume(I),D):I===60&&i===1?(t.consume(I),j):I===62&&i===4?(t.consume(I),O):I===63&&i===3?(t.consume(I),T):I===93&&i===5?(t.consume(I),M):kt(I)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(ase,N,F)(I)):I===null||kt(I)?(t.exit("htmlFlowData"),F(I)):(t.consume(I),W)}function F(I){return t.check(lse,b,N)(I)}function b(I){return t.enter("lineEnding"),t.consume(I),t.exit("lineEnding"),A}function A(I){return I===null||kt(I)?F(I):(t.enter("htmlFlowData"),W(I))}function D(I){return I===45?(t.consume(I),T):W(I)}function j(I){return I===47?(t.consume(I),o="",k):W(I)}function k(I){if(I===62){const Q=o.toLowerCase();return ZR.includes(Q)?(t.consume(I),O):W(I)}return Yi(I)&&o.length<8?(t.consume(I),o+=String.fromCharCode(I),k):W(I)}function M(I){return I===93?(t.consume(I),T):W(I)}function T(I){return I===62?(t.consume(I),O):I===45&&i===2?(t.consume(I),T):W(I)}function O(I){return I===null||kt(I)?(t.exit("htmlFlowData"),N(I)):(t.consume(I),O)}function N(I){return t.exit("htmlFlow"),e(I)}}function dse(t,e,r){const n=this;return i;function i(o){return kt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):r(o)}function s(o){return n.parser.lazy[n.now().line]?r(o):e(o)}}function fse(t,e,r){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(bg,e,r)}}const hse={name:"htmlText",tokenize:pse};function pse(t,e,r){const n=this;let i,s,o;return a;function a(T){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(T),c}function c(T){return T===33?(t.consume(T),d):T===47?(t.consume(T),B):T===63?(t.consume(T),R):Yi(T)?(t.consume(T),G):r(T)}function d(T){return T===45?(t.consume(T),f):T===91?(t.consume(T),s=0,v):Yi(T)?(t.consume(T),P):r(T)}function f(T){return T===45?(t.consume(T),m):r(T)}function p(T){return T===null?r(T):T===45?(t.consume(T),g):kt(T)?(o=p,j(T)):(t.consume(T),p)}function g(T){return T===45?(t.consume(T),m):p(T)}function m(T){return T===62?D(T):T===45?g(T):p(T)}function v(T){const O="CDATA[";return T===O.charCodeAt(s++)?(t.consume(T),s===O.length?x:v):r(T)}function x(T){return T===null?r(T):T===93?(t.consume(T),w):kt(T)?(o=x,j(T)):(t.consume(T),x)}function w(T){return T===93?(t.consume(T),E):x(T)}function E(T){return T===62?D(T):T===93?(t.consume(T),E):x(T)}function P(T){return T===null||T===62?D(T):kt(T)?(o=P,j(T)):(t.consume(T),P)}function R(T){return T===null?r(T):T===63?(t.consume(T),S):kt(T)?(o=R,j(T)):(t.consume(T),R)}function S(T){return T===62?D(T):R(T)}function B(T){return Yi(T)?(t.consume(T),$):r(T)}function $(T){return T===45||Pi(T)?(t.consume(T),$):q(T)}function q(T){return kt(T)?(o=q,j(T)):lr(T)?(t.consume(T),q):D(T)}function G(T){return T===45||Pi(T)?(t.consume(T),G):T===47||T===62||Fr(T)?H(T):r(T)}function H(T){return T===47?(t.consume(T),D):T===58||T===95||Yi(T)?(t.consume(T),K):kt(T)?(o=H,j(T)):lr(T)?(t.consume(T),H):D(T)}function K(T){return T===45||T===46||T===58||T===95||Pi(T)?(t.consume(T),K):J(T)}function J(T){return T===61?(t.consume(T),W):kt(T)?(o=J,j(T)):lr(T)?(t.consume(T),J):H(T)}function W(T){return T===null||T===60||T===61||T===62||T===96?r(T):T===34||T===39?(t.consume(T),i=T,F):kt(T)?(o=W,j(T)):lr(T)?(t.consume(T),W):(t.consume(T),b)}function F(T){return T===i?(t.consume(T),i=void 0,A):T===null?r(T):kt(T)?(o=F,j(T)):(t.consume(T),F)}function b(T){return T===null||T===34||T===39||T===60||T===61||T===96?r(T):T===47||T===62||Fr(T)?H(T):(t.consume(T),b)}function A(T){return T===47||T===62||Fr(T)?H(T):r(T)}function D(T){return T===62?(t.consume(T),t.exit("htmlTextData"),t.exit("htmlText"),e):r(T)}function j(T){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),k}function k(T){return lr(T)?hr(t,M,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):M(T)}function M(T){return t.enter("htmlTextData"),o(T)}}const A2={name:"labelEnd",resolveAll:xse,resolveTo:vse,tokenize:bse},mse={tokenize:wse},gse={tokenize:kse},yse={tokenize:_se};function xse(t){let e=-1;const r=[];for(;++e<t.length;){const n=t[e][1];if(r.push(t[e]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",e+=i}}return t.length!==r.length&&Ks(t,0,t.length,r),t}function vse(t,e){let r=t.length,n=0,i,s,o,a;for(;r--;)if(i=t[r][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(o=r);const c={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},f={type:"labelText",start:{...t[s+n+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",c,e],["enter",d,e]],a=fo(a,t.slice(s+1,s+n+3)),a=fo(a,[["enter",f,e]]),a=fo(a,jv(e.parser.constructs.insideSpan.null,t.slice(s+n+4,o-3),e)),a=fo(a,[["exit",f,e],t[o-2],t[o-1],["exit",d,e]]),a=fo(a,t.slice(o+1)),a=fo(a,[["exit",c,e]]),Ks(t,s,t.length,a),t}function bse(t,e,r){const n=this;let i=n.events.length,s,o;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){s=n.events[i][1];break}return a;function a(g){return s?s._inactive?p(g):(o=n.parser.defined.includes(ta(n.sliceSerialize({start:s.end,end:n.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(g),t.exit("labelMarker"),t.exit("labelEnd"),c):r(g)}function c(g){return g===40?t.attempt(mse,f,o?f:p)(g):g===91?t.attempt(gse,f,o?d:p)(g):o?f(g):p(g)}function d(g){return t.attempt(yse,f,p)(g)}function f(g){return e(g)}function p(g){return s._balanced=!0,r(g)}}function wse(t,e,r){return n;function n(p){return t.enter("resource"),t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),i}function i(p){return Fr(p)?sm(t,s)(p):s(p)}function s(p){return p===41?f(p):dF(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function o(p){return Fr(p)?sm(t,c)(p):f(p)}function a(p){return r(p)}function c(p){return p===34||p===39||p===40?hF(t,d,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):f(p)}function d(p){return Fr(p)?sm(t,f)(p):f(p)}function f(p){return p===41?(t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),t.exit("resource"),e):r(p)}}function kse(t,e,r){const n=this;return i;function i(a){return fF.call(n,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return n.parser.defined.includes(ta(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?e(a):r(a)}function o(a){return r(a)}}function _se(t,e,r){return n;function n(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):r(s)}}const Cse={name:"labelStartImage",resolveAll:A2.resolveAll,tokenize:Sse};function Sse(t,e,r){const n=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):r(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(a):e(a)}}const Ese={name:"labelStartLink",resolveAll:A2.resolveAll,tokenize:Tse};function Tse(t,e,r){const n=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):e(o)}}const B1={name:"lineEnding",tokenize:Nse};function Nse(t,e){return r;function r(n){return t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),hr(t,e,"linePrefix")}}const J0={name:"thematicBreak",tokenize:Ase};function Ase(t,e,r){let n=0,i;return s;function s(d){return t.enter("thematicBreak"),o(d)}function o(d){return i=d,a(d)}function a(d){return d===i?(t.enter("thematicBreakSequence"),c(d)):n>=3&&(d===null||kt(d))?(t.exit("thematicBreak"),e(d)):r(d)}function c(d){return d===i?(t.consume(d),n++,c):(t.exit("thematicBreakSequence"),lr(d)?hr(t,a,"whitespace")(d):a(d))}}const ls={continuation:{tokenize:Ise},exit:Dse,name:"list",tokenize:Rse},jse={partial:!0,tokenize:Ose},Pse={partial:!0,tokenize:Mse};function Rse(t,e,r){const n=this,i=n.events[n.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(m){const v=n.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!n.containerState.marker||m===n.containerState.marker:F_(m)){if(n.containerState.type||(n.containerState.type=v,t.enter(v,{_container:!0})),v==="listUnordered")return t.enter("listItemPrefix"),m===42||m===45?t.check(J0,r,d)(m):d(m);if(!n.interrupt||m===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),c(m)}return r(m)}function c(m){return F_(m)&&++o<10?(t.consume(m),c):(!n.interrupt||o<2)&&(n.containerState.marker?m===n.containerState.marker:m===41||m===46)?(t.exit("listItemValue"),d(m)):r(m)}function d(m){return t.enter("listItemMarker"),t.consume(m),t.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||m,t.check(bg,n.interrupt?r:f,t.attempt(jse,g,p))}function f(m){return n.containerState.initialBlankLine=!0,s++,g(m)}function p(m){return lr(m)?(t.enter("listItemPrefixWhitespace"),t.consume(m),t.exit("listItemPrefixWhitespace"),g):r(m)}function g(m){return n.containerState.size=s+n.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(m)}}function Ise(t,e,r){const n=this;return n.containerState._closeFlow=void 0,t.check(bg,i,s);function i(a){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,hr(t,e,"listItemIndent",n.containerState.size+1)(a)}function s(a){return n.containerState.furtherBlankLines||!lr(a)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,o(a)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,t.attempt(Pse,e,o)(a))}function o(a){return n.containerState._closeFlow=!0,n.interrupt=void 0,hr(t,t.attempt(ls,e,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Mse(t,e,r){const n=this;return hr(t,i,"listItemIndent",n.containerState.size+1);function i(s){const o=n.events[n.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===n.containerState.size?e(s):r(s)}}function Dse(t){t.exit(this.containerState.type)}function Ose(t,e,r){const n=this;return hr(t,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=n.events[n.events.length-1];return!lr(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):r(s)}}const eI={name:"setextUnderline",resolveTo:Lse,tokenize:Fse};function Lse(t,e){let r=t.length,n,i,s;for(;r--;)if(t[r][0]==="enter"){if(t[r][1].type==="content"){n=r;break}t[r][1].type==="paragraph"&&(i=r)}else t[r][1].type==="content"&&t.splice(r,1),!s&&t[r][1].type==="definition"&&(s=r);const o={type:"setextHeading",start:{...t[n][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[n][1],e]),t[n][1].end={...t[s][1].end}):t[n][1]=o,t.push(["exit",o,e]),t}function Fse(t,e,r){const n=this;let i;return s;function s(d){let f=n.events.length,p;for(;f--;)if(n.events[f][1].type!=="lineEnding"&&n.events[f][1].type!=="linePrefix"&&n.events[f][1].type!=="content"){p=n.events[f][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||p)?(t.enter("setextHeadingLine"),i=d,o(d)):r(d)}function o(d){return t.enter("setextHeadingLineSequence"),a(d)}function a(d){return d===i?(t.consume(d),a):(t.exit("setextHeadingLineSequence"),lr(d)?hr(t,c,"lineSuffix")(d):c(d))}function c(d){return d===null||kt(d)?(t.exit("setextHeadingLine"),e(d)):r(d)}}const zse={tokenize:Bse};function Bse(t){const e=this,r=t.attempt(bg,n,t.attempt(this.parser.constructs.flowInitial,i,hr(t,t.attempt(this.parser.constructs.flow,i,t.attempt(qie,i)),"linePrefix")));return r;function n(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,r}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,r}}const $se={resolveAll:mF()},Use=pF("string"),Vse=pF("text");function pF(t){return{resolveAll:mF(t==="text"?Wse:void 0),tokenize:e};function e(r){const n=this,i=this.parser.constructs[t],s=r.attempt(i,o,a);return o;function o(f){return d(f)?s(f):a(f)}function a(f){if(f===null){r.consume(f);return}return r.enter("data"),r.consume(f),c}function c(f){return d(f)?(r.exit("data"),s(f)):(r.consume(f),c)}function d(f){if(f===null)return!0;const p=i[f];let g=-1;if(p)for(;++g<p.length;){const m=p[g];if(!m.previous||m.previous.call(n,n.previous))return!0}return!1}}}function mF(t){return e;function e(r,n){let i=-1,s;for(;++i<=r.length;)s===void 0?r[i]&&r[i][1].type==="data"&&(s=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==s+2&&(r[s][1].end=r[i-1][1].end,r.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(r,n):r}}function Wse(t,e){let r=0;for(;++r<=t.length;)if((r===t.length||t[r][1].type==="lineEnding")&&t[r-1][1].type==="data"){const n=t[r-1][1],i=e.sliceStream(n);let s=i.length,o=-1,a=0,c;for(;s--;){const d=i[s];if(typeof d=="string"){for(o=d.length;d.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(d===-2)c=!0,a++;else if(d!==-1){s++;break}}if(e._contentTypeTextTrailing&&r===t.length&&(a=0),a){const d={type:r===t.length||c||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:n.start._bufferIndex+o,_index:n.start._index+s,line:n.end.line,column:n.end.column-a,offset:n.end.offset-a},end:{...n.end}};n.end={...d.start},n.start.offset===n.end.offset?Object.assign(n,d):(t.splice(r,0,["enter",d,e],["exit",d,e]),r+=2)}r++}return t}const qse={42:ls,43:ls,45:ls,48:ls,49:ls,50:ls,51:ls,52:ls,53:ls,54:ls,55:ls,56:ls,57:ls,62:aF},Hse={91:Jie},Gse={[-2]:z1,[-1]:z1,32:z1},Kse={35:rse,42:J0,45:[eI,J0],60:ose,61:eI,95:J0,96:QR,126:QR},Yse={38:cF,92:lF},Jse={[-5]:B1,[-4]:B1,[-3]:B1,33:Cse,38:cF,42:z_,60:[Eie,hse],91:Ese,92:[ese,lF],93:A2,95:z_,96:zie},Xse={null:[z_,$se]},Qse={null:[42,95]},Zse={null:[]},eoe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Qse,contentInitial:Hse,disable:Zse,document:qse,flow:Kse,flowInitial:Gse,insideSpan:Xse,string:Yse,text:Jse},Symbol.toStringTag,{value:"Module"}));function toe(t,e,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},s=[];let o=[],a=[];const c={attempt:q(B),check:q($),consume:P,enter:R,exit:S,interrupt:q($,{interrupt:!0})},d={code:null,containerState:{},defineSkip:x,events:[],now:v,parser:t,previous:null,sliceSerialize:g,sliceStream:m,write:p};let f=e.tokenize.call(d,c);return e.resolveAll&&s.push(e),d;function p(J){return o=fo(o,J),w(),o[o.length-1]!==null?[]:(G(e,0),d.events=jv(s,d.events,d),d.events)}function g(J,W){return noe(m(J),W)}function m(J){return roe(o,J)}function v(){const{_bufferIndex:J,_index:W,line:F,column:b,offset:A}=n;return{_bufferIndex:J,_index:W,line:F,column:b,offset:A}}function x(J){i[J.line]=J.column,K()}function w(){let J;for(;n._index<o.length;){const W=o[n._index];if(typeof W=="string")for(J=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===J&&n._bufferIndex<W.length;)E(W.charCodeAt(n._bufferIndex));else E(W)}}function E(J){f=f(J)}function P(J){kt(J)?(n.line++,n.column=1,n.offset+=J===-3?2:1,K()):J!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===o[n._index].length&&(n._bufferIndex=-1,n._index++)),d.previous=J}function R(J,W){const F=W||{};return F.type=J,F.start=v(),d.events.push(["enter",F,d]),a.push(F),F}function S(J){const W=a.pop();return W.end=v(),d.events.push(["exit",W,d]),W}function B(J,W){G(J,W.from)}function $(J,W){W.restore()}function q(J,W){return F;function F(b,A,D){let j,k,M,T;return Array.isArray(b)?N(b):"tokenize"in b?N([b]):O(b);function O(V){return Y;function Y(Z){const ee=Z!==null&&V[Z],ae=Z!==null&&V.null,ne=[...Array.isArray(ee)?ee:ee?[ee]:[],...Array.isArray(ae)?ae:ae?[ae]:[]];return N(ne)(Z)}}function N(V){return j=V,k=0,V.length===0?D:I(V[k])}function I(V){return Y;function Y(Z){return T=H(),M=V,V.partial||(d.currentConstruct=V),V.name&&d.parser.constructs.disable.null.includes(V.name)?z():V.tokenize.call(W?Object.assign(Object.create(d),W):d,c,Q,z)(Z)}}function Q(V){return J(M,T),A}function z(V){return T.restore(),++k<j.length?I(j[k]):D}}}function G(J,W){J.resolveAll&&!s.includes(J)&&s.push(J),J.resolve&&Ks(d.events,W,d.events.length-W,J.resolve(d.events.slice(W),d)),J.resolveTo&&(d.events=J.resolveTo(d.events,d))}function H(){const J=v(),W=d.previous,F=d.currentConstruct,b=d.events.length,A=Array.from(a);return{from:b,restore:D};function D(){n=J,d.previous=W,d.currentConstruct=F,d.events.length=b,a=A,K()}}function K(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function roe(t,e){const r=e.start._index,n=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(r===i)o=[t[r].slice(n,s)];else{if(o=t.slice(r,i),n>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(n):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function noe(t,e){let r=-1;const n=[];let i;for(;++r<t.length;){const s=t[r];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,n.push(o)}return n.join("")}function ioe(t){const n={constructs:sF([eoe,...(t||{}).extensions||[]]),content:i(vie),defined:[],document:i(wie),flow:i(zse),lazy:{},string:i(Use),text:i(Vse)};return n;function i(s){return o;function o(a){return toe(n,s,a)}}}function soe(t){for(;!uF(t););return t}const tI=/[\0\t\n\r]/g;function ooe(){let t=1,e="",r=!0,n;return i;function i(s,o,a){const c=[];let d,f,p,g,m;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),p=0,e="",r&&(s.charCodeAt(0)===65279&&p++,r=void 0);p<s.length;){if(tI.lastIndex=p,d=tI.exec(s),g=d&&d.index!==void 0?d.index:s.length,m=s.charCodeAt(g),!d){e=s.slice(p);break}if(m===10&&p===g&&n)c.push(-3),n=void 0;else switch(n&&(c.push(-5),n=void 0),p<g&&(c.push(s.slice(p,g)),t+=g-p),m){case 0:{c.push(65533),t++;break}case 9:{for(f=Math.ceil(t/4)*4,c.push(-2);t++<f;)c.push(-1);break}case 10:{c.push(-4),t=1;break}default:n=!0,t=1}p=g+1}return a&&(n&&c.push(-5),e&&c.push(e),c.push(null)),c}}const aoe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function loe(t){return t.replace(aoe,coe)}function coe(t,e,r){if(e)return e;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),s=i===120||i===88;return oF(r.slice(s?2:1),s?16:10)}return N2(r)||t}const gF={}.hasOwnProperty;function uoe(t,e,r){return typeof e!="string"&&(r=e,e=void 0),doe(r)(soe(ioe(r).document().write(ooe()(t,e,!0))))}function doe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(jt),autolinkProtocol:H,autolinkEmail:H,atxHeading:s(Ce),blockQuote:s(ae),characterEscape:H,characterReference:H,codeFenced:s(ne),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(ne,o),codeText:s(de,o),codeTextData:H,data:H,codeFlowValue:H,definition:s(xe),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(me),hardBreakEscape:s(ct),hardBreakTrailing:s(ct),htmlFlow:s(le,o),htmlFlowData:H,htmlText:s(le,o),htmlTextData:H,image:s(Ye),label:o,link:s(jt),listItem:s(De),listItemValue:g,listOrdered:s(it,p),listUnordered:s(it),paragraph:s(Jt),reference:I,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Ce),strong:s(st),thematicBreak:s(Ie)},exit:{atxHeading:c(),atxHeadingSequence:B,autolink:c(),autolinkEmail:ee,autolinkProtocol:Z,blockQuote:c(),characterEscapeValue:K,characterReferenceMarkerHexadecimal:z,characterReferenceMarkerNumeric:z,characterReferenceValue:V,characterReference:Y,codeFenced:c(w),codeFencedFence:x,codeFencedFenceInfo:m,codeFencedFenceMeta:v,codeFlowValue:K,codeIndented:c(E),codeText:c(A),codeTextData:K,data:K,definition:c(),definitionDestinationString:S,definitionLabelString:P,definitionTitleString:R,emphasis:c(),hardBreakEscape:c(W),hardBreakTrailing:c(W),htmlFlow:c(F),htmlFlowData:K,htmlText:c(b),htmlTextData:K,image:c(j),label:M,labelText:k,lineEnding:J,link:c(D),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:Q,resourceDestinationString:T,resourceTitleString:O,resource:N,setextHeading:c(G),setextHeadingLineSequence:q,setextHeadingText:$,strong:c(),thematicBreak:c()}};yF(e,(t||{}).mdastExtensions||[]);const r={};return n;function n(se){let he={type:"root",children:[]};const Le={stack:[he],tokenStack:[],config:e,enter:a,exit:d,buffer:o,resume:f,data:r},Ae=[];let Me=-1;for(;++Me<se.length;)if(se[Me][1].type==="listOrdered"||se[Me][1].type==="listUnordered")if(se[Me][0]==="enter")Ae.push(Me);else{const Gt=Ae.pop();Me=i(se,Gt,Me)}for(Me=-1;++Me<se.length;){const Gt=e[se[Me][0]];gF.call(Gt,se[Me][1].type)&&Gt[se[Me][1].type].call(Object.assign({sliceSerialize:se[Me][2].sliceSerialize},Le),se[Me][1])}if(Le.tokenStack.length>0){const Gt=Le.tokenStack[Le.tokenStack.length-1];(Gt[1]||rI).call(Le,void 0,Gt[0])}for(he.position={start:tc(se.length>0?se[0][1].start:{line:1,column:1,offset:0}),end:tc(se.length>0?se[se.length-2][1].end:{line:1,column:1,offset:0})},Me=-1;++Me<e.transforms.length;)he=e.transforms[Me](he)||he;return he}function i(se,he,Le){let Ae=he-1,Me=-1,Gt=!1,Xe,_t,Wt,Ct;for(;++Ae<=Le;){const rt=se[Ae];switch(rt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{rt[0]==="enter"?Me++:Me--,Ct=void 0;break}case"lineEndingBlank":{rt[0]==="enter"&&(Xe&&!Ct&&!Me&&!Wt&&(Wt=Ae),Ct=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ct=void 0}if(!Me&&rt[0]==="enter"&&rt[1].type==="listItemPrefix"||Me===-1&&rt[0]==="exit"&&(rt[1].type==="listUnordered"||rt[1].type==="listOrdered")){if(Xe){let Xt=Ae;for(_t=void 0;Xt--;){const xt=se[Xt];if(xt[1].type==="lineEnding"||xt[1].type==="lineEndingBlank"){if(xt[0]==="exit")continue;_t&&(se[_t][1].type="lineEndingBlank",Gt=!0),xt[1].type="lineEnding",_t=Xt}else if(!(xt[1].type==="linePrefix"||xt[1].type==="blockQuotePrefix"||xt[1].type==="blockQuotePrefixWhitespace"||xt[1].type==="blockQuoteMarker"||xt[1].type==="listItemIndent"))break}Wt&&(!_t||Wt<_t)&&(Xe._spread=!0),Xe.end=Object.assign({},_t?se[_t][1].start:rt[1].end),se.splice(_t||Ae,0,["exit",Xe,rt[2]]),Ae++,Le++}if(rt[1].type==="listItemPrefix"){const Xt={type:"listItem",_spread:!1,start:Object.assign({},rt[1].start),end:void 0};Xe=Xt,se.splice(Ae,0,["enter",Xt,rt[2]]),Ae++,Le++,Wt=void 0,Ct=!0}}}return se[he][1]._spread=Gt,Le}function s(se,he){return Le;function Le(Ae){a.call(this,se(Ae),Ae),he&&he.call(this,Ae)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(se,he,Le){this.stack[this.stack.length-1].children.push(se),this.stack.push(se),this.tokenStack.push([he,Le||void 0]),se.position={start:tc(he.start),end:void 0}}function c(se){return he;function he(Le){se&&se.call(this,Le),d.call(this,Le)}}function d(se,he){const Le=this.stack.pop(),Ae=this.tokenStack.pop();if(Ae)Ae[0].type!==se.type&&(he?he.call(this,se,Ae[0]):(Ae[1]||rI).call(this,se,Ae[0]));else throw new Error("Cannot close `"+se.type+"` ("+im({start:se.start,end:se.end})+"): its not open");Le.position.end=tc(se.end)}function f(){return T2(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(se){if(this.data.expectingFirstListItemValue){const he=this.stack[this.stack.length-2];he.start=Number.parseInt(this.sliceSerialize(se),10),this.data.expectingFirstListItemValue=void 0}}function m(){const se=this.resume(),he=this.stack[this.stack.length-1];he.lang=se}function v(){const se=this.resume(),he=this.stack[this.stack.length-1];he.meta=se}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const se=this.resume(),he=this.stack[this.stack.length-1];he.value=se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const se=this.resume(),he=this.stack[this.stack.length-1];he.value=se.replace(/(\r?\n|\r)$/g,"")}function P(se){const he=this.resume(),Le=this.stack[this.stack.length-1];Le.label=he,Le.identifier=ta(this.sliceSerialize(se)).toLowerCase()}function R(){const se=this.resume(),he=this.stack[this.stack.length-1];he.title=se}function S(){const se=this.resume(),he=this.stack[this.stack.length-1];he.url=se}function B(se){const he=this.stack[this.stack.length-1];if(!he.depth){const Le=this.sliceSerialize(se).length;he.depth=Le}}function $(){this.data.setextHeadingSlurpLineEnding=!0}function q(se){const he=this.stack[this.stack.length-1];he.depth=this.sliceSerialize(se).codePointAt(0)===61?1:2}function G(){this.data.setextHeadingSlurpLineEnding=void 0}function H(se){const Le=this.stack[this.stack.length-1].children;let Ae=Le[Le.length-1];(!Ae||Ae.type!=="text")&&(Ae=ft(),Ae.position={start:tc(se.start),end:void 0},Le.push(Ae)),this.stack.push(Ae)}function K(se){const he=this.stack.pop();he.value+=this.sliceSerialize(se),he.position.end=tc(se.end)}function J(se){const he=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Le=he.children[he.children.length-1];Le.position.end=tc(se.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(he.type)&&(H.call(this,se),K.call(this,se))}function W(){this.data.atHardBreak=!0}function F(){const se=this.resume(),he=this.stack[this.stack.length-1];he.value=se}function b(){const se=this.resume(),he=this.stack[this.stack.length-1];he.value=se}function A(){const se=this.resume(),he=this.stack[this.stack.length-1];he.value=se}function D(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const he=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=he,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function j(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const he=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=he,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function k(se){const he=this.sliceSerialize(se),Le=this.stack[this.stack.length-2];Le.label=loe(he),Le.identifier=ta(he).toLowerCase()}function M(){const se=this.stack[this.stack.length-1],he=this.resume(),Le=this.stack[this.stack.length-1];if(this.data.inReference=!0,Le.type==="link"){const Ae=se.children;Le.children=Ae}else Le.alt=he}function T(){const se=this.resume(),he=this.stack[this.stack.length-1];he.url=se}function O(){const se=this.resume(),he=this.stack[this.stack.length-1];he.title=se}function N(){this.data.inReference=void 0}function I(){this.data.referenceType="collapsed"}function Q(se){const he=this.resume(),Le=this.stack[this.stack.length-1];Le.label=he,Le.identifier=ta(this.sliceSerialize(se)).toLowerCase(),this.data.referenceType="full"}function z(se){this.data.characterReferenceType=se.type}function V(se){const he=this.sliceSerialize(se),Le=this.data.characterReferenceType;let Ae;Le?(Ae=oF(he,Le==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ae=N2(he);const Me=this.stack[this.stack.length-1];Me.value+=Ae}function Y(se){const he=this.stack.pop();he.position.end=tc(se.end)}function Z(se){K.call(this,se);const he=this.stack[this.stack.length-1];he.url=this.sliceSerialize(se)}function ee(se){K.call(this,se);const he=this.stack[this.stack.length-1];he.url="mailto:"+this.sliceSerialize(se)}function ae(){return{type:"blockquote",children:[]}}function ne(){return{type:"code",lang:null,meta:null,value:""}}function de(){return{type:"inlineCode",value:""}}function xe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function me(){return{type:"emphasis",children:[]}}function Ce(){return{type:"heading",depth:0,children:[]}}function ct(){return{type:"break"}}function le(){return{type:"html",value:""}}function Ye(){return{type:"image",title:null,url:"",alt:null}}function jt(){return{type:"link",title:null,url:"",children:[]}}function it(se){return{type:"list",ordered:se.type==="listOrdered",start:null,spread:se._spread,children:[]}}function De(se){return{type:"listItem",spread:se._spread,checked:null,children:[]}}function Jt(){return{type:"paragraph",children:[]}}function st(){return{type:"strong",children:[]}}function ft(){return{type:"text",value:""}}function Ie(){return{type:"thematicBreak"}}}function tc(t){return{line:t.line,column:t.column,offset:t.offset}}function yF(t,e){let r=-1;for(;++r<e.length;){const n=e[r];Array.isArray(n)?yF(t,n):foe(t,n)}}function foe(t,e){let r;for(r in e)if(gF.call(e,r))switch(r){case"canContainEols":{const n=e[r];n&&t[r].push(...n);break}case"transforms":{const n=e[r];n&&t[r].push(...n);break}case"enter":case"exit":{const n=e[r];n&&Object.assign(t[r],n);break}}}function rI(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+im({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+im({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+im({start:e.start,end:e.end})+") is still open")}function hoe(t){const e=this;e.parser=r;function r(n){return uoe(n,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function poe(t,e){const r={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,r),t.applyData(e,r)}function moe(t,e){const r={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,r),[t.applyData(e,r),{type:"text",value:`
`}]}function goe(t,e){const r=e.value?e.value+`
`:"",n={};e.lang&&(n.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function yoe(t,e){const r={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function xoe(t,e){const r={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function voe(t,e){const r=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=String(e.identifier).toUpperCase(),i=Eh(n.toLowerCase()),s=t.footnoteOrder.indexOf(n);let o,a=t.footnoteCounts.get(n);a===void 0?(a=0,t.footnoteOrder.push(n),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(n,a);const c={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,c);const d={type:"element",tagName:"sup",properties:{},children:[c]};return t.patch(e,d),t.applyData(e,d)}function boe(t,e){const r={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function woe(t,e){if(t.options.allowDangerousHtml){const r={type:"raw",value:e.value};return t.patch(e,r),t.applyData(e,r)}}function xF(t,e){const r=e.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+n}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=n:i.push({type:"text",value:n}),i}function koe(t,e){const r=String(e.identifier).toUpperCase(),n=t.definitionById.get(r);if(!n)return xF(t,e);const i={src:Eh(n.url||""),alt:e.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function _oe(t,e){const r={src:Eh(e.url)};e.alt!==null&&e.alt!==void 0&&(r.alt=e.alt),e.title!==null&&e.title!==void 0&&(r.title=e.title);const n={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,n),t.applyData(e,n)}function Coe(t,e){const r={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return t.patch(e,n),t.applyData(e,n)}function Soe(t,e){const r=String(e.identifier).toUpperCase(),n=t.definitionById.get(r);if(!n)return xF(t,e);const i={href:Eh(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function Eoe(t,e){const r={href:Eh(e.url)};e.title!==null&&e.title!==void 0&&(r.title=e.title);const n={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Toe(t,e,r){const n=t.all(e),i=r?Noe(r):vF(e),s={},o=[];if(typeof e.checked=="boolean"){const f=n[0];let p;f&&f.type==="element"&&f.tagName==="p"?p=f:(p={type:"element",tagName:"p",properties:{},children:[]},n.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<n.length;){const f=n[a];(i||a!==0||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?o.push(...f.children):o.push(f)}const c=n[n.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,d),t.applyData(e,d)}function Noe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const r=t.children;let n=-1;for(;!e&&++n<r.length;)e=vF(r[n])}return e}function vF(t){const e=t.spread;return e??t.children.length>1}function Aoe(t,e){const r={},n=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(r.start=e.start);++i<n.length;){const o=n[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:r,children:t.wrap(n,!0)};return t.patch(e,s),t.applyData(e,s)}function joe(t,e){const r={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Poe(t,e){const r={type:"root",children:t.wrap(t.all(e))};return t.patch(e,r),t.applyData(e,r)}function Roe(t,e){const r={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Ioe(t,e){const r=t.all(e),n=r.shift(),i=[];if(n){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([n],!0)};t.patch(e.children[0],o),i.push(o)}if(r.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(r,!0)},a=_2(e.children[1]),c=Q6(e.children[e.children.length-1]);a&&c&&(o.position={start:a,end:c}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function Moe(t,e,r){const n=r?r.children:void 0,s=(n?n.indexOf(e):1)===0?"th":"td",o=r&&r.type==="table"?r.align:void 0,a=o?o.length:e.children.length;let c=-1;const d=[];for(;++c<a;){const p=e.children[c],g={},m=o?o[c]:void 0;m&&(g.align=m);let v={type:"element",tagName:s,properties:g,children:[]};p&&(v.children=t.all(p),t.patch(p,v),v=t.applyData(p,v)),d.push(v)}const f={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,f),t.applyData(e,f)}function Doe(t,e){const r={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}const nI=9,iI=32;function Ooe(t){const e=String(t),r=/\r?\n|\r/g;let n=r.exec(e),i=0;const s=[];for(;n;)s.push(sI(e.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(e);return s.push(sI(e.slice(i),i>0,!1)),s.join("")}function sI(t,e,r){let n=0,i=t.length;if(e){let s=t.codePointAt(n);for(;s===nI||s===iI;)n++,s=t.codePointAt(n)}if(r){let s=t.codePointAt(i-1);for(;s===nI||s===iI;)i--,s=t.codePointAt(i-1)}return i>n?t.slice(n,i):""}function Loe(t,e){const r={type:"text",value:Ooe(String(e.value))};return t.patch(e,r),t.applyData(e,r)}function Foe(t,e){const r={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,r),t.applyData(e,r)}const zoe={blockquote:poe,break:moe,code:goe,delete:yoe,emphasis:xoe,footnoteReference:voe,heading:boe,html:woe,imageReference:koe,image:_oe,inlineCode:Coe,linkReference:Soe,link:Eoe,listItem:Toe,list:Aoe,paragraph:joe,root:Poe,strong:Roe,table:Ioe,tableCell:Doe,tableRow:Moe,text:Loe,thematicBreak:Foe,toml:o0,yaml:o0,definition:o0,footnoteDefinition:o0};function o0(){}const bF=-1,Pv=0,om=1,Lx=2,j2=3,P2=4,R2=5,I2=6,wF=7,kF=8,oI=typeof self=="object"?self:globalThis,Boe=(t,e)=>{const r=(i,s)=>(t.set(s,i),i),n=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case Pv:case bF:return r(o,i);case om:{const a=r([],i);for(const c of o)a.push(n(c));return a}case Lx:{const a=r({},i);for(const[c,d]of o)a[n(c)]=n(d);return a}case j2:return r(new Date(o),i);case P2:{const{source:a,flags:c}=o;return r(new RegExp(a,c),i)}case R2:{const a=r(new Map,i);for(const[c,d]of o)a.set(n(c),n(d));return a}case I2:{const a=r(new Set,i);for(const c of o)a.add(n(c));return a}case wF:{const{name:a,message:c}=o;return r(new oI[a](c),i)}case kF:return r(BigInt(o),i);case"BigInt":return r(Object(BigInt(o)),i);case"ArrayBuffer":return r(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return r(new DataView(a),o)}}return r(new oI[s](o),i)};return n},aI=t=>Boe(new Map,t)(0),rf="",{toString:$oe}={},{keys:Uoe}=Object,wp=t=>{const e=typeof t;if(e!=="object"||!t)return[Pv,e];const r=$oe.call(t).slice(8,-1);switch(r){case"Array":return[om,rf];case"Object":return[Lx,rf];case"Date":return[j2,rf];case"RegExp":return[P2,rf];case"Map":return[R2,rf];case"Set":return[I2,rf];case"DataView":return[om,r]}return r.includes("Array")?[om,r]:r.includes("Error")?[wF,r]:[Lx,r]},a0=([t,e])=>t===Pv&&(e==="function"||e==="symbol"),Voe=(t,e,r,n)=>{const i=(o,a)=>{const c=n.push(o)-1;return r.set(a,c),c},s=o=>{if(r.has(o))return r.get(o);let[a,c]=wp(o);switch(a){case Pv:{let f=o;switch(c){case"bigint":a=kF,f=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+c);f=null;break;case"undefined":return i([bF],o)}return i([a,f],o)}case om:{if(c){let g=o;return c==="DataView"?g=new Uint8Array(o.buffer):c==="ArrayBuffer"&&(g=new Uint8Array(o)),i([c,[...g]],o)}const f=[],p=i([a,f],o);for(const g of o)f.push(s(g));return p}case Lx:{if(c)switch(c){case"BigInt":return i([c,o.toString()],o);case"Boolean":case"Number":case"String":return i([c,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const f=[],p=i([a,f],o);for(const g of Uoe(o))(t||!a0(wp(o[g])))&&f.push([s(g),s(o[g])]);return p}case j2:return i([a,o.toISOString()],o);case P2:{const{source:f,flags:p}=o;return i([a,{source:f,flags:p}],o)}case R2:{const f=[],p=i([a,f],o);for(const[g,m]of o)(t||!(a0(wp(g))||a0(wp(m))))&&f.push([s(g),s(m)]);return p}case I2:{const f=[],p=i([a,f],o);for(const g of o)(t||!a0(wp(g)))&&f.push(s(g));return p}}const{message:d}=o;return i([a,{name:c,message:d}],o)};return s},lI=(t,{json:e,lossy:r}={})=>{const n=[];return Voe(!(e||r),!!e,new Map,n)(t),n},Fx=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?aI(lI(t,e)):structuredClone(t):(t,e)=>aI(lI(t,e));function Woe(t,e){const r=[{type:"text",value:""}];return e>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),r}function qoe(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Hoe(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=t.options.footnoteBackContent||Woe,n=t.options.footnoteBackLabel||qoe,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let c=-1;for(;++c<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[c]);if(!d)continue;const f=t.all(d),p=String(d.identifier).toUpperCase(),g=Eh(p.toLowerCase());let m=0;const v=[],x=t.footnoteCounts.get(p);for(;x!==void 0&&++m<=x;){v.length>0&&v.push({type:"text",value:" "});let P=typeof r=="string"?r:r(c,m);typeof P=="string"&&(P={type:"text",value:P}),v.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+g+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(c,m),className:["data-footnote-backref"]},children:Array.isArray(P)?P:[P]})}const w=f[f.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const P=w.children[w.children.length-1];P&&P.type==="text"?P.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...v)}else f.push(...v);const E={type:"element",tagName:"li",properties:{id:e+"fn-"+g},children:t.wrap(f,!0)};t.patch(d,E),a.push(E)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Fx(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const Rv=function(t){if(t==null)return Joe;if(typeof t=="function")return Iv(t);if(typeof t=="object")return Array.isArray(t)?Goe(t):Koe(t);if(typeof t=="string")return Yoe(t);throw new Error("Expected function, string, or object as test")};function Goe(t){const e=[];let r=-1;for(;++r<t.length;)e[r]=Rv(t[r]);return Iv(n);function n(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function Koe(t){const e=t;return Iv(r);function r(n){const i=n;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function Yoe(t){return Iv(e);function e(r){return r&&r.type===t}}function Iv(t){return e;function e(r,n,i){return!!(Xoe(r)&&t.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function Joe(){return!0}function Xoe(t){return t!==null&&typeof t=="object"&&"type"in t}const _F=[],Qoe=!0,B_=!1,Zoe="skip";function CF(t,e,r,n){let i;typeof e=="function"&&typeof r!="function"?(n=r,r=e):i=e;const s=Rv(i),o=n?-1:1;a(t,void 0,[])();function a(c,d,f){const p=c&&typeof c=="object"?c:{};if(typeof p.type=="string"){const m=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(c.type+(m?"<"+m+">":""))+")"})}return g;function g(){let m=_F,v,x,w;if((!e||s(c,d,f[f.length-1]||void 0))&&(m=eae(r(c,f)),m[0]===B_))return m;if("children"in c&&c.children){const E=c;if(E.children&&m[0]!==Zoe)for(x=(n?E.children.length:-1)+o,w=f.concat(E);x>-1&&x<E.children.length;){const P=E.children[x];if(v=a(P,x,w)(),v[0]===B_)return v;x=typeof v[1]=="number"?v[1]:x+o}}return m}}}function eae(t){return Array.isArray(t)?t:typeof t=="number"?[Qoe,t]:t==null?_F:[t]}function M2(t,e,r,n){let i,s,o;typeof e=="function"&&typeof r!="function"?(s=void 0,o=e,i=r):(s=e,o=r,i=n),CF(t,s,a,i);function a(c,d){const f=d[d.length-1],p=f?f.children.indexOf(c):void 0;return o(c,p,f)}}const $_={}.hasOwnProperty,tae={};function rae(t,e){const r=e||tae,n=new Map,i=new Map,s=new Map,o={...zoe,...r.handlers},a={all:d,applyData:iae,definitionById:n,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:c,options:r,patch:nae,wrap:oae};return M2(t,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const p=f.type==="definition"?n:i,g=String(f.identifier).toUpperCase();p.has(g)||p.set(g,f)}}),a;function c(f,p){const g=f.type,m=a.handlers[g];if($_.call(a.handlers,g)&&m)return m(a,f,p);if(a.options.passThrough&&a.options.passThrough.includes(g)){if("children"in f){const{children:x,...w}=f,E=Fx(w);return E.children=a.all(f),E}return Fx(f)}return(a.options.unknownHandler||sae)(a,f,p)}function d(f){const p=[];if("children"in f){const g=f.children;let m=-1;for(;++m<g.length;){const v=a.one(g[m],f);if(v){if(m&&g[m-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=cI(v.value)),!Array.isArray(v)&&v.type==="element")){const x=v.children[0];x&&x.type==="text"&&(x.value=cI(x.value))}Array.isArray(v)?p.push(...v):p.push(v)}}}return p}}function nae(t,e){t.position&&(e.position=qne(t))}function iae(t,e){let r=e;if(t&&t.data){const n=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const o="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:o}}r.type==="element"&&s&&Object.assign(r.properties,Fx(s)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function sae(t,e){const r=e.data||{},n="value"in e&&!($_.call(r,"hProperties")||$_.call(r,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function oae(t,e){const r=[];let n=-1;for(e&&r.push({type:"text",value:`
`});++n<t.length;)n&&r.push({type:"text",value:`
`}),r.push(t[n]);return e&&t.length>0&&r.push({type:"text",value:`
`}),r}function cI(t){let e=0,r=t.charCodeAt(e);for(;r===9||r===32;)e++,r=t.charCodeAt(e);return t.slice(e)}function uI(t,e){const r=rae(t,e),n=r.one(t,void 0),i=Hoe(r),s=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function aae(t,e){return t&&"run"in t?async function(r,n){const i=uI(r,{file:n,...e});await t.run(i,n)}:function(r,n){return uI(r,{file:n,...t||e})}}function dI(t){if(t)throw t}var $1,fI;function lae(){if(fI)return $1;fI=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},s=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var f=t.call(d,"constructor"),p=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!f&&!p)return!1;var g;for(g in d);return typeof g>"u"||t.call(d,g)},o=function(d,f){r&&f.name==="__proto__"?r(d,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):d[f.name]=f.newValue},a=function(d,f){if(f==="__proto__")if(t.call(d,f)){if(n)return n(d,f).value}else return;return d[f]};return $1=function c(){var d,f,p,g,m,v,x=arguments[0],w=1,E=arguments.length,P=!1;for(typeof x=="boolean"&&(P=x,x=arguments[1]||{},w=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});w<E;++w)if(d=arguments[w],d!=null)for(f in d)p=a(x,f),g=a(d,f),x!==g&&(P&&g&&(s(g)||(m=i(g)))?(m?(m=!1,v=p&&i(p)?p:[]):v=p&&s(p)?p:{},o(x,{name:f,newValue:c(P,v,g)})):typeof g<"u"&&o(x,{name:f,newValue:g}));return x},$1}var cae=lae();const U1=El(cae);function U_(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function uae(){const t=[],e={run:r,use:n};return e;function r(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(c,...d){const f=t[++s];let p=-1;if(c){o(c);return}for(;++p<i.length;)(d[p]===null||d[p]===void 0)&&(d[p]=i[p]);i=d,f?dae(f,a)(...d):o(null,...d)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function dae(t,e){let r;return n;function n(...o){const a=t.length>o.length;let c;a&&o.push(i);try{c=t.apply(this,o)}catch(d){const f=d;if(a&&r)throw f;return i(f)}a||(c&&c.then&&typeof c.then=="function"?c.then(s,i):c instanceof Error?i(c):s(c))}function i(o,...a){r||(r=!0,e(o,...a))}function s(o){i(null,o)}}const ka={basename:fae,dirname:hae,extname:pae,join:mae,sep:"/"};function fae(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');wg(t);let r=0,n=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){r=i+1;break}}else n<0&&(s=!0,n=i+1);return n<0?"":t.slice(r,n)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){r=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(n=i):(a=-1,n=o));return r===n?n=o:n<0&&(n=t.length),t.slice(r,n)}function hae(t){if(wg(t),t.length===0)return".";let e=-1,r=t.length,n;for(;--r;)if(t.codePointAt(r)===47){if(n){e=r;break}}else n||(n=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function pae(t){wg(t);let e=t.length,r=-1,n=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){n=e+1;break}continue}r<0&&(o=!0,r=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||r<0||s===0||s===1&&i===r-1&&i===n+1?"":t.slice(i,r)}function mae(...t){let e=-1,r;for(;++e<t.length;)wg(t[e]),t[e]&&(r=r===void 0?t[e]:r+"/"+t[e]);return r===void 0?".":gae(r)}function gae(t){wg(t);const e=t.codePointAt(0)===47;let r=yae(t,!e);return r.length===0&&!e&&(r="."),r.length>0&&t.codePointAt(t.length-1)===47&&(r+="/"),e?"/"+r:r}function yae(t,e){let r="",n=0,i=-1,s=0,o=-1,a,c;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(c=r.lastIndexOf("/"),c!==r.length-1){c<0?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),i=o,s=0;continue}}else if(r.length>0){r="",n=0,i=o,s=0;continue}}e&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+t.slice(i+1,o):r=t.slice(i+1,o),n=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return r}function wg(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const xae={cwd:vae};function vae(){return"/"}function V_(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function bae(t){if(typeof t=="string")t=new URL(t);else if(!V_(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return wae(t)}function wae(t){if(t.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const e=t.pathname;let r=-1;for(;++r<e.length;)if(e.codePointAt(r)===37&&e.codePointAt(r+1)===50){const n=e.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const V1=["history","path","basename","stem","extname","dirname"];class SF{constructor(e){let r;e?V_(e)?r={path:e}:typeof e=="string"||kae(e)?r={value:e}:r=e:r={},this.cwd="cwd"in r?"":xae.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<V1.length;){const s=V1[n];s in r&&r[s]!==void 0&&r[s]!==null&&(this[s]=s==="history"?[...r[s]]:r[s])}let i;for(i in r)V1.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?ka.basename(this.path):void 0}set basename(e){q1(e,"basename"),W1(e,"basename"),this.path=ka.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ka.dirname(this.path):void 0}set dirname(e){hI(this.basename,"dirname"),this.path=ka.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ka.extname(this.path):void 0}set extname(e){if(W1(e,"extname"),hI(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ka.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){V_(e)&&(e=bae(e)),q1(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ka.basename(this.path,this.extname):void 0}set stem(e){q1(e,"stem"),W1(e,"stem"),this.path=ka.join(this.dirname||"",e+(this.extname||""))}fail(e,r,n){const i=this.message(e,r,n);throw i.fatal=!0,i}info(e,r,n){const i=this.message(e,r,n);return i.fatal=void 0,i}message(e,r,n){const i=new Mi(e,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function W1(t,e){if(t&&t.includes(ka.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ka.sep+"`")}function q1(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function hI(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function kae(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const _ae=function(t){const n=this.constructor.prototype,i=n[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,n),s},Cae={}.hasOwnProperty;class D2 extends _ae{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=uae()}copy(){const e=new D2;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];e.use(...n)}return e.data(U1(!0,{},this.namespace)),e}data(e,r){return typeof e=="string"?arguments.length===2?(K1("data",this.frozen),this.namespace[e]=r,this):Cae.call(this.namespace,e)&&this.namespace[e]||void 0:e?(K1("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(e,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const r=l0(e),n=this.parser||this.Parser;return H1("parse",n),n(String(r),r)}process(e,r){const n=this;return this.freeze(),H1("process",this.parser||this.Parser),G1("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(s,o){const a=l0(e),c=n.parse(a);n.run(c,a,function(f,p,g){if(f||!p||!g)return d(f);const m=p,v=n.stringify(m,g);Tae(v)?g.value=v:g.result=v,d(f,g)});function d(f,p){f||!p?o(f):s?s(p):r(void 0,p)}}}processSync(e){let r=!1,n;return this.freeze(),H1("processSync",this.parser||this.Parser),G1("processSync",this.compiler||this.Compiler),this.process(e,i),mI("processSync","process",r),n;function i(s,o){r=!0,dI(s),n=o}}run(e,r,n){pI(e),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?s(void 0,n):new Promise(s);function s(o,a){const c=l0(r);i.run(e,c,d);function d(f,p,g){const m=p||e;f?a(f):o?o(m):n(void 0,m,g)}}}runSync(e,r){let n=!1,i;return this.run(e,r,s),mI("runSync","run",n),i;function s(o,a){dI(o),i=a,n=!0}}stringify(e,r){this.freeze();const n=l0(r),i=this.compiler||this.Compiler;return G1("stringify",i),pI(e),i(e,n)}use(e,...r){const n=this.attachers,i=this.namespace;if(K1("use",this.frozen),e!=null)if(typeof e=="function")c(e,r);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(d){if(typeof d=="function")c(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[f,...p]=d;c(f,p)}else o(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function o(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(d.plugins),d.settings&&(i.settings=U1(!0,i.settings,d.settings))}function a(d){let f=-1;if(d!=null)if(Array.isArray(d))for(;++f<d.length;){const p=d[f];s(p)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function c(d,f){let p=-1,g=-1;for(;++p<n.length;)if(n[p][0]===d){g=p;break}if(g===-1)n.push([d,...f]);else if(f.length>0){let[m,...v]=f;const x=n[g][1];U_(x)&&U_(m)&&(m=U1(!0,x,m)),n[g]=[d,m,...v]}}}}const Sae=new D2().freeze();function H1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function G1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function K1(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function pI(t){if(!U_(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function mI(t,e,r){if(!r)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function l0(t){return Eae(t)?t:new SF(t)}function Eae(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Tae(t){return typeof t=="string"||Nae(t)}function Nae(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Aae="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",gI=[],yI={allowDangerousHtml:!0},jae=/^(https?|ircs?|mailto|xmpp)$/i,Pae=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Rae(t){const e=Iae(t),r=Mae(t);return Dae(e.runSync(e.parse(r),r),t)}function Iae(t){const e=t.rehypePlugins||gI,r=t.remarkPlugins||gI,n=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...yI}:yI;return Sae().use(hoe).use(r).use(aae,n).use(e)}function Mae(t){const e=t.children||"",r=new SF;return typeof e=="string"&&(r.value=e),r}function Dae(t,e){const r=e.allowedElements,n=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,a=e.unwrapDisallowed,c=e.urlTransform||Oae;for(const f of Pae)Object.hasOwn(e,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+Aae+f.id,void 0);return M2(t,d),Jne(t,{Fragment:l.Fragment,components:i,ignoreInvalidStyle:!0,jsx:l.jsx,jsxs:l.jsxs,passKeys:!0,passNode:!0});function d(f,p,g){if(f.type==="raw"&&g&&typeof p=="number")return o?g.children.splice(p,1):g.children[p]={type:"text",value:f.value},p;if(f.type==="element"){let m;for(m in F1)if(Object.hasOwn(F1,m)&&Object.hasOwn(f.properties,m)){const v=f.properties[m],x=F1[m];(x===null||x.includes(f.tagName))&&(f.properties[m]=c(String(v||""),m,f))}}if(f.type==="element"){let m=r?!r.includes(f.tagName):s?s.includes(f.tagName):!1;if(!m&&n&&typeof p=="number"&&(m=!n(f,p,g)),m&&g&&typeof p=="number")return a&&f.children?g.children.splice(p,1,...f.children):g.children.splice(p,1),p}}}function Oae(t){const e=t.indexOf(":"),r=t.indexOf("?"),n=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||r!==-1&&e>r||n!==-1&&e>n||jae.test(t.slice(0,e))?t:""}function xI(t,e){const r=String(t);if(typeof e!="string")throw new TypeError("Expected character");let n=0,i=r.indexOf(e);for(;i!==-1;)n++,i=r.indexOf(e,i+e.length);return n}function Lae(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Fae(t,e,r){const i=Rv((r||{}).ignore||[]),s=zae(e);let o=-1;for(;++o<s.length;)CF(t,"text",a);function a(d,f){let p=-1,g;for(;++p<f.length;){const m=f[p],v=g?g.children:void 0;if(i(m,v?v.indexOf(m):void 0,g))return;g=m}if(g)return c(d,f)}function c(d,f){const p=f[f.length-1],g=s[o][0],m=s[o][1];let v=0;const w=p.children.indexOf(d);let E=!1,P=[];g.lastIndex=0;let R=g.exec(d.value);for(;R;){const S=R.index,B={index:R.index,input:R.input,stack:[...f,d]};let $=m(...R,B);if(typeof $=="string"&&($=$.length>0?{type:"text",value:$}:void 0),$===!1?g.lastIndex=S+1:(v!==S&&P.push({type:"text",value:d.value.slice(v,S)}),Array.isArray($)?P.push(...$):$&&P.push($),v=S+R[0].length,E=!0),!g.global)break;R=g.exec(d.value)}return E?(v<d.value.length&&P.push({type:"text",value:d.value.slice(v)}),p.children.splice(w,1,...P)):P=[d],w+P.length}}function zae(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!t[0]||Array.isArray(t[0])?t:[t];let n=-1;for(;++n<r.length;){const i=r[n];e.push([Bae(i[0]),$ae(i[1])])}return e}function Bae(t){return typeof t=="string"?new RegExp(Lae(t),"g"):t}function $ae(t){return typeof t=="function"?t:function(){return t}}const Y1="phrasing",J1=["autolink","link","image","label"];function Uae(){return{transforms:[Yae],enter:{literalAutolink:Wae,literalAutolinkEmail:X1,literalAutolinkHttp:X1,literalAutolinkWww:X1},exit:{literalAutolink:Kae,literalAutolinkEmail:Gae,literalAutolinkHttp:qae,literalAutolinkWww:Hae}}}function Vae(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Y1,notInConstruct:J1},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Y1,notInConstruct:J1},{character:":",before:"[ps]",after:"\\/",inConstruct:Y1,notInConstruct:J1}]}}function Wae(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function X1(t){this.config.enter.autolinkProtocol.call(this,t)}function qae(t){this.config.exit.autolinkProtocol.call(this,t)}function Hae(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function Gae(t){this.config.exit.autolinkEmail.call(this,t)}function Kae(t){this.exit(t)}function Yae(t){Fae(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Jae],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Xae]],{ignore:["link","linkReference"]})}function Jae(t,e,r,n,i){let s="";if(!EF(i)||(/^w/i.test(e)&&(r=e+r,e="",s="http://"),!Qae(r)))return!1;const o=Zae(r+n);if(!o[0])return!1;const a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function Xae(t,e,r,n){return!EF(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+r,children:[{type:"text",value:e+"@"+r}]}}function Qae(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function Zae(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let r=e[0],n=r.indexOf(")");const i=xI(t,"(");let s=xI(t,")");for(;n!==-1&&i>s;)t+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),s++;return[t,r]}function EF(t,e){const r=t.input.charCodeAt(t.index-1);return(t.index===0||dd(r)||Av(r))&&(!e||r!==47)}TF.peek=lle;function ele(){this.buffer()}function tle(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function rle(){this.buffer()}function nle(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function ile(t){const e=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=ta(this.sliceSerialize(t)).toLowerCase(),r.label=e}function sle(t){this.exit(t)}function ole(t){const e=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=ta(this.sliceSerialize(t)).toLowerCase(),r.label=e}function ale(t){this.exit(t)}function lle(){return"["}function TF(t,e,r,n){const i=r.createTracker(n);let s=i.move("[^");const o=r.enter("footnoteReference"),a=r.enter("reference");return s+=i.move(r.safe(r.associationId(t),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function cle(){return{enter:{gfmFootnoteCallString:ele,gfmFootnoteCall:tle,gfmFootnoteDefinitionLabelString:rle,gfmFootnoteDefinition:nle},exit:{gfmFootnoteCallString:ile,gfmFootnoteCall:sle,gfmFootnoteDefinitionLabelString:ole,gfmFootnoteDefinition:ale}}}function ule(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:r,footnoteReference:TF},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,i,s,o){const a=s.createTracker(o);let c=a.move("[^");const d=s.enter("footnoteDefinition"),f=s.enter("label");return c+=a.move(s.safe(s.associationId(n),{before:c,after:"]"})),f(),c+=a.move("]:"),n.children&&n.children.length>0&&(a.shift(4),c+=a.move((e?`
`:" ")+s.indentLines(s.containerFlow(n,a.current()),e?NF:dle))),d(),c}}function dle(t,e,r){return e===0?t:NF(t,e,r)}function NF(t,e,r){return(r?"":"    ")+t}const fle=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];AF.peek=yle;function hle(){return{canContainEols:["delete"],enter:{strikethrough:mle},exit:{strikethrough:gle}}}function ple(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:fle}],handlers:{delete:AF}}}function mle(t){this.enter({type:"delete",children:[]},t)}function gle(t){this.exit(t)}function AF(t,e,r,n){const i=r.createTracker(n),s=r.enter("strikethrough");let o=i.move("~~");return o+=r.containerPhrasing(t,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function yle(){return"~"}function xle(t){return t.length}function vle(t,e){const r=e||{},n=(r.align||[]).concat(),i=r.stringLength||xle,s=[],o=[],a=[],c=[];let d=0,f=-1;for(;++f<t.length;){const x=[],w=[];let E=-1;for(t[f].length>d&&(d=t[f].length);++E<t[f].length;){const P=ble(t[f][E]);if(r.alignDelimiters!==!1){const R=i(P);w[E]=R,(c[E]===void 0||R>c[E])&&(c[E]=R)}x.push(P)}o[f]=x,a[f]=w}let p=-1;if(typeof n=="object"&&"length"in n)for(;++p<d;)s[p]=vI(n[p]);else{const x=vI(n);for(;++p<d;)s[p]=x}p=-1;const g=[],m=[];for(;++p<d;){const x=s[p];let w="",E="";x===99?(w=":",E=":"):x===108?w=":":x===114&&(E=":");let P=r.alignDelimiters===!1?1:Math.max(1,c[p]-w.length-E.length);const R=w+"-".repeat(P)+E;r.alignDelimiters!==!1&&(P=w.length+P+E.length,P>c[p]&&(c[p]=P),m[p]=P),g[p]=R}o.splice(1,0,g),a.splice(1,0,m),f=-1;const v=[];for(;++f<o.length;){const x=o[f],w=a[f];p=-1;const E=[];for(;++p<d;){const P=x[p]||"";let R="",S="";if(r.alignDelimiters!==!1){const B=c[p]-(w[p]||0),$=s[p];$===114?R=" ".repeat(B):$===99?B%2?(R=" ".repeat(B/2+.5),S=" ".repeat(B/2-.5)):(R=" ".repeat(B/2),S=R):S=" ".repeat(B)}r.delimiterStart!==!1&&!p&&E.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&P==="")&&(r.delimiterStart!==!1||p)&&E.push(" "),r.alignDelimiters!==!1&&E.push(R),E.push(P),r.alignDelimiters!==!1&&E.push(S),r.padding!==!1&&E.push(" "),(r.delimiterEnd!==!1||p!==d-1)&&E.push("|")}v.push(r.delimiterEnd===!1?E.join("").replace(/ +$/,""):E.join(""))}return v.join(`
`)}function ble(t){return t==null?"":String(t)}function vI(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function wle(t,e,r,n){const i=r.enter("blockquote"),s=r.createTracker(n);s.move("> "),s.shift(2);const o=r.indentLines(r.containerFlow(t,s.current()),kle);return i(),o}function kle(t,e,r){return">"+(r?"":" ")+t}function _le(t,e){return bI(t,e.inConstruct,!0)&&!bI(t,e.notInConstruct,!1)}function bI(t,e,r){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return r;let n=-1;for(;++n<e.length;)if(t.includes(e[n]))return!0;return!1}function wI(t,e,r,n){let i=-1;for(;++i<r.unsafe.length;)if(r.unsafe[i].character===`
`&&_le(r.stack,r.unsafe[i]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function Cle(t,e){const r=String(t);let n=r.indexOf(e),i=n,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===i?++s>o&&(o=s):s=1,i=n+e.length,n=r.indexOf(e,i);return o}function Sle(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function Ele(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Tle(t,e,r,n){const i=Ele(r),s=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(Sle(t,r)){const p=r.enter("codeIndented"),g=r.indentLines(s,Nle);return p(),g}const a=r.createTracker(n),c=i.repeat(Math.max(Cle(s,i)+1,3)),d=r.enter("codeFenced");let f=a.move(c);if(t.lang){const p=r.enter(`codeFencedLang${o}`);f+=a.move(r.safe(t.lang,{before:f,after:" ",encode:["`"],...a.current()})),p()}if(t.lang&&t.meta){const p=r.enter(`codeFencedMeta${o}`);f+=a.move(" "),f+=a.move(r.safe(t.meta,{before:f,after:`
`,encode:["`"],...a.current()})),p()}return f+=a.move(`
`),s&&(f+=a.move(s+`
`)),f+=a.move(c),d(),f}function Nle(t,e,r){return(r?"":"    ")+t}function O2(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function Ale(t,e,r,n){const i=O2(r),s=i==='"'?"Quote":"Apostrophe",o=r.enter("definition");let a=r.enter("label");const c=r.createTracker(n);let d=c.move("[");return d+=c.move(r.safe(r.associationId(t),{before:d,after:"]",...c.current()})),d+=c.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=r.enter("destinationLiteral"),d+=c.move("<"),d+=c.move(r.safe(t.url,{before:d,after:">",...c.current()})),d+=c.move(">")):(a=r.enter("destinationRaw"),d+=c.move(r.safe(t.url,{before:d,after:t.title?" ":`
`,...c.current()}))),a(),t.title&&(a=r.enter(`title${s}`),d+=c.move(" "+i),d+=c.move(r.safe(t.title,{before:d,after:i,...c.current()})),d+=c.move(i),a()),o(),d}function jle(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Gm(t){return"&#x"+t.toString(16).toUpperCase()+";"}function zx(t,e,r){const n=ch(t),i=ch(e);return n===void 0?i===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}jF.peek=Ple;function jF(t,e,r,n){const i=jle(r),s=r.enter("emphasis"),o=r.createTracker(n),a=o.move(i);let c=o.move(r.containerPhrasing(t,{after:i,before:a,...o.current()}));const d=c.charCodeAt(0),f=zx(n.before.charCodeAt(n.before.length-1),d,i);f.inside&&(c=Gm(d)+c.slice(1));const p=c.charCodeAt(c.length-1),g=zx(n.after.charCodeAt(0),p,i);g.inside&&(c=c.slice(0,-1)+Gm(p));const m=o.move(i);return s(),r.attentionEncodeSurroundingInfo={after:g.outside,before:f.outside},a+c+m}function Ple(t,e,r){return r.options.emphasis||"*"}function Rle(t,e){let r=!1;return M2(t,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,B_}),!!((!t.depth||t.depth<3)&&T2(t)&&(e.options.setext||r))}function Ile(t,e,r,n){const i=Math.max(Math.min(6,t.depth||1),1),s=r.createTracker(n);if(Rle(t,r)){const f=r.enter("headingSetext"),p=r.enter("phrasing"),g=r.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return p(),f(),g+`
`+(i===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=r.enter("headingAtx"),c=r.enter("phrasing");s.move(o+" ");let d=r.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(d)&&(d=Gm(d.charCodeAt(0))+d.slice(1)),d=d?o+" "+d:o,r.options.closeAtx&&(d+=" "+o),c(),a(),d}PF.peek=Mle;function PF(t){return t.value||""}function Mle(){return"<"}RF.peek=Dle;function RF(t,e,r,n){const i=O2(r),s=i==='"'?"Quote":"Apostrophe",o=r.enter("image");let a=r.enter("label");const c=r.createTracker(n);let d=c.move("![");return d+=c.move(r.safe(t.alt,{before:d,after:"]",...c.current()})),d+=c.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=r.enter("destinationLiteral"),d+=c.move("<"),d+=c.move(r.safe(t.url,{before:d,after:">",...c.current()})),d+=c.move(">")):(a=r.enter("destinationRaw"),d+=c.move(r.safe(t.url,{before:d,after:t.title?" ":")",...c.current()}))),a(),t.title&&(a=r.enter(`title${s}`),d+=c.move(" "+i),d+=c.move(r.safe(t.title,{before:d,after:i,...c.current()})),d+=c.move(i),a()),d+=c.move(")"),o(),d}function Dle(){return"!"}IF.peek=Ole;function IF(t,e,r,n){const i=t.referenceType,s=r.enter("imageReference");let o=r.enter("label");const a=r.createTracker(n);let c=a.move("![");const d=r.safe(t.alt,{before:c,after:"]",...a.current()});c+=a.move(d+"]["),o();const f=r.stack;r.stack=[],o=r.enter("reference");const p=r.safe(r.associationId(t),{before:c,after:"]",...a.current()});return o(),r.stack=f,s(),i==="full"||!d||d!==p?c+=a.move(p+"]"):i==="shortcut"?c=c.slice(0,-1):c+=a.move("]"),c}function Ole(){return"!"}MF.peek=Lle;function MF(t,e,r){let n=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(n);)i+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++s<r.unsafe.length;){const o=r.unsafe[s],a=r.compilePattern(o);let c;if(o.atBreak)for(;c=a.exec(n);){let d=c.index;n.charCodeAt(d)===10&&n.charCodeAt(d-1)===13&&d--,n=n.slice(0,d)+" "+n.slice(c.index+1)}}return i+n+i}function Lle(){return"`"}function DF(t,e){const r=T2(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(r===t.url||"mailto:"+r===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}OF.peek=Fle;function OF(t,e,r,n){const i=O2(r),s=i==='"'?"Quote":"Apostrophe",o=r.createTracker(n);let a,c;if(DF(t,r)){const f=r.stack;r.stack=[],a=r.enter("autolink");let p=o.move("<");return p+=o.move(r.containerPhrasing(t,{before:p,after:">",...o.current()})),p+=o.move(">"),a(),r.stack=f,p}a=r.enter("link"),c=r.enter("label");let d=o.move("[");return d+=o.move(r.containerPhrasing(t,{before:d,after:"](",...o.current()})),d+=o.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=r.enter("destinationLiteral"),d+=o.move("<"),d+=o.move(r.safe(t.url,{before:d,after:">",...o.current()})),d+=o.move(">")):(c=r.enter("destinationRaw"),d+=o.move(r.safe(t.url,{before:d,after:t.title?" ":")",...o.current()}))),c(),t.title&&(c=r.enter(`title${s}`),d+=o.move(" "+i),d+=o.move(r.safe(t.title,{before:d,after:i,...o.current()})),d+=o.move(i),c()),d+=o.move(")"),a(),d}function Fle(t,e,r){return DF(t,r)?"<":"["}LF.peek=zle;function LF(t,e,r,n){const i=t.referenceType,s=r.enter("linkReference");let o=r.enter("label");const a=r.createTracker(n);let c=a.move("[");const d=r.containerPhrasing(t,{before:c,after:"]",...a.current()});c+=a.move(d+"]["),o();const f=r.stack;r.stack=[],o=r.enter("reference");const p=r.safe(r.associationId(t),{before:c,after:"]",...a.current()});return o(),r.stack=f,s(),i==="full"||!d||d!==p?c+=a.move(p+"]"):i==="shortcut"?c=c.slice(0,-1):c+=a.move("]"),c}function zle(){return"["}function L2(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function Ble(t){const e=L2(t),r=t.options.bulletOther;if(!r)return e==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+r+"`) to be different");return r}function $le(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function FF(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function Ule(t,e,r,n){const i=r.enter("list"),s=r.bulletCurrent;let o=t.ordered?$le(r):L2(r);const a=t.ordered?o==="."?")":".":Ble(r);let c=e&&r.bulletLastUsed?o===r.bulletLastUsed:!1;if(!t.ordered){const f=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&f&&(!f.children||!f.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(c=!0),FF(r)===o&&f){let p=-1;for(;++p<t.children.length;){const g=t.children[p];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(o=a),r.bulletCurrent=o;const d=r.containerFlow(t,n);return r.bulletLastUsed=o,r.bulletCurrent=s,i(),d}function Vle(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function Wle(t,e,r,n){const i=Vle(r);let s=r.bulletCurrent||L2(r);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(r.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const a=r.createTracker(n);a.move(s+" ".repeat(o-s.length)),a.shift(o);const c=r.enter("listItem"),d=r.indentLines(r.containerFlow(t,a.current()),f);return c(),d;function f(p,g,m){return g?(m?"":" ".repeat(o))+p:(m?s:s+" ".repeat(o-s.length))+p}}function qle(t,e,r,n){const i=r.enter("paragraph"),s=r.enter("phrasing"),o=r.containerPhrasing(t,n);return s(),i(),o}const Hle=Rv(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Gle(t,e,r,n){return(t.children.some(function(o){return Hle(o)})?r.containerPhrasing:r.containerFlow).call(r,t,n)}function Kle(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}zF.peek=Yle;function zF(t,e,r,n){const i=Kle(r),s=r.enter("strong"),o=r.createTracker(n),a=o.move(i+i);let c=o.move(r.containerPhrasing(t,{after:i,before:a,...o.current()}));const d=c.charCodeAt(0),f=zx(n.before.charCodeAt(n.before.length-1),d,i);f.inside&&(c=Gm(d)+c.slice(1));const p=c.charCodeAt(c.length-1),g=zx(n.after.charCodeAt(0),p,i);g.inside&&(c=c.slice(0,-1)+Gm(p));const m=o.move(i+i);return s(),r.attentionEncodeSurroundingInfo={after:g.outside,before:f.outside},a+c+m}function Yle(t,e,r){return r.options.strong||"*"}function Jle(t,e,r,n){return r.safe(t.value,n)}function Xle(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function Qle(t,e,r){const n=(FF(r)+(r.options.ruleSpaces?" ":"")).repeat(Xle(r));return r.options.ruleSpaces?n.slice(0,-1):n}const BF={blockquote:wle,break:wI,code:Tle,definition:Ale,emphasis:jF,hardBreak:wI,heading:Ile,html:PF,image:RF,imageReference:IF,inlineCode:MF,link:OF,linkReference:LF,list:Ule,listItem:Wle,paragraph:qle,root:Gle,strong:zF,text:Jle,thematicBreak:Qle};function Zle(){return{enter:{table:ece,tableData:kI,tableHeader:kI,tableRow:rce},exit:{codeText:nce,table:tce,tableData:Q1,tableHeader:Q1,tableRow:Q1}}}function ece(t){const e=t._align;this.enter({type:"table",align:e.map(function(r){return r==="none"?null:r}),children:[]},t),this.data.inTable=!0}function tce(t){this.exit(t),this.data.inTable=void 0}function rce(t){this.enter({type:"tableRow",children:[]},t)}function Q1(t){this.exit(t)}function kI(t){this.enter({type:"tableCell",children:[]},t)}function nce(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,ice));const r=this.stack[this.stack.length-1];r.type,r.value=e,this.exit(t)}function ice(t,e){return e==="|"?e:t}function sce(t){const e=t||{},r=e.tableCellPadding,n=e.tablePipeAlign,i=e.stringLength,s=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:o,tableCell:c,tableRow:a}};function o(m,v,x,w){return d(f(m,x,w),m.align)}function a(m,v,x,w){const E=p(m,x,w),P=d([E]);return P.slice(0,P.indexOf(`
`))}function c(m,v,x,w){const E=x.enter("tableCell"),P=x.enter("phrasing"),R=x.containerPhrasing(m,{...w,before:s,after:s});return P(),E(),R}function d(m,v){return vle(m,{align:v,alignDelimiters:n,padding:r,stringLength:i})}function f(m,v,x){const w=m.children;let E=-1;const P=[],R=v.enter("table");for(;++E<w.length;)P[E]=p(w[E],v,x);return R(),P}function p(m,v,x){const w=m.children;let E=-1;const P=[],R=v.enter("tableRow");for(;++E<w.length;)P[E]=c(w[E],m,v,x);return R(),P}function g(m,v,x){let w=BF.inlineCode(m,v,x);return x.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function oce(){return{exit:{taskListCheckValueChecked:_I,taskListCheckValueUnchecked:_I,paragraph:lce}}}function ace(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:cce}}}function _I(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function lce(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(t)}function cce(t,e,r,n){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",a=r.createTracker(n);s&&a.move(o);let c=BF.listItem(t,e,r,{...n,...a.current()});return s&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),c;function d(f){return f+o}}function uce(){return[Uae(),cle(),hle(),Zle(),oce()]}function dce(t){return{extensions:[Vae(),ule(t),ple(),sce(t),ace()]}}const fce={tokenize:xce,partial:!0},$F={tokenize:vce,partial:!0},UF={tokenize:bce,partial:!0},VF={tokenize:wce,partial:!0},hce={tokenize:kce,partial:!0},WF={name:"wwwAutolink",tokenize:gce,previous:HF},qF={name:"protocolAutolink",tokenize:yce,previous:GF},jl={name:"emailAutolink",tokenize:mce,previous:KF},qa={};function pce(){return{text:qa}}let gu=48;for(;gu<123;)qa[gu]=jl,gu++,gu===58?gu=65:gu===91&&(gu=97);qa[43]=jl;qa[45]=jl;qa[46]=jl;qa[95]=jl;qa[72]=[jl,qF];qa[104]=[jl,qF];qa[87]=[jl,WF];qa[119]=[jl,WF];function mce(t,e,r){const n=this;let i,s;return o;function o(p){return!W_(p)||!KF.call(n,n.previous)||F2(n.events)?r(p):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(p))}function a(p){return W_(p)?(t.consume(p),a):p===64?(t.consume(p),c):r(p)}function c(p){return p===46?t.check(hce,f,d)(p):p===45||p===95||Pi(p)?(s=!0,t.consume(p),c):f(p)}function d(p){return t.consume(p),i=!0,c}function f(p){return s&&i&&Yi(n.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(p)):r(p)}}function gce(t,e,r){const n=this;return i;function i(o){return o!==87&&o!==119||!HF.call(n,n.previous)||F2(n.events)?r(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(fce,t.attempt($F,t.attempt(UF,s),r),r)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function yce(t,e,r){const n=this;let i="",s=!1;return o;function o(p){return(p===72||p===104)&&GF.call(n,n.previous)&&!F2(n.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(p),t.consume(p),a):r(p)}function a(p){if(Yi(p)&&i.length<5)return i+=String.fromCodePoint(p),t.consume(p),a;if(p===58){const g=i.toLowerCase();if(g==="http"||g==="https")return t.consume(p),c}return r(p)}function c(p){return p===47?(t.consume(p),s?d:(s=!0,c)):r(p)}function d(p){return p===null||Ox(p)||Fr(p)||dd(p)||Av(p)?r(p):t.attempt($F,t.attempt(UF,f),r)(p)}function f(p){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(p)}}function xce(t,e,r){let n=0;return i;function i(o){return(o===87||o===119)&&n<3?(n++,t.consume(o),i):o===46&&n===3?(t.consume(o),s):r(o)}function s(o){return o===null?r(o):e(o)}}function vce(t,e,r){let n,i,s;return o;function o(d){return d===46||d===95?t.check(VF,c,a)(d):d===null||Fr(d)||dd(d)||d!==45&&Av(d)?c(d):(s=!0,t.consume(d),o)}function a(d){return d===95?n=!0:(i=n,n=void 0),t.consume(d),o}function c(d){return i||n||!s?r(d):e(d)}}function bce(t,e){let r=0,n=0;return i;function i(o){return o===40?(r++,t.consume(o),i):o===41&&n<r?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(VF,e,s)(o):o===null||Fr(o)||dd(o)?e(o):(t.consume(o),i)}function s(o){return o===41&&n++,t.consume(o),i}}function wce(t,e,r){return n;function n(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(t.consume(a),n):a===38?(t.consume(a),s):a===93?(t.consume(a),i):a===60||a===null||Fr(a)||dd(a)?e(a):r(a)}function i(a){return a===null||a===40||a===91||Fr(a)||dd(a)?e(a):n(a)}function s(a){return Yi(a)?o(a):r(a)}function o(a){return a===59?(t.consume(a),n):Yi(a)?(t.consume(a),o):r(a)}}function kce(t,e,r){return n;function n(s){return t.consume(s),i}function i(s){return Pi(s)?r(s):e(s)}}function HF(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Fr(t)}function GF(t){return!Yi(t)}function KF(t){return!(t===47||W_(t))}function W_(t){return t===43||t===45||t===46||t===95||Pi(t)}function F2(t){let e=t.length,r=!1;for(;e--;){const n=t[e][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return t.length>0&&!r&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const _ce={tokenize:Pce,partial:!0};function Cce(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Nce,continuation:{tokenize:Ace},exit:jce}},text:{91:{name:"gfmFootnoteCall",tokenize:Tce},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Sce,resolveTo:Ece}}}}function Sce(t,e,r){const n=this;let i=n.events.length;const s=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let o;for(;i--;){const c=n.events[i][1];if(c.type==="labelImage"){o=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return a;function a(c){if(!o||!o._balanced)return r(c);const d=ta(n.sliceSerialize({start:o.end,end:n.now()}));return d.codePointAt(0)!==94||!s.includes(d.slice(1))?r(c):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(c),t.exit("gfmFootnoteCallLabelMarker"),e(c))}}function Ece(t,e){let r=t.length;for(;r--;)if(t[r][1].type==="labelImage"&&t[r][0]==="enter"){t[r][1];break}t[r+1][1].type="data",t[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},t[r+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[r+3][1].end),end:Object.assign({},t[r+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[t[r+1],t[r+2],["enter",n,e],t[r+3],t[r+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",n,e]];return t.splice(r,t.length-r+1,...a),t}function Tce(t,e,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s=0,o;return a;function a(p){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(p),t.exit("gfmFootnoteCallLabelMarker"),c}function c(p){return p!==94?r(p):(t.enter("gfmFootnoteCallMarker"),t.consume(p),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",d)}function d(p){if(s>999||p===93&&!o||p===null||p===91||Fr(p))return r(p);if(p===93){t.exit("chunkString");const g=t.exit("gfmFootnoteCallString");return i.includes(ta(n.sliceSerialize(g)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(p),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):r(p)}return Fr(p)||(o=!0),s++,t.consume(p),p===92?f:d}function f(p){return p===91||p===92||p===93?(t.consume(p),s++,d):d(p)}}function Nce(t,e,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s,o=0,a;return c;function c(v){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(v){return v===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",f):r(v)}function f(v){if(o>999||v===93&&!a||v===null||v===91||Fr(v))return r(v);if(v===93){t.exit("chunkString");const x=t.exit("gfmFootnoteDefinitionLabelString");return s=ta(n.sliceSerialize(x)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),g}return Fr(v)||(a=!0),o++,t.consume(v),v===92?p:f}function p(v){return v===91||v===92||v===93?(t.consume(v),o++,f):f(v)}function g(v){return v===58?(t.enter("definitionMarker"),t.consume(v),t.exit("definitionMarker"),i.includes(s)||i.push(s),hr(t,m,"gfmFootnoteDefinitionWhitespace")):r(v)}function m(v){return e(v)}}function Ace(t,e,r){return t.check(bg,e,t.attempt(_ce,e,r))}function jce(t){t.exit("gfmFootnoteDefinition")}function Pce(t,e,r){const n=this;return hr(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=n.events[n.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):r(s)}}function Rce(t){let r=(t||{}).singleTilde;const n={name:"strikethrough",tokenize:s,resolveAll:i};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function i(o,a){let c=-1;for(;++c<o.length;)if(o[c][0]==="enter"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._close){let d=c;for(;d--;)if(o[d][0]==="exit"&&o[d][1].type==="strikethroughSequenceTemporary"&&o[d][1]._open&&o[c][1].end.offset-o[c][1].start.offset===o[d][1].end.offset-o[d][1].start.offset){o[c][1].type="strikethroughSequence",o[d][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},o[d][1].start),end:Object.assign({},o[c][1].end)},p={type:"strikethroughText",start:Object.assign({},o[d][1].end),end:Object.assign({},o[c][1].start)},g=[["enter",f,a],["enter",o[d][1],a],["exit",o[d][1],a],["enter",p,a]],m=a.parser.constructs.insideSpan.null;m&&Ks(g,g.length,0,jv(m,o.slice(d+1,c),a)),Ks(g,g.length,0,[["exit",p,a],["enter",o[c][1],a],["exit",o[c][1],a],["exit",f,a]]),Ks(o,d-1,c-d+3,g),c=d+g.length-2;break}}for(c=-1;++c<o.length;)o[c][1].type==="strikethroughSequenceTemporary"&&(o[c][1].type="data");return o}function s(o,a,c){const d=this.previous,f=this.events;let p=0;return g;function g(v){return d===126&&f[f.length-1][1].type!=="characterEscape"?c(v):(o.enter("strikethroughSequenceTemporary"),m(v))}function m(v){const x=ch(d);if(v===126)return p>1?c(v):(o.consume(v),p++,m);if(p<2&&!r)return c(v);const w=o.exit("strikethroughSequenceTemporary"),E=ch(v);return w._open=!E||E===2&&!!x,w._close=!x||x===2&&!!E,a(v)}}}class Ice{constructor(){this.map=[]}add(e,r,n){Mce(this,e,r,n)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(e.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),e.length=this.map[r][0];n.push(e.slice()),e.length=0;let i=n.pop();for(;i;){for(const s of i)e.push(s);i=n.pop()}this.map.length=0}}function Mce(t,e,r,n){let i=0;if(!(r===0&&n.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=r,t.map[i][2].push(...n);return}i+=1}t.map.push([e,r,n])}}function Dce(t,e){let r=!1;const n=[];for(;e<t.length;){const i=t[e];if(r){if(i[0]==="enter")i[1].type==="tableContent"&&n.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=n.length-1;n[s]=n[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(r=!0);e+=1}return n}function Oce(){return{flow:{null:{name:"table",tokenize:Lce,resolveAll:Fce}}}}function Lce(t,e,r){const n=this;let i=0,s=0,o;return a;function a(K){let J=n.events.length-1;for(;J>-1;){const b=n.events[J][1].type;if(b==="lineEnding"||b==="linePrefix")J--;else break}const W=J>-1?n.events[J][1].type:null,F=W==="tableHead"||W==="tableRow"?$:c;return F===$&&n.parser.lazy[n.now().line]?r(K):F(K)}function c(K){return t.enter("tableHead"),t.enter("tableRow"),d(K)}function d(K){return K===124||(o=!0,s+=1),f(K)}function f(K){return K===null?r(K):kt(K)?s>1?(s=0,n.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(K),t.exit("lineEnding"),m):r(K):lr(K)?hr(t,f,"whitespace")(K):(s+=1,o&&(o=!1,i+=1),K===124?(t.enter("tableCellDivider"),t.consume(K),t.exit("tableCellDivider"),o=!0,f):(t.enter("data"),p(K)))}function p(K){return K===null||K===124||Fr(K)?(t.exit("data"),f(K)):(t.consume(K),K===92?g:p)}function g(K){return K===92||K===124?(t.consume(K),p):p(K)}function m(K){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(K):(t.enter("tableDelimiterRow"),o=!1,lr(K)?hr(t,v,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(K):v(K))}function v(K){return K===45||K===58?w(K):K===124?(o=!0,t.enter("tableCellDivider"),t.consume(K),t.exit("tableCellDivider"),x):B(K)}function x(K){return lr(K)?hr(t,w,"whitespace")(K):w(K)}function w(K){return K===58?(s+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(K),t.exit("tableDelimiterMarker"),E):K===45?(s+=1,E(K)):K===null||kt(K)?S(K):B(K)}function E(K){return K===45?(t.enter("tableDelimiterFiller"),P(K)):B(K)}function P(K){return K===45?(t.consume(K),P):K===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(K),t.exit("tableDelimiterMarker"),R):(t.exit("tableDelimiterFiller"),R(K))}function R(K){return lr(K)?hr(t,S,"whitespace")(K):S(K)}function S(K){return K===124?v(K):K===null||kt(K)?!o||i!==s?B(K):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(K)):B(K)}function B(K){return r(K)}function $(K){return t.enter("tableRow"),q(K)}function q(K){return K===124?(t.enter("tableCellDivider"),t.consume(K),t.exit("tableCellDivider"),q):K===null||kt(K)?(t.exit("tableRow"),e(K)):lr(K)?hr(t,q,"whitespace")(K):(t.enter("data"),G(K))}function G(K){return K===null||K===124||Fr(K)?(t.exit("data"),q(K)):(t.consume(K),K===92?H:G)}function H(K){return K===92||K===124?(t.consume(K),G):G(K)}}function Fce(t,e){let r=-1,n=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,c=0,d,f,p;const g=new Ice;for(;++r<t.length;){const m=t[r],v=m[1];m[0]==="enter"?v.type==="tableHead"?(a=!1,c!==0&&(CI(g,e,c,d,f),f=void 0,c=0),d={type:"table",start:Object.assign({},v.start),end:Object.assign({},v.end)},g.add(r,0,[["enter",d,e]])):v.type==="tableRow"||v.type==="tableDelimiterRow"?(n=!0,p=void 0,s=[0,0,0,0],o=[0,r+1,0,0],a&&(a=!1,f={type:"tableBody",start:Object.assign({},v.start),end:Object.assign({},v.end)},g.add(r,0,[["enter",f,e]])),i=v.type==="tableDelimiterRow"?2:f?3:1):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")?(n=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],p=c0(g,e,s,i,void 0,p),s=[0,0,0,0]),o[2]=r)):v.type==="tableCellDivider"&&(n?n=!1:(s[1]!==0&&(o[0]=o[1],p=c0(g,e,s,i,void 0,p)),s=o,o=[s[1],r,0,0])):v.type==="tableHead"?(a=!0,c=r):v.type==="tableRow"||v.type==="tableDelimiterRow"?(c=r,s[1]!==0?(o[0]=o[1],p=c0(g,e,s,i,r,p)):o[1]!==0&&(p=c0(g,e,o,i,r,p)),i=0):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")&&(o[3]=r)}for(c!==0&&CI(g,e,c,d,f),g.consume(e.events),r=-1;++r<e.events.length;){const m=e.events[r];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=Dce(e.events,r))}return t}function c0(t,e,r,n,i,s){const o=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",a="tableContent";r[0]!==0&&(s.end=Object.assign({},hf(e.events,r[0])),t.add(r[0],0,[["exit",s,e]]));const c=hf(e.events,r[1]);if(s={type:o,start:Object.assign({},c),end:Object.assign({},c)},t.add(r[1],0,[["enter",s,e]]),r[2]!==0){const d=hf(e.events,r[2]),f=hf(e.events,r[3]),p={type:a,start:Object.assign({},d),end:Object.assign({},f)};if(t.add(r[2],0,[["enter",p,e]]),n!==2){const g=e.events[r[2]],m=e.events[r[3]];if(g[1].end=Object.assign({},m[1].end),g[1].type="chunkText",g[1].contentType="text",r[3]>r[2]+1){const v=r[2]+1,x=r[3]-r[2]-1;t.add(v,x,[])}}t.add(r[3]+1,0,[["exit",p,e]])}return i!==void 0&&(s.end=Object.assign({},hf(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function CI(t,e,r,n,i){const s=[],o=hf(e.events,r);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),n.end=Object.assign({},o),s.push(["exit",n,e]),t.add(r+1,0,s)}function hf(t,e){const r=t[e],n=r[0]==="enter"?"start":"end";return r[1][n]}const zce={name:"tasklistCheck",tokenize:$ce};function Bce(){return{text:{91:zce}}}function $ce(t,e,r){const n=this;return i;function i(c){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(c):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(c),t.exit("taskListCheckMarker"),s)}function s(c){return Fr(c)?(t.enter("taskListCheckValueUnchecked"),t.consume(c),t.exit("taskListCheckValueUnchecked"),o):c===88||c===120?(t.enter("taskListCheckValueChecked"),t.consume(c),t.exit("taskListCheckValueChecked"),o):r(c)}function o(c){return c===93?(t.enter("taskListCheckMarker"),t.consume(c),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):r(c)}function a(c){return kt(c)?e(c):lr(c)?t.check({tokenize:Uce},e,r)(c):r(c)}}function Uce(t,e,r){return hr(t,n,"whitespace");function n(i){return i===null?r(i):e(i)}}function Vce(t){return sF([pce(),Cce(),Rce(t),Oce(),Bce()])}const Wce={};function qce(t){const e=this,r=t||Wce,n=e.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),s=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),o=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(Vce(r)),s.push(uce()),o.push(dce(r))}ul.registerPlugin(rr);const yu=({id:t,className:e="",containerClassName:r="",children:n})=>l.jsx("section",{id:t,className:`w-full ${e}`,children:l.jsx("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 ${r}`,children:n})}),kp=({eyebrow:t,title:e,subtitle:r,className:n=""})=>l.jsxs("div",{className:`text-center mb-8 sm:mb-10 lg:mb-14 ${n}`,children:[t&&l.jsx("div",{className:"font-display text-[length:var(--text-sm)] tracking-wider uppercase text-primary mb-2 font-semibold",children:t}),l.jsx("h2",{className:"font-display text-[length:var(--text-4xl)] font-bold mb-3 text-foreground leading-tight tracking-tighter",children:e}),r&&l.jsx("p",{className:"font-body text-[length:var(--text-lg)] text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:r})]}),Hce=()=>{const t=C.useRef(null);return C.useEffect(()=>{const e=t.current;if(!e)return;const r=[];for(let n=0;n<6;n++){const i=document.createElement("div");i.className=`absolute rounded-full animate-pulse
        bg-primary/20 dark:bg-primary/30 dim-blue:bg-primary/25
        border border-primary/30 dark:border-primary/40 dim-blue:border-primary/35
        shadow-lg dark:shadow-primary/20 dim-blue:shadow-primary/25`,i.style.width=`${Math.random()*200+100}px`,i.style.height=i.style.width,i.style.left=`${Math.random()*100}%`,i.style.top=`${Math.random()*100}%`,e.appendChild(i),r.push(i),ul.to(i,{x:Math.random()*100-50,y:Math.random()*100-50,duration:Math.random()*10+10,repeat:-1,yoyo:!0,ease:"sine.inOut"})}return()=>{r.forEach(n=>n.remove())}},[]),l.jsx("div",{ref:t,className:"absolute inset-0 overflow-hidden pointer-events-none"})};function Gce(t){if(!t)return[];const e=t.split(`
`).map(i=>i.replace(/\r$/,""));let r=0;for(;r<e.length&&(e[r].trim()===""||e[r].trim().startsWith("##"));)r++;const n=[];for(;r<e.length;){if(!e[r].trim().startsWith("**Q:")){r++;continue}const i=e[r].trim().replace(/^\*\*Q:\s*/,"").replace(/\*\*$/,"").trim();for(r++;r<e.length&&e[r].trim()==="";)r++;const s=[];for(r<e.length&&e[r].trim().startsWith("A:")&&(s.push(e[r].trim().replace(/^A:\s*/,"")),r++);r<e.length&&!e[r].trim().startsWith("**Q:");)s.push(e[r]),r++;n.push({q:i,aMd:s.join(`
`).trim()})}return n}function Kce(){const[t,e]=C.useState("");C.useRef(null),C.useRef(null),C.useRef(null),C.useEffect(()=>(ul.timeline().from(".hero-headline",{opacity:0,y:50,duration:1,ease:"power3.out"}).from(".hero-subtext",{opacity:0,y:30,duration:.8,ease:"power3.out"},"-=0.5").from(".hero-cta",{opacity:0,y:20,duration:.6,stagger:.1,ease:"power3.out"},"-=0.3"),ul.utils.toArray(".reveal").forEach(i=>{ul.fromTo(i,{opacity:0,y:50},{opacity:1,y:0,duration:.8,ease:"power3.out",scrollTrigger:{trigger:i,start:"top 80%",end:"bottom 20%",toggleActions:"play none none reverse"}})}),ul.utils.toArray(".card-grid").forEach(i=>{const s=i.querySelectorAll(".card-item");ul.fromTo(s,{opacity:0,y:30},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power3.out",scrollTrigger:{trigger:i,start:"top 80%",toggleActions:"play none none reverse"}})}),ul.to(".pulse-btn",{scale:1.05,duration:1,repeat:-1,yoyo:!0,ease:"power2.inOut"}),()=>{rr.getAll().forEach(i=>i.kill())}),[]),C.useEffect(()=>{let n=!0;return fetch("/FAQ.md").then(i=>i.text()).then(i=>{n&&e(i)}).catch(()=>{n&&e(`## FAQ
Content unavailable.`)}),()=>{n=!1}},[]);const r=Gce(t);return l.jsxs("div",{className:"bg-background text-foreground overflow-x-hidden -mb-8",children:[l.jsxs(yu,{id:"hero",className:"min-h-[90vh] sm:min-h-[100vh] flex items-center justify-center relative bg-gradient-to-br from-background via-card to-muted pt-16 sm:pt-0",children:[l.jsx(Hce,{}),l.jsx("div",{className:"relative z-10 w-full py-12 sm:py-20",children:l.jsxs("div",{className:"text-center max-w-6xl mx-auto",children:[l.jsxs("h1",{className:"hero-headline font-display text-[length:var(--text-5xl)] font-bold mb-4 sm:mb-6 text-foreground leading-tight tracking-tighter",children:["Explore New Strategies to Distribute"," ",l.jsx("span",{className:"bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"NFTs"})," ","and"," ",l.jsx("span",{className:"bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Community Rewards"})]}),l.jsx("p",{className:"hero-subtext font-body text-[length:var(--text-lg)] text-muted-foreground mb-6 sm:mb-8 max-w-4xl mx-auto leading-relaxed",children:"Transparent whitelist allocations  Inter-community collaboration  Disincentivize mint bots  Earn community trust"}),l.jsxs("div",{className:"hero-cta flex flex-col items-center gap-6 mb-6 sm:mb-12",children:[l.jsx(Gf,{to:"/app",target:"_blank",rel:"noopener noreferrer",className:"pulse-btn inline-flex items-center justify-center px-8 py-4 rounded-xl bg-primary text-primary-foreground hover:bg-primary/90 transition-all duration-300 shadow-lg hover:shadow-xl font-semibold text-[length:var(--text-lg)]",children:"Launch Dapp"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[l.jsxs("button",{onClick:()=>document.getElementById("video-demo").scrollIntoView({behavior:"smooth"}),className:"hero-cta inline-flex items-center justify-center px-8 py-4 rounded-xl border-2 border-primary text-primary hover:bg-primary hover:text-primary-foreground transition-all duration-300 font-semibold text-[length:var(--text-lg)]",children:[l.jsx(bP,{className:"mr-2 h-5 w-5"}),"Watch Demo"]}),l.jsxs("a",{href:"https://docs.rafflhub.com",target:"_blank",rel:"noopener noreferrer",className:"hero-cta inline-flex items-center justify-center px-8 py-4 rounded-xl border border-muted-foreground text-muted-foreground hover:border-primary hover:text-primary transition-all duration-300 font-semibold text-[length:var(--text-base)]",children:[l.jsx(pP,{className:"mr-2 h-5 w-5"}),"Read Documentation"]})]})]}),l.jsxs("div",{className:"hero-cta flex flex-wrap justify-center items-center gap-6 font-body text-[length:var(--text-sm)] text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ml,{className:"h-4 w-4 text-primary"}),l.jsx("span",{children:"Chainlink VRF Powered"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(jr,{className:"h-4 w-4 text-primary"}),l.jsx("span",{children:"Fairness Guaranteed"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(tY,{className:"h-4 w-4 text-primary"}),l.jsx("span",{children:"Fully Transparent"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(aY,{className:"h-4 w-4 text-primary"}),l.jsx("span",{children:"Trustless"})]})]})]})})]}),l.jsxs(yu,{id:"problem",className:"py-20 bg-card",children:[l.jsx("div",{className:"reveal",children:l.jsx(kp,{title:"The End of Opaque Whitelists Allocations, Botted Mints, and Rigged Giveaways",subtitle:"Traditional Web3 distribution methods are broken. Dropr fixes them with innovative raffle-based technology."})}),l.jsxs("div",{className:"card-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-16",children:[l.jsxs("div",{className:"card-item bg-background rounded-2xl p-8 text-center hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(ml,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-xl)] font-bold mb-3 text-foreground leading-snug",children:"No More Insider Favoritism"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground leading-relaxed",children:"Cryptographically secure randomness ensures every participant has an equal chance"})]}),l.jsxs("div",{className:"card-item bg-background rounded-2xl p-8 text-center hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(eY,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-xl)] font-bold mb-3 text-foreground leading-snug",children:"Discourage Bot Attacks"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground leading-relaxed",children:"The Winner selection algorithm largely disincentivizes bot manipulation during NFT Drops"})]}),l.jsxs("div",{className:"card-item bg-background rounded-2xl p-8 text-center hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Tc,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-xl)] font-bold mb-3 text-foreground leading-snug",children:"Build Community Trust"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground leading-relaxed",children:"Transparent, verifiable processes that communities can audit and trust"})]}),l.jsxs("div",{className:"card-item bg-background rounded-2xl p-8 text-center hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(hx,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-xl)] font-bold mb-3 text-foreground leading-snug",children:"Trustless Prize Distribution"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground leading-relaxed",children:"Smart contracts handle prize distribution without need for manual intervention"})]})]})]}),l.jsxs(yu,{id:"how-it-works",className:"py-20 bg-card",children:[l.jsx("div",{className:"reveal",children:l.jsx(kp,{title:"How It Works",subtitle:"Three simple steps to create provably fair raffles that your community will trust"})}),l.jsxs("div",{className:"card-grid grid grid-cols-1 lg:grid-cols-3 gap-8 lg:gap-12 mt-16",children:[l.jsx("div",{className:"card-item relative",children:l.jsxs("div",{className:"bg-background rounded-2xl p-8 text-center hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-6 relative z-10",children:l.jsx("span",{className:"text-2xl font-bold text-primary-foreground",children:"1"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-2xl)] font-bold mb-4 text-foreground leading-snug",children:"Create Raffle"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground mb-4 leading-relaxed",children:"Set raffle parameters - participation limits, start time, duration, number of winners, and prizes."}),l.jsxs("div",{className:"flex items-center justify-center gap-2 font-body text-[length:var(--text-sm)] text-primary",children:[l.jsx(hY,{className:"h-4 w-4"}),l.jsx("span",{children:"Flexible Configuration"})]})]})}),l.jsx("div",{className:"card-item relative",children:l.jsxs("div",{className:"bg-background rounded-2xl p-8 text-center hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-6 relative z-10",children:l.jsx("span",{className:"text-2xl font-bold text-primary-foreground",children:"2"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-2xl)] font-bold mb-4 text-foreground leading-snug",children:"Chainlink VRF"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground mb-4 leading-relaxed",children:"Verifiable randomness ensures fair winner selection. Every draw is cryptographically secure and auditable."}),l.jsxs("div",{className:"flex items-center justify-center gap-2 font-body text-[length:var(--text-sm)] text-primary",children:[l.jsx(dY,{className:"h-4 w-4"}),l.jsx("span",{children:"Provably Fair"})]})]})}),l.jsx("div",{className:"card-item relative",children:l.jsxs("div",{className:"bg-background rounded-2xl p-8 text-center hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-6 relative z-10",children:l.jsx("span",{className:"text-2xl font-bold text-primary-foreground",children:"3"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-2xl)] font-bold mb-4 text-foreground leading-snug",children:"Prize Distribution"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground mb-4 leading-relaxed",children:"Prize availability guaranteed. Winners can always claim prizes from raffle contracts."}),l.jsxs("div",{className:"flex items-center justify-center gap-2 font-body text-[length:var(--text-sm)] text-primary",children:[l.jsx(n3,{className:"h-4 w-4"}),l.jsx("span",{children:"Instant Claims"})]})]})})]})]}),l.jsxs(yu,{id:"video-demo",className:"py-20 bg-background",children:[l.jsx("div",{className:"reveal",children:l.jsx(kp,{title:"Watch Dropr in Action"})}),l.jsx("div",{className:"reveal mt-12",children:l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsx("div",{className:"relative aspect-[16/9] sm:aspect-video rounded-2xl overflow-hidden shadow-2xl bg-primary/5 border border-border",children:l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-primary/10 to-primary/5",children:l.jsxs("div",{className:"text-center px-4",children:[l.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 bg-primary rounded-full flex items-center justify-center mx-auto mb-4 hover:scale-110 transition-transform cursor-pointer",children:l.jsx(bP,{className:"h-8 w-8 sm:h-12 sm:w-12 text-primary-foreground ml-1"})}),l.jsx("p",{className:"text-foreground font-semibold font-body text-[length:var(--text-base)]",children:"Video Coming Soon"}),l.jsx("p",{className:"text-muted-foreground font-body text-[length:var(--text-sm)] mt-2",children:"Complete walkthrough of the Dropr platform"})]})})})})})]}),l.jsxs(yu,{id:"use-cases",className:"py-20 bg-background",children:[l.jsx("div",{className:"reveal",children:l.jsx(kp,{title:"Built for Web3 Communities",subtitle:"Whether you're launching NFTs, rewarding holders, or building engagement"})}),l.jsxs("div",{className:"card-grid grid grid-cols-1 lg:grid-cols-3 gap-8 mt-16",children:[l.jsxs("div",{className:"card-item bg-card rounded-2xl p-8 hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-6",children:l.jsx(o3,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-2xl)] font-bold mb-4 text-foreground leading-snug",children:"Projects"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground mb-6 leading-relaxed",children:"Fairly distribute whitelist spots for new mints. Eliminate gas wars and ensure equal opportunity for all community members."}),l.jsxs("ul",{className:"space-y-2 font-body text-[length:var(--text-sm)] text-muted-foreground",children:[l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(jr,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Supports ERC721 & ERC1155 standards"})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(jr,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Flexible launch strategies"})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(jr,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Inter-community collabs simplified"})]})]})]}),l.jsxs("div",{className:"card-item bg-card rounded-2xl p-8 hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-6",children:l.jsx(fS,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-2xl)] font-bold mb-4 text-foreground whitespace-nowrap leading-snug",children:"KOLs & Influencers"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground mb-6 leading-relaxed",children:"Host trustless giveaways that protect your reputation. Build authentic engagement with your community using provably fair raffling mechanics."}),l.jsxs("ul",{className:"space-y-2 font-body text-[length:var(--text-sm)] text-muted-foreground",children:[l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(jr,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Build reputation and trust"})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(jr,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Flexible prize options for community rewards"})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(jr,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Project collabs made easy"})]})]})]}),l.jsxs("div",{className:"card-item bg-card rounded-2xl p-8 hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-6",children:l.jsx(Tm,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-2xl)] font-bold mb-4 text-foreground leading-snug",children:"Creators"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground mb-6 leading-relaxed",children:"Grow your community and holder base by transparently distributing rewards to holders of creator tokens."}),l.jsxs("ul",{className:"space-y-2 font-body text-[length:var(--text-sm)] text-muted-foreground",children:[l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(jr,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Token-gated raffles for holder rewards"})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(jr,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Flexible prize options for holder rewards"})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(jr,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Easy collabs with projects and other creators"})]})]})]})]})]}),l.jsxs(yu,{id:"faq",className:"py-20 bg-background",children:[l.jsx("div",{className:"reveal",children:l.jsx(kp,{title:"Frequently Asked Questions"})}),l.jsx("div",{className:"reveal max-w-4xl mx-auto mt-12",children:l.jsx(mL,{type:"single",collapsible:!0,className:"space-y-4",children:r.map((n,i)=>l.jsxs(gL,{value:`item-${i}`,className:"rounded-2xl border border-border bg-card overflow-hidden",children:[l.jsx(yL,{children:l.jsxs(xL,{className:"w-full p-4 sm:p-6 flex items-center justify-between text-left font-semibold hover:bg-primary/5 transition-colors group",children:[l.jsx("span",{className:"pr-4 text-base sm:text-lg text-foreground group-hover:text-primary leading-relaxed",children:n.q}),l.jsx(ko,{className:"h-5 w-5 shrink-0 transition-transform duration-200 data-[state=open]:rotate-180 text-primary"})]})}),l.jsx(vL,{className:"px-4 sm:px-6 pb-4 sm:pb-6 pt-2 border-t border-border overflow-hidden data-[state=open]:animate-slideDown data-[state=closed]:animate-slideUp",children:l.jsx(Rae,{remarkPlugins:[qce],components:{p:s=>l.jsx("p",{className:"text-sm text-muted-foreground",...s}),li:s=>l.jsx("li",{className:"list-disc ml-5 text-sm text-muted-foreground",...s}),strong:s=>l.jsx("strong",{className:"text-primary font-semibold",...s}),a:s=>l.jsx("a",{className:"text-primary underline hover:text-primary/80",...s})},children:n.aMd})})]},i))})})]}),l.jsx(yu,{id:"final-cta",className:"py-16 sm:py-20 bg-gradient-to-br from-primary to-primary/80 text-primary-foreground",children:l.jsxs("div",{className:"reveal text-center",children:[l.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 sm:mb-6",children:"Ready to Build Trust with Your Community?"}),l.jsx("p",{className:"text-lg sm:text-xl md:text-2xl mb-6 sm:mb-8 opacity-90 max-w-3xl mx-auto",children:"Deploy Your First Raffle - No Code Required"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[l.jsx(Gf,{to:"/app",target:"_blank",rel:"noopener noreferrer",className:"pulse-btn inline-flex items-center justify-center px-8 sm:px-10 py-4 sm:py-5 rounded-xl bg-background text-foreground hover:bg-card transition-all duration-300 shadow-lg hover:shadow-xl font-bold text-lg sm:text-xl",children:"Launch Your Raffle Now"}),l.jsxs("a",{href:"https://rafflhub.gitbook.io/rafflhub",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center px-8 sm:px-10 py-4 sm:py-5 rounded-xl border-2 border-primary-foreground text-primary-foreground hover:bg-primary-foreground hover:text-primary transition-all duration-300 font-bold text-lg sm:text-xl",children:[l.jsx(pP,{className:"mr-3 h-5 w-5 sm:h-6 sm:w-6"}),"Read Documentation"]})]}),l.jsxs("div",{className:"mt-8 flex flex-wrap justify-center items-center gap-6 text-sm opacity-75",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(fY,{className:"h-4 w-4"}),l.jsx("span",{children:"Permissionless"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ml,{className:"h-4 w-4"}),l.jsx("span",{children:"Secure"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(hx,{className:"h-4 w-4"}),l.jsx("span",{children:"Deploy in minutes"})]})]})]})})]})}const Yce=()=>{const[t,e]=C.useState(0),r=C.useCallback(()=>{e(n=>n+1)},[]);return{refreshTrigger:t,triggerRefresh:r}},Jce=(t={})=>{const{autoFetch:e=!0,enablePolling:r=!1,pollingInterval:n=12e4,maxRaffles:i=null,useCache:s=!0}=t,o=xr(),a=Cr(),{isMobile:c}=pn(),[d,f]=C.useState([]),[p,g]=C.useState(!1),[m,v]=C.useState(!1),[x,w]=C.useState(null),[E,P]=C.useState(null),R=C.useRef(null),S=C.useRef(!0);C.useEffect(()=>{o&&a&&xa.initialize(o,a)},[o,a]),C.useEffect(()=>{o!=null&&o.chainId&&(console.log(" Network changed, clearing cache and resetting state"),xa.clearCache(),f([]),w(null),P(null))},[o==null?void 0:o.chainId]),C.useEffect(()=>()=>{S.current=!1,R.current&&clearInterval(R.current)},[]);const B=C.useCallback(async(J=!1)=>{var W,F,b,A,D,j,k;if(console.log(" fetchRaffles called:",{connected:o==null?void 0:o.connected,chainId:o==null?void 0:o.chainId,isBackground:J,environment:"production",userAgent:typeof window<"u"?window.navigator.userAgent:"N/A",isMobile:c,maxRaffles:i}),!(o!=null&&o.connected)){console.log(" Wallet not connected"),f([]),w("Please connect your wallet to view raffles");return}if(!(o!=null&&o.chainId)){console.log(" ChainId not yet available, skipping fetch");return}if(o!=null&&o.isReconnecting){console.log(" Wallet is reconnecting, skipping fetch");return}if(!(a!=null&&a.isContractsReady)){console.log(" Contracts not ready yet, skipping fetch");return}if(!xa.areContractsAvailable()){console.log(" Contracts not available for current network, skipping fetch"),J||(w("CONTRACTS_NOT_AVAILABLE"),f([]));return}if(!S.current){console.log(" Component unmounted");return}try{J?v(!0):(g(!0),w(null));const M={isMobile:c,useCache:s,maxRaffles:i};console.log(" Calling raffleService.fetchAllRaffles with options:",M);const T=await xa.fetchAllRaffles(M);if(console.log(" fetchAllRaffles completed:",{count:(T==null?void 0:T.length)||0,firstRaffle:((W=T==null?void 0:T[0])==null?void 0:W.name)||"N/A"}),!S.current)return;f(T),P(new Date),T.length===0?(console.log(" No raffles found"),w("NO_RAFFLES_FOUND")):(console.log(" Raffles set successfully"),w(null))}catch(M){if(!S.current)return;console.error(" Error fetching raffles:",{error:M.message,stack:M.stack,environment:"production",chainId:o==null?void 0:o.chainId});let T="NETWORK_ERROR";(F=M.message)!=null&&F.includes("CONTRACTS_NOT_AVAILABLE")?T="CONTRACTS_NOT_AVAILABLE":(b=M.message)!=null&&b.includes("Too Many Requests")?T="RATE_LIMIT":(A=M.message)!=null&&A.includes("timeout")?T="TIMEOUT":(D=M.message)!=null&&D.includes("network")?T="NETWORK_ERROR":((j=M.message)!=null&&j.includes("not available")||(k=M.message)!=null&&k.includes("ProtocolManager contract not available"))&&(T="CONTRACTS_NOT_AVAILABLE"),w(T),J||f([])}finally{if(!S.current)return;console.log(" fetchRaffles completed, setting loading states"),J?v(!1):g(!1)}},[o==null?void 0:o.connected,o==null?void 0:o.chainId,o==null?void 0:o.isReconnecting,a==null?void 0:a.isContractsReady,c,s,i]),$=C.useCallback(async J=>{if(!(J!=null&&J.trim()))return[];try{const W={isMobile:c,useCache:!0,maxRaffles:null};return await xa.searchRaffles(J,W)}catch(W){return console.error("Error searching raffles:",W),[]}},[c]),q=C.useCallback(async()=>{xa.clearCache(),await B(!1)},[B]),G=C.useCallback(async J=>{try{return await xa.fetchRaffleDetails(J)}catch(W){return console.error(`Error fetching raffle details for ${J}:`,W),null}},[]);C.useEffect(()=>{if(console.log(" Auto-fetch effect triggered:",{autoFetch:e,connected:o==null?void 0:o.connected,chainId:o==null?void 0:o.chainId,isReconnecting:o==null?void 0:o.isReconnecting,isContractsReady:a==null?void 0:a.isContractsReady,environment:"production"}),e&&(o!=null&&o.connected)&&(o!=null&&o.chainId)&&!(o!=null&&o.isReconnecting)&&(a!=null&&a.isContractsReady)){const J=setTimeout(()=>{console.log(" Triggering auto-fetch with full context ready"),B()},500);return()=>clearTimeout(J)}else console.log(" Auto-fetch conditions not met:",{autoFetch:e,connected:o==null?void 0:o.connected,chainId:o==null?void 0:o.chainId,isReconnecting:o==null?void 0:o.isReconnecting,isContractsReady:a==null?void 0:a.isContractsReady})},[e,o==null?void 0:o.connected,o==null?void 0:o.chainId,o==null?void 0:o.isReconnecting,a==null?void 0:a.isContractsReady,B]),C.useEffect(()=>{if(r&&(o!=null&&o.connected)&&n>0)return R.current=setInterval(()=>{xa.fetchAllRaffles({isMobile:c,useCache:!1,maxRaffles:i}).then(J=>{S.current&&(f(J),P(new Date))}).catch(()=>{})},n),()=>{R.current&&(clearInterval(R.current),R.current=null)}},[r,o==null?void 0:o.connected,n,B]);const H=C.useCallback(()=>{const J=Math.floor(Date.now()/1e3);return d.reduce((W,F)=>{const b=F.startTime,A=b+F.duration;return F.stateNum===0||J<b?W.pending.push(F):F.stateNum===1&&J>=b&&J<A?W.active.push(F):F.stateNum===2?W.ended.push(F):F.stateNum===3?W.drawing.push(F):F.stateNum===4?W.completed.push(F):F.stateNum===5?W.ended.push(F):F.stateNum===6?W.completed.push(F):(F.stateNum,W.ended.push(F)),W},{pending:[],active:[],drawing:[],completed:[],ended:[]})},[d]),K=C.useCallback(()=>xa.getCacheStats(),[]);return{raffles:d,categorizedRaffles:H(),loading:p,backgroundLoading:m,error:x,lastFetch:E,fetchRaffles:B,refreshRaffles:q,searchRaffles:$,getRaffleDetails:G,getCacheStats:K,service:xa}},YF=(t,e={})=>{const{onWinnersSelected:r,onStateChange:n,onPrizeClaimed:i,onTicketsPurchased:s,onRpcError:o,enablePolling:a=!0,pollingInterval:c=1e4,autoStart:d=!0,raffleState:f=null,enableStateConditionalListening:p=!0,stopOnCompletion:g=!1}=e,{getContractInstance:m,provider:v}=Cr(),{connected:x}=xr(),[w,E]=C.useState(!1),[P,R]=C.useState(null),[S,B]=C.useState([]),[$,q]=C.useState(f),G=C.useRef(null),H=C.useRef([]),K=C.useRef(null),J=C.useRef(!0),W=C.useRef(f);C.useEffect(()=>{t&&m?G.current=m(t,"pool"):G.current=null},[t,m]),C.useEffect(()=>{f!==W.current&&(console.log(` Raffle state updated: ${W.current}  ${f}`),q(f),W.current=f)},[f]);const F=C.useCallback(()=>{if(!p)return!0;if(g&&($===4||$===7))return console.log(` Stopping winner selection listening - raffle completed (state=${$})`),!1;const N=$===null||[1,3,4,7].includes($);return console.log(` Should listen check: state=${$}, shouldListen=${N}, stopOnCompletion=${g}`),N},[$,p,g]),b=C.useCallback((O,N)=>(...I)=>{var Q;try{if(J.current&&N){console.log(` Raffle Event [${O}]:`,I);const z={eventName:O,args:I,timestamp:Date.now(),blockNumber:((Q=I[I.length-1])==null?void 0:Q.blockNumber)||null};B(V=>[...V.slice(-9),z]),O==="WinnersSelected"?(console.log(" WinnersSelected event - triggering immediate callback with RPC resilience"),setTimeout(()=>{try{N(...I),setTimeout(()=>{J.current&&G.current&&(console.log(" Additional state poll after WinnersSelected event"),(async()=>{try{const Y=await G.current.state(),Z=Y.toNumber?Y.toNumber():Number(Y);n&&n(Z,null)}catch(Y){console.warn("Error in additional state poll:",Y)}})())},3e3)}catch(V){console.error("Error in WinnersSelected callback:",V)}},1e3)):N(...I)}}catch(z){console.error(`Error handling ${O} event:`,z)}},[]),A=C.useCallback(()=>{if(!(!G.current||!x)){if(!F()){console.log(` Skipping event listeners setup - raffle state ${$} doesn't require listening`);return}try{console.log(` Setting up event listeners for raffle: ${t} (state: ${$})`),H.current.forEach(({contract:N,event:I,handler:Q})=>{N.off(I,Q)}),H.current=[];const O=G.current;if(r){const N=b("WinnersSelected",(I,Q)=>{r(I,Q)});O.on("WinnersSelected",N),H.current.push({contract:O,event:"WinnersSelected",handler:N})}if(i){const N=b("PrizeClaimed",(I,Q,z)=>{i(I,Q,z)});O.on("PrizeClaimed",N),H.current.push({contract:O,event:"PrizeClaimed",handler:N})}if(s){const N=b("SlotsPurchased",(I,Q,z)=>{s(I,Q,z)});O.on("SlotsPurchased",N),H.current.push({contract:O,event:"SlotsPurchased",handler:N})}E(!0),console.log(` Event listeners active for ${H.current.length} events`)}catch(O){console.error("Error setting up event listeners:",O),E(!1)}}},[t,x,r,i,s,b]),D=C.useCallback(()=>{console.log(` Cleaning up event listeners for raffle: ${t}`),H.current.forEach(({contract:O,event:N,handler:I})=>{try{O.off(N,I)}catch(Q){console.warn(`Error removing ${N} listener:`,Q)}}),H.current=[],E(!1)},[t]),j=C.useCallback(()=>{if(!a||!G.current||!n)return;if(g&&($===4||$===7)){console.log(` Stopping state polling - raffle completed (state=${$})`);return}const O=async()=>{let N=0;const I=3,Q=2e3;await(async()=>{try{if(!J.current||!G.current)return;const V=await(v==null?void 0:v.getBlockNumber().catch(async Y=>{var Z;if((Z=Y.message)!=null&&Z.includes("500")&&N<I)return console.warn(`RPC 500 error on getBlockNumber, retrying (${N+1}/${I})...`),N===0&&o&&o(Y),N++,await new Promise(ee=>setTimeout(ee,Q)),v==null?void 0:v.getBlockNumber();throw Y}));if(V&&V!==P){R(V);const Y=await G.current.state().catch(async ee=>{var ae;if((ae=ee.message)!=null&&ae.includes("500")&&N<I)return console.warn(`RPC 500 error on state(), retrying (${N+1}/${I})...`),N===0&&o&&o(ee),N++,await new Promise(ne=>setTimeout(ne,Q)),G.current.state();throw ee}),Z=Y.toNumber?Y.toNumber():Number(Y);n&&n(Z,V)}}catch(V){const Y=V.message||V.toString();Y.includes("500")||Y.includes("Non-200 status code")?(console.warn("RPC server error during state polling, will retry on next cycle:",Y),o&&o(V)):console.warn("Error during state polling:",V)}})()};O(),K.current=setInterval(O,c),console.log(` State polling enabled (${c}ms interval)`)},[a,n,v,P,c,g,$]),k=C.useCallback(()=>{K.current&&(clearInterval(K.current),K.current=null,console.log(" State polling disabled"))},[]),M=C.useCallback(()=>{if(!t||!G.current){console.warn("Cannot start listening: missing raffle address or contract");return}A(),j()},[t,A,j]),T=C.useCallback(()=>{D(),k()},[D,k]);return C.useEffect(()=>(d&&t&&G.current&&x&&(console.log(` Auto-starting listeners due to dependency change (state: ${$})`),M()),()=>{T()}),[d,t,x,$,M,T]),C.useEffect(()=>()=>{J.current=!1,T()},[T]),{isListening:w,eventHistory:S,lastBlockNumber:P,startListening:M,stopListening:T,clearEventHistory:()=>B([])}};class Upe extends be.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Mobile component error:",e,r)}render(){return this.state.hasError?l.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-md border-b border-border/50",children:l.jsxs("div",{className:"flex items-center justify-between h-14 px-4",children:[l.jsx("div",{className:"text-lg font-bold text-foreground",style:{fontFamily:"Orbitron, monospace"},children:"Dropr"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Mobile Menu"})]})}):this.props.children}}const yl=({children:t,variant:e="default",className:r=""})=>{const{isMobile:n}=pn(),s=(()=>{switch(e){case"narrow":return"mx-auto px-4 sm:px-6 md:px-8 lg:px-12 xl:px-20 2xl:px-32";case"wide":return"container mx-auto px-4 sm:px-6 md:px-8 lg:px-12 xl:px-16 2xl:px-20";case"profile":return n?"mx-auto px-4":"mx-auto px-2 sm:px-3 md:px-4 lg:px-6 xl:px-8 2xl:px-10";case"default":default:return n?"mx-auto px-4":"mx-auto px-2 sm:px-3 md:px-4 lg:px-6 xl:px-8 2xl:px-10"}})();return l.jsx("div",{className:`${s} ${r}`,children:t})},Sn=()=>{const{chainId:t,networkInfo:e}=xr(),r=C.useMemo(()=>(e==null?void 0:e.nativeCurrency)||{symbol:"ETH",name:"Ether",decimals:18},[e]),n=C.useMemo(()=>(g,m={})=>{const{showSymbol:v=!0,decimals:x=4,fallbackSymbol:w=r.symbol}=m;if(g==null||g==="")return v?`0 ${r.symbol}`:"0";try{let E;ue.isBigNumber(g)?E=Ir(g):typeof g=="string"?/^0x/i.test(g)||/^[0-9]+$/.test(g)?E=Ir(g):E=g:typeof g=="number"?E=g.toString():E=Ir(g);const P=parseFloat(E);let R;if(!isFinite(P)||isNaN(P))R="0";else if(P===0)R="0";else if(P<Math.pow(10,-x)){const S=Math.max(x,8);R=P.toFixed(S),R=R.replace(/\.?0+$/,""),(R==="0"||R==="")&&(R=P.toFixed(S))}else R=P.toFixed(x),P>=.01&&(R=R.replace(/\.?0+$/,""));return v?`${R} ${r.symbol}`:R}catch(E){return console.warn("Error formatting amount:",E),v?`0 ${w}`:"0"}},[r.symbol]),i=C.useMemo(()=>g=>n(g,{decimals:8}),[n]),s=C.useMemo(()=>g=>n(g,{decimals:6}),[n]),o=C.useMemo(()=>g=>n(g,{decimals:6}),[n]),a=C.useMemo(()=>()=>r.symbol,[r.symbol]),c=C.useMemo(()=>()=>r,[r]),d=C.useMemo(()=>r.symbol==="ETH",[r.symbol]),f=C.useMemo(()=>r.symbol==="AVAX",[r.symbol]),p=C.useMemo(()=>(g="general")=>{switch(g){case"ticket":return`Slot Fee (${r.symbol})`;case"prize":return`Prize Amount (${r.symbol})`;case"revenue":return`Revenue (${r.symbol})`;case"amount":return`Amount (${r.symbol})`;default:return r.symbol}},[r.symbol]);return{nativeCurrency:r,getCurrencyInfo:c,getCurrencySymbol:a,getCurrencyLabel:p,formatAmount:n,formatSlotFee:i,formatPrizeAmount:s,formatRevenueAmount:o,isEthNetwork:d,isAvaxNetwork:f,chainId:t,networkName:(e==null?void 0:e.name)||"Unknown Network"}},uh=({size:t="default",className:e="",text:r="",showText:n=!0})=>{const i={sm:"h-4 w-4",default:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"};return l.jsx("div",{className:et("flex items-center justify-center",e),children:l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(Mf,{className:et("animate-spin text-primary",i[t])}),n&&r&&l.jsx("p",{className:"text-sm text-muted-foreground",children:r})]})})},JF=({message:t="Loading...",isMobile:e=!1,showProgress:r=!1,progress:n=0,maxProgress:i=100})=>l.jsx("div",{className:"min-h-[calc(100vh-4rem)] flex items-center justify-center bg-background",children:l.jsxs("div",{className:"text-center space-y-4 px-4",children:[l.jsx(uh,{size:e?"lg":"xl",text:t,showText:!0}),r&&l.jsxs("div",{className:"w-64 max-w-full mx-auto",children:[l.jsx("div",{className:"bg-muted rounded-full h-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${n/i*100}%`}})}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[n," / ",i]})]})]})}),z2=({error:t,onRetry:e,isMobile:r=!1,showCreateButton:n=!0})=>{const i=Ua(),s=d=>{switch(d){case"CONTRACTS_NOT_AVAILABLE":return{title:"Network Not Supported",message:"Dropr is not available on this network. Check back soon!",icon:l.jsx(dr,{className:"h-8 w-8 text-orange-500"}),showRetry:!1,showCreate:!1};case"NO_RAFFLES_FOUND":return{title:"No Pools Found",message:"No Pools are found on this network! Be the first user to create a Pool.",icon:l.jsx(dr,{className:"h-8 w-8 text-blue-500"}),showRetry:!0,showCreate:!0};case"RATE_LIMIT":return{title:"Rate Limit Exceeded",message:"Too many requests. Please wait a moment and try again.",icon:l.jsx(dr,{className:"h-8 w-8 text-yellow-500"}),showRetry:!0,showCreate:!1};case"TIMEOUT":return{title:"Request Timeout",message:"Request timed out. Please check your connection and try again.",icon:l.jsx(dr,{className:"h-8 w-8 text-red-500"}),showRetry:!0,showCreate:!1};case"NETWORK_ERROR":default:return{title:"Network Error",message:"Unable to connect to the blockchain. Please check your connection and try again.",icon:l.jsx(dr,{className:"h-8 w-8 text-red-500"}),showRetry:!0,showCreate:!1}}},o=()=>{i("/create-raffle")},a=typeof t=="string"?t:(t==null?void 0:t.message)||"NETWORK_ERROR",c=s(a);return l.jsx("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:l.jsxs("div",{className:"text-center max-w-md mx-auto",children:[l.jsx("div",{className:"flex justify-center mb-4",children:c.icon}),l.jsx("h3",{className:`font-semibold mb-3 ${r?"text-lg":"text-xl"}`,children:c.title}),l.jsx("p",{className:`text-muted-foreground mb-6 ${r?"text-sm":"text-base"}`,children:c.message}),l.jsxs("div",{className:`flex gap-3 ${r?"flex-col":"flex-row justify-center"}`,children:[c.showRetry&&e&&l.jsxs(qe,{onClick:e,variant:"outline",className:`${r?"w-full":""}`,children:[l.jsx(Qf,{className:"h-4 w-4 mr-2"}),"Try Again"]}),c.showCreate&&n&&l.jsx(qe,{onClick:o,className:`${r?"w-full":""}`,children:"Create Pool"})]})]})})},XF=t=>({0:"pending",1:"active",2:"ended",3:"drawing",4:"completed",5:"deleted",6:"activation_failed",7:"all_prizes_claimed",8:"unengaged"})[t]||"ended",QF=t=>t.isCollabPool?"nft_collab":t.isPrized?"prized":"non_prized",ZF=t=>t.isPrized?t.nativePrizeAmount&&t.nativePrizeAmount.gt&&t.nativePrizeAmount.gt(0)?"native":t.erc20PrizeToken&&t.erc20PrizeToken!==He&&t.erc20PrizeAmount&&t.erc20PrizeAmount.gt&&t.erc20PrizeAmount.gt(0)?"erc20":t.prizeCollection&&t.prizeCollection!==He?"nft":"token_giveaway":null,ez=t=>{if(!t.isPrized)return[];const e=[];return t.nativePrizeAmount&&t.nativePrizeAmount.gt&&t.nativePrizeAmount.gt(0)&&e.push("native"),t.erc20PrizeToken&&t.erc20PrizeToken!==He&&t.erc20PrizeAmount&&t.erc20PrizeAmount.gt&&t.erc20PrizeAmount.gt(0)&&e.push("erc20"),t.prizeCollection&&t.prizeCollection!==He&&(t.standard===0?e.push("erc721"):t.standard===1&&e.push("erc1155")),e},Xce=(t,e)=>!t||t.length===0?[]:t.filter(n=>{if(e.raffleState&&e.raffleState.length>0){const i=XF(n.stateNum);if(!e.raffleState.includes(i))return!1}if(e.raffleType&&e.raffleType.length>0){const i=QF(n);if(!e.raffleType.includes(i))return!1}if(e.prizeType&&e.prizeType.length>0){if(!n.isPrized)return!1;const i=ZF(n);if(!e.prizeType.includes(i))return!1}if(e.prizeStandard&&e.prizeStandard.length>0){if(!n.isPrized)return!1;const i=ez(n);if(!e.prizeStandard.some(o=>i.includes(o)))return!1}return!0}),Qce=t=>{if(!t||t.length===0)return{raffleState:{},raffleType:{},prizeType:{},prizeStandard:{}};const e={raffleState:{},raffleType:{},prizeType:{},prizeStandard:{}};return t.forEach(r=>{const n=XF(r.stateNum);e.raffleState[n]=(e.raffleState[n]||0)+1;const i=QF(r);if(e.raffleType[i]=(e.raffleType[i]||0)+1,r.isPrized){const s=ZF(r);s&&(e.prizeType[s]=(e.prizeType[s]||0)+1),ez(r).forEach(a=>{e.prizeStandard[a]=(e.prizeStandard[a]||0)+1})}}),e},SI=()=>({raffleState:[],raffleType:[],prizeType:[],prizeStandard:[]}),Z1=t=>Object.values(t).every(e=>!e||e.length===0),Zce=({onFilterChange:t,hasActiveFilters:e=!1,className:r=""})=>{const n=[{label:"Active",icon:Em,filters:{raffleState:["active"]},description:"Currently running raffles"},{label:"Pending",icon:Tc,filters:{raffleState:["pending"]},description:"Raffles starting soon"},{label:"NFT Prizes",icon:Bu,filters:{raffleType:["prized"],prizeType:["nft"]},description:"Raffles with NFT prizes"},{label:"Whitelist",icon:Zf,filters:{raffleType:["non_prized"]},description:"Whitelist/Allowlist raffles"}],i=o=>{t(o)},s=()=>{t({raffleState:[],raffleType:[],prizeType:[],prizeStandard:[]})};return l.jsxs("div",{className:`space-y-2 sm:space-y-3 ${r}`,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Quick Filters"}),e&&l.jsx(qe,{variant:"ghost",size:"sm",onClick:s,className:"text-xs h-5 sm:h-6 px-1.5 sm:px-2",children:"Clear"})]}),l.jsx("div",{className:"grid grid-cols-2 gap-1.5 sm:gap-2",children:n.map(o=>{const a=o.icon,c=["Active","Pending","NFT Prizes","Whitelist"].includes(o.label);return l.jsxs(qe,{variant:"outline",size:"sm",onClick:()=>i(o.filters),className:`flex items-center justify-start gap-1.5 sm:gap-2 h-auto p-2 sm:p-3 text-left ${c?"border border-[#614E41] hover:bg-transparent":""}`,title:o.description,children:[l.jsx(a,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),l.jsx("span",{className:"text-xs font-medium",children:o.label})]},o.label)})})]})},eue=`
  @media (max-width: 640px) {
    .mobile-checkbox-radio {
      width: 12px !important;
      height: 12px !important;
      min-width: 12px !important;
      min-height: 12px !important;
      max-width: 12px !important;
      max-height: 12px !important;
    }
  }
`,tue=()=>{const[t,e]=C.useState({top:56,height:56});return C.useEffect(()=>{const r=document.querySelector("header"),n=r?r.getBoundingClientRect().height:56,i=()=>window.matchMedia&&window.matchMedia("(max-width: 640px)").matches,s=()=>{const o=window.scrollY||window.pageYOffset||0;i()?e({top:n,height:window.innerHeight-n}):o>=n?e({top:0,height:window.innerHeight}):e({top:n-o,height:window.innerHeight-(n-o)})};return s(),window.addEventListener("scroll",s,{passive:!0}),window.addEventListener("resize",s),()=>{window.removeEventListener("scroll",s),window.removeEventListener("resize",s)}},[]),t},rue=({isOpen:t,onToggle:e,filters:r,onFiltersChange:n,raffleCount:i=0,allRaffles:s=[],className:o=""})=>{const{countEnhancedRaffleTypes:a}=NC(),{getCurrencySymbol:c}=Sn(),d=tue(),[f,p]=C.useState({raffleState:!0,raffleType:!0,prizeType:!0,prizeStandard:!0}),g=C.useMemo(()=>{const R=Qce(s),S=a(s);return{...R,raffleType:S}},[s,a]),m=C.useMemo(()=>({raffleState:[{value:"pending",label:"Pending",count:g.raffleState.pending||0},{value:"active",label:"Active",count:g.raffleState.active||0},{value:"ended",label:"Ended",count:g.raffleState.ended||0},{value:"drawing",label:"Drawing",count:g.raffleState.drawing||0},{value:"completed",label:"Completed",count:g.raffleState.completed||0},{value:"deleted",label:"Deleted",count:g.raffleState.deleted||0},{value:"activation_failed",label:"Activation Failed",count:g.raffleState.activation_failed||0},{value:"all_prizes_claimed",label:"Prizes Claimed",count:g.raffleState.all_prizes_claimed||0},{value:"unengaged",label:"Unengaged",count:g.raffleState.unengaged||0}],raffleType:[{value:"non_prized",label:"Whitelist",count:g.raffleType.non_prized||0},{value:"prized",label:"Prized",count:g.raffleType.prized||0},{value:"nft_collab",label:"NFT Collab",count:g.raffleType.nft_collab||0},{value:"whitelist_collab",label:"Whitelist Collab",count:g.raffleType.whitelist_collab||0}],prizeType:[{value:"nft",label:"NFT",count:g.prizeType.nft||0},{value:"erc20",label:"ERC20 Token",count:g.prizeType.erc20||0},{value:"native",label:c(),count:g.prizeType.native||0},{value:"token_giveaway",label:"Token Giveaway",count:g.prizeType.token_giveaway||0}],prizeStandard:[{value:"erc721",label:"ERC721",count:g.prizeStandard.erc721||0},{value:"erc1155",label:"ERC1155",count:g.prizeStandard.erc1155||0},{value:"erc20",label:"ERC20",count:g.prizeStandard.erc20||0},{value:"native",label:c(),count:g.prizeStandard.native||0}]}),[g,c]),v=C.useCallback(R=>{p(S=>({...S,[R]:!S[R]}))},[]),x=C.useCallback((R,S,B)=>{const $={...r};R==="raffleType"?$[R]=B?[S]:[]:($[R]||($[R]=[]),B?$[R]=[...$[R],S]:$[R]=$[R].filter(q=>q!==S)),n($)},[r,n]),w=C.useCallback(()=>{n({raffleState:[],raffleType:[],prizeType:[],prizeStandard:[]})},[n]),E=C.useMemo(()=>Object.values(r).some(R=>R.length>0),[r]),P=C.useCallback((R,S,B)=>{var K;const $=f[S],q=S==="raffleType",H=(S==="prizeType"||S==="prizeStandard")&&!((K=r.raffleType)!=null&&K.includes("prized"));return l.jsxs("div",{className:"border-b border-border/30 last:border-b-0",children:[l.jsxs("button",{onClick:()=>v(S),className:"w-full flex items-center justify-between p-3 sm:p-4 text-left hover:bg-muted/50 transition-colors",disabled:H,style:S==="raffleState"||S==="raffleType"||S==="prizeType"||S==="prizeStandard"?{border:"1px solid #614E41"}:void 0,children:[l.jsx("span",{className:`text-sm sm:text-base font-medium ${H?"text-muted-foreground":""}`,children:R}),$?l.jsx(Xu,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"}):l.jsx(ko,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"})]}),$&&!H&&l.jsx("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4 space-y-1 sm:space-y-2",children:B.map(J=>{var F;const W=((F=r[S])==null?void 0:F.includes(J.value))||!1;return l.jsxs("label",{className:"flex items-center space-x-2 sm:space-x-3 cursor-pointer hover:bg-muted/30 p-1.5 sm:p-2 rounded-md transition-colors",children:[l.jsx("input",{type:q?"radio":"checkbox",name:q?S:void 0,checked:W,onChange:b=>x(S,J.value,b.target.checked),className:`mobile-checkbox-radio ${q?"h-3 w-3 sm:h-4 sm:w-4 text-primary bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-full focus:ring-0 focus:outline-none checked:bg-primary checked:border-primary appearance-none relative"+(W?' after:content-[""] after:absolute after:top-1/2 after:left-1/2 after:transform after:-translate-x-1/2 after:-translate-y-1/2 after:w-1 after:h-1 sm:after:w-1.5 sm:after:h-1.5 after:bg-white after:rounded-full':""):"h-3 w-3 sm:h-4 sm:w-4 text-primary accent-primary bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded focus:ring-1 focus:ring-primary focus:ring-offset-0 checked:bg-primary checked:border-primary"}`,style:q?{minHeight:"12px",minWidth:"12px",maxHeight:"12px",maxWidth:"12px"}:{minHeight:"12px",minWidth:"12px",maxHeight:"12px",maxWidth:"12px"}}),l.jsx("span",{className:"flex-1 text-xs sm:text-sm leading-tight",children:J.label}),J.count>0&&l.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full",children:J.count})]},J.value)})})]},S)},[f,r,x,v]);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:eue}}),t&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-30",onClick:e}),l.jsxs("div",{style:{top:d.top,height:d.height},className:`
        fixed left-0
        w-72 sm:w-80 md:w-96
        bg-background border-r border-border
        transform transition-transform duration-300 ease-in-out
        z-40
        flex flex-col
        ${t?"translate-x-0":"-translate-x-full"}
        ${o}
      `,children:[l.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between p-3 sm:p-4 border-b border-border bg-muted/80 backdrop-blur supports-[backdrop-filter]:bg-muted/60",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(uS,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),l.jsx("h2",{className:"font-semibold text-base sm:text-lg",children:"Filter Raffles"})]}),l.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[E&&l.jsx(qe,{variant:"ghost",size:"sm",onClick:w,className:"text-xs px-2 sm:px-3 h-7 sm:h-8 hover:bg-destructive/10 hover:text-destructive",children:"Clear All"}),l.jsx(qe,{variant:"ghost",size:"sm",onClick:e,className:"hover:bg-muted h-7 w-7 sm:h-8 sm:w-8 p-0",title:"Close filters",children:l.jsx(Pm,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})})]})]}),l.jsx("div",{className:"p-3 sm:p-4 bg-muted/30",children:l.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:["Showing ",l.jsx("span",{className:"font-medium text-foreground",children:i})," raffles"]})}),l.jsx("div",{className:"p-3 sm:p-4 border-b border-border/30",children:l.jsx(Zce,{onFilterChange:n,hasActiveFilters:E})}),l.jsxs("div",{className:"flex-1 overflow-y-auto",children:[P("Raffle State","raffleState",m.raffleState),P("Raffle Type","raffleType",m.raffleType),P("Prize Type","prizeType",m.prizeType),P("Prize Standard","prizeStandard",m.prizeStandard)]})]})]})},nue=({onClick:t,hasActiveFilters:e=!1,className:r="",variant:n="outline",size:i="default"})=>{const{isLight:s,isDark:o,isDimBlue:a}=TC(),c=s?"bg-[#614E41] text-white hover:bg-[#4a3a30]":o||a?"bg-[#F5E9DC] text-[#0A0A0A] hover:bg-[#e7d8c7]":"";return l.jsxs(qe,{variant:e?"default":n,size:i,onClick:t,className:`
        relative flex items-center gap-2 border-0
        ${e?"bg-primary text-primary-foreground hover:bg-primary/90":""}
        ${c}
        ${r}
      `,children:[l.jsx(uS,{className:"h-4 w-4"}),l.jsx("span",{className:"font-medium",children:e?"Filters Applied":"Filter Raffles"}),e&&l.jsx("span",{className:"ml-1 px-2 py-0.5 text-xs bg-primary-foreground/20 rounded-full",children:"Active"})]})},iue=({raffles:t=[],loading:e=!1,error:r=null,RaffleCardComponent:n,emptyMessage:i="No raffles found matching your filters.",className:s="",totalCount:o,showCount:a=!0})=>e?l.jsx("div",{className:`space-y-6 ${s}`,children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:8}).map((c,d)=>l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-6 shadow-lg animate-pulse",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-muted rounded w-1/2"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"h-3 bg-muted rounded"}),l.jsx("div",{className:"h-3 bg-muted rounded w-5/6"})]}),l.jsx("div",{className:"h-10 bg-muted rounded"})]})},d))})}):r?l.jsx("div",{className:s,children:l.jsx(z2,{error:r,onRetry:null,showCreateButton:!0})}):!t||t.length===0?l.jsx("div",{className:`flex flex-col items-center justify-center py-12 ${s}`,children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"w-16 h-16 mx-auto bg-muted/20 rounded-full flex items-center justify-center",children:l.jsx(Bu,{className:"w-8 h-8 text-muted-foreground"})}),l.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"No Raffles Found"}),l.jsx("p",{className:"text-muted-foreground max-w-md",children:i})]})}):l.jsxs("div",{className:`space-y-6 ${s}`,children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h2",{className:"text-xl font-semibold",children:a?`${typeof o=="number"?o:t.length} ${(typeof o=="number"?o:t.length)===1?"Raffle":"Raffles"} Found`:"Raffles Found"})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(c=>l.jsx(n,{raffle:c},c.id||c.address))})]}),sue=(t=[])=>{const{filterByEnhancedType:e}=NC(),[r,n]=C.useState(SI()),[i,s]=C.useState(!1),o=C.useMemo(()=>{if(Z1(r))return t;let E=t;r.raffleType&&r.raffleType.length>0&&(E=e(E,r.raffleType));const P={...r,raffleType:[]};return Z1(P)||(E=Xce(E,P)),E},[t,r,e]),a=C.useMemo(()=>!Z1(r),[r]),c=C.useCallback(E=>{n(E)},[]),d=C.useCallback(()=>{n(SI())},[]),f=C.useCallback(()=>{s(E=>!E)},[]),p=C.useCallback(()=>{s(!0)},[]),g=C.useCallback(()=>{s(!1)},[]),m=C.useCallback(E=>{n(P=>({...P,raffleState:Array.isArray(E)?E:[E]}))},[]),v=C.useCallback(E=>{n(P=>({...P,raffleType:[E]}))},[]),x=C.useCallback(E=>{n(P=>({...P,prizeType:Array.isArray(E)?E:[E]}))},[]),w=C.useCallback(E=>{n(P=>({...P,prizeStandard:Array.isArray(E)?E:[E]}))},[]);return{filters:r,filteredRaffles:o,isFilterOpen:i,hasActiveFilters:a,updateFilters:c,clearFilters:d,toggleFilter:f,openFilter:p,closeFilter:g,filterByState:m,filterByType:v,filterByPrizeType:x,filterByPrizeStandard:w,totalRaffles:t.length,filteredCount:o.length}},oue=({initialCount:t=12,cacheTTLms:e=120*1e3,useCache:r=!0}={})=>{const{chainId:n,provider:i}=xr(),[s,o]=C.useState([]),[a,c]=C.useState(!1),[d,f]=C.useState(null),[p,g]=C.useState(null),m=C.useRef(!0),v=C.useMemo(()=>n?`raffle_summaries_${n}`:null,[n]),x=C.useMemo(()=>{var F;if(i)return i;if(n&&((F=Ht[n])!=null&&F.rpcUrl))try{return new Yf(Ht[n].rpcUrl)}catch{}return null},[i,n]),w=C.useCallback(()=>{var F,b;return n&&((b=(F=Ht[n])==null?void 0:F.contractAddresses)==null?void 0:b.protocolManager)},[n]),E=C.useCallback(()=>{if(!r||!v)return null;try{const F=localStorage.getItem(v);if(!F)return null;const b=JSON.parse(F);return!(b!=null&&b.timestamp)||!Array.isArray(b==null?void 0:b.summaries)||Date.now()-b.timestamp>e?null:b.summaries}catch{return null}},[v,e,r]),P=C.useCallback(F=>{if(!(!r||!v))try{localStorage.setItem(v,JSON.stringify({timestamp:Date.now(),summaries:F}))}catch{}},[v,r]),R=C.useCallback(async()=>{const F=w();if(!F||!x)throw new Error("ProtocolManager not available");const D=(await new At(F,ht.protocolManager,x).getAllPools()||[]).slice().reverse();return m.current&&g(D.length),D},[w,x]),S=(F,b)=>{let A;return Promise.race([F.finally(()=>clearTimeout(A)),new Promise((D,j)=>A=setTimeout(()=>j(new Error("timeout")),b))])},B=C.useCallback((F,{name:b,startTime:A,duration:D,slotFee:j,ticketLimit:k,winnersCount:M,stateNum:T})=>({id:F,address:F,chainId:n,name:b,startTime:A!=null&&A.toNumber?A.toNumber():Number(A||0),duration:D!=null&&D.toNumber?D.toNumber():Number(D||0),slotFee:j,ticketLimit:k!=null&&k.toNumber?k.toNumber():Number(k||0),winnersCount:M!=null&&M.toNumber?M.toNumber():Number(M||0),stateNum:(()=>{if(T!=null&&T.toNumber)return T.toNumber();if(T===0)return 0;if(typeof T=="number")return T;if(T==null)return 5;const O=Number(T);return Number.isFinite(O)?O:5})(),isSummary:!0}),[n]),$="0xca11bde05977b3631167028862be2a173976ca11",q=[{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bool",name:"allowFailure",type:"bool"},{internalType:"bytes",name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"payable",type:"function"}],G=C.useCallback(async()=>{if(!x)return!1;try{const F=await x.getCode($);return F&&F!=="0x"}catch{return!1}},[x]),H=C.useCallback(async F=>{const b=new bk(ht.pool),A=[];for(const T of F)A.push({target:T,allowFailure:!0,callData:b.encodeFunctionData("name",[])},{target:T,allowFailure:!0,callData:b.encodeFunctionData("startTime",[])},{target:T,allowFailure:!0,callData:b.encodeFunctionData("duration",[])},{target:T,allowFailure:!0,callData:b.encodeFunctionData("slotFee",[])},{target:T,allowFailure:!0,callData:b.encodeFunctionData("ticketLimit",[])},{target:T,allowFailure:!0,callData:b.encodeFunctionData("winnersCount",[])},{target:T,allowFailure:!0,callData:b.encodeFunctionData("state",[])});const j=await new At($,q,x).callStatic.aggregate3(A,{value:0}),k=7,M=[];for(let T=0;T<F.length;T++){const O=T*k,N=(ne,de)=>{const xe=j[O+ne];if(!xe||!xe.success)return null;try{return b.decodeFunctionResult(de,xe.returnData)[0]}catch{return null}},I=N(0,"name")||"Raffle",Q=N(1,"startTime")||ue.from(0),z=N(2,"duration")||ue.from(0),V=N(3,"slotFee")||ue.from(0),Y=N(4,"ticketLimit")||ue.from(0),Z=N(5,"winnersCount")||ue.from(0);let ee=N(6,"state");ee==null&&(ee=ue.from(5));const ae=B(F[T],{name:I,startTime:Q,duration:z,slotFee:V,ticketLimit:Y,winnersCount:Z,stateNum:ee});M.push(ae)}return M},[x,B]),K=C.useCallback(async(F,b=8e3)=>{const A=new At(F,ht.pool,x),[D,j,k,M,T,O,N]=await Promise.all([S(A.name(),b).catch(()=>"Raffle"),S(A.startTime(),b).catch(()=>ue.from(0)),S(A.duration(),b).catch(()=>ue.from(0)),S(A.slotFee(),b).catch(()=>ue.from(0)),S(A.ticketLimit(),b).catch(()=>ue.from(0)),S(A.winnersCount(),b).catch(()=>ue.from(0)),S(A.state(),b).catch(()=>ue.from(5))]);return B(F,{name:D,startTime:j,duration:k,slotFee:M,ticketLimit:T,winnersCount:O,stateNum:N})},[x,B]),J=C.useCallback(async()=>{if(!(!n||!x)){c(!0),f(null);try{const b=(await R()).slice(0,Math.max(1,t));let A=[];try{await G()&&(A=await H(b))}catch{}if(!A||A.length===0){const D=[];let k=0;async function M(){if(k>=b.length)return;const O=k++;try{const N=await K(b[O]);N&&D.push(N)}catch{}await M()}const T=Array.from({length:Math.min(3,b.length)},()=>M());await Promise.all(T),A=D}A.sort((D,j)=>b.indexOf(D.address)-b.indexOf(j.address)),m.current&&(o(A),P(A))}catch(F){m.current&&f(F.message||"Failed to load summaries")}finally{m.current&&c(!1)}}},[n,x,t,R,G,H,K,P]),W=C.useCallback(()=>{J()},[J]);return C.useEffect(()=>(m.current=!0,()=>{m.current=!1}),[]),C.useEffect(()=>{if(!n)return;const F=E();F&&F.length&&o(F),J()},[n,E,J]),{summaries:s,loading:a,error:d,refresh:W,totalAvailable:p}},tz=(t,e)=>{const[r,n]=C.useState(0),[i,s]=C.useState(!1),{getContractInstance:o}=Cr();return C.useEffect(()=>{(async()=>{if(!t||e!==4&&e!==7){n(0);return}s(!0);try{const c=o(t,"pool");if(!c){n(0);return}const d=await c.winnersCount(),f=d.toNumber?d.toNumber():Number(d);n(f)}catch(c){console.warn("Failed to fetch winner count for",t,c),n(0)}finally{s(!1)}})()},[t,e,o]),{winnerCount:r,loading:i}},rz=(t,e)=>t===6?e===1?"Prize Claimed":"Prizes Claimed":null,nz=["Pending","Active","Ended","Drawing","Completed","Deleted","AllPrizesClaimed","Unengaged"],aue=({raffle:t})=>{var b;const e=Ua(),{chainId:r}=xr(),[n,i]=C.useState(""),[s,o]=C.useState(""),[a,c]=C.useState(""),{getContractInstance:d}=Cr(),{updateCollabStatus:f,setCollabLoading:p,getCollabStatus:g}=NC(),{formatSlotFee:m,formatPrizeAmount:v,getCurrencySymbol:x}=Sn(),[w,E]=C.useState(null),{winnerCount:P}=tz(t.address,t.stateNum),[R,S]=C.useState(null),[B,$]=C.useState(null),[q,G]=C.useState(null);C.useEffect(()=>{let A;function D(){const M=Math.floor(Date.now()/1e3);let T="",O=0;if(t.stateNum===2||t.stateNum===3||t.stateNum===4||t.stateNum===5||t.stateNum===6||t.stateNum===7){T="Duration";const N=t.actualDuration&&(t.actualDuration.toNumber?t.actualDuration.toNumber():Number(t.actualDuration));O=N&&N>0?N:t.duration,i(T),o(k(O));return}M<t.startTime?(T="Starts In",O=t.startTime-M):(T="Ends In",O=t.startTime+t.duration-M),i(T),o(O>0?j(O):"Ended")}function j(M){const T=Math.floor(M/86400),O=Math.floor(M%86400/3600),N=Math.floor(M%3600/60),I=M%60;let Q="";return T>0&&(Q+=`${T}d `),(O>0||T>0)&&(Q+=`${O}h `),(N>0||O>0||T>0)&&(Q+=`${N}m `),Q+=`${I}s`,Q.trim()}function k(M){const T=Math.floor(M/86400),O=Math.floor(M%86400/3600),N=Math.floor(M%3600/60);let I="";return T>0&&(I+=`${T}d `),(O>0||T>0)&&(I+=`${O}h `),(N>0||O>0||T>0)&&(I+=`${N}m`),I||(I="0m"),I.trim()}return D(),A=setInterval(D,1e3),()=>clearInterval(A)},[t]),C.useEffect(()=>{let A=!0;return(async()=>{if(t.erc20PrizeToken&&t.erc20PrizeToken!==He){if(window.__erc20SymbolCache||(window.__erc20SymbolCache={}),window.__erc20SymbolCache[t.erc20PrizeToken]){c(window.__erc20SymbolCache[t.erc20PrizeToken]);return}await new Promise(j=>setTimeout(j,100));try{const j=window.ethereum?new bc(window.ethereum):Rf(),k=["function symbol() view returns (string)"],T=await new At(t.erc20PrizeToken,k,j).symbol();A&&(c(T),window.__erc20SymbolCache[t.erc20PrizeToken]=T)}catch{A&&c("TOKEN")}}})(),()=>{A=!1}},[t.erc20PrizeToken]),C.useEffect(()=>{let A=!0;async function D(){try{const j=d&&d(t.address,"pool");if(!j){A&&E(null);return}const k=await b4(j);A&&E(k)}catch{E(null)}}D()},[t.address,d]),C.useEffect(()=>{async function A(){if(!(!t.prizeCollection||t.prizeCollection===He))try{const D=d(t.address,"pool");if(!D)return;const[j,k,M]=await Promise.all([D.isCollabPool().catch(()=>null),D.usesCustomFee().catch(()=>null),D.isEscrowedPrize().catch(()=>null)]);G({isCollabPool:j,usesCustomFee:k,isEscrowedPrize:M})}catch{}}A()},[t.address,t.prizeCollection,d]),C.useEffect(()=>{(async()=>{if(!t||!t.prizeCollection||t.prizeCollection===He){S(null),$(null);return}try{let D=null,j=null,k=null;if(typeof t.standard<"u"){const M=t.standard===0?"erc721Prize":"erc1155Prize";if(D=d(t.prizeCollection,M),D){try{typeof D.name=="function"&&(j=await D.name())}catch{j=null}try{typeof D.symbol=="function"&&(k=await D.symbol())}catch{k=null}}}else try{if(D=d(t.prizeCollection,"erc721Prize"),D){try{typeof D.name=="function"&&(j=await D.name())}catch{j=null}try{typeof D.symbol=="function"&&(k=await D.symbol())}catch{k=null}}}catch{try{if(D=d(t.prizeCollection,"erc1155Prize"),D){try{typeof D.name=="function"&&(j=await D.name())}catch{j=null}try{typeof D.symbol=="function"&&(k=await D.symbol())}catch{k=null}}}catch{}}S(j),$(k)}catch{S(null),$(null)}})()},[t,d]),C.useEffect(()=>{let A=!0;const D=async()=>{if(g(t.address)!==void 0)return;p(t.address,!0);let k=!1,M=0;const T=3;for(;M<T&&A;)try{const N=d(t.address,"pool");if(!N)throw new Error("Failed to get contract instance");const I=await N.holderTokenAddress();k=I&&I!==He;break}catch{M++,M>=T?k=!1:await new Promise(I=>setTimeout(I,1e3*M))}if(!A)return;let O;t.isCollabPool?O="nft_collab":k?O="whitelist_collab":O="not_collab",f(t.address,O)};return t.address&&d?D():f(t.address,"not_collab"),()=>{A=!1}},[t,d,g,p,f]);const H=()=>{const D=(k=>{const M=rz(k,P);return M||nz[k]||"Unknown"})(t.stateNum),j={Pending:"bg-yellow-100 text-yellow-800",Active:"bg-green-100 text-green-800",Ended:"bg-red-100 text-red-800",Drawing:"bg-purple-100 text-purple-800",Completed:"bg-blue-100 text-blue-800",Deleted:"bg-gray-200 text-gray-800","Activation Failed":"bg-red-200 text-red-900","Prizes Claimed":"bg-blue-200 text-blue-900","Prize Claimed":"bg-blue-200 text-blue-900",Unengaged:"bg-gray-100 text-gray-800",Unknown:"bg-gray-100 text-gray-800"};return l.jsx("span",{className:`px-2 py-1 rounded-full font-body text-[length:var(--text-xs)] font-medium ${j[D]||j.Unknown}`,children:D})},K=()=>{if(!t.prizeCollection||t.prizeCollection===He)return null;q&&q.isCollabPool!==null?q.isCollabPool:t.isCollabPool;const A=q&&q.usesCustomFee!==null?q.usesCustomFee===!0:t.usesCustomFee===!0,D=q&&q.isEscrowedPrize!==null?q.isEscrowedPrize===!0:t.isEscrowedPrize===!0,j=!D;return D&&A?"Lucky NFT Sale":D&&!A?"NFT Giveaway":j&&!A?"NFT Drop (Free Mint)":j&&A?"NFT Drop (Paid Mint)":"NFT Prize"},J=()=>{if(t.isCollabPool)return"NFT Collab";const A=g(t.address);if(A==="nft_collab")return"NFT Collab";if(A==="whitelist_collab")return"Whitelist Collab";if(A===void 0)return"Checking...";if(t.nativePrizeAmount&&t.nativePrizeAmount.gt&&t.nativePrizeAmount.gt(0))return`${x()} Giveaway`;if(t.erc20PrizeToken&&t.erc20PrizeToken!==He&&t.erc20PrizeAmount&&t.erc20PrizeAmount.gt&&t.erc20PrizeAmount.gt(0))return"Token Giveaway";const D=K();return D||(t.isPrized?"Token Giveaway":"Whitelist")},W=()=>t.nativePrizeAmount&&t.nativePrizeAmount.gt&&t.nativePrizeAmount.gt(0)?v(t.nativePrizeAmount):t.erc20PrizeAmount&&t.erc20PrizeAmount.gt&&t.erc20PrizeAmount.gt(0)?`${og(t.erc20PrizeAmount,18)} ${a||"TOKEN"}`:null,F=()=>{const A=t.chainId||r,D=A&&Ht[A]?Ht[A].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):A||"",j=D?`/${D}/raffle/${t.address}`:`/raffle/${t.address}`;e(j)};return l.jsxs("div",{className:"landing-raffle-card bg-card/80 text-foreground backdrop-blur-sm border border-border/50 rounded-xl p-4 sm:p-6 shadow-lg hover:shadow-xl hover:border-border/80 transition-all duration-300 flex flex-col h-full group w-full max-w-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4 min-w-0",children:[l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold truncate flex-1 mr-2 min-w-0 cursor-pointer hover:text-[#614E41] transition-colors duration-200",onClick:F,children:t.name}),l.jsx("div",{className:"flex-shrink-0",children:H()})]}),l.jsxs("div",{className:"space-y-2 mb-4 min-w-0",children:[l.jsxs("div",{className:"flex justify-between items-center font-body text-[length:var(--text-sm)] min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Creator:"}),l.jsxs("span",{className:"font-mono truncate ml-2",children:[(b=t.creator)==null?void 0:b.slice(0,10),"..."]})]}),l.jsxs("div",{className:"flex justify-between items-center font-body text-[length:var(--text-sm)] min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Slot Fee:"}),l.jsx("span",{className:"truncate ml-2",children:m(t.slotFee||"0")})]}),l.jsxs("div",{className:"flex justify-between items-center font-body text-[length:var(--text-sm)] min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Slots Sold:"}),l.jsx("span",{className:"truncate ml-2",children:w!==null?`${w} / ${t.slotLimit}`:"Loading..."})]}),l.jsxs("div",{className:"flex justify-between items-center font-body text-[length:var(--text-sm)] min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Winners:"}),l.jsx("span",{className:"truncate ml-2",children:t.winnersCount})]}),l.jsxs("div",{className:"flex justify-between items-center font-body text-[length:var(--text-sm)] min-w-0",children:[l.jsxs("span",{className:"text-muted-foreground flex-shrink-0",children:[n,":"]}),l.jsx("span",{className:"truncate ml-2",children:s})]}),!t.isSummary&&l.jsxs("div",{className:"flex justify-between items-center font-body text-[length:var(--text-sm)] min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Type:"}),l.jsx("span",{className:"px-2 py-1 rounded-full font-body text-[length:var(--text-sm)] bg-muted/20 truncate ml-2",children:J()})]}),(()=>{var k,M,T;if(J(),!(t.prizeCollection&&t.prizeCollection!==He))return null;const D=q&&q.isEscrowedPrize!==null?q.isEscrowedPrize===!0:t.isEscrowedPrize===!0,j=!D;if(D){const O=t.prizeTokenId!==void 0&&t.prizeTokenId!==null?`#${t.prizeTokenId}`:"#Unknown",N=B?`${B} ${O}`:R?`${R} ${O}`:`${(k=t.prizeCollection)==null?void 0:k.slice(0,10)}... ${O}`;return l.jsxs("div",{className:"flex justify-between items-center font-body text-[length:var(--text-sm)] min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Prize Token ID:"}),l.jsx("span",{className:`truncate ml-2 ${B||R?"":"font-mono"}`,children:N})]})}else if(j){const O=R&&R.trim()!=="";t.standard===0||t.standard;const N=t.standard===1,I=N?`${(M=t.prizeCollection)==null?void 0:M.slice(0,10)}...`:O?R:`${(T=t.prizeCollection)==null?void 0:T.slice(0,10)}...`;return l.jsxs("div",{className:"flex justify-between items-center font-body text-[length:var(--text-sm)] min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Prize Collection:"}),l.jsx("span",{className:`truncate ml-2 ${O&&!N?"":"font-mono"}`,children:I})]})}return null})(),(()=>{const A=J();return t.prizeCollection&&t.prizeCollection!==He&&t.isCollabPool===!1?null:A==="Token Giveaway"||A.includes("Giveaway")?l.jsxs("div",{className:"flex justify-between items-center font-body text-[length:var(--text-sm)] min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Prize Amount:"}),l.jsx("span",{className:"truncate ml-2",children:W()})]}):null})()]})]})},lue=()=>{const{connected:t}=xr(),{isMobile:e}=pn();Sn();const[r,n]=C.useState(1),{raffles:i,loading:s,error:o,refreshRaffles:a}=Jce({autoFetch:!0,enablePolling:!0,pollingInterval:12e4,maxRaffles:null}),{summaries:c,totalAvailable:d}=oue({initialCount:12}),{filters:f,filteredRaffles:p,isFilterOpen:g,hasActiveFilters:m,updateFilters:v,clearFilters:x,toggleFilter:w,filteredCount:E}=sue(i);if(C.useEffect(()=>{n(1)},[e,s,i==null?void 0:i.length,p==null?void 0:p.length,c==null?void 0:c.length,m]),!t)return l.jsxs(yl,{className:"pt-8 pb-4",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"font-display text-[length:var(--text-4xl)] font-bold mb-4 leading-tight tracking-tighter",children:"Fairness and Transparency, On-Chain"}),l.jsx("p",{className:"font-body text-[length:var(--text-lg)] text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Dropr is a permissionless platform built to host decentralized, on-chain raffles. All draws are public, auditable, and powered by Chainlink's VRF."})]}),l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Bu,{className:"text-muted-foreground mx-auto mb-4 h-16 w-16"}),l.jsx("h3",{className:"font-display text-[length:var(--text-3xl)] font-bold mb-4 leading-tight",children:"Connect Your Wallet"}),l.jsx("p",{className:"font-body text-[length:var(--text-base)] text-muted-foreground mb-6",children:"Please connect your wallet to view and interact with raffles on the blockchain."})]})]});const P=e&&(c==null?void 0:c.length)>0&&(!i||i.length===0||s);let R=null;if(P)if(!f||!f.raffleState||f.raffleState.length===0)R=c;else{const B=new Set(f.raffleState.map($=>$.toLowerCase()));R=c.filter($=>{var G;const q=(G=nz[$.stateNum])==null?void 0:G.toLowerCase();return B.has(q)})}return!P&&s?l.jsx(yl,{children:l.jsx(JF,{message:"Loading raffles from blockchain...",isMobile:e})}):!P&&o?l.jsxs(yl,{className:"pt-8 pb-4",children:[l.jsxs("div",{className:"mb-8 text-center",children:[l.jsx("h1",{className:"font-display text-[length:var(--text-4xl)] font-bold mb-4 leading-tight tracking-tighter",children:"Fairness and Transparency, On-Chain"}),l.jsx("p",{className:"font-body text-[length:var(--text-lg)] text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Dropr is a permissionless platform built to host decentralized, on-chain raffles. All draws are public, auditable, and powered by Chainlink's VRF."})]}),l.jsx(z2,{error:o,onRetry:a,isMobile:e,showCreateButton:!0})]}):l.jsxs(l.Fragment,{children:[l.jsx(rue,{isOpen:g,onToggle:w,filters:f,onFiltersChange:v,raffleCount:E,allRaffles:i}),l.jsx("div",{className:"min-h-screen",style:{position:"relative",zIndex:1},children:l.jsxs(yl,{className:"pt-8 pb-4",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"font-display text-[length:var(--text-4xl)] font-bold mb-4 leading-tight tracking-tighter",children:"Fairness and Transparency, On-Chain"}),l.jsx("p",{className:"font-body text-[length:var(--text-lg)] text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Dropr is a permissionless platform built to host decentralized, on-chain raffles. All draws are public, auditable, and powered by Chainlink's VRF."})]}),l.jsxs("div",{className:"mb-6 flex items-center",children:[l.jsx(nue,{onClick:w,hasActiveFilters:m}),l.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[m&&l.jsx(qe,{variant:"ghost",size:"sm",onClick:x,className:"font-body text-muted-foreground hover:text-foreground",children:"Clear All Filters"}),!e&&(()=>{const q=Math.max(1,Math.ceil((p||[]).length/24));if(q<=1)return null;const G=Math.min(r,q),H=()=>n(A=>Math.max(1,A-1)),K=()=>n(A=>Math.min(q,A+1)),J=2,W=Math.max(1,G-J),F=Math.min(q,G+J),b=[];W>1&&(b.push(1),W>2&&b.push("..."));for(let A=W;A<=F;A++)b.push(A);return F<q&&(F<q-1&&b.push("..."),b.push(q)),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:H,disabled:G===1,className:"px-3 py-2 rounded-md border border-border bg-background text-sm disabled:opacity-50","aria-label":"Previous page",children:"Prev"}),b.map((A,D)=>A==="..."?l.jsx("span",{className:"px-1 font-body text-muted-foreground",children:""},`ellipsis-top-${D}`):l.jsx("button",{onClick:()=>n(A),className:`px-1 font-body text-[length:var(--text-sm)] leading-none ${G===A?"font-semibold text-foreground":"text-foreground/80"} bg-transparent`,"aria-label":`Go to page ${A}`,children:A},`page-top-${A}`)),l.jsx("button",{onClick:K,disabled:G===q,className:"px-3 py-2 rounded-md border border-border bg-background text-sm disabled:opacity-50","aria-label":"Next page",children:"Next"})]})})()]})]}),(()=>{const B=e?12:24,$=!!P,q=e&&$&&typeof d=="number"?d:null,G=$?R||[]:p||[],H=G.length,K=Math.max(1,Math.ceil(H/B)),J=Math.min(r,K),W=(J-1)*B,F=W+B,b=G.slice(W,F),A=K>1||e&&$&&G.length>=B,D=(()=>{const T=K,O=J,N=e?1:2,I=[],Q=Math.max(1,O-N),z=Math.min(T,O+N);Q>1&&(I.push(1),Q>2&&I.push("..."));for(let V=Q;V<=z;V++)I.push(V);return z<T&&(z<T-1&&I.push("..."),I.push(T)),I})(),j=()=>n(T=>Math.max(1,T-1)),k=()=>n(T=>Math.min(K,T+1)),M=!(e&&$&&(s||!i||i.length===0));return l.jsxs("div",{children:[l.jsx(iue,{raffles:b,loading:$?!1:s,error:$?null:o,RaffleCardComponent:aue,emptyMessage:m?"No raffles match your current filters. Try adjusting your filter criteria.":"There are currently no raffles available on the blockchain. Check back later or create your own!",totalCount:q??H,showCount:M}),A&&l.jsxs("div",{className:"mt-6 flex flex-col items-center gap-3",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1",children:[l.jsx("button",{onClick:j,disabled:J===1,className:"px-3 py-2 rounded-md border border-border bg-background text-sm disabled:opacity-50","aria-label":"Previous page",children:"Prev"}),D.map((T,O)=>T==="..."?l.jsx("span",{className:"px-1 text-muted-foreground",children:""},`ellipsis-bottom-${O}`):l.jsx("button",{onClick:()=>n(T),className:`px-1 text-sm leading-none ${J===T?"font-semibold text-foreground":"text-foreground/80"} bg-transparent`,"aria-label":`Go to page ${T}`,children:T},`page-bottom-${T}`)),l.jsx("button",{onClick:k,disabled:J===K,className:"px-3 py-2 rounded-md border border-border bg-background text-sm disabled:opacity-50","aria-label":"Next page",children:"Next"})]}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",J," of ",Math.max(1,K)]})]})]},$?"summaries":"full")})()]})})]})},B2=be.forwardRef(({type:t="text",value:e,onChange:r,placeholder:n,className:i,disabled:s=!1,required:o=!1,min:a,max:c,step:d,onFocus:f,onBlur:p,...g},m)=>{const{isMobile:v}=pn(),x=C.useRef(null),w=C.useCallback(P=>{v&&(x.current=P.target,P.target.style.transform="translateZ(0)"),f&&f(P)},[v,f]),E=C.useCallback(P=>{v&&x.current&&(P.target.style.transform=""),p&&p(P)},[v,p]);return l.jsx("input",{ref:m,type:t,value:e,onChange:r,placeholder:n,disabled:s,required:o,min:a,max:c,step:d,className:et("w-full px-3 py-2 border border-[#614E41] rounded-md bg-background","text-foreground placeholder:text-muted-foreground","focus:outline-none focus:ring-2 focus:ring-[#614E41]/30 focus:border-[#614E41]","disabled:opacity-50 disabled:cursor-not-allowed","transition-colors duration-200",v&&["text-[length:var(--text-base)]","min-h-[44px]","touch-manipulation"],!v&&["text-[length:var(--text-base)]","min-h-[40px]"],i),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onFocus:w,onBlur:E,style:{fontSize:v?"16px":void 0,...g.style},...g})});B2.displayName="ResponsiveInput";const cue=be.forwardRef(({value:t,onChange:e,placeholder:r,className:n,rows:i=3,disabled:s=!1,required:o=!1,...a},c)=>{const{isMobile:d}=pn();return l.jsx("textarea",{ref:c,value:t,onChange:e,placeholder:r,disabled:s,required:o,rows:i,className:et("w-full px-3 py-2 border border-[#614E41] rounded-md bg-background","text-foreground placeholder:text-muted-foreground","focus:outline-none focus:ring-2 focus:ring-[#614E41]/30 focus:border-[#614E41]","disabled:opacity-50 disabled:cursor-not-allowed","transition-colors duration-200 resize-vertical",d&&["text-[length:var(--text-base)]","min-h-[44px]","touch-manipulation"],!d&&["text-[length:var(--text-base)]"],n),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,style:{fontSize:d?"16px":void 0,...a.style},...a})});cue.displayName="ResponsiveTextarea";const ds=be.forwardRef(({value:t,onChange:e,placeholder:r,className:n,min:i,max:s,step:o="any",disabled:a=!1,required:c=!1,...d},f)=>{const{isMobile:p}=pn();return l.jsx(B2,{ref:f,type:"number",value:t,onChange:e,placeholder:r,min:i,max:s,step:o,disabled:a,required:c,className:et("[appearance:textfield]","[&::-webkit-outer-spin-button]:appearance-none","[&::-webkit-inner-spin-button]:appearance-none",n),inputMode:p?"decimal":void 0,pattern:p?"[0-9]*":void 0,...d})});ds.displayName="ResponsiveNumberInput";const fn=be.forwardRef(({value:t,onChange:e,placeholder:r="0x...",className:n,disabled:i=!1,required:s=!1,...o},a)=>l.jsx(B2,{ref:a,type:"text",value:t,onChange:e,placeholder:r,disabled:i,required:s,className:et("font-mono","tracking-tight",n),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,...o}));fn.displayName="ResponsiveAddressInput";const uue=()=>{const{connected:t,address:e}=xr(),{getContractInstance:r,executeTransaction:n}=Cr(),[i,s]=C.useState(!1),[o,a]=C.useState({address:"",type:null,royaltyPercentage:"",royaltyRecipient:""}),[c,d]=C.useState(null),[f,p]=C.useState(!1),[g,m]=C.useState(null),[v,x]=C.useState(!1),w=(B,$)=>{a(q=>({...q,[B]:$}))};C.useEffect(()=>{const B=o.address;if(!B||!t||!Tr(B))return;const $=setTimeout(()=>{P()},450);return()=>clearTimeout($)},[o.address,t]);const E=async B=>{try{if(!B)return;const $=await B.isRevealed();m(!!$)}catch($){console.log("Could not fetch reveal status:",$.message),m(null)}},P=async()=>{if(!o.address||!t){te.error("Please enter a collection address and connect your wallet");return}p(!0);try{let B=null,$=null;try{const b=r(o.address,"erc721Prize");if(b)try{await b.supportsInterface("0x80ac58cd")&&(B=b,$="erc721")}catch{try{await b.totalSupply(),B=b,$="erc721"}catch{}}}catch{}if(!B)try{const b=r(o.address,"erc1155Prize");if(b)try{await b.supportsInterface("0xd9b67a26")&&(B=b,$="erc1155")}catch{try{await b.uri(0),B=b,$="erc1155"}catch{}}}catch{}if(!B||!$)throw new Error("Invalid collection address or unsupported contract type");a(b=>({...b,type:$}));let q="Unknown Collection",G="Unknown",H="Unknown";try{typeof B.name=="function"&&(q=await B.name())}catch{}try{typeof B.symbol=="function"&&(G=await B.symbol())}catch{}try{typeof B.owner=="function"&&(H=await B.owner())}catch{}const K=H!=="Unknown"&&H.toLowerCase()===e.toLowerCase(),J=await B.royaltyInfo(1,1e4),W=await B.royaltyPercentage(),F=await B.royaltyRecipient();d({address:o.address,name:q,symbol:G,owner:H,type:$,isOwner:K,currentRoyaltyPercentage:W.toString(),currentRoyaltyRecipient:F,royaltyAmount:J[1].toString()}),a(b=>({...b,royaltyPercentage:(W.toNumber()/100).toString(),royaltyRecipient:F})),await E(B)}catch(B){console.error("Error loading collection info:",B),te.error("Error loading collection info: "+B.message),d(null),m(null)}finally{p(!1)}},R=async()=>{if(!t||!c){te.error("Please connect your wallet and load collection info first");return}if(!c.isOwner){te.error("You are not the owner of this collection");return}const B=parseFloat(o.royaltyPercentage);if(isNaN(B)||B<0){te.error("Please enter a valid royalty percentage (minimum 0%)");return}if(!o.royaltyRecipient){te.error("Please enter a royalty recipient address");return}s(!0);try{const $=o.type==="erc721"?"erc721Prize":"erc1155Prize",q=r(o.address,$);if(!q)throw new Error("Failed to create contract instance");const G=Math.floor(B*100),H=await n(q.setRoyalty,G,o.royaltyRecipient);if(H.success)te.success(`Royalty updated successfully! Transaction: ${H.hash}`),await P();else throw new Error(H.error)}catch($){console.error("Error updating royalty:",$),te.error("Error updating royalty: "+$.message)}finally{s(!1)}},S=async()=>{if(!t||!c){te.error("Please connect your wallet and load collection info first");return}x(!0);try{const B=o.type==="erc721"?"erc721Prize":"erc1155Prize",$=r(o.address,B);if(!$)throw new Error("Failed to create contract instance");const q=await n($.reveal);if(q.success)te.success("Collection revealed successfully!"),await P();else throw new Error(q.error)}catch(B){te.error("Error revealing collection: "+(B.message||B))}finally{x(!1)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Address"}),l.jsxs("div",{className:"relative",children:[l.jsx(fn,{value:o.address,onChange:B=>w("address",B.target.value),placeholder:"0x..."}),f&&l.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:l.jsx(uh,{size:"sm",showText:!1})})]})]})}),c&&l.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[l.jsx("h4",{className:"font-semibold mb-3",children:"Collection Information"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[c.type==="erc721"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Name:"})," ",c.name]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Symbol:"})," ",c.symbol]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Type:"})," ",c.type.toUpperCase()]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Owner:"})," ",c.isOwner?"You":"Other"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Current Royalty:"})," ",(parseInt(c.currentRoyaltyPercentage)/100).toFixed(2),"%"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Revealed:"})," ",g===null?"Unknown":g?"Yes":"No"]})]}),l.jsxs("div",{className:"mt-3 pt-3 border-t border-border",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"mb-1",children:l.jsx("span",{className:"font-medium",children:"Address:"})}),l.jsx("div",{className:"font-mono text-xs break-all bg-background p-2 rounded border",children:c.address})]}),l.jsxs("div",{className:"text-sm mt-2",children:[l.jsx("div",{className:"mb-1",children:l.jsx("span",{className:"font-medium",children:"Royalty Recipient:"})}),l.jsx("div",{className:"font-mono text-xs break-all bg-background p-2 rounded border",children:c.currentRoyaltyRecipient})]})]}),l.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"text-sm font-medium",children:"Reveal Status:"}),l.jsx("span",{className:"text-sm font-semibold",children:g===null?"Unknown":g?"Revealed":"Not Revealed"}),l.jsx("button",{onClick:S,disabled:v||g||!c.isOwner,className:"px-4 py-2 h-10 bg-[#614E41] text-white rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm text-sm",title:c.isOwner?g?"Collection already revealed":"Reveal collection":"Only collection owner can reveal",children:v?"Revealing...":"Reveal Collection"})]})}),!c.isOwner&&l.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[l.jsx(dr,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm text-destructive",children:"You are not the owner of this collection and cannot modify royalties."})]})]}),c&&c.isOwner&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold",children:"Update Royalty Settings"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"New Royalty Percentage (%)"}),l.jsx(ds,{min:"0",step:"0.01",value:o.royaltyPercentage,onChange:B=>w("royaltyPercentage",B.target.value),placeholder:"2.5"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"New Royalty Recipient"}),l.jsx(fn,{value:o.royaltyRecipient,onChange:B=>w("royaltyRecipient",B.target.value),placeholder:"0x..."})]})]}),l.jsxs("button",{onClick:R,disabled:i||!t||!c||!c.isOwner,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",title:t?c?c.isOwner?!o.royaltyPercentage||!o.royaltyRecipient?"Please fill in all required fields":"Update royalty settings":"Only collection owner can update royalties":"Please load collection info first":"Please connect your wallet",children:[l.jsx(uf,{className:"h-4 w-4"}),i?"Updating...":"Update Royalty Settings"]})]}),!t&&l.jsx("div",{className:"text-center p-4 bg-muted rounded-lg",children:l.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to manage collection royalties."})})]})};var due="Label",iz=C.forwardRef((t,e)=>l.jsx(Dt.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));iz.displayName=due;var fue=iz;function Rs({className:t,...e}){return l.jsx(fue,{"data-slot":"label",className:et("flex items-center gap-2 text-[length:var(--text-base)] leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const hue=RS("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-red-600 dark:text-red-500 bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-red-600/90"}},defaultVariants:{variant:"default"}});function yc({className:t,variant:e,...r}){return l.jsx("div",{"data-slot":"alert",role:"alert",className:et(hue({variant:e}),t),...r})}function xc({className:t,...e}){return l.jsx("div",{"data-slot":"alert-description",className:et("text-gray-500 dark:text-gray-400 col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}const pue=()=>{const{address:t,connected:e,provider:r}=xr(),{getContractInstance:n}=Cr(),[i,s]=C.useState(!1),[o,a]=C.useState(""),[c,d]=C.useState(""),[f,p]=C.useState(""),[g,m]=C.useState(!1),[v,x]=C.useState(!1),[w,E]=C.useState(""),[P,R]=C.useState(""),[S,B]=C.useState(""),[$,q]=C.useState(""),[G,H]=C.useState(""),[K,J]=C.useState(null),W=async()=>{if(R(""),B(""),d(""),x(!1),E(""),m(!1),q(""),H(""),J(null),!Tr(o)){R("Please enter a valid Ethereum contract address.");return}if(!r){R("Provider not available.");return}try{s(!0);let j=new At(o,ht.erc721Prize,r),k=!1;try{const M=await j.minterLocked();x(M);const T=await j.minter();E(T),J("erc721"),k=!0}catch{j=new At(o,ht.erc1155Prize,r);try{const T=await j.minterLocked();x(T);const O=await j.minter();E(O),J("erc1155")}catch(T){R("Failed to fetch collection: "+T.message),J(null);return}}if(k){try{if(typeof j.name=="function"){const M=await j.name();q(M)}else q("N/A")}catch{q("N/A")}try{if(typeof j.symbol=="function"){const M=await j.symbol();H(M)}else H("N/A")}catch{H("N/A")}}else q("ERC1155 Collection"),H("N/A");d(o)}catch(j){R("Failed to fetch collection: "+j.message)}finally{s(!1)}};C.useEffect(()=>{c&&f&&Tr(f)&&r&&F()},[f,c]),C.useEffect(()=>{if(!e||!o||!Tr(o))return;const j=setTimeout(()=>{i||W()},350);return()=>clearTimeout(j)},[o,e]);const F=async()=>{try{s(!0),R("");const k=await new At(c,ht.erc721Prize,r).minter();m(k.toLowerCase()===f.toLowerCase()),E(k)}catch(j){R("Failed to load collection details: "+j.message)}finally{s(!1)}},b=async j=>{if(!c||!f||!r){te.error("Please fetch a collection and enter a valid minter address");return}if(!Tr(f)){te.error("Please enter a valid Ethereum address");return}try{s(!0),R(""),B("");const k=r.getSigner();let M;K==="erc721"?M=new At(c,ht.erc721Prize,k):K==="erc1155"&&(M=new At(c,ht.erc1155Prize,k));let T;K==="erc721"?T=await M.setMinterApproval(f,j):K==="erc1155"&&(T=await M.setMinterApproval(f,j)),await T.wait(),te.success(`Minter ${j?"set":"removed"} successfully!`),m(j),p("")}catch(k){te.error(`Failed to set minter approval: ${Ei(k)}`)}finally{s(!1)}},A=async()=>{if(!c||!r){te.error("Please fetch a collection first");return}try{s(!0),R(""),B("");const j=r.getSigner();let k;K==="erc721"?k=new At(c,ht.erc721Prize,j):K==="erc1155"&&(k=new At(c,ht.erc1155Prize,j));let M;try{if(typeof k.owner=="function")M=await k.owner();else{te.error("Contract does not support owner functionality");return}}catch{te.error("Failed to get contract owner");return}const T=await j.getAddress();if(M.toLowerCase()!==T.toLowerCase()){te.error("Only the contract owner can lock/unlock minter approval");return}let O;K==="erc721"?v?(console.log("Attempting to unlock minter approval..."),O=await k.unlockMinterApproval()):(console.log("Attempting to lock minter approval..."),O=await k.lockMinterApproval()):K==="erc1155"&&(v?(console.log("Attempting to unlock minter approval..."),O=await k.unlockMinterApproval()):(console.log("Attempting to lock minter approval..."),O=await k.lockMinterApproval())),console.log("Transaction sent:",O.hash),await O.wait(),te.success(`Minter approval ${v?"unlocked":"locked"} successfully!`),x(!v)}catch(j){console.error("Error in toggleMinterApprovalLock:",j),te.error(`Failed to ${v?"unlock":"lock"} minter approval: ${Ei(j)}`)}finally{s(!1)}},D=j=>Tr(j);return e?l.jsxs(Pr,{children:[l.jsxs(wn,{children:[l.jsxs(kn,{className:"flex items-center gap-2",children:[l.jsx(Xo,{className:"h-5 w-5"}),"Minter Approval & Royalty Enforcement Exemption"]}),l.jsx(Zo,{children:"Manage minter approvals and royalty enforcement exemptions for collections"})]}),l.jsxs(Rr,{className:"space-y-6",children:[!e&&l.jsxs(yc,{variant:"destructive",children:[l.jsx(dr,{className:"h-4 w-4"}),l.jsx(xc,{children:"Please connect your wallet to load collection info and manage minter approvals."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rs,{htmlFor:"collection-address",children:"Collection Contract Address"}),l.jsx(fn,{id:"collection-address",placeholder:"0x...",value:o,onChange:j=>a(j.target.value),disabled:i||!e,rightElement:i&&l.jsx(uh,{size:"sm"})})]}),c&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rs,{children:"Collection Info"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"font-semibold",children:$}),l.jsxs("span",{className:"text-muted-foreground",children:["(",G,")"]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rs,{children:"Collection Status"}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(ea,{variant:v?"destructive":"default",children:v?l.jsxs(l.Fragment,{children:[l.jsx(Nm,{className:"h-3 w-3 mr-1"}),"Minter Approval Locked"]}):l.jsxs(l.Fragment,{children:[l.jsx(kP,{className:"h-3 w-3 mr-1"}),"Minter Approval Unlocked"]})})}),w&&l.jsxs("div",{className:"mt-2",children:[l.jsx(Rs,{className:"text-sm",children:"Current Minter"}),l.jsx("p",{className:"text-sm font-mono bg-muted p-2 rounded",children:w})]}),l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rs,{htmlFor:"exempt-address",children:"Royalty Enforcement Exemption Address"}),l.jsx(fn,{id:"exempt-address",placeholder:"0x... (address to exempt/enforce)",value:f,onChange:j=>p(j.target.value),disabled:i}),f&&!Tr(f)&&l.jsx("p",{className:"text-sm text-red-600",children:"Invalid Ethereum address"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(qe,{variant:"outline",disabled:!c||!Tr(f)||i,onClick:async()=>{try{s(!0),R("");const k=await new At(c,K==="erc721"?ht.erc721Prize:ht.erc1155Prize,r).isRoyaltyEnforcementExempt(f);te.success(k?"Address is exempt from royalty enforcement":"Address is NOT exempt")}catch(j){te.error(`Failed to check exemption: ${Ei(j)}`)}finally{s(!1)}},children:"Check exemption"}),l.jsx(qe,{className:"bg-[#614E41] text-white hover:bg-[#4a3a30]",disabled:!c||!Tr(f)||i,onClick:async()=>{try{s(!0),R("");const j=r.getSigner();await(await new At(c,K==="erc721"?ht.erc721Prize:ht.erc1155Prize,j).setRoyaltyEnforcementExemption(f,!0)).wait(),te.success("Exemption granted successfully")}catch(j){te.error(`Failed to grant exemption: ${Ei(j)}`)}finally{s(!1)}},children:"Grant Exemption"}),l.jsx(qe,{variant:"destructive",disabled:!c||!Tr(f)||i,onClick:async()=>{try{s(!0),R("");const j=r.getSigner();await(await new At(c,K==="erc721"?ht.erc721Prize:ht.erc1155Prize,j).setRoyaltyEnforcementExemption(f,!1)).wait(),te.success("Exemption revoked successfully")}catch(j){te.error(`Failed to revoke exemption: ${Ei(j)}`)}finally{s(!1)}},children:"Revoke Exemption"})]})]})]}),l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rs,{htmlFor:"minter",children:"Minter Address"}),l.jsx(fn,{id:"minter",placeholder:"0x...",value:f,onChange:j=>p(j.target.value),disabled:i}),f&&!D(f)&&l.jsx("p",{className:"text-sm text-red-600",children:"Invalid Ethereum address"})]}),f&&D(f)&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rs,{children:"Current Status"}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(ea,{variant:g?"default":"secondary",children:g?l.jsxs(l.Fragment,{children:[l.jsx(jr,{className:"h-3 w-3 mr-1"}),"Is Current Minter"]}):l.jsxs(l.Fragment,{children:[l.jsx(dr,{className:"h-3 w-3 mr-1"}),"Not Current Minter"]})})}),g&&l.jsx("p",{className:"text-sm text-green-600",children:"This address is currently the minter for this collection."})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[l.jsxs(qe,{onClick:()=>b(!0),disabled:i||g||v,className:"flex-1 bg-[#614E41] text-white hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:f?D(f)?g?"Address is already the minter":v?"Minter approval is locked":"Set as minter":"Please enter a valid address":"Please enter a minter address",children:[i?l.jsx(Mf,{className:"h-4 w-4 mr-2 animate-spin"}):l.jsx(Xo,{className:"h-4 w-4 mr-2"}),"Set Minter"]}),l.jsxs(qe,{onClick:()=>b(!1),disabled:i||!g||v,className:"flex-1 bg-[#614E41] text-white hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:f?D(f)?g?v?"Minter approval is locked":"Remove minter":"Address is not currently the minter":"Please enter a valid address":"Please enter a minter address",children:[i?l.jsx(Mf,{className:"h-4 w-4 mr-2 animate-spin"}):l.jsx(pY,{className:"h-4 w-4 mr-2"}),"Remove Minter"]})]}),l.jsxs(qe,{onClick:A,disabled:i,variant:v?"default":"outline",className:`w-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${v?"bg-[#614E41] text-white hover:bg-[#4a3a30]":"border-[#614E41] text-[#614E41] hover:bg-[#614E41]/10"}`,title:v?"Unlock minter approval to allow changes":"Lock minter approval to prevent changes",children:[i?l.jsx(Mf,{className:"h-4 w-4 mr-2 animate-spin"}):v?l.jsx(kP,{className:"h-4 w-4 mr-2"}):l.jsx(Nm,{className:"h-4 w-4 mr-2"}),v?"Unlock Minter Approval":"Lock Minter Approval"]})]})]}),P&&l.jsxs(yc,{variant:"destructive",children:[l.jsx(dr,{className:"h-4 w-4"}),l.jsx(xc,{children:P})]}),S&&l.jsxs(yc,{children:[l.jsx(jr,{className:"h-4 w-4"}),l.jsx(xc,{children:S})]})]})]}):l.jsxs(Pr,{children:[l.jsxs(wn,{children:[l.jsxs(kn,{className:"flex items-center gap-2",children:[l.jsx(Xo,{className:"h-5 w-5"}),"Minter Approval & Royalty Enforcement Exemption"]}),l.jsx(Zo,{children:"Please connect your wallet to manage minter approvals and royalty enforcement exemptions."})]}),l.jsx(Rr,{children:l.jsxs(yc,{children:[l.jsx(dr,{className:"h-4 w-4"}),l.jsx(xc,{children:"Please connect your wallet to manage minter approvals."})]})})]})};var Mv="Tabs",[mue,Vpe]=So(Mv,[yv]),sz=yv(),[gue,$2]=mue(Mv),oz=C.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:c="automatic",...d}=t,f=dg(a),[p,g]=ia({prop:n,onChange:i,defaultProp:s??"",caller:Mv});return l.jsx(gue,{scope:r,baseId:qs(),value:p,onValueChange:g,orientation:o,dir:f,activationMode:c,children:l.jsx(Dt.div,{dir:f,"data-orientation":o,...d,ref:e})})});oz.displayName=Mv;var az="TabsList",lz=C.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,s=$2(az,r),o=sz(r);return l.jsx(ZD,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:l.jsx(Dt.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});lz.displayName=az;var cz="TabsTrigger",uz=C.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=t,o=$2(cz,r),a=sz(r),c=hz(o.baseId,n),d=pz(o.baseId,n),f=n===o.value;return l.jsx(eO,{asChild:!0,...a,focusable:!i,active:f,children:l.jsx(Dt.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:Ke(t.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?o.onValueChange(n):p.preventDefault()}),onKeyDown:Ke(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(n)}),onFocus:Ke(t.onFocus,()=>{const p=o.activationMode!=="manual";!f&&!i&&p&&o.onValueChange(n)})})})});uz.displayName=cz;var dz="TabsContent",fz=C.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...o}=t,a=$2(dz,r),c=hz(a.baseId,n),d=pz(a.baseId,n),f=n===a.value,p=C.useRef(f);return C.useEffect(()=>{const g=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(g)},[]),l.jsx(Eo,{present:i||f,children:({present:g})=>l.jsx(Dt.div,{"data-state":f?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:g&&s})})});fz.displayName=dz;function hz(t,e){return`${t}-trigger-${e}`}function pz(t,e){return`${t}-content-${e}`}var yue=oz,xue=lz,vue=uz,bue=fz;function wue({className:t,...e}){return l.jsx(yue,{"data-slot":"tabs",className:et("flex flex-col gap-2",t),...e})}function kue({className:t,...e}){return l.jsx(xue,{"data-slot":"tabs-list",className:et("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...e})}function u0({className:t,...e}){return l.jsx(vue,{"data-slot":"tabs-trigger",className:et("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function d0({className:t,...e}){return l.jsx(bue,{"data-slot":"tabs-content",className:et("flex-1 outline-none",t),...e})}function _ue({...t}){return l.jsx(GO,{"data-slot":"dialog",...t})}function Cue({...t}){return l.jsx(KO,{"data-slot":"dialog-trigger",...t})}function Sue({...t}){return l.jsx(YO,{"data-slot":"dialog-portal",...t})}function Eue({className:t,...e}){return l.jsx(JO,{"data-slot":"dialog-overlay",className:et("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function Tue({className:t,children:e,...r}){return l.jsxs(Sue,{"data-slot":"dialog-portal",children:[l.jsx(Eue,{}),l.jsxs(XO,{"data-slot":"dialog-content",className:et("bg-card/90 backdrop-blur-md text-card-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-xl border border-border/50 p-6 shadow-2xl duration-200 sm:max-w-lg",t),...r,children:[e,l.jsxs(ote,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none text-muted-foreground hover:text-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[l.jsx(Pm,{}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Nue({className:t,...e}){return l.jsx("div",{"data-slot":"dialog-header",className:et("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Aue({className:t,...e}){return l.jsx(QO,{"data-slot":"dialog-title",className:et("text-lg leading-none font-semibold text-foreground",t),...e})}const jue=({title:t,description:e,icon:r,component:n,defaultExpanded:i=!1,className:s="",dialogContentClassName:o,isExpanded:a,onToggle:c,...d})=>{const[f,p]=C.useState(i),g=a!==void 0?a:f,{isMobile:m,isTablet:v,isDesktop:x}=pn(),[w,E]=C.useState(!1),P=()=>{c?c():p(!f)},R=()=>{E(!0)};return l.jsxs(Pr,{"data-dashboard-card":"true",className:et("relative transition-all duration-300 ease-in-out",m&&"w-full",v&&"w-full",g&&["ring-2 ring-primary/20","shadow-lg",m&&"mb-4"],s),children:[l.jsxs(wn,{className:et("pb-3",m&&"pb-2"),children:[l.jsxs(kn,{className:et("flex items-center gap-2",m?"text-base":"text-lg"),children:[l.jsx("span",{className:"flex-1",children:t}),l.jsx(qe,{variant:"ghost",size:"sm",onClick:P,className:et("ml-auto p-1 h-auto",m&&"p-2"),"aria-label":g?`Collapse ${t}`:`Expand ${t}`,children:g?l.jsx(Xu,{className:et(m?"h-5 w-5":"h-4 w-4")}):l.jsx(ko,{className:et(m?"h-5 w-5":"h-4 w-4")})})]}),l.jsx(Zo,{className:et("text-muted-foreground","text-sm"),children:e})]}),l.jsxs(Rr,{className:et("pt-0",m&&"px-4 pb-4"),children:[x&&l.jsxs(_ue,{open:w,onOpenChange:E,children:[l.jsx(Cue,{asChild:!0,children:l.jsxs(qe,{onClick:R,className:et("w-full bg-[#614E41] text-white","hover:bg-[#4a3a30] transition-all duration-200","shadow-sm hover:shadow-md h-10 text-sm"),children:[l.jsx(zu,{className:"mr-2 h-4 w-4"}),"Open ",t]})}),l.jsxs(Tue,{className:et("max-w-4xl max-h-[90vh] overflow-y-auto overflow-x-hidden",o),children:[l.jsx(Nue,{children:l.jsx(Aue,{className:"text-xl font-semibold",children:t})}),l.jsx("div",{className:"mt-4",children:n&&l.jsx(n,{})})]})]}),!x&&l.jsxs(l.Fragment,{children:[l.jsx(qe,{onClick:P,className:et("w-full bg-[#614E41] text-white","hover:bg-[#4a3a30] transition-all duration-200","shadow-sm hover:shadow-md",m?"h-12 text-base":"h-10 text-sm",g&&"mb-4"),children:g?l.jsxs(l.Fragment,{children:[l.jsx(Xu,{className:et("mr-2",m?"h-5 w-5":"h-4 w-4")}),"Close ",t]}):l.jsxs(l.Fragment,{children:[l.jsx(ko,{className:et("mr-2",m?"h-5 w-5":"h-4 w-4")}),"Open ",t]})}),g&&l.jsx("div",{className:et("transition-all duration-300 ease-in-out",m?"mobile-component-container":"desktop-component-container"),children:l.jsx("div",{className:et("border border-border rounded-lg p-4 bg-muted/30",m&&"p-3"),children:n&&l.jsx(n,{})})})]})]})]})},Pue=()=>{const{connected:t,address:e}=xr(),{getContractInstance:r,executeTransaction:n}=Cr(),{isMobile:i}=pn(),[s,o]=C.useState(!1),[a,c]=C.useState({address:""}),[d,f]=C.useState({tokenId:"",maxSupply:""}),[p,g]=C.useState({tokenId:"",tokenURI:""}),[m,v]=C.useState(null),[x,w]=C.useState(!1);C.useEffect(()=>{if(!t||!a.address||!Tr(a.address))return;const G=setTimeout(()=>{x||B()},400);return()=>clearTimeout(G)},[a.address,t]);const E=(G,H)=>{c(K=>({...K,[G]:H}))},P=(G,H)=>{f(K=>({...K,[G]:H}))},R=(G,H)=>{g(K=>({...K,[G]:H}))},S=async G=>{try{const H=r(G,"erc1155Prize");if(H)try{if(await H.supportsInterface("0xd9b67a26"))return{type:"erc1155",contract:H}}catch{try{return await H.balanceOf(G,0),{type:"erc1155",contract:H}}catch{}}const K=r(G,"erc721Prize");if(K)try{if(await K.supportsInterface("0x80ac58cd"))return{type:"erc721",contract:K}}catch{try{return await K.balanceOf(G),{type:"erc721",contract:K}}catch{}}throw new Error("Contract does not support ERC721 or ERC1155 interfaces")}catch(H){throw console.error("Contract type detection error:",H),new Error("Unable to determine contract type. Please verify the contract address.")}},B=async()=>{if(!a.address||!t){te.error("Please enter a collection address and connect your wallet");return}w(!0);try{const{type:G,contract:H}=await S(a.address);if(G!=="erc1155"){te.error(" This component is only for ERC1155 collections. The provided address appears to be an ERC721 collection. Please use the appropriate component for ERC721 collections."),v({address:a.address,isOwner:!1,owner:"N/A",type:"erc721",isBlocked:!0}),w(!1);return}const K=await H.owner(),J=K.toLowerCase()===e.toLowerCase();v({address:a.address,isOwner:J,owner:K,type:"erc1155"}),J?te.success("ERC1155 collection loaded successfully"):te.error("You are not the owner of this collection")}catch(G){console.error("Error loading collection info:",G),te.error("Failed to load collection info. Please verify the address is a valid ERC1155 collection."),v(null)}finally{w(!1)}},$=async()=>{if(!t||!e){te.error("Please connect your wallet");return}if(!m||!m.isOwner||m.isBlocked){m!=null&&m.isBlocked?te.error("This component only works with ERC1155 collections. The provided address is an ERC721 collection."):te.error("Please load collection info first and ensure you are the owner");return}if(!d.tokenId||!d.maxSupply){te.error("Please fill in all required fields");return}const G=parseInt(d.tokenId),H=parseInt(d.maxSupply);if(isNaN(G)||G<0){te.error("Please enter a valid token ID (non-negative integer)");return}if(isNaN(H)||H<=0){te.error("Please enter a valid max supply (positive integer)");return}o(!0);try{const K=r(a.address,"erc1155Prize"),J=await n(K.createNewToken,G,H);if(J.success)te.success(`Token ID ${G} created successfully with max supply of ${H}!`),f({tokenId:"",maxSupply:""});else throw new Error(J.error)}catch(K){console.error("Error creating new token:",K),te.error(`Failed to create new token: ${K.message}`)}finally{o(!1)}},q=async()=>{if(!t||!e){te.error("Please connect your wallet");return}if(!m||!m.isOwner||m.isBlocked){m!=null&&m.isBlocked?te.error("This component only works with ERC1155 collections. The provided address is an ERC721 collection."):te.error("Please load collection info first and ensure you are the owner");return}if(!p.tokenId||!p.tokenURI){te.error("Please fill in all required fields");return}const G=parseInt(p.tokenId);if(isNaN(G)||G<0){te.error("Please enter a valid token ID (non-negative integer)");return}o(!0);try{const H=r(a.address,"erc1155Prize"),K=await n(H.setURI,G,p.tokenURI.trim());if(K.success)te.success(`URI set successfully for token ID ${G}!`),g({tokenId:"",tokenURI:""});else throw new Error(K.error)}catch(H){console.error("Error setting URI:",H),te.error(`Failed to set URI: ${H.message}`)}finally{o(!1)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Collection Address"}),l.jsx(fn,{value:a.address,onChange:G=>E("address",G.target.value),placeholder:"0x...",rightElement:x&&l.jsx(uh,{size:"sm"})})]})}),m&&l.jsxs("div",{className:`p-4 rounded-lg border ${m.isBlocked?"bg-destructive/10 border-destructive/20":"bg-muted/50"}`,children:[m.isBlocked&&l.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[l.jsx(dr,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm text-destructive",children:"This component only works with ERC1155 collections. The provided address is an ERC721 collection. Please use the appropriate component for ERC721 collections."})]}),!m.isBlocked&&!m.isOwner&&l.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[l.jsx(dr,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm text-destructive",children:"You are not the owner of this collection and cannot create new tokens."})]})]}),m&&m.isOwner&&!m.isBlocked&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-sm text-muted-foreground",children:"Create New Token ID"}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Token ID"}),l.jsx(ds,{min:"0",value:d.tokenId,onChange:G=>P("tokenId",G.target.value),placeholder:"0"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Unique identifier for the new token"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Max Supply"}),l.jsx(ds,{min:"1",value:d.maxSupply,onChange:G=>P("maxSupply",G.target.value),placeholder:"100"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Maximum number of tokens that can be minted"})]})]}),l.jsx("button",{onClick:$,disabled:s||!t||!m.isOwner||m.isBlocked||!d.tokenId||!d.maxSupply,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",title:t?m.isOwner?!d.tokenId||!d.maxSupply?"Please fill in all required fields":"Create new token ID":"Only collection owner can create new tokens":"Please connect your wallet",children:s?"Creating...":"Create New Token ID"})]}),m&&m.isOwner&&!m.isBlocked&&l.jsxs("div",{className:"space-y-4 border-t border-border pt-6",children:[l.jsx("h4",{className:"text-sm text-muted-foreground",children:"Set Token URI"}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Token ID"}),l.jsx(ds,{min:"0",value:p.tokenId,onChange:G=>R("tokenId",G.target.value),placeholder:"0"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Token ID to set URI for"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Token URI"}),l.jsx("input",{type:"text",value:p.tokenURI,onChange:G=>R("tokenURI",G.target.value),placeholder:"https://example.com/metadata/{id}.json",className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-colors text-sm",style:i?{fontSize:"16px"}:{}}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Metadata URI for the token"})]})]}),l.jsx("button",{onClick:q,disabled:s||!t||!m.isOwner||m.isBlocked||!p.tokenId||!p.tokenURI,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",title:t?m.isOwner?!p.tokenId||!p.tokenURI?"Please fill in all required fields":"Set token URI":"Only collection owner can set URIs":"Please connect your wallet",children:s?"Setting...":"Set Token URI"})]})]})},Rue=()=>{const{connected:t,address:e}=xr(),{getContractInstance:r,executeTransaction:n}=Cr(),{formatRevenueAmount:i}=Sn(),[s,o]=C.useState(!1),[a,c]=C.useState({address:"",revenueAmount:"0",isOwner:!1,raffleState:"unknown"}),[d,f]=C.useState(!1),[p,g]=C.useState([]),[m,v]=C.useState(!1),[x,w]=C.useState({collectionAddress:"",collectionType:"erc721",recipient:"",quantity:"",tokenId:""}),[E,P]=C.useState(!1),[R,S]=C.useState(null),[B,$]=C.useState(!1),q=(j,k)=>{c(M=>({...M,[j]:k}))},G=(j,k)=>{w(M=>({...M,[j]:k}))},H=async()=>{if(!x.collectionAddress||!t){te.error("Please enter a collection address and connect your wallet");return}$(!0);try{let j=null,k=null;try{const I=r(x.collectionAddress,"erc721Prize");if(I)try{await I.supportsInterface("0x80ac58cd")&&(j=I,k="erc721")}catch{try{await I.totalSupply(),j=I,k="erc721"}catch{}}}catch{}if(!j)try{const I=r(x.collectionAddress,"erc1155Prize");if(I)try{await I.supportsInterface("0xd9b67a26")&&(j=I,k="erc1155")}catch{try{await I.uri(0),j=I,k="erc1155"}catch{}}}catch{}if(!j||!k)throw new Error("Invalid collection address or unsupported contract type");w(I=>({...I,collectionType:k}));let M="Unknown Collection",T="Unknown",O="Unknown";try{typeof j.name=="function"&&(M=await j.name())}catch{}try{typeof j.symbol=="function"&&(T=await j.symbol())}catch{}try{typeof j.owner=="function"&&(O=await j.owner())}catch{}const N=O!=="Unknown"&&O.toLowerCase()===e.toLowerCase();S({name:M,symbol:T,owner:O,type:k,isOwner:N}),k==="erc1155"?te.success("Collection loaded"):te.success(`Collection loaded: ${M} (${k.toUpperCase()})`)}catch(j){console.error("Error loading collection info:",j),te.error("Failed to load collection information: "+j.message),S(null)}finally{$(!1)}},K=async()=>{if(!t||!R){te.error("Please connect your wallet and load collection info first");return}if(!R.isOwner){te.error("You are not the owner of this collection");return}if(!x.recipient||!x.quantity){te.error("Please fill in recipient address and quantity");return}if(x.collectionType==="erc1155"&&!x.tokenId){te.error("Please specify token ID for ERC1155 minting");return}const j=parseInt(x.quantity);if(isNaN(j)||j<=0){te.error("Please enter a valid quantity");return}P(!0);try{const k=x.collectionType==="erc721"?"erc721Prize":"erc1155Prize",M=r(x.collectionAddress,k);if(!M)throw new Error("Failed to create contract instance");let T;if(x.collectionType==="erc721")T=await n(M.creatorMint,x.recipient,j);else{const O=parseInt(x.tokenId);if(isNaN(O))throw new Error("Invalid token ID");T=await n(M.creatorMint,x.recipient,O,j)}if(T.success)te.success(`Successfully minted ${j} token(s)! Transaction: ${T.hash}`),w(O=>({...O,recipient:"",quantity:"",tokenId:""}));else throw new Error(T.error)}catch(k){console.error("Error minting tokens:",k),te.error("Error minting tokens: "+k.message)}finally{P(!1)}},J=async j=>{if(!j||!t){te.error("Please enter a raffle address and connect your wallet");return}f(!0);try{const k=r(j,"pool");if(!k)throw new Error("Failed to create raffle contract instance");const[M,T,O,N]=await Promise.all([k.creator(),k.revenueRecipient(),k.totalCreatorRevenue(),k.state()]),I=M.toLowerCase()===e.toLowerCase(),Q=T.toLowerCase()===e.toLowerCase(),z=I&&Q,Y=["Pending","Active","Ended","Drawing","Completed","Deleted","AllPrizesClaimed","Unengaged"][N]||"Unknown";c({address:j,revenueAmount:Ir(O),isCreator:I,isRevenueRecipient:Q,isBothCreatorAndRecipient:z,raffleState:Y,totalRevenue:O})}catch(k){console.error("Error loading raffle info:",k),te.error("Error loading raffle info: "+k.message),c({address:j,revenueAmount:"0",isCreator:!1,raffleState:"error"})}finally{f(!1)}},W=async()=>{if(t){v(!0);try{g([])}catch(j){console.error("Error loading created raffles:",j)}finally{v(!1)}}},F=async()=>{if(!t||!a.address){te.error("Please connect your wallet and load raffle info first");return}if(!a.isRevenueRecipient){te.error("You are not the revenue recipient of this raffle");return}if(parseFloat(a.revenueAmount)<=0){te.info("No revenue available for withdrawal");return}if(!["Completed","AllPrizesClaimed","Ended"].includes(a.raffleState)){te.info(`Revenue can only be withdrawn from completed raffles. Current state: ${a.raffleState}`);return}o(!0);try{const k=r(a.address,"pool");if(!k)throw new Error("Failed to create raffle contract instance");const M=await n(k.withdrawCreatorRevenue);if(M.success)te.success(`Revenue withdrawn successfully! Transaction: ${M.hash}`),await J(a.address);else throw new Error(M.error)}catch(k){console.error("Error withdrawing revenue:",k),te.error("Error withdrawing revenue: "+k.message)}finally{o(!1)}};C.useEffect(()=>{t&&W()},[t]),C.useEffect(()=>{const j=a.address;if(!t||!j||!Tr(j))return;const k=setTimeout(()=>{d||J(j)},400);return()=>clearTimeout(k)},[a.address,t]),C.useEffect(()=>{const j=x.collectionAddress;if(!t||!j||!Tr(j))return;const k=setTimeout(()=>{B||H()},400);return()=>clearTimeout(k)},[x.collectionAddress,t]);const b=j=>{switch(j){case"Completed":case"AllPrizesClaimed":return"text-green-600";case"Ended":return"text-red-600";case"Active":return"text-blue-600";case"Pending":return"text-yellow-600";case"Drawing":return"text-purple-600";default:return"text-muted-foreground"}},A=a.totalRevenue&&ue.isBigNumber(a.totalRevenue)?!a.totalRevenue.isZero():parseFloat(a.revenueAmount)>0,D=a.isRevenueRecipient&&A&&["Completed","AllPrizesClaimed","Ended"].includes(a.raffleState);return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Raffle Contract Address"}),l.jsx(fn,{value:a.address,onChange:j=>q("address",j.target.value),placeholder:"0x...",rightElement:d&&l.jsx(uh,{size:"sm"})})]})}),a.address&&a.raffleState!=="unknown"&&l.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[l.jsx("h4",{className:"font-semibold mb-3",children:"Raffle Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Address:"}),l.jsx("div",{className:"font-mono break-all",children:a.address})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"State:"}),l.jsx("div",{className:`font-semibold ${b(a.raffleState)}`,children:a.raffleState})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Creator Revenue:"}),l.jsx("div",{className:"font-semibold",children:i(a.totalRevenue||a.revenueAmount)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Your Role:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[a.isBothCreatorAndRecipient&&l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:[l.jsx(jr,{className:"h-3 w-3"}),"Creator"]}),a.isRevenueRecipient&&!a.isBothCreatorAndRecipient&&l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs",children:[l.jsx(jr,{className:"h-3 w-3"}),"Revenue Recipient"]}),a.isOwner&&l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:[l.jsx(jr,{className:"h-3 w-3"}),"Owner"]}),!a.isCreator&&!a.isRevenueRecipient&&!a.isOwner&&l.jsx("span",{className:"text-muted-foreground text-xs",children:"No special role"})]})]})]}),!a.isRevenueRecipient&&l.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[l.jsx(dr,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm text-destructive",children:"You are not the revenue recipient of this raffle"})]}),a.isRevenueRecipient&&!A&&l.jsxs("div",{className:"mt-3 p-3 bg-yellow-50/80 dark:bg-yellow-900/20 backdrop-blur-sm border border-yellow-200/50 dark:border-yellow-700/50 rounded-lg flex items-center gap-2",children:[l.jsx(dr,{className:"h-4 w-4 text-yellow-600"}),l.jsx("span",{className:"text-sm text-yellow-800",children:"No revenue available for withdrawal"})]}),a.isRevenueRecipient&&!["Completed","AllPrizesClaimed","Ended"].includes(a.raffleState)&&l.jsxs("div",{className:"mt-3 p-3 bg-blue-50/80 dark:bg-blue-900/20 backdrop-blur-sm border border-blue-200/50 dark:border-blue-700/50 rounded-lg flex items-center gap-2",children:[l.jsx(dr,{className:"h-4 w-4 text-blue-600"}),l.jsx("span",{className:"text-sm text-blue-800",children:"Revenue can only be withdrawn from completed raffles."})]}),D&&l.jsxs("div",{className:"mt-3 p-3 bg-green-50/80 dark:bg-green-900/20 backdrop-blur-sm border border-green-200/50 dark:border-green-700/50 rounded-lg flex items-center gap-2",children:[l.jsx(jr,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{className:"text-sm text-green-800",children:"Revenue is available for withdrawal!"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("button",{onClick:F,disabled:s||!t||!D,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",title:t?a.address?a.raffleState==="unknown"?"Raffle state unknown":a.isRevenueRecipient?D?`Withdraw ${i(a.totalRevenue||a.revenueAmount)}`:"Withdrawal not available - check raffle state and revenue amount":"Only revenue recipient can withdraw revenue":"Please load raffle info first":"Please connect your wallet",children:[l.jsx(Yo,{className:"h-4 w-4"}),s?"Withdrawing...":a.address&&(a.totalRevenue||a.revenueAmount)?`Withdraw ${i(a.totalRevenue||a.revenueAmount)}`:"Withdraw Revenue"]}),!D&&a.isRevenueRecipient&&a.address&&l.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Withdrawal is not available at this time. Check the raffle state and revenue amount."})]}),!t&&l.jsx("div",{className:"text-center p-4 bg-muted rounded-lg",children:l.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to withdraw creator revenue."})}),l.jsxs("div",{className:"space-y-4 border-t border-border pt-6",children:[l.jsx("div",{className:"mb-4",children:l.jsx("h3",{className:"text-lg font-semibold",children:"Creator Mint"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Contract Address"}),l.jsx(fn,{value:x.collectionAddress,onChange:j=>G("collectionAddress",j.target.value),placeholder:"0x...",rightElement:B&&l.jsx(uh,{size:"sm"})})]}),R&&l.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[R.type==="erc721"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Name:"})," ",R.name]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Symbol:"})," ",R.symbol]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Type:"})," ",R.type.toUpperCase()]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Owner:"})," ",R.isOwner?"You":"Other"]})]}),!R.isOwner&&l.jsxs("div",{className:"mt-2 p-2 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[l.jsx(dr,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm text-destructive",children:"You are not the owner of this collection and cannot mint tokens."})]})]}),R&&R.isOwner&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Recipient Address"}),l.jsx(fn,{value:x.recipient,onChange:j=>G("recipient",j.target.value),placeholder:"0x..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantity"}),l.jsx("input",{type:"number",value:x.quantity,onChange:j=>G("quantity",j.target.value),placeholder:"1",min:"1",className:"w-full px-3 py-2 border border-border rounded-md bg-background"})]})]}),R.type==="erc1155"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Token ID"}),l.jsx("input",{type:"number",value:x.tokenId,onChange:j=>G("tokenId",j.target.value),placeholder:"1",min:"0",className:"w-full px-3 py-2 border border-border rounded-md bg-background"})]}),l.jsxs("button",{onClick:K,disabled:E||!t||!R.isOwner||!x.recipient||!x.quantity||R.type==="erc1155"&&!x.tokenId,className:"w-full bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm",children:[l.jsx(hx,{className:"h-4 w-4"}),E?"Minting...":`Mint ${R.type.toUpperCase()} Token(s)`]})]})]})]})]})},mz=()=>{const{address:t,connected:e,provider:r}=xr(),{getContractInstance:n}=Cr(),[i,s]=C.useState(!1),[o,a]=C.useState(""),[c,d]=C.useState(""),[f,p]=C.useState(""),[g,m]=C.useState(""),[v,x]=C.useState(""),[w,E]=C.useState(""),[P,R]=C.useState(""),[S,B]=C.useState(""),[$,q]=C.useState(""),[G,H]=C.useState(""),[K,J]=C.useState(null),[W,F]=C.useState(null),[b,A]=C.useState(!1),[D,j]=C.useState(!1),k=async()=>{if(R(""),B(""),d(""),q(""),H(""),J(null),F(null),j(!1),!o||!Tr(o)){R("Please enter a valid collection address");return}if(!e){R("Please connect your wallet");return}s(!0);try{try{const I=new At(o,ht.erc721Prize,r),Q=await I.name(),z=await I.symbol();q(Q),H(z),J("erc721"),d(o),B(`ERC721 Collection found: ${Q} (${z})`);try{const Y=(await I.owner()).toLowerCase()===t.toLowerCase();j(Y)}catch{j(!1)}return}catch{console.log("Not an ERC721 collection, trying ERC1155...")}try{const I=new At(o,ht.erc1155Prize,r);try{const Q=await I.uri(0);q("ERC1155 Collection"),H("ERC1155")}catch{q("ERC1155 Collection"),H("ERC1155")}J("erc1155"),d(o),B("ERC1155 Collection found");try{const z=(await I.owner()).toLowerCase()===t.toLowerCase();j(z)}catch{j(!1)}return}catch{console.log("Not an ERC1155 collection either")}R("Collection not found or not a supported type (ERC721/ERC1155)")}catch(I){console.error("Error fetching collection:",I),R(`Failed to fetch collection: ${Ei(I)}`)}finally{s(!1)}};C.useEffect(()=>{const I=o&&Tr(o);if(!e||!I)return;const Q=setTimeout(()=>{i||k()},300);return()=>clearTimeout(Q)},[o,e]);const M=async()=>{try{if(!c||!K||!r||!Tr(f))return;A(!0);const Q=await new At(c,K==="erc721"?ht.erc721Prize:ht.erc1155Prize,r).getKOLApprovalDetails(f),z={approved:Q.approved,poolLimit:Q.poolLimit?Number(Q.poolLimit):0,enforcedSlotFee:Q.enforcedSlotFee?Q.enforcedSlotFee:ue.from(0),enforcedWinnerCount:Q.enforcedWinnerCount?Number(Q.enforcedWinnerCount):0,poolCount:Q.poolCount?Number(Q.poolCount):0};F(z)}catch(I){console.error("Error fetching KOL details:",I),R(`Failed to fetch KOL details: ${Ei(I)}`),F(null)}finally{A(!1)}};C.useEffect(()=>{if(!(f&&Tr(f))||!c||!K)return;const Q=setTimeout(()=>{M()},250);return()=>clearTimeout(Q)},[f,c,K]);const T=async()=>{if(!c||!r){te.error("Please fetch a collection first");return}if(!Tr(f)){te.error("Please enter a valid KOL address");return}if(!g||isNaN(g)||parseInt(g)<=0){te.error("Please enter a valid pool limit");return}if(!v||isNaN(v)||parseFloat(v)<0){te.error("Please enter a valid enforced slot fee");return}if(!w||isNaN(w)||parseInt(w)<=0){te.error("Please enter a valid enforced winner count");return}try{s(!0),R(""),B("");const I=r.getSigner();let Q;K==="erc721"?Q=new At(c,ht.erc721Prize,I):K==="erc1155"&&(Q=new At(c,ht.erc1155Prize,I));let z;try{if(typeof Q.owner=="function")z=await Q.owner();else{te.error("Contract does not support owner functionality");return}}catch{te.error("Failed to get contract owner");return}const V=await I.getAddress();if(z.toLowerCase()!==V.toLowerCase()){te.error("Only the contract owner can approve KOLs");return}const Y=Dc(v.toString());await(await Q.approveKOL(f,parseInt(g),Y,parseInt(w))).wait(),te.success("KOL approved successfully!"),B(`KOL ${f} approved with pool limit ${g}, slot fee ${v} ETH, and ${w} winners`),p(""),m(""),x(""),E(""),await M()}catch(I){console.error("Error approving KOL:",I),te.error(`Failed to approve KOL: ${Ei(I)}`),R(`Failed to approve KOL: ${Ei(I)}`)}finally{s(!1)}},O=async()=>{if(!c||!r){te.error("Please fetch a collection first");return}if(!Tr(f)){te.error("Please enter a valid KOL address");return}try{s(!0),R(""),B("");const I=r.getSigner(),Q=new At(c,K==="erc721"?ht.erc721Prize:ht.erc1155Prize,I);let z;try{typeof Q.owner=="function"&&(z=await Q.owner())}catch{}const V=await I.getAddress();if(!z||z.toLowerCase()!==V.toLowerCase()){te.error("Only the contract owner can revoke KOLs");return}await(await Q.revokeKOL(f)).wait(),te.success("KOL revoked successfully!"),B(`KOL ${f} revoked`),await M()}catch(I){console.error("Error revoking KOL:",I),te.error(`Failed to revoke KOL: ${Ei(I)}`),R(`Failed to revoke KOL: ${Ei(I)}`)}finally{s(!1)}},N=I=>Tr(I);return e?l.jsxs(Pr,{children:[l.jsxs(wn,{children:[l.jsxs(kn,{className:"flex items-center gap-2",children:[l.jsx(Tc,{className:"h-5 w-5"}),"KOL Approval Management"]}),l.jsx(Zo,{children:"Approve Key Opinion Leaders (KOLs) for collections with specific pool limits and slot fees"})]}),l.jsxs(Rr,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Jo,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Collection Lookup"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rs,{htmlFor:"collection",children:"Collection Address"}),l.jsx(fn,{id:"collection",placeholder:"0x...",value:o,onChange:I=>a(I.target.value),disabled:i}),o&&!Tr(o)&&l.jsx("p",{className:"text-sm text-red-600",children:"Invalid Ethereum address"})]}),c&&l.jsxs("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(jr,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{className:"text-sm font-medium text-green-800",children:"Collection Found"})]}),l.jsxs("div",{className:"text-sm text-green-700 space-y-1",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Name:"})," ",$]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Symbol:"})," ",G]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Type:"})," ",K==null?void 0:K.toUpperCase()]}),l.jsxs("div",{className:"mt-2",children:[l.jsx(Rs,{className:"text-sm",children:"Address"}),l.jsx("p",{className:"text-sm font-mono bg-green-100 text-green-800 p-2 rounded break-words",children:c})]})]})]})]}),c&&l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(_P,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"KOL Approval"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rs,{htmlFor:"kol",children:"KOL Address"}),l.jsx(fn,{id:"kol",placeholder:"0x...",value:f,onChange:I=>p(I.target.value),disabled:i}),f&&!Tr(f)&&l.jsx("p",{className:"text-sm text-red-600",children:"Invalid Ethereum address"})]}),b&&l.jsx("div",{className:"p-3 bg-muted border rounded-lg text-sm",children:"Loading KOL details..."}),W&&l.jsxs("div",{className:"p-3 bg-muted border rounded-lg space-y-1 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ea,{variant:W.approved?"default":"secondary",children:W.approved?"Approved":"Not Approved"}),l.jsx("span",{className:"text-muted-foreground",children:"Current approval status"})]}),l.jsxs("div",{children:["Pool Limit: ",l.jsx("strong",{children:W.poolLimit})]}),l.jsxs("div",{children:["Enforced Slot Fee: ",l.jsxs("strong",{children:[Ir(W.enforcedSlotFee)," ETH"]})]}),l.jsxs("div",{children:["Enforced Winner Count: ",l.jsx("strong",{children:W.enforcedWinnerCount})]}),l.jsxs("div",{children:["Pool Count: ",l.jsx("strong",{children:W.poolCount})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rs,{htmlFor:"poolLimit",children:"Pool Limit"}),l.jsx(ds,{id:"poolLimit",placeholder:"Enter pool limit (e.g., 100)",value:g,onChange:I=>m(I.target.value),disabled:i}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum number of participants allowed in the KOL's pool"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rs,{htmlFor:"enforcedSlotFee",children:"Enforced Slot Fee (ETH)"}),l.jsx(ds,{id:"enforcedSlotFee",placeholder:"Enter slot fee in ETH (e.g., 0.01)",value:v,onChange:I=>x(I.target.value),disabled:i,step:"0.001"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Fixed slot fee that participants must pay to join the KOL's pool"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rs,{htmlFor:"enforcedWinnerCount",children:"Enforced Winner Count"}),l.jsx(ds,{id:"enforcedWinnerCount",placeholder:"Enter winner count (e.g., 5)",value:w,onChange:I=>E(I.target.value),disabled:i}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Fixed number of winners that the KOL must use when creating pools"})]}),l.jsxs(qe,{onClick:T,disabled:!c||!N(f)||!g||!v||!w||i,className:"w-full bg-[#614E41] text-white hover:bg-[#4a3a30]",children:[i?l.jsx(Mf,{className:"h-4 w-4 mr-2 animate-spin"}):l.jsx(_P,{className:"h-4 w-4 mr-2"}),"Approve KOL"]}),l.jsxs(qe,{onClick:O,disabled:!c||!N(f)||i,variant:"destructive",className:"w-full",children:[i?l.jsx(Mf,{className:"h-4 w-4 mr-2 animate-spin"}):l.jsx(dr,{className:"h-4 w-4 mr-2"}),"Revoke KOL"]})]})]}),P&&l.jsxs(yc,{variant:"destructive",children:[l.jsx(dr,{className:"h-4 w-4"}),l.jsx(xc,{children:P})]}),S&&l.jsxs(yc,{children:[l.jsx(jr,{className:"h-4 w-4"}),l.jsx(xc,{children:S})]}),c&&D&&l.jsxs(yc,{children:[l.jsx(Vt,{className:"h-4 w-4"}),l.jsxs(xc,{children:[l.jsx("strong",{children:"Note:"})," Only the collection owner can approve KOLs. KOL approval allows the approved address to create pools using this collection as prize."]})]})]})]}):l.jsxs(Pr,{children:[l.jsxs(wn,{children:[l.jsxs(kn,{className:"flex items-center gap-2",children:[l.jsx(Tc,{className:"h-5 w-5"}),"KOL Approval Management"]}),l.jsx(Zo,{children:"Please connect your wallet to manage KOL approvals for collections."})]}),l.jsx(Rr,{children:l.jsxs(yc,{children:[l.jsx(dr,{className:"h-4 w-4"}),l.jsx(xc,{children:"Please connect your wallet to manage KOL approvals."})]})})]})},gz=()=>{const{address:t,provider:e}=xr(),{getContractInstance:r,executeTransaction:n}=Cr(),[i,s]=C.useState(""),[o,a]=C.useState(null),[c,d]=C.useState(null),[f,p]=C.useState(!1),[g,m]=C.useState(7),[v,x]=C.useState(2),[w,E]=C.useState(7),[P,R]=C.useState(1),[S,B]=C.useState(null),[$,q]=C.useState(null),[G,H]=C.useState(!1),K=async b=>{if(!b||!Tr(b)){a(null),B(null),q(null),d(null);return}p(!0);try{let A=r(b,"erc721Prize"),D=!1;try{await A.supportsInterface("0x80ac58cd")&&(D=!0)}catch{A=r(b,"erc1155Prize")}if((await A.owner()).toLowerCase()!==t.toLowerCase()){te.error("You are not the owner of this collection"),p(!1);return}if(d(D),a(A),D){const[k,M,T,O]=await Promise.all([A.maxSupply(),A.creationTime(),A.vestingConfigured(),A.creatorClaimedCount()]),N=k.div(5),I={maxSupply:k.toString(),creatorAllocation:N.toString(),creationTime:M.toString(),vestingConfigured:T,creatorClaimedCount:O.toString(),isERC721:!0};if(B(I),T){const[Q,z,V]=await Promise.all([A.vestingConfig(),A.getAvailableCreatorMint(),A.getUnlockedAmount()]);q({cliffEnd:Q.cliffEnd.toString(),numberOfUnlocks:Q.numberOfUnlocks.toString(),durationBetweenUnlocks:Q.durationBetweenUnlocks.toString(),amountPerUnlock:Q.amountPerUnlock.toString(),availableToMint:z.toString(),unlockedAmount:V.toString()})}}else{const[k,M,T,O]=await Promise.all([A.maxSupply(P),A.tokenCreationTime(P),A.vestingConfigured(P),A.creatorClaimedCount(P)]),N=k.div(5),I={maxSupply:k.toString(),creatorAllocation:N.toString(),creationTime:M.toString(),vestingConfigured:T,creatorClaimedCount:O.toString(),isERC721:!1,tokenId:P};if(B(I),T){const[Q,z,V]=await Promise.all([A.vestingConfig(P),A.getAvailableCreatorMint(P),A.getUnlockedAmount(P)]);q({cliffEnd:Q.cliffEnd.toString(),numberOfUnlocks:Q.numberOfUnlocks.toString(),durationBetweenUnlocks:Q.durationBetweenUnlocks.toString(),amountPerUnlock:Q.amountPerUnlock.toString(),availableToMint:z.toString(),unlockedAmount:V.toString()})}}te.success("Collection details fetched successfully")}catch(A){console.error("Error fetching collection:",A),te.error(`Failed to fetch collection: ${A.message}`),a(null),B(null),q(null)}finally{p(!1)}};C.useEffect(()=>{const b=setTimeout(()=>{i&&Tr(i)?K(i):i===""&&(a(null),B(null),q(null),d(null))},500);return()=>clearTimeout(b)},[i,t]),C.useEffect(()=>{i&&Tr(i)&&!c&&o&&K(i)},[P]);const J=async()=>{if(!o||!S){te.error("Please enter a valid collection address");return}if(S.vestingConfigured){te.error("Vesting is already configured for this collection/token");return}if(g<7){te.error("Cliff period must be at least 7 days");return}if(w<7){te.error("Unlock interval must be at least 7 days");return}const b=parseInt(S.creatorAllocation);let A=2;if(b>=2e3||b>=1e3?A=8:b>=500&&(A=4),v<A){te.error(`For an allocation of ${b} tokens, minimum ${A} unlocks required`);return}H(!0);try{const D=Math.floor(Date.now()/1e3)+g*86400,j=w*86400;let k;c?k=await n(()=>o.configureCreatorVesting(D,v,j)):k=await n(()=>o.configureCreatorVesting(P,D,v,j)),k&&(te.success("Vesting configured successfully!"),await K())}catch(D){console.error("Error configuring vesting:",D),te.error(`Failed to configure vesting: ${D.message}`)}finally{H(!1)}},W=b=>!b||b==="0"?"Not set":new Date(parseInt(b)*1e3).toLocaleString(),F=b=>{if(!b||b==="0")return"N/A";const A=Math.floor(Date.now()/1e3),D=parseInt(b);if(A>=D)return"Ended";const j=D-A,k=Math.floor(j/86400),M=Math.floor(j%86400/3600);return`${k}d ${M}h`};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs(Pr,{children:[l.jsxs(wn,{children:[l.jsxs(kn,{className:"flex items-center gap-2",children:[l.jsx(Nm,{className:"h-5 w-5"}),"Collection Details"]}),l.jsx(Zo,{children:"Enter your collection address to view and configure vesting"})]}),l.jsxs(Rr,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Collection Address"}),l.jsx("input",{type:"text",placeholder:"0x...",value:i,onChange:b=>s(b.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background"}),f&&l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[l.jsx("span",{className:"animate-spin",children:""})," Fetching collection details..."]})]}),!c&&o&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Token ID (ERC1155 only)"}),l.jsx("input",{type:"number",placeholder:"1",value:P,onChange:b=>R(parseInt(b.target.value)||1),className:"w-full px-3 py-2 border border-border rounded-md bg-background",min:"1"})]})]})]}),S&&l.jsxs(Pr,{children:[l.jsx(wn,{children:l.jsxs(kn,{className:"flex items-center gap-2",children:[l.jsx(dr,{className:"h-5 w-5"}),"Collection Information"]})}),l.jsx(Rr,{className:"space-y-3",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Type:"}),l.jsx("p",{className:"font-semibold",children:S.isERC721?"ERC721":`ERC1155 (Token ${S.tokenId})`})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Max Supply:"}),l.jsx("p",{className:"font-semibold",children:S.maxSupply})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Creator Allocation (20%):"}),l.jsxs("p",{className:"font-semibold",children:[S.creatorAllocation," tokens"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Already Claimed:"}),l.jsxs("p",{className:"font-semibold",children:[S.creatorClaimedCount," tokens"]})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"text-muted-foreground",children:"Creation Time:"}),l.jsx("p",{className:"font-semibold",children:W(S.creationTime)})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"text-muted-foreground",children:"Vesting Status:"}),l.jsx("p",{className:`font-semibold flex items-center gap-2 ${S.vestingConfigured?"text-green-600":"text-yellow-600"}`,children:S.vestingConfigured?l.jsxs(l.Fragment,{children:[l.jsx(mP,{className:"h-4 w-4"})," Configured"]}):l.jsxs(l.Fragment,{children:[l.jsx(dr,{className:"h-4 w-4"})," Not Configured"]})})]})]})})]}),$&&l.jsxs(Pr,{className:"border-green-500/50",children:[l.jsx(wn,{children:l.jsxs(kn,{className:"flex items-center gap-2 text-green-600",children:[l.jsx(mP,{className:"h-5 w-5"}),"Vesting Schedule"]})}),l.jsx(Rr,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Cliff Ends:"}),l.jsx("p",{className:"font-semibold",children:W($.cliffEnd)}),l.jsx("p",{className:"text-xs text-muted-foreground",children:F($.cliffEnd)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Total Unlocks:"}),l.jsx("p",{className:"font-semibold",children:$.numberOfUnlocks})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Unlock Interval:"}),l.jsxs("p",{className:"font-semibold",children:[parseInt($.durationBetweenUnlocks)/86400," days"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Tokens per Unlock:"}),l.jsx("p",{className:"font-semibold",children:$.amountPerUnlock})]}),l.jsxs("div",{className:"col-span-2 pt-2 border-t",children:[l.jsx("span",{className:"text-muted-foreground",children:"Currently Unlocked:"}),l.jsxs("p",{className:"font-semibold text-lg text-blue-600",children:[$.unlockedAmount," tokens"]})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"text-muted-foreground",children:"Available to Mint:"}),l.jsxs("p",{className:"font-semibold text-lg text-green-600",children:[$.availableToMint," tokens"]})]})]})})]}),S&&!S.vestingConfigured&&l.jsxs(Pr,{children:[l.jsxs(wn,{children:[l.jsxs(kn,{className:"flex items-center gap-2",children:[l.jsx(QK,{className:"h-5 w-5"}),"Configure Vesting Schedule"]}),l.jsx(Zo,{children:"Set up the vesting schedule for your creator allocation"})]}),l.jsxs(Rr,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Cliff Period (days)"}),l.jsx("input",{type:"number",placeholder:"7",value:g,onChange:b=>m(parseInt(b.target.value)||7),className:"w-full px-3 py-2 border border-border rounded-md bg-background",min:"7"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimum 7 days. No tokens can be minted before cliff ends."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Number of Unlocks"}),l.jsx("input",{type:"number",placeholder:"2",value:v,onChange:b=>x(parseInt(b.target.value)||2),className:"w-full px-3 py-2 border border-border rounded-md bg-background",min:"2"}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[S.creatorAllocation<500&&"Minimum 2 unlocks for allocation < 500",S.creatorAllocation>=500&&S.creatorAllocation<1e3&&"Minimum 4 unlocks for allocation 500-999",S.creatorAllocation>=1e3&&S.creatorAllocation<2e3&&"Minimum 8 unlocks for allocation 1000-1999",S.creatorAllocation>=2e3&&"Minimum 8 unlocks for allocation  2000"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Days Between Unlocks"}),l.jsx("input",{type:"number",placeholder:"7",value:w,onChange:b=>E(parseInt(b.target.value)||7),className:"w-full px-3 py-2 border border-border rounded-md bg-background",min:"7"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimum 7 days between each unlock period."})]}),l.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-2",children:[l.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[l.jsx(fS,{className:"h-4 w-4"}),"Preview"]}),l.jsxs("div",{className:"text-sm space-y-1",children:[l.jsxs("p",{children:[" Cliff ends in ",l.jsxs("strong",{children:[g," days"]})]}),l.jsxs("p",{children:[" ",l.jsx("strong",{children:v})," unlock periods"]}),l.jsxs("p",{children:[" ",l.jsx("strong",{children:Math.ceil(parseInt(S.creatorAllocation)/v)})," tokens per unlock"]}),l.jsxs("p",{children:[" New unlock every ",l.jsxs("strong",{children:[w," days"]})]}),l.jsxs("p",{children:[" Full allocation available in ",l.jsxs("strong",{children:[g+(v-1)*w," days"]})]})]})]}),l.jsx(qe,{onClick:J,disabled:G,className:"w-full",children:G?"Configuring...":"Configure Vesting"})]})]}),l.jsxs(Pr,{className:"bg-blue-50 dark:bg-blue-950/20 border-blue-200 dark:border-blue-800",children:[l.jsx(wn,{children:l.jsxs(kn,{className:"text-sm flex items-center gap-2 text-blue-700 dark:text-blue-400",children:[l.jsx(dr,{className:"h-4 w-4"}),"About Vesting"]})}),l.jsxs(Rr,{className:"text-xs text-blue-700 dark:text-blue-300 space-y-2",children:[l.jsx("p",{children:"Vesting prevents creators from immediately minting and selling their entire 20% allocation, protecting holders from rug pulls."}),l.jsxs("p",{children:[l.jsx("strong",{children:"Cliff Period:"})," No tokens can be minted until the cliff period ends."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Unlocks:"})," After the cliff, tokens become available in batches at regular intervals."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Important:"})," Vesting can only be configured once and cannot be changed later."]})]})]})]})},Iue=({className:t="",showStats:e=!0,...r})=>{const{isMobile:n,isTablet:i,isDesktop:s}=pn(),[o,a]=C.useState(null),c=C.useRef(o);c.current=o;const d=[{id:"royalty",title:"Royalty & Reveal",description:"Reveal your collection and manage royalties",component:uue,priority:1},{id:"vesting",title:"Creator Token Vesting",description:"Configure vesting schedules for creator token allocations to prevent rug pulls",component:gz,priority:2},{id:"minter",title:"Minter Approval & Royalty Enforcement Exemption",description:"Manage minter approvals and royalty enforcement exemptions for collections",component:pue,priority:3},{id:"kol",title:"KOL Approval Management",description:"Approve Key Opinion Leaders (KOLs) for collections with specific pool limits and slot fees",component:mz,priority:4},{id:"tokenCreator",title:"Create New Token ID & Set Token URI",description:"Add new token IDs to existing ERC1155 collections and set metadata URIs",component:Pue,priority:5},{id:"revenue",title:"Creator Mint & Revenue Withdrawal",description:"Mint tokens to winners and withdraw revenue from your raffles",component:Rue,priority:6}],f=m=>{a(o===m?null:m)},g=n?1:2;return l.jsxs("div",{className:et("w-full space-y-6",t),...r,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:et("font-semibold text-foreground",n?"text-lg":"text-xl"),children:"Creator Dashboard"}),l.jsx("p",{className:et("text-muted-foreground",n?"text-sm":"text-base"),children:"Manage your collections, royalties, and revenue"})]}),l.jsx("div",{className:et("grid gap-4 w-full",g===1&&"grid-cols-1",g===2&&"grid-cols-1 md:grid-cols-2",n&&"gap-3"),children:d.map(m=>l.jsx(jue,{title:m.title,description:m.description,component:m.component,isExpanded:o===m.id,onToggle:()=>f(m.id),className:et(n&&["w-full",o===m.id&&"mb-2"],!n&&"h-fit"),dialogContentClassName:m.id==="minter"?"max-w-4xl xl:max-w-4xl":void 0},m.id))}),n&&l.jsx("div",{className:"mt-6 p-3 bg-muted/50 rounded-lg border border-border/50",children:l.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Tap any card above to expand and access its functionality. Only one card can be open at a time on mobile."})})]})},Mue=["Pending","Active","Ended","Drawing","Completed","Deleted","Activation Failed","Prizes Claimed","Unengaged"],Due=t=>{try{if(!t)return"Unknown";let e;return t instanceof Date?e=t:typeof t=="number"?e=new Date(t<1e12?t*1e3:t):e=new Date(t),isNaN(e.getTime())?"Unknown":e.toLocaleString()}catch{return"Unknown"}},Oue=({raffle:t,onRaffleClick:e,formatRevenueAmount:r,getCurrencySymbol:n})=>{const{winnerCount:i}=tz(t.address,t.stateNum),s=()=>{const a=(d=>{const f=rz(d,i);return f||Mue[d]||"Unknown"})(t.stateNum),c={Pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",Active:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",Ended:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",Drawing:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",Completed:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",Deleted:"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-300","Activation Failed":"bg-red-200 text-red-900 dark:bg-red-900/40 dark:text-red-300","Prizes Claimed":"bg-blue-200 text-blue-900 dark:bg-blue-900/40 dark:text-blue-300","Prize Claimed":"bg-blue-200 text-blue-900 dark:bg-blue-900/40 dark:text-blue-300",Unengaged:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",Unknown:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"};return l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c[a]||c.Unknown}`,children:a})};return l.jsxs("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-4 shadow-xl transition-all duration-300 min-h-[160px] flex flex-col",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsx("div",{className:"flex-1 min-w-0",children:l.jsx("h3",{className:"font-semibold text-sm mb-1 truncate cursor-pointer hover:text-[#614E41] transition-colors duration-200",onClick:()=>e(t.address),children:t.name})}),s()]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs mb-2",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Slots Sold"}),l.jsxs("p",{className:"font-semibold",children:[t.ticketsSold||0,"/",t.maxTickets]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Revenue"}),l.jsx("p",{className:"font-semibold text-green-600",children:r(t.revenue||0)})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"text-muted-foreground",children:"Created"}),l.jsx("p",{className:"font-semibold",children:t.createdAt?new Date(t.createdAt<1e12?t.createdAt*1e3:t.createdAt).toLocaleString():"Unknown"})]})]})]})},Lue=({activities:t,createdRaffles:e,purchasedTickets:r,creatorStats:n,onDeleteRaffle:i,onViewRevenue:s,onClaimPrize:o,onClaimRefund:a})=>{const c=Ua(),{chainId:d}=xr(),[f,p]=C.useState("activity"),{isMobile:g}=pn(),{formatRevenueAmount:m,getCurrencySymbol:v}=Sn();C.useEffect(()=>(bL(),()=>wL()),[]);const[x,w]=C.useState({royalty:!1,minter:!1,tokenCreator:!1,revenue:!1});C.useEffect(()=>{if(g&&Object.values(x).some(Boolean))return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[x,g]),C.useEffect(()=>()=>{g&&(document.body.style.overflow="unset")},[g]);const E=()=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Recent Activity"}),l.jsxs(ea,{variant:"outline",children:[t.length," activities"]})]}),t.length===0?l.jsx(Pr,{children:l.jsxs(Rr,{className:"text-center py-8",children:[l.jsx(Sm,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"No activity yet"})]})}):l.jsx("div",{className:"space-y-2",children:t.slice(0,10).map((B,$)=>l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-3 shadow-xl transition-all duration-300",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("div",{className:"mt-0.5",children:B.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-sm text-foreground",children:B.title}),l.jsx("p",{className:"text-xs text-muted-foreground",children:B.description}),l.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:B.timestamp})]})]})},$))})]}),P=()=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"My Raffles"}),l.jsxs(ea,{variant:"outline",children:[e.length," raffles"]})]}),e.length===0?l.jsx(Pr,{children:l.jsxs(Rr,{className:"text-center py-8",children:[l.jsx("p",{className:"text-muted-foreground mb-4",children:"You haven't created any raffles yet"}),l.jsx(qe,{onClick:()=>c("/create-raffle"),className:"bg-[#614E41] text-white hover:bg-[#4a3a30] transition-colors",children:"Create Your First Raffle"})]})}):l.jsx("div",{className:"grid gap-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",children:e.map(B=>l.jsx(Oue,{raffle:B,onRaffleClick:$=>{const q=d&&Ht[d]?Ht[d].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):d||"",G=q?`/${q}/raffle/${$}`:`/raffle/${$}`;c(G)},formatRevenueAmount:m,getCurrencySymbol:v},B.address))})]}),R=()=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"My Slots"}),l.jsxs(ea,{variant:"outline",children:[r.length," slots"]})]}),r.length===0?l.jsx(Pr,{children:l.jsxs(Rr,{className:"text-center py-8",children:[l.jsx(Zf,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"You haven't purchased any slots yet"}),l.jsx(qe,{onClick:()=>c("/"),className:"bg-[#614E41] text-white hover:bg-[#4a3a30] transition-colors",children:"Browse Raffles"})]})}):l.jsx("div",{className:"space-y-3",children:r.map(B=>l.jsx(Pr,{className:"hover:shadow-md transition-shadow",children:l.jsxs(Rr,{className:"p-4",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:l.jsx(Zf,{className:"h-4 w-4 text-blue-500"})}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("h4",{className:"font-medium text-foreground text-sm",children:["Purchased ",B.ticketCount," ",B.raffleName||B.name," slot",B.ticketCount>1?"s":""]}),l.jsxs("p",{className:"text-muted-foreground text-sm mt-1",children:[B.totalSpent," ",v()]})]}),l.jsx("span",{className:"text-sm text-muted-foreground flex-shrink-0",children:Due(B.purchaseTime)})]})})]}),l.jsx("div",{className:"flex gap-2",children:B.canClaimPrize&&l.jsxs(qe,{size:"sm",onClick:()=>o(B),className:"flex-1 bg-[#614E41] text-white hover:bg-[#4a3a30] transition-colors",children:[l.jsx(n3,{className:"h-4 w-4 mr-1"}),"Claim Prize"]})})]})},B.id))})]}),S=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:`grid gap-4 ${g?"grid-cols-1":"md:grid-cols-2 lg:grid-cols-4"}`,children:[l.jsxs(Pr,{children:[l.jsxs(wn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(kn,{className:"text-sm font-medium",children:"Total Raffles"}),l.jsx(Is,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Rr,{children:[l.jsx("div",{className:"text-2xl font-bold",children:Number(n.totalRaffles||0).toLocaleString()}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[Number(n.activeRaffles||0).toLocaleString()," currently active"]})]})]}),l.jsxs(Pr,{children:[l.jsxs(wn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(kn,{className:"text-sm font-medium",children:"Withdrawable Revenue"}),l.jsx(Yo,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Rr,{children:[l.jsx("div",{className:"text-2xl font-bold",children:m(n.withdrawableRevenue||"0")}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Available to withdraw across all raffles"})]})]}),l.jsxs(Pr,{children:[l.jsxs(wn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(kn,{className:"text-sm font-medium",children:"Total Slots Sold"}),l.jsx(Tc,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Rr,{children:[l.jsx("div",{className:"text-2xl font-bold",children:Number(n.totalParticipants||0).toLocaleString()}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[Number(n.uniqueParticipants||0).toLocaleString()," slots across all your raffles"]})]})]}),l.jsxs(Pr,{children:[l.jsxs(wn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(kn,{className:"text-sm font-medium",children:"Success Rate"}),l.jsx(fS,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Rr,{children:[l.jsxs("div",{className:"text-2xl font-bold",children:[n.successRate,"%"]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed raffles"})]})]})]}),l.jsx(Iue,{})]});return l.jsx(l.Fragment,{children:l.jsxs(wue,{value:f,onValueChange:p,className:"w-full","data-profile-tab":"true",children:[g?l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[l.jsx("button",{onClick:()=>p("activity"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border transition-colors ${f==="activity"?"border-primary bg-primary text-primary-foreground":"border-border bg-background hover:bg-muted text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"Activity"})}),l.jsx("button",{onClick:()=>p("created"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border transition-colors ${f==="created"?"border-primary bg-primary text-primary-foreground":"border-border bg-background hover:bg-muted text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"Created"})}),l.jsx("button",{onClick:()=>p("purchased"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border transition-colors ${f==="purchased"?"border-primary bg-primary text-primary-foreground":"border-border bg-background hover:bg-muted text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"My Slots"})}),l.jsx("button",{onClick:()=>p("dashboard"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border transition-colors ${f==="dashboard"?"border-primary bg-primary text-primary-foreground":"border-border bg-background hover:bg-muted text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"Dashboard"})})]}):l.jsxs(kue,{className:"grid w-full grid-cols-4",children:[l.jsx(u0,{value:"activity",children:"Activity"}),l.jsx(u0,{value:"created",children:"My Raffles"}),l.jsx(u0,{value:"purchased",children:"My Slots"}),l.jsx(u0,{value:"dashboard",children:"Dashboard"})]}),l.jsx(d0,{value:"activity",className:g?"mt-4":"mt-6",children:l.jsx(E,{})}),l.jsx(d0,{value:"created",className:g?"mt-4":"mt-6",children:l.jsx(P,{})}),l.jsx(d0,{value:"purchased",className:g?"mt-4":"mt-6",children:l.jsx(R,{})}),l.jsx(d0,{value:"dashboard",className:g?"mt-4":"mt-6",children:l.jsx(S,{})})]})})};function EI(t){switch(t){case 0:return"pending";case 1:return"active";case 2:return"ended";case 3:return"drawing";case 4:return"completed";case 5:return"deleted";case 6:return"activationFailed";case 7:return"allPrizesClaimed";case 8:return"unengaged";default:return"unknown"}}const yz=()=>{const{connected:t,address:e,provider:r,chainId:n}=xr(),{contracts:i,getContractInstance:s,executeTransaction:o,executeCall:a}=Cr(),c=C.useMemo(()=>t,[t]),d=C.useMemo(()=>e,[e]),f=C.useMemo(()=>i,[i]),[p,g]=C.useState(!0),[m,v]=C.useState([]),[x,w]=C.useState([]),[E,P]=C.useState([]),[R,S]=C.useState([]),[B,$]=C.useState({totalTicketsPurchased:0,totalRafflesCreated:0,totalPrizesWon:0,totalClaimableRefunds:0,withdrawableRevenue:"0"}),[q,G]=C.useState(!1),[H,K]=C.useState(null),J=C.useCallback(V=>{var Y;if(V!=null&&V.reason)return V.reason;if((Y=V==null?void 0:V.data)!=null&&Y.message)return V.data.message;if(V!=null&&V.message){const Z=V.message.match(/revert (.+)/);return Z?Z[1]:V.message}return"Transaction failed"},[]),W=C.useCallback(V=>{switch(V&&typeof V=="object"&&typeof V.toNumber=="function"?V.toNumber():Number(V)){case 0:return"pending";case 1:return"active";case 2:return"ended";case 3:return"drawing";case 4:return"completed";case 5:return"deleted";case 6:return"activationFailed";case 7:return"allPrizesClaimed";case 8:return"unengaged";default:return"unknown"}},[]);C.useRef(new Map);const F=C.useCallback(V=>{try{const Y=localStorage.getItem(V);if(!Y)return null;const Z=JSON.parse(Y);return!Z||!Z.data||!Z.ts||!Z.ttl||Date.now()-Z.ts>Z.ttl?null:Z.data}catch{return null}},[]),b=C.useCallback((V,Y,Z)=>{try{localStorage.setItem(V,JSON.stringify({data:Y,ts:Date.now(),ttl:Z}))}catch{}},[]),A=900*1e3,D="v2",j=C.useCallback(async()=>{if(!f.protocolManager)return[];const V=`raffles:all:${D}:${n}`,Y=F(V);if(Y)return Y;try{const Z=await a(f.protocolManager.getAllPools,"getAllPools"),ee=Z.success&&Array.isArray(Z.result)?Z.result:[];return Array.isArray(ee)&&ee.length>0&&b(V,ee,A),ee}catch{return[]}},[f.protocolManager,n,a,F,b]),k=C.useCallback(async()=>{const V=await j();return V&&V.length>0||!f.protocolManager?V:(await new Promise(Z=>setTimeout(Z,1200)),await j())},[j,f.protocolManager]),M=C.useCallback(async V=>{if(!f.protocolManager||!V)return[];const Y=`raffles:byCreator:${D}:${n}:${V.toLowerCase()}`,Z=F(Y);if(Z)return Z;try{const ee=await a(f.protocolManager.getPoolsByCreator,"getPoolsByCreator",V),ae=ee.success&&Array.isArray(ee.result)?ee.result:[];return b(Y,ae,A),ae}catch{return[]}},[f.protocolManager,n,a,F,b]),T=C.useCallback(async V=>{var Z;const Y=await M(V);if(Y&&Y.length>0||!f.protocolManager)return Y;await new Promise(ee=>setTimeout(ee,1200));try{const ee=await a(f.protocolManager.getPoolsByCreator,"getPoolsByCreator",V),ae=ee.success&&Array.isArray(ee.result)?ee.result:[];if(Array.isArray(ae)&&ae.length>0){const ne=`raffles:byCreator:${D}:${n}:${(Z=V==null?void 0:V.toLowerCase)==null?void 0:Z.call(V)}`;b(ne,ae,A)}return ae}catch{return Y||[]}},[M,f.protocolManager,a,b,n]),O=C.useCallback(async()=>{if(!c||!d||!r){console.log("Missing requirements for fetchCreatedRaffles:",{stableConnected:c,stableAddress:!!d,provider:!!r});return}try{const V=[],Y=[];let Z=ue.from(0);const ee=await T(d);console.log("Profile: Found",ee.length,"created raffles for",d);for(const ae of ee)try{const ne=s(ae,"pool");if(!ne)continue;const[de,xe,me,Ce,ct,le,Ye,jt,it,De]=await Promise.all([a(ne.name,"name"),a(ne.slotFee,"slotFee"),a(ne.slotLimit,"slotLimit"),a(ne.startTime,"startTime"),a(ne.duration,"duration"),a(ne.state,"state"),a(ne.winnersCount,"winnersCount"),a(ne.usesCustomFee,"usesCustomFee"),a(ne.totalCreatorRevenue,"totalCreatorRevenue"),f.protocolManager?a(f.protocolManager.poolCreationTimestamps,"poolCreationTimestamps",ae):Promise.resolve({success:!1})]),Jt=de.success?de.result:`Raffle ${ae.slice(0,8)}...`,st=xe.success?xe.result:ue.from(0),ft=me.success?me.result:ue.from(0),Ie=Ce.success?Ce.result:ue.from(0),se=ct.success?ct.result:ue.from(0),he=le.success?le.result:0,Le=Ye.success?Ye.result:ue.from(0),Ae=jt.success?!!jt.result:!1,Me=it.success?it.result:ue.from(0),Gt=await b4(ne),Xe=ue.from(Gt),_t=new Date(Ie.add(se).toNumber()*1e3);let Wt=ue.from(0);Z=Z.add?Z.add(Me):ue.from(Z).add(Me),Ae?Wt=Me:Wt=ue.from(0);const Ct=De&&De.success&&De.result?De.result.toNumber?De.result.toNumber():Number(De.result):Ie.toNumber?Ie.toNumber():Math.floor(Date.now()/1e3);V.push({address:ae,chainId:n,name:Jt,slotFee:Ir(st),maxTickets:ft.toString(),ticketsSold:Xe.toString(),endTime:_t,createdAt:Ct*1e3,state:W(he),stateNum:he,revenue:Ir(Wt),usesCustomFee:Ae}),Y.push({id:`getter-created-${ae}`,type:"raffle_created",raffleAddress:ae,raffleName:Jt,timestamp:Ct*1e3})}catch(ne){console.error(`Error processing created raffle ${ae}:`,ne)}w(V),$(ae=>({...ae,withdrawableRevenue:Ir(Z)})),Y.length>0&&v(ae=>{const ne=new Set(ae.map(xe=>xe.id)),de=[...ae];for(const xe of Y)ne.has(xe.id)||de.push(xe);return de.sort((xe,me)=>(me.timestamp||0)-(xe.timestamp||0)),de}),$(ae=>({...ae,totalRafflesCreated:V.length}))}catch(V){const Y=(V.message||V.toString()||"").toLowerCase(),Z=V.data?(V.data.message||V.data.toString()||"").toLowerCase():"",ee=`${Y} ${Z}`;if(ee.includes("block range")||ee.includes("too large")||ee.includes("exceed")||ee.includes("limit")||ee.includes("range too large")||ee.includes("maximum")||ee.includes("query returned more than")||ee.includes("block range limit")||ee.includes("too many blocks")||ee.includes("range exceeded")||Y.includes("10000")||Y.includes("5000")||Y.includes("50000")){console.warn("Mobile: Block range error in fetchCreatedRaffles (enhanced detection), suppressing toast:",Y);return}Bp(V,{context:{operation:"fetchCreatedRaffles",isReadOnly:!0},fallbackMessage:"Failed to load created raffles"})}},[c,d,r,f.poolDeployer,a,s,W]),N=C.useCallback(async()=>{if(!c||!d||!r){console.log("Missing requirements for fetchPurchasedTickets:",{stableConnected:c,stableAddress:!!d,provider:!!r});return}try{const V=[],Y=[],Z=[];if(f.protocolManager){const ee=await k();console.log("Profile: Checking",ee.length,"pools for purchased slots via getSlotsPurchased");for(const ae of ee)try{const ne=s(ae,"pool");if(!ne)continue;const[de,xe,me,Ce,ct,le]=await Promise.all([a(ne.getSlotsPurchased,"getSlotsPurchased",d),a(ne.name,"name"),a(ne.slotFee,"slotFee"),a(ne.state,"state"),a(ne.startTime,"startTime"),a(ne.duration,"duration")]),Ye=de.success?de.result:ue.from(0),jt=Ye.toNumber?Ye.toNumber():Number(Ye);if(jt<=0)continue;const it=xe.success?xe.result:`Pool ${ae.slice(0,8)}...`,De=me.success?me.result:ue.from(0),Jt=De.mul?De.mul(Ye):ue.from(0),st=Ce.success?Ce.result:0,ft=ct.success?ct.result:ue.from(0),Ie=le.success?le.result:ue.from(0),se=new Date(ft.add(Ie).toNumber()*1e3),he=ft.toNumber?ft.toNumber():Math.floor(Date.now()/1e3),Le={id:ae,address:ae,poolName:it,name:it,slotCount:jt,slotFee:Ir(De),totalSpent:Ir(Jt),state:EI(st),endTime:se,purchaseTime:he,canClaimPrize:!1,canClaimRefund:!1,slots:Array.from({length:jt},(Ae,Me)=>Me.toString())};Y.push(Le),Z.push({id:`getter-slot-${ae}-${he}`,type:"ticket_purchase",poolAddress:ae,poolName:it,raffleName:it,quantity:jt,ticketCount:jt,amount:Ir(Jt),timestamp:he*1e3,raffleAddress:ae})}catch(ne){console.error(`Error processing getSlotsPurchased for pool ${ae}:`,ne)}}else console.log("protocolManager contract not available");console.log("Setting purchased slots:",Y.length,"pools with slots using getters"),S(Y),P(Y),Z.length>0&&v(ee=>{const ae=new Set(ee.map(de=>de.id)),ne=[...ee];for(const de of Z)ae.has(de.id)||ne.push(de);return ne.sort((de,xe)=>(xe.timestamp||0)-(de.timestamp||0)),ne})}catch(V){Bp(V,{context:{operation:"fetchPurchasedSlots",isReadOnly:!0},fallbackMessage:"Failed to load purchased slots"})}},[c,d,r,f.protocolManager,a,s,EI,j]),I=C.useCallback(async()=>{if(!(!c||!d||!r||!f.protocolManager))try{const V=await k();let Y=0,Z=0,ee=ue.from(0);for(const ae of V)try{const ne=s(ae,"pool");if(!ne)continue;const[de,xe,me]=await Promise.all([a(ne.getSlotsPurchased,"getSlotsPurchased",d),a(ne.winsPerAddress,"winsPerAddress",d),a(ne.getRefundableAmount,"getRefundableAmount",d)]),Ce=de.success?de.result:ue.from(0),ct=xe.success?xe.result:ue.from(0),le=me.success?me.result:ue.from(0);Y+=Ce.toNumber?Ce.toNumber():Number(Ce),Z+=ct.toNumber?ct.toNumber():Number(ct),ee=ee.add?ee.add(le):ue.from(ee).add(le)}catch(ne){console.warn("Skipping pool for totals due to error:",ae,(ne==null?void 0:ne.message)||ne)}$(ae=>({...ae,totalSlotsPurchased:Y,totalPrizesWon:Z,totalClaimableRefunds:ee}))}catch(V){Bp(V,{context:{operation:"fetchDirectTotals",isReadOnly:!0},fallbackMessage:"Failed to compute profile totals"})}},[c,d,r,f.protocolManager,j,s,a]);C.useEffect(()=>{c&&d&&f.protocolManager?(v([]),w([]),P([]),$(Y=>({...Y,totalTicketsPurchased:0,totalRafflesCreated:0,totalPrizesWon:0,totalClaimableRefunds:0,withdrawableRevenue:"0"})),(async()=>{g(!0);try{await Promise.all([O(),N(),I()])}catch(Y){console.error("Error loading profile data:",Y)}finally{g(!1)}})()):(!c||!d)&&(v([]),w([]),P([]),g(!1),G(!1),K(null),$({totalTicketsPurchased:0,totalRafflesCreated:0,totalPrizesWon:0,totalClaimableRefunds:0,withdrawableRevenue:"0"}))},[c,d,f.protocolManager,O,N,I]);const Q=C.useCallback(async V=>{if(!V||!c){te.error("Please connect your wallet");return}try{const Y=s(V,"pool");if(!Y){te.error("Invalid raffle contract");return}await o(Y,"withdrawRevenue",[]),te.success("Revenue withdrawn successfully!"),O(),G(!1),K(null)}catch(Y){console.error("Error withdrawing revenue:",Y),te.error(J(Y))}},[c,s,o,O,J]),z=C.useCallback(async V=>{if(!V||!c){te.error("Please connect your wallet");return}try{const Y=s(V,"pool");if(!Y){te.error("Invalid raffle contract");return}await o(Y,"claimRefund",[]),te.success("Refund claimed successfully!"),N(),I()}catch(Y){console.error("Error claiming refund:",Y),te.error(J(Y))}},[c,s,o,N,I,J]);return{userActivity:m,createdRaffles:x,purchasedTickets:E,purchasedSlots:R,activityStats:B,loading:p,showRevenueModal:q,setShowRevenueModal:G,selectedRaffle:H,setSelectedRaffle:K,fetchCreatedRaffles:O,fetchPurchasedTickets:N,withdrawRevenue:Q,claimRefund:z,extractRevertReason:J,mapRaffleState:W,creatorStats:{totalRaffles:x.length,activeRaffles:x.filter(V=>V.state==="active").length,withdrawableRevenue:B.withdrawableRevenue||"0.0000",totalParticipants:x.reduce((V,Y)=>V+parseInt(Y.ticketsSold||0),0),uniqueParticipants:x.reduce((V,Y)=>V+parseInt(Y.ticketsSold||0),0),successRate:x.length>0?Math.round(x.filter(V=>V.state==="completed"||V.state==="allPrizesClaimed").length/x.length*100):0}}},Fue=()=>{const{connected:t,address:e,provider:r}=xr(),{getContractInstance:n,executeTransaction:i}=Cr(),s=Ua(),[o,a]=C.useState("activity"),[c,d]=C.useState(null),{getCurrencySymbol:f,formatRevenueAmount:p}=Sn(),{userActivity:g,createdRaffles:m,purchasedTickets:v,activityStats:x,loading:w,claimRefund:E}=yz(),P=(j,k={})=>{const{stateNum:M,winnerCount:T}=k,O=["Pending","Active","Ended","Drawing","Completed","Deleted","AllPrizesClaimed","Unengaged"];let N="Unknown";if(Number.isFinite(M))N=M===6&&typeof T=="number"?T===1?"Prize Claimed":"Prizes Claimed":O[M]||"Unknown";else if(typeof j=="string"){const Q=j.toLowerCase().replace(/[^a-z]/g,"");N={pending:"Pending",active:"Active",ended:"Ended",drawing:"Drawing",completed:"Completed",deleted:"Deleted",allprizesclaimed:"AllPrizesClaimed",all_prizes_claimed:"AllPrizesClaimed",unengaged:"Unengaged",unknown:"Unknown"}[Q]||j.charAt(0).toUpperCase()+j.slice(1)}const I={Pending:"bg-yellow-100 text-yellow-800",Active:"bg-green-100 text-green-800",Ended:"bg-red-100 text-red-800",Drawing:"bg-purple-100 text-purple-800",Completed:"bg-blue-100 text-blue-800",Deleted:"bg-gray-200 text-gray-800",AllPrizesClaimed:"bg-blue-200 text-blue-900","Prize Claimed":"bg-blue-200 text-blue-900",Unengaged:"bg-gray-100 text-gray-800",Unknown:"bg-gray-100 text-gray-800"};return l.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-xs font-medium ${I[N]||I.Unknown}`,children:N})},[R,S]=C.useState({royalty:{loading:!1,collectionData:{address:"",type:null,royaltyPercentage:"",royaltyRecipient:""},collectionInfo:null,loadingInfo:!1,isRevealed:null,revealing:!1},minter:{loading:!1,collectionAddress:"",minterAddress:"",isApproved:!1,isLocked:!1,currentMinter:"",collectionName:"",collectionSymbol:"",collectionType:null,fetchedCollection:"",error:"",success:""},kol:{loading:!1,collectionAddress:"",kolAddress:"",poolLimit:"",enforcedSlotFee:"",enforcedWinnerCount:"",error:"",success:"",collectionName:"",collectionSymbol:"",collectionType:null,kolDetails:null,kolDetailsLoading:!1},tokenCreator:{loading:!1,collectionData:{address:"",type:null},collectionInfo:null,loadingInfo:!1,tokenCreationData:{tokenId:"",maxSupply:""},uriData:{tokenId:"",tokenURI:""}},revenue:{loading:!1,raffleData:{address:"",isCreator:!1,revenueAmount:"0",raffleState:"unknown"},createdRaffles:[],mintData:{collectionAddress:"",collectionType:"erc721",recipient:"",quantity:"",tokenId:""},mintLoading:!1}});if(!t)return l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Connect Your Wallet"}),l.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to view your profile and activity."})]})});const B=()=>{const j=N=>{switch(N){case"ticket_purchase":return l.jsx(L0,{className:"h-4 w-4 text-blue-500"});case"raffle_created":return l.jsx(Is,{className:"h-4 w-4 text-green-500"});case"raffle_deleted":return l.jsx(Sm,{className:"h-4 w-4 text-red-500"});case"prize_won":return l.jsx(Ef,{className:"h-4 w-4 text-yellow-500"});case"prize_claimed":return l.jsx(Ef,{className:"h-4 w-4 text-yellow-500"});case"refund_claimed":return l.jsx(Qf,{className:"h-4 w-4 text-orange-500"});case"revenue_withdrawn":return l.jsx(Yo,{className:"h-4 w-4 text-green-500"});case"admin_withdrawn":return l.jsx(Yo,{className:"h-4 w-4 text-purple-500"});default:return l.jsx(Sm,{className:"h-4 w-4 text-gray-500"})}},k=N=>{var z;const I=N.raffleName||N.name||`Raffle ${(z=N.raffleAddress)==null?void 0:z.slice(0,8)}...`,Q=N.quantity||N.ticketCount||1;switch(N.type){case"ticket_purchase":return`Purchased ${Q} ${I} slot${Q>1?"s":""}`;case"raffle_created":return`Created raffle "${I}"`;case"raffle_deleted":return`Deleted raffle "${I}"`;case"prize_won":return`Won prize in "${I}"`;case"prize_claimed":return`Claimed prize from "${I}"`;case"refund_claimed":return`Claimed refund from "${I}"`;case"revenue_withdrawn":return`Withdrew revenue from "${I}"`;case"admin_withdrawn":return`Admin withdrawal: ${N.amount} ${f()}`;default:return N.description||"Activity"}},M=N=>{var Q;const I=N.raffleName||N.name||`Raffle ${(Q=N.raffleAddress)==null?void 0:Q.slice(0,8)}...`;switch(N.type){case"ticket_purchase":return N.amount?`${N.amount} ${f()}`:"";case"prize_won":return`${I}  Congratulations!`;case"prize_claimed":const z=N.prizeType||"Prize",V=N.amount?` (${N.amount} ${N.prizeType==="Native Currency"?f():N.prizeType==="ERC20 Token"?"tokens":""})`:N.tokenId?` (Token ID: ${N.tokenId})`:"";return`${z}${V}`;case"refund_claimed":return N.amount?`${I}  ${N.amount} ${f()}`:I;case"revenue_withdrawn":return N.amount?`${N.amount} ${f()}`:"";default:return N.description||""}},T=N=>{try{if(!N&&N!==0)return"Unknown";let I;if(N instanceof Date)I=N.getTime();else if(typeof N=="number")I=N<1e12?N*1e3:N;else{const ee=new Date(N);I=isNaN(ee.getTime())?null:ee.getTime()}if(I==null)return"Unknown";const Q=Date.now();let z=Math.floor((Q-I)/1e3);if(z<0&&(z=0),z<60)return z<=1?"Just now":`${z}s ago`;const V=Math.floor(z/60);if(V<60)return`${V}m ago`;const Y=Math.floor(V/60);return Y<24?`${Y}h ago`:`${Math.floor(Y/24)}d ago`}catch{return"Unknown"}},O=N=>{const I=typeof window<"u"&&window.ethereum&&window.ethereum.chainId?parseInt(window.ethereum.chainId,16):null,Q=I&&Ht[I]?Ht[I].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):I||"",z=Q?`/${Q}/raffle/${N}`:`/raffle/${N}`;s(z)};return!g||g.length===0?l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Em,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Activity Yet"}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Activity will appear here once you participate in raffles."})]})}):l.jsxs("div",{className:"p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Recent Activity"}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:[g.length," activities"]})]}),g.slice(0,10).map((N,I)=>l.jsx("div",{className:"bg-card beige-surface border border-[#614E41] rounded-lg p-4 hover:bg-muted/30 transition-colors",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:j(N.type)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-medium text-foreground text-sm",children:k(N)}),l.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:M(N)})]}),l.jsx("span",{className:"text-sm text-muted-foreground flex-shrink-0",children:T(N.timestamp)})]}),l.jsxs("div",{className:"flex gap-2 mt-3",children:[l.jsx("button",{onClick:()=>O(N.raffleAddress),className:"text-sm bg-[#614E41] text-white px-3 py-1.5 rounded-md hover:bg-[#4a3a30] transition-colors",children:"View Pool"}),N.type==="ticket_purchase"&&N.state==="ended"&&l.jsx("button",{onClick:()=>E(N.raffleAddress),className:"text-sm bg-green-500/10 text-green-600 px-3 py-1.5 rounded-md hover:bg-green-500/20 transition-colors",children:"Claim Refund"})]})]})]})},N.id||I))]})},$=()=>c?l.jsx("div",{className:"fixed inset-0 bg-background z-50 overflow-y-auto",children:q(c)}):l.jsxs("div",{className:"p-4 space-y-4 mobile-component-container",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h3",{className:"text-lg font-semibold",children:"Creator Dashboard"})}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"bg-card beige-surface border border-[#614E41] rounded-lg p-4",children:[l.jsx("div",{className:"text-2xl font-bold",children:m.length}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Raffles"})]}),l.jsxs("div",{className:"bg-card beige-surface border border-[#614E41] rounded-lg p-4",children:[l.jsx("div",{className:"text-2xl font-bold",children:m.filter(j=>j.state==="active").length}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Raffles"})]}),l.jsxs("div",{className:"bg-card beige-surface border border-[#614E41] rounded-lg p-4",children:[l.jsx("div",{className:"text-2xl font-bold",children:p(x.withdrawableRevenue||"0")}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Revenue"})]}),l.jsxs("div",{className:"bg-card beige-surface border border-[#614E41] rounded-lg p-4",children:[l.jsxs("div",{className:"text-2xl font-bold",children:[m.length>0?Math.round(m.filter(j=>j.state==="completed").length/m.length*100):0,"%"]}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Success Rate"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Creator Tools"}),l.jsx("button",{onClick:()=>d("royalty"),"data-dashboard-card":!0,className:"w-full bg-card beige-surface border border-[#614E41] rounded-lg p-4 text-left hover:bg-muted/30 transition-colors",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(uf,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Royalty & Reveal"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Manage royalties and reveal collections"})]})]})}),l.jsx("button",{onClick:()=>d("vesting"),"data-dashboard-card":!0,className:"w-full bg-card beige-surface border border-[#614E41] rounded-lg p-4 text-left hover:bg-muted/30 transition-colors",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Nm,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Creator Token Vesting"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Configure vesting schedules for creator token allocations"})]})]})}),l.jsx("button",{onClick:()=>d("minter"),"data-dashboard-card":!0,className:"w-full bg-card beige-surface border border-[#614E41] rounded-lg p-4 text-left hover:bg-muted/30 transition-colors",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Xo,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Minter Approval"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Manage minter approvals for collections"})]})]})}),l.jsx("button",{onClick:()=>d("kol"),"data-dashboard-card":!0,className:"w-full bg-card beige-surface border border-[#614E41] rounded-lg p-4 text-left hover:bg-muted/30 transition-colors",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Tc,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"KOL Approval Management"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Approve Key Opinion Leaders (KOLs) for collections with specific pool limits and slot fees"})]})]})}),l.jsx("button",{onClick:()=>d("tokenCreator"),"data-dashboard-card":!0,className:"w-full bg-card beige-surface border border-[#614E41] rounded-lg p-4 text-left hover:bg-muted/30 transition-colors",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Is,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Create New Token ID & Set Token URI"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Add new token IDs to ERC1155 collections and set metadata URIs"})]})]})}),l.jsx("button",{onClick:()=>d("revenue"),"data-dashboard-card":!0,className:"w-full bg-card beige-surface border border-[#614E41] rounded-lg p-4 text-left hover:bg-muted/30 transition-colors",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Yo,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Creator Mint & Revenue Withdrawal"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Withdraw revenue from completed raffles"})]})]})})]})]}),q=j=>{const k=()=>d(null);switch(j){case"royalty":return G(k);case"vesting":return H(k);case"minter":return K(k);case"kol":return J(k);case"tokenCreator":return W(k);case"revenue":return F(k);default:return $()}},G=j=>{var Q;const k=R.royalty,M=z=>{S(V=>({...V,royalty:{...V.royalty,...z}}))},T=(z,V)=>{M({collectionData:{...k.collectionData,[z]:V}}),z==="address"&&V&&Tr(V)&&t&&!k.loadingInfo&&setTimeout(()=>{k.loadingInfo||O()},450)},O=async()=>{if(!k.collectionData.address||!t){te.error("Please enter a collection address and connect your wallet");return}M({loadingInfo:!0});try{let z=null,V=null;try{const me=n(k.collectionData.address,"erc721Prize");if(me)try{await me.supportsInterface("0x80ac58cd")&&(z=me,V="erc721")}catch{try{await me.balanceOf(k.collectionData.address),z=me,V="erc721"}catch{}}}catch{}if(!z)try{const me=n(k.collectionData.address,"erc1155Prize");if(me)try{await me.supportsInterface("0xd9b67a26")&&(z=me,V="erc1155")}catch{try{await me.uri(0),z=me,V="erc1155"}catch{}}}catch{}if(!z||!V)throw new Error("Invalid collection address or unsupported contract type");M({collectionData:{...k.collectionData,type:V}});let Y="Unknown Collection",Z="Unknown",ee="Unknown";try{typeof z.name=="function"&&(Y=await z.name())}catch{}try{typeof z.symbol=="function"&&(Z=await z.symbol())}catch{}try{typeof z.owner=="function"&&(ee=await z.owner())}catch{}const ae=ee!=="Unknown"&&ee.toLowerCase()===e.toLowerCase(),ne=await z.royaltyInfo(1,1e4),de=await z.royaltyPercentage(),xe=await z.royaltyRecipient();M({collectionInfo:{address:k.collectionData.address,name:Y,symbol:Z,owner:ee,type:V,isOwner:ae,currentRoyaltyPercentage:de.toString(),currentRoyaltyRecipient:xe,royaltyAmount:ne[1].toString()},collectionData:{...k.collectionData,type:V,royaltyPercentage:(de.toNumber()/100).toString(),royaltyRecipient:xe}});try{const me=await z.isRevealed();M({isRevealed:!!me})}catch(me){console.log("Could not fetch reveal status:",me.message),M({isRevealed:null})}te.success("Collection loaded successfully!")}catch(z){console.error("Error loading collection info:",z),te.error("Error loading collection info: "+z.message),M({collectionInfo:null,isRevealed:null})}finally{M({loadingInfo:!1})}},N=async()=>{if(!t||!k.collectionInfo){te.error("Please connect your wallet and load collection info first");return}if(!k.collectionInfo.isOwner){te.error("You are not the owner of this collection");return}const z=parseFloat(k.collectionData.royaltyPercentage);if(isNaN(z)||z<0){te.error("Please enter a valid royalty percentage (minimum 0%)");return}if(!k.collectionData.royaltyRecipient){te.error("Please enter a royalty recipient address");return}M({loading:!0});try{const V=k.collectionData.type==="erc721"?"erc721Prize":"erc1155Prize",Y=n(k.collectionData.address,V);if(!Y)throw new Error("Failed to create contract instance");const Z=Math.floor(z*100),ee=await i(Y.setRoyalty,Z,k.collectionData.royaltyRecipient);if(ee.success)te.success(`Royalty updated successfully! Transaction: ${ee.hash}`),await O();else throw new Error(ee.error)}catch(V){console.error("Error updating royalty:",V),te.error("Error updating royalty: "+V.message)}finally{M({loading:!1})}},I=async()=>{if(!t||!k.collectionInfo){te.error("Please connect your wallet and load collection info first");return}M({revealing:!0});try{const z=k.collectionData.type==="erc721"?"erc721Prize":"erc1155Prize",V=n(k.collectionData.address,z);if(!V)throw new Error("Failed to create contract instance");const Y=await i(V.reveal);if(Y.success)te.success("Collection revealed successfully!"),await O();else throw new Error(Y.error)}catch(z){te.error("Error revealing collection: "+(z.message||z))}finally{M({revealing:!1})}};return l.jsxs("div",{className:"p-4 space-y-4 max-w-full overflow-x-hidden dashboard-component",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("button",{onClick:j,className:"text-primary hover:text-primary/80",children:" Back"}),l.jsx("h3",{className:"text-lg font-semibold",children:"Royalty & Reveal"})]}),l.jsxs(Pr,{children:[l.jsxs(wn,{children:[l.jsxs(kn,{className:"flex items-center gap-2",children:[l.jsx(uf,{className:"h-5 w-5"}),"Royalty & Reveal Management"]}),l.jsx(Zo,{children:"Manage royalties and reveal collections for your NFT contracts"})]}),l.jsxs(Rr,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Jo,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Collection Lookup"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Address"}),l.jsx(fn,{value:k.collectionData.address,onChange:z=>T("address",z.target.value),placeholder:"0x...",className:"flex-1"})]})]}),k.collectionInfo&&l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(uf,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Collection Information"})]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"break-words",children:[l.jsx("span",{className:"font-medium",children:"Name:"})," ",k.collectionInfo.name]}),k.collectionInfo.symbol&&l.jsxs("div",{className:"break-words",children:[l.jsx("span",{className:"font-medium",children:"Symbol:"})," ",k.collectionInfo.symbol]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Type:"})," ",(Q=k.collectionInfo.type)==null?void 0:Q.toUpperCase()]}),l.jsxs("div",{className:"break-all",children:[l.jsx("span",{className:"font-medium",children:"Owner:"}),l.jsx("span",{className:"ml-1 font-mono text-xs",children:k.collectionInfo.owner})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Current Royalty:"})," ",(parseFloat(k.collectionInfo.currentRoyaltyPercentage)/100).toFixed(2),"%"]}),l.jsxs("div",{className:"break-all",children:[l.jsx("span",{className:"font-medium",children:"Royalty Recipient:"}),l.jsx("span",{className:"ml-1 font-mono text-xs",children:k.collectionInfo.currentRoyaltyRecipient})]}),k.isRevealed!==null&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Revealed:"})," ",k.isRevealed?"Yes":"No"]})]}),k.collectionInfo.isOwner&&k.isRevealed===!1&&l.jsx("button",{onClick:I,disabled:k.revealing||!t,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:k.revealing?"Revealing...":"Reveal Collection"})]}),k.collectionInfo&&k.collectionInfo.isOwner&&l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(uf,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Update Royalty Settings"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"New Royalty Percentage (%)"}),l.jsx(ds,{min:"0",step:"0.01",value:k.collectionData.royaltyPercentage,onChange:z=>T("royaltyPercentage",z.target.value),placeholder:"2.5"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"New Royalty Recipient"}),l.jsx(fn,{value:k.collectionData.royaltyRecipient,onChange:z=>T("royaltyRecipient",z.target.value),placeholder:"0x..."})]})]}),l.jsxs("button",{onClick:N,disabled:k.loading||!t||!k.collectionInfo||!k.collectionInfo.isOwner,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",children:[l.jsx(uf,{className:"h-4 w-4"}),k.loading?"Updating...":"Update Royalty Settings"]})]})]})]})]})},H=j=>l.jsxs("div",{className:"p-4 space-y-4 max-w-full overflow-x-hidden dashboard-component",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("button",{onClick:j,className:"text-primary hover:text-primary/80",children:" Back"}),l.jsx("h2",{className:"text-xl font-semibold",children:"Creator Token Vesting"})]}),l.jsx(gz,{})]}),K=j=>{var z;const k=R.minter,M=V=>{S(Y=>({...Y,minter:{...Y.minter,...V}}))},T=V=>Tr(V),O=V=>{if(V!=null&&V.reason)return V.reason;if(V!=null&&V.message){const Y=V.message.match(/reason="([^"]+)"/);return Y?Y[1]:V.message}return"Transaction failed"},N=async()=>{if(M({error:"",success:"",fetchedCollection:"",isLocked:!1,currentMinter:"",isApproved:!1,collectionName:"",collectionSymbol:"",collectionType:null}),!T(k.collectionAddress)){M({error:"Please enter a valid Ethereum contract address."});return}if(!r){M({error:"Provider not available."});return}try{M({loading:!0});let V=new At(k.collectionAddress,ht.erc721Prize,r),Y=!1,Z="",ee="";try{const ae=await V.minterLocked(),ne=await V.minter();M({isLocked:ae,currentMinter:ne,collectionType:"erc721"}),Y=!0}catch{V=new At(k.collectionAddress,ht.erc1155Prize,r);try{const ne=await V.minterLocked(),de=await V.minter();M({isLocked:ne,currentMinter:de,collectionType:"erc1155"})}catch(ne){M({error:"Failed to fetch collection: "+ne.message,collectionType:null,loading:!1});return}}if(Y){try{typeof V.name=="function"?Z=await V.name():Z="N/A"}catch{Z="N/A"}try{typeof V.symbol=="function"?ee=await V.symbol():ee="N/A"}catch{ee="N/A"}}else Z="ERC1155 Collection",ee="N/A";M({fetchedCollection:k.collectionAddress,collectionName:Z,collectionSymbol:ee,success:"Collection loaded successfully!",loading:!1})}catch(V){console.error("Error fetching collection:",V),M({error:"Failed to fetch collection: "+V.message,loading:!1})}},I=async V=>{if(!k.fetchedCollection||!r){te.error("Please fetch a collection and enter a valid minter address");return}if(!k.minterAddress||!T(k.minterAddress)){te.error("Please enter a valid Ethereum address");return}try{M({loading:!0,error:"",success:""});const Y=r.getSigner();let Z;k.collectionType==="erc721"?Z=new At(k.fetchedCollection,ht.erc721Prize,Y):k.collectionType==="erc1155"&&(Z=new At(k.fetchedCollection,ht.erc1155Prize,Y)),await(await Z.setMinterApproval(k.minterAddress,V)).wait(),te.success(`Minter ${V?"set":"removed"} successfully!`),M({isApproved:V,minterAddress:""})}catch(Y){te.error(`Failed to set minter approval: ${O(Y)}`)}finally{M({loading:!1})}},Q=async()=>{if(!k.fetchedCollection||!r){te.error("Please fetch a collection first");return}try{M({loading:!0,error:"",success:""});const V=r.getSigner();let Y;k.collectionType==="erc721"?Y=new At(k.fetchedCollection,ht.erc721Prize,V):k.collectionType==="erc1155"&&(Y=new At(k.fetchedCollection,ht.erc1155Prize,V));let Z;try{if(typeof Y.owner=="function")Z=await Y.owner();else{te.error("Contract does not support owner functionality"),M({loading:!1});return}}catch{te.error("Failed to get contract owner"),M({loading:!1});return}const ee=await V.getAddress();if(Z.toLowerCase()!==ee.toLowerCase()){te.error("Only the contract owner can lock/unlock minter approval"),M({loading:!1});return}let ae;k.collectionType==="erc721"?k.isLocked?(console.log("Attempting to unlock minter approval..."),ae=await Y.unlockMinterApproval()):(console.log("Attempting to lock minter approval..."),ae=await Y.lockMinterApproval()):k.collectionType==="erc1155"&&(k.isLocked?(console.log("Attempting to unlock minter approval..."),ae=await Y.unlockMinterApproval()):(console.log("Attempting to lock minter approval..."),ae=await Y.lockMinterApproval())),console.log("Transaction sent:",ae.hash),await ae.wait(),te.success(`Minter approval ${k.isLocked?"unlocked":"locked"} successfully!`),M({isLocked:!k.isLocked})}catch(V){console.error("Error in toggleMinterApprovalLock:",V),te.error(`Failed to ${k.isLocked?"unlock":"lock"} minter approval: ${O(V)}`)}finally{M({loading:!1})}};return l.jsxs("div",{className:"p-4 space-y-4 max-w-full overflow-x-hidden dashboard-component",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("button",{onClick:j,className:"text-primary hover:text-primary/80",children:" Back"}),l.jsx("h3",{className:"text-lg font-semibold",children:"Minter Approval Management"})]}),l.jsxs(Pr,{children:[l.jsxs(wn,{children:[l.jsxs(kn,{className:"flex items-center gap-2",children:[l.jsx(Xo,{className:"h-5 w-5"}),"Minter Approval Management"]}),l.jsx(Zo,{children:"Manage minter approvals for collections and control royalty enforcement exemptions"})]}),l.jsxs(Rr,{className:"space-y-6",children:[k.error&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(dr,{className:"h-4 w-4 text-red-600"}),l.jsx("span",{className:"text-sm text-red-800",children:k.error})]})}),k.success&&l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:l.jsx("div",{className:"text-sm text-green-800",children:k.success})}),l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Jo,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Collection Lookup"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Address"}),l.jsx(fn,{value:k.collectionAddress,onChange:V=>{M({collectionAddress:V.target.value});const Y=V.target.value;Y&&Tr(Y)&&t&&!k.loading&&setTimeout(()=>{k.loading||N()},350)},placeholder:"0x...",className:"flex-1"})]})]}),k.fetchedCollection&&l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Xo,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Collection Information"})]}),l.jsxs("div",{className:"text-sm space-y-2",children:[l.jsxs("div",{className:"break-all",children:[l.jsx("span",{className:"font-medium",children:"Address:"}),l.jsx("span",{className:"ml-1 font-mono text-xs",children:k.fetchedCollection})]}),l.jsxs("div",{className:"break-words",children:[l.jsx("span",{className:"font-medium",children:"Name:"})," ",k.collectionName]}),k.collectionSymbol&&l.jsxs("div",{className:"break-words",children:[l.jsx("span",{className:"font-medium",children:"Symbol:"})," ",k.collectionSymbol]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Type:"})," ",(z=k.collectionType)==null?void 0:z.toUpperCase()]}),l.jsxs("div",{className:"break-all",children:[l.jsx("span",{className:"font-medium",children:"Current Minter:"}),l.jsx("span",{className:"ml-1 font-mono text-xs",children:k.currentMinter||"None"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Minter Locked:"})," ",k.isLocked?"Yes":"No"]})]}),l.jsx("div",{className:"pt-2 border-t border-border",children:l.jsx("button",{onClick:Q,disabled:k.loading||!t,className:"w-full bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:k.loading?"Processing...":k.isLocked?"Unlock Minter Approval":"Lock Minter Approval"})})]}),k.fetchedCollection&&l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Xo,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Minter Management"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Minter Address"}),l.jsx(fn,{value:k.minterAddress,onChange:V=>M({minterAddress:V.target.value}),placeholder:"0x..."}),k.minterAddress&&k.isApproved&&l.jsx("p",{className:"text-sm text-green-600 mt-1",children:" This address is currently the minter"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("button",{onClick:()=>I(!0),disabled:k.loading||k.isApproved||k.isLocked||!k.minterAddress||!T(k.minterAddress),className:"w-full bg-[#614E41] text-white px-4 py-2 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",title:k.minterAddress?T(k.minterAddress)?k.isApproved?"Address is already the minter":k.isLocked?"Minter approval is locked":"Set as minter":"Please enter a valid address":"Please enter a minter address",children:[k.loading?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):l.jsx(Xo,{className:"h-4 w-4"}),"Set Minter"]}),l.jsxs("button",{onClick:()=>I(!1),disabled:k.loading||!k.isApproved||k.isLocked||!k.minterAddress||!T(k.minterAddress),className:"w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",title:k.minterAddress?T(k.minterAddress)?k.isApproved?k.isLocked?"Minter approval is locked":"Remove minter":"Address is not currently the minter":"Please enter a valid address":"Please enter a minter address",children:[k.loading?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):l.jsx(Xo,{className:"h-4 w-4"}),"Remove Minter"]})]}),l.jsxs("div",{className:"space-y-3 pt-3 border-t border-border",children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Royalty Enforcement Exemption Address"}),l.jsx(fn,{value:k.minterAddress,onChange:V=>M({minterAddress:V.target.value}),placeholder:"0x..."}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("button",{onClick:async()=>{try{M({loading:!0,error:""});const Y=await new At(k.fetchedCollection,k.collectionType==="erc721"?ht.erc721Prize:ht.erc1155Prize,r).isRoyaltyEnforcementExempt(k.minterAddress);te.success(Y?"Address is exempt from royalty enforcement":"Address is NOT exempt")}catch(V){te.error(`Failed to check exemption: ${O(V)}`)}finally{M({loading:!1})}},disabled:!k.fetchedCollection||!k.minterAddress||!T(k.minterAddress)||k.loading,className:"w-full bg-gray-100 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Check exemption"}),l.jsx("button",{onClick:async()=>{try{M({loading:!0,error:""});const V=r.getSigner();await(await new At(k.fetchedCollection,k.collectionType==="erc721"?ht.erc721Prize:ht.erc1155Prize,V).setRoyaltyEnforcementExemption(k.minterAddress,!0)).wait(),te.success("Exemption granted successfully")}catch(V){te.error(`Failed to grant exemption: ${O(V)}`)}finally{M({loading:!1})}},disabled:!k.fetchedCollection||!k.minterAddress||!T(k.minterAddress)||k.loading,className:"w-full bg-[#614E41] text-white px-4 py-2 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Grant Exemption"}),l.jsx("button",{onClick:async()=>{try{M({loading:!0,error:""});const V=r.getSigner();await(await new At(k.fetchedCollection,k.collectionType==="erc721"?ht.erc721Prize:ht.erc1155Prize,V).setRoyaltyEnforcementExemption(k.minterAddress,!1)).wait(),te.success("Exemption revoked successfully")}catch(V){te.error(`Failed to revoke exemption: ${O(V)}`)}finally{M({loading:!1})}},disabled:!k.fetchedCollection||!k.minterAddress||!T(k.minterAddress)||k.loading,className:"w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Revoke Exemption"})]})]})]}),k.isLocked&&k.fetchedCollection&&l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(dr,{className:"h-4 w-4 text-yellow-600"}),l.jsx("span",{className:"text-sm text-yellow-800",children:"Minter approval is locked for this collection. Use the unlock button above to enable changes."})]})})]})]})]})},J=j=>l.jsxs("div",{className:"p-4 space-y-4 max-w-full overflow-x-hidden dashboard-component",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("button",{onClick:j,className:"text-primary hover:text-primary/80",children:" Back"}),l.jsx("h3",{className:"text-lg font-semibold",children:"KOL Approval Management"})]}),l.jsx("div",{className:"w-full",children:l.jsx(mz,{})})]}),W=j=>{const k=R.tokenCreator,M=Q=>{S(z=>({...z,tokenCreator:{...z.tokenCreator,...Q}}))},T=async Q=>{try{const z=n(Q,"erc1155Prize");if(z)try{if(await z.supportsInterface("0xd9b67a26"))return{type:"erc1155",contract:z}}catch{try{return await z.balanceOf(Q,0),{type:"erc1155",contract:z}}catch{}}const V=n(Q,"erc721Prize");if(V)try{if(await V.supportsInterface("0x80ac58cd"))return{type:"erc721",contract:V}}catch{try{return await V.balanceOf(Q),{type:"erc721",contract:V}}catch{}}throw new Error("Contract is neither ERC721 nor ERC1155 compatible")}catch(z){throw new Error(`Failed to detect contract type: ${z.message}`)}},O=async()=>{if(!k.collectionData.address||!t){te.error("Please enter a collection address");return}M({loadingInfo:!0});try{const{type:Q,contract:z}=await T(k.collectionData.address);if(Q!=="erc1155"){te.error(" This component is only for ERC1155 collections. The provided address appears to be an ERC721 collection. Please use the appropriate component for ERC721 collections."),M({collectionInfo:{address:k.collectionData.address,isOwner:!1,owner:"N/A",type:"erc721",isBlocked:!0},loadingInfo:!1});return}const V=await z.owner(),Y=V.toLowerCase()===e.toLowerCase();M({collectionInfo:{address:k.collectionData.address,isOwner:Y,owner:V,type:"erc1155"},collectionData:{...k.collectionData,type:"erc1155"}}),Y?te.success("ERC1155 collection loaded successfully"):te.error("You are not the owner of this collection")}catch(Q){console.error("Error loading collection info:",Q),te.error("Failed to load collection info. Please verify the address is a valid ERC1155 collection."),M({collectionInfo:null})}finally{M({loadingInfo:!1})}},N=async()=>{if(!t||!k.collectionInfo){te.error("Please connect your wallet and load collection info first");return}const Q=parseInt(k.tokenCreationData.tokenId),z=parseInt(k.tokenCreationData.maxSupply);if(isNaN(Q)||Q<0){te.error("Please enter a valid token ID");return}if(isNaN(z)||z<=0){te.error("Please enter a valid max supply");return}M({loading:!0});try{const V=n(k.collectionData.address,"erc1155Prize"),Y=await i(V.createNewToken,Q,z);if(Y.success)te.success(`Token ID ${Q} created successfully with max supply of ${z}!`),M({tokenCreationData:{tokenId:"",maxSupply:""}});else throw new Error(Y.error)}catch(V){console.error("Error creating new token:",V),te.error(`Failed to create new token: ${V.message}`)}finally{M({loading:!1})}},I=async()=>{if(!t||!k.collectionInfo){te.error("Please connect your wallet and load collection info first");return}const Q=parseInt(k.uriData.tokenId);if(isNaN(Q)||Q<0){te.error("Please enter a valid token ID");return}if(!k.uriData.tokenURI){te.error("Please enter a token URI");return}M({loading:!0});try{const z=n(k.collectionData.address,"erc1155Prize"),V=await i(z.setURI,Q,k.uriData.tokenURI);if(V.success)te.success(`Token URI set successfully for token ID ${Q}!`),M({uriData:{tokenId:"",tokenURI:""}});else throw new Error(V.error)}catch(z){console.error("Error setting token URI:",z),te.error(`Failed to set token URI: ${z.message}`)}finally{M({loading:!1})}};return l.jsxs("div",{className:"p-4 space-y-4 max-w-full overflow-x-hidden dashboard-component",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("button",{onClick:j,className:"text-primary hover:text-primary/80",children:" Back"}),l.jsx("h3",{className:"text-lg font-semibold",children:"Create New Token ID & Set Token URI"})]}),l.jsxs(Pr,{children:[l.jsxs(wn,{children:[l.jsxs(kn,{className:"flex items-center gap-2",children:[l.jsx(Is,{className:"h-5 w-5"}),"Token Creator"]}),l.jsx(Zo,{children:"Add new token IDs to ERC1155 collections and set metadata URIs"})]}),l.jsxs(Rr,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Jo,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Collection Lookup"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"ERC1155 Collection Address"}),l.jsx(fn,{value:k.collectionData.address,onChange:Q=>{M({collectionData:{...k.collectionData,address:Q.target.value}});const z=Q.target.value;z&&Tr(z)&&t&&!k.loadingInfo&&setTimeout(()=>{k.loadingInfo||O()},400)},placeholder:"0x...",className:"flex-1"})]})]}),k.collectionInfo&&l.jsxs("div",{className:`space-y-4 p-4 border border-border rounded-lg ${k.collectionInfo.isBlocked?"bg-destructive/10 border-destructive/20":"bg-muted/50"}`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(dr,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Collection Information"})]}),l.jsxs("div",{className:"space-y-1 text-sm",children:[l.jsxs("p",{className:"break-all",children:[l.jsx("span",{className:"font-medium",children:"Address:"})," ",k.collectionInfo.address]}),l.jsxs("p",{className:"break-all",children:[l.jsx("span",{className:"font-medium",children:"Owner:"})," ",k.collectionInfo.owner]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"You are owner:"})," ",k.collectionInfo.isOwner?" Yes":" No"]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Type:"})," ",k.collectionInfo.type==="erc721"?" ERC721 Collection (Incompatible)":" ERC1155 Collection"]})]}),k.collectionInfo.isBlocked&&l.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[l.jsx(dr,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm text-destructive",children:"This component only works with ERC1155 collections. The provided address is an ERC721 collection. Please use the appropriate component for ERC721 collections."})]}),!k.collectionInfo.isBlocked&&!k.collectionInfo.isOwner&&l.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[l.jsx(dr,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm text-destructive",children:"You are not the owner of this collection and cannot create new tokens."})]})]}),k.collectionInfo&&k.collectionInfo.isOwner&&!k.collectionInfo.isBlocked&&l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Is,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Create New Token ID"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Token ID"}),l.jsx(ds,{min:"0",value:k.tokenCreationData.tokenId,onChange:Q=>M({tokenCreationData:{...k.tokenCreationData,tokenId:Q.target.value}}),placeholder:"1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Max Supply"}),l.jsx(ds,{min:"1",value:k.tokenCreationData.maxSupply,onChange:Q=>M({tokenCreationData:{...k.tokenCreationData,maxSupply:Q.target.value}}),placeholder:"100"})]})]}),l.jsxs("button",{onClick:N,disabled:k.loading||!t||!k.collectionInfo.isOwner||k.collectionInfo.isBlocked||!k.tokenCreationData.tokenId||!k.tokenCreationData.maxSupply,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",children:[l.jsx(Is,{className:"h-4 w-4"}),k.loading?"Creating...":"Create New Token ID"]})]}),k.collectionInfo&&k.collectionInfo.isOwner&&!k.collectionInfo.isBlocked&&l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Jo,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Set Token URI"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Token ID"}),l.jsx(ds,{min:"0",value:k.uriData.tokenId,onChange:Q=>M({uriData:{...k.uriData,tokenId:Q.target.value}}),placeholder:"1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Token URI"}),l.jsx(fn,{value:k.uriData.tokenURI,onChange:Q=>M({uriData:{...k.uriData,tokenURI:Q.target.value}}),placeholder:"https://..."})]})]}),l.jsxs("button",{onClick:I,disabled:k.loading||!t||!k.collectionInfo.isOwner||k.collectionInfo.isBlocked||!k.uriData.tokenId||!k.uriData.tokenURI,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",children:[l.jsx(Jo,{className:"h-4 w-4"}),k.loading?"Setting...":"Set Token URI"]})]})]})]})]})},F=j=>{const k=R.revenue,M=z=>{S(V=>({...V,revenue:{...V.revenue,...z}}))},T=async z=>{if(!z||!t){te.error("Please enter a raffle address and connect your wallet");return}M({loading:!0});try{const V=n(z,"pool");if(!V)throw new Error("Failed to create raffle contract instance");const[Y,Z,ee]=await Promise.all([V.creator(),V.totalCreatorRevenue(),V.state()]),ae=Y.toLowerCase()===e.toLowerCase(),ne=["Pending","Active","Ended","Drawing","Completed","Deleted","AllPrizesClaimed","Unengaged"],de=ee&&typeof ee=="object"&&typeof ee.toNumber=="function"?ee.toNumber():Number(ee),xe=Number.isFinite(de)&&de>=0&&de<ne.length?ne[de]:"Unknown";M({raffleData:{address:z,revenueAmount:Ir(Z),isCreator:ae,raffleState:xe,totalRevenue:Z}})}catch(V){console.error("Error loading raffle info:",V),te.error("Error loading raffle info: "+V.message),M({raffleData:{address:z,revenueAmount:"0",isCreator:!1,raffleState:"error"}})}finally{M({loading:!1})}},O=async()=>{if(!t||!k.raffleData.address){te.error("Please connect your wallet and load raffle info first");return}if(!k.raffleData.isCreator){te.error("You are not the creator of this raffle");return}if(parseFloat(k.raffleData.revenueAmount)<=0){te.info("No revenue available for withdrawal");return}if(!["Completed","AllPrizesClaimed","Ended"].includes(k.raffleData.raffleState)){te.info(`Revenue can only be withdrawn from completed raffles. Current state: ${k.raffleData.raffleState}`);return}M({loading:!0});try{const V=n(k.raffleData.address,"pool");if(!V)throw new Error("Failed to create raffle contract instance");const Y=await i(V.withdrawCreatorRevenue);if(Y.success)te.success(`Revenue withdrawn successfully! Transaction: ${Y.hash}`),await T(k.raffleData.address);else throw new Error(Y.error)}catch(V){console.error("Error withdrawing revenue:",V),te.error("Error withdrawing revenue: "+V.message)}finally{M({loading:!1})}},N=(z,V)=>{M({mintData:{...k.mintData,[z]:V}})},I=async()=>{if(!t||!e){te.error("Please connect your wallet");return}if(!k.mintData.collectionAddress||!k.mintData.recipient||!k.mintData.quantity){te.error("Please fill in all required fields");return}const z=parseInt(k.mintData.quantity);if(isNaN(z)||z<=0){te.error("Please enter a valid quantity");return}if(k.mintData.collectionType==="erc1155"){const V=parseInt(k.mintData.tokenId);if(isNaN(V)||V<0){te.error("Please enter a valid token ID for ERC1155");return}}M({mintLoading:!0});try{const V=k.mintData.collectionType==="erc721"?"erc721Prize":"erc1155Prize",Y=n(k.mintData.collectionAddress,V);if(!Y)throw new Error("Failed to create contract instance");let Z;if(k.mintData.collectionType==="erc721")Z=await i(Y.creatorMint,k.mintData.recipient,z);else{const ee=parseInt(k.mintData.tokenId);Z=await i(Y.creatorMint,k.mintData.recipient,ee,z)}if(Z.success)te.success(`Successfully minted ${z} token(s)! Transaction: ${Z.hash}`),M({mintData:{...k.mintData,recipient:"",quantity:"",tokenId:""}});else throw new Error(Z.error)}catch(V){console.error("Error minting tokens:",V),te.error("Error minting tokens: "+V.message)}finally{M({mintLoading:!1})}},Q=k.raffleData.isCreator&&parseFloat(k.raffleData.revenueAmount)>0&&["Completed","AllPrizesClaimed","Ended"].includes(k.raffleData.raffleState);return l.jsxs("div",{className:"p-4 space-y-4 max-w-full overflow-x-hidden dashboard-component",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("button",{onClick:j,className:"text-primary hover:text-primary/80",children:" Back"}),l.jsx("h3",{className:"text-lg font-semibold",children:"Creator Mint & Revenue Withdrawal"})]}),l.jsxs(Pr,{children:[l.jsxs(wn,{children:[l.jsxs(kn,{className:"flex items-center gap-2",children:[l.jsx(Yo,{className:"h-5 w-5"}),"Creator Mint & Revenue Withdrawal"]}),l.jsx(Zo,{children:"Withdraw revenue from completed raffles and mint creator tokens"})]}),l.jsxs(Rr,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Jo,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Raffle Lookup"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Raffle Address"}),l.jsx(fn,{value:k.raffleData.address,onChange:z=>{M({raffleData:{...k.raffleData,address:z.target.value}});const V=z.target.value;V&&Tr(V)&&t&&!k.loading&&setTimeout(()=>{k.loading||T(V)},400)},placeholder:"0x...",className:"flex-1"})]})]}),m.length>0&&l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(L0,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Your Created Raffles"})]}),l.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:m.slice(0,5).map(z=>l.jsxs("button",{onClick:()=>T(z.address),className:"w-full text-left bg-muted/30 beige-surface border border-[#614E41] rounded-lg p-3 hover:bg-muted/50 transition-colors",children:[l.jsx("div",{className:"text-sm font-medium",children:z.name||`Raffle ${z.address.slice(0,8)}...`}),l.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2",children:["State: ",P(z.state,{stateNum:z.stateNum})]})]},z.address))})]}),k.raffleData.address&&k.raffleData.raffleState!=="unknown"&&l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Yo,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Raffle Information"})]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"break-all",children:[l.jsx("span",{className:"font-medium",children:"Address:"}),l.jsx("span",{className:"ml-1 font-mono text-xs",children:k.raffleData.address})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium",children:"State:"})," ",P(k.raffleData.raffleState,{stateNum:k.raffleData.stateNum,winnerCount:k.raffleData.winnerCount})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"You are creator:"})," ",k.raffleData.isCreator?"Yes":"No"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Available Revenue:"})," ",k.raffleData.revenueAmount," ",f()]})]}),k.raffleData.isCreator&&l.jsx("div",{className:"mt-4",children:Q?l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:l.jsx("div",{className:"text-sm text-green-800",children:" Revenue withdrawal is available"})}):l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:l.jsx("div",{className:"text-sm text-yellow-800",children:parseFloat(k.raffleData.revenueAmount)<=0?"No revenue available for withdrawal":`Revenue withdrawal not available - raffle state: ${k.raffleData.raffleState}`})})})]}),k.raffleData.isCreator&&l.jsxs("button",{onClick:O,disabled:k.loading||!t||!Q,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",children:[l.jsx(Yo,{className:"h-4 w-4"}),k.loading?"Withdrawing...":`Withdraw ${k.raffleData.revenueAmount} ${f()}`]}),l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Ef,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Creator Mint"})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Mint tokens directly to winners or any address"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Type"}),l.jsxs(rd,{value:k.mintData.collectionType,onValueChange:z=>N("collectionType",z),children:[l.jsx(id,{children:l.jsx(nd,{placeholder:"Select collection type"})}),l.jsxs(sd,{children:[l.jsx(ji,{value:"erc721",children:"ERC721"}),l.jsx(ji,{value:"erc1155",children:"ERC1155"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Address"}),l.jsx(fn,{value:k.mintData.collectionAddress,onChange:z=>N("collectionAddress",z.target.value),placeholder:"0x..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Recipient Address"}),l.jsx(fn,{value:k.mintData.recipient,onChange:z=>N("recipient",z.target.value),placeholder:"0x..."})]}),k.mintData.collectionType==="erc1155"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Token ID"}),l.jsx(ds,{min:"0",value:k.mintData.tokenId,onChange:z=>N("tokenId",z.target.value),placeholder:"0"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantity"}),l.jsx(ds,{min:"1",value:k.mintData.quantity,onChange:z=>N("quantity",z.target.value),placeholder:"1"})]}),l.jsxs("button",{onClick:I,disabled:k.mintLoading||!t||!k.mintData.collectionAddress||!k.mintData.recipient||!k.mintData.quantity||k.mintData.collectionType==="erc1155"&&!k.mintData.tokenId,className:"w-full bg-green-600 text-white px-6 py-2.5 h-10 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",children:[l.jsx(Is,{className:"h-4 w-4"}),k.mintLoading?"Minting...":`Mint ${k.mintData.quantity||"1"} Token(s)`]}),!t&&l.jsx("div",{className:"text-center p-4 bg-muted rounded-lg",children:l.jsx("p",{className:"text-muted-foreground text-sm",children:"Please connect your wallet to use creator mint functionality."})})]})]})]})]})},b=()=>{const j=k=>{const M=typeof window<"u"&&window.ethereum&&window.ethereum.chainId?parseInt(window.ethereum.chainId,16):null,T=M&&Ht[M]?Ht[M].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):M||"",O=T?`/${T}/raffle/${k}`:`/raffle/${k}`;s(O)};return!m||m.length===0?l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Ef,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Raffles Created Yet"}),l.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"You haven't created any raffles yet. Start by creating your first raffle!"}),l.jsx("button",{onClick:()=>s("/create-raffle"),className:"bg-[#614E41] text-white px-6 py-2 rounded-lg hover:bg-[#4a3a30] transition-colors",children:"Create Your First Raffle"})]})}):l.jsxs("div",{className:"p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"My Raffles"}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:[m.length," raffles"]})]}),m.map(k=>l.jsxs("div",{className:"bg-card beige-surface border border-[#614E41] rounded-lg p-4 hover:bg-muted/30 transition-colors",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-medium text-foreground text-sm mb-1",children:k.name||`Raffle ${k.address.slice(0,8)}...`}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Slots Sold:"})," ",k.ticketsSold||0," / ",k.maxTickets||"Unlimited"]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Revenue:"})," ",p(k.revenue||"0")]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Created:"})," ",k.createdAt?new Date(k.createdAt<1e12?k.createdAt*1e3:k.createdAt).toLocaleString():"Unknown"]})]})]}),l.jsx("div",{className:"flex flex-col gap-2",children:l.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${k.state==="active"?"bg-green-100 text-green-800":k.state==="completed"?"bg-blue-100 text-blue-800":k.state==="ended"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:k.state})})]}),l.jsx("div",{className:"flex gap-2 mt-3",children:l.jsx("button",{onClick:()=>j(k.address),className:"text-sm bg-primary/10 text-primary px-3 py-1.5 rounded-md hover:bg-primary/20 transition-colors",children:"View Details"})})]},k.address))]})},A=()=>!v||v.length===0?l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx(L0,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Slots Purchased Yet"}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"You haven't purchased any pool slots yet. Browse active pools to get started!"})]})}):l.jsxs("div",{className:"p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Purchased Slots"}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:[v.length," slots"]})]}),v.map((j,k)=>{var M;return l.jsxs("div",{className:"bg-card beige-surface border border-[#614E41] rounded-lg p-4 hover:bg-muted/30 transition-colors",children:[l.jsx("div",{className:"flex items-start justify-between gap-3",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-medium text-foreground text-sm mb-1",children:j.raffleName||j.poolName||j.name||`Raffle ${(M=j.raffleAddress)==null?void 0:M.slice(0,8)}...`}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Slots:"})," ",j.quantity||j.ticketCount||1]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Amount Paid:"})," ",(()=>{const T=j.totalSpent??j.amount;if(T==null||T===""){const O=j.quantity||j.ticketCount||0,N=j.slotFee;if(N){const I=(parseFloat(N)||0)*O;return p(I.toString())}return p("0")}return p(T)})()]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Purchased:"})," ",j.purchaseTime?new Date(j.purchaseTime<1e12?j.purchaseTime*1e3:j.purchaseTime).toLocaleString():"Unknown"]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"State:"})," ",P(j.state,{stateNum:j.stateNum})]})]})]})}),l.jsx("div",{className:"flex gap-2 mt-3",children:j.state==="ended"&&l.jsx("button",{onClick:()=>E(j.raffleAddress),className:"text-sm bg-green-500/10 text-green-600 px-3 py-1.5 rounded-md hover:bg-green-500/20 transition-colors",children:"Claim Refund"})})]},j.id||k)})]}),D=()=>o==="activity"?B():o==="created"?b():o==="purchased"?A():o==="dashboard"?$():B();return l.jsxs("div",{className:"min-h-screen bg-background overflow-x-hidden",children:[l.jsxs("div",{className:"bg-card beige-surface border-b border-[#614E41] p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Profile"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Track activities and manage your raffles"}),l.jsxs("div",{className:"bg-muted/50 beige-surface border border-[#614E41] rounded-lg p-3",children:[l.jsx("p",{className:"text-sm font-medium",children:"Connected Account:"}),l.jsx("p",{className:"text-xs font-mono break-all",children:e})]})]}),l.jsx("div",{className:"p-4",children:l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[l.jsx("button",{onClick:()=>a("activity"),"data-profile-tab":!0,className:`p-4 rounded-lg border transition-colors ${o==="activity"?"border-primary bg-primary/10 text-primary":"border-[#614E41] bg-background hover:bg-muted text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"Activity"})}),l.jsx("button",{onClick:()=>a("created"),"data-profile-tab":!0,className:`p-4 rounded-lg border transition-colors ${o==="created"?"border-primary bg-primary/10 text-primary":"border-[#614E41] bg-background hover:bg-muted text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"My Raffles"})}),l.jsx("button",{onClick:()=>a("purchased"),"data-profile-tab":!0,className:`p-4 rounded-lg border transition-colors ${o==="purchased"?"border-primary bg-primary/10 text-primary":"border-[#614E41] bg-background hover:bg-muted text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"Slots"})}),l.jsx("button",{onClick:()=>a("dashboard"),"data-profile-tab":!0,className:`p-4 rounded-lg border transition-colors ${o==="dashboard"?"border-primary bg-primary/10 text-primary":"border-[#614E41] bg-background hover:bg-muted text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"Dashboard"})})]})}),l.jsx("div",{className:"pb-8",children:D()}),w&&l.jsxs("div",{className:"text-center py-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto mb-2"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Loading on-chain data"})]})]})},zue=()=>{const{isMobile:t,isInitialized:e}=pn();return e?t?l.jsx(Fue,{}):l.jsx(Bue,{}):l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold mb-2",style:{fontFamily:"Orbitron, monospace"},children:"Dropr"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading..."})]})})},Bue=()=>{const{connected:t,address:e,provider:r,chainId:n}=xr(),{contracts:i,getContractInstance:s,executeTransaction:o,executeCall:a}=Cr();Ua();const{isMobile:c}=pn(),{getCurrencySymbol:d}=Sn(),{userActivity:f,createdRaffles:p,purchasedTickets:g,activityStats:m,creatorStats:v,loading:x,showRevenueModal:w,selectedRaffle:E,setSelectedRaffle:P,fetchCreatedRaffles:R,fetchPurchasedTickets:S}=yz(),[B,$]=C.useState("activity"),q=C.useMemo(()=>f.map(F=>{const b=()=>{var M;const j=F.raffleName||F.name||`Raffle ${(M=F.raffleAddress)==null?void 0:M.slice(0,8)}...`,k=F.quantity||F.ticketCount||1;switch(F.type){case"ticket_purchase":return`Purchased ${k} ${j} slot${k>1?"s":""}`;case"raffle_created":return`Created raffle "${j}"`;case"raffle_deleted":return`Deleted raffle "${j}"`;case"prize_won":return`Won prize in "${j}"`;case"prize_claimed":return`Claimed prize from "${j}"`;case"refund_claimed":return`Claimed refund from "${j}"`;case"revenue_withdrawn":return`Withdrew revenue from "${j}"`;case"admin_withdrawn":return`Admin withdrawal: ${F.amount} ${d()}`;default:return F.description||"Activity"}},A=()=>{switch(F.type){case"ticket_purchase":return F.amount?`${F.amount} ${d()}`:"";case"refund_claimed":return F.amount?`${F.amount} ${d()}`:"";default:return F.description||""}},D=()=>{switch(F.type){case"ticket_purchase":return l.jsx(L0,{className:"h-4 w-4 text-blue-500"});case"raffle_created":return l.jsx(Is,{className:"h-4 w-4 text-green-500"});case"raffle_deleted":return l.jsx(Sm,{className:"h-4 w-4 text-red-500"});case"prize_won":return l.jsx(Ef,{className:"h-4 w-4 text-yellow-500"});case"prize_claimed":return l.jsx(Ef,{className:"h-4 w-4 text-yellow-500"});case"refund_claimed":return l.jsx(Qf,{className:"h-4 w-4 text-orange-500"});case"revenue_withdrawn":return l.jsx(Yo,{className:"h-4 w-4 text-green-500"});case"admin_withdrawn":return l.jsx(Yo,{className:"h-4 w-4 text-purple-500"});default:return l.jsx(Sm,{className:"h-4 w-4 text-gray-500"})}};return{...F,title:b(),description:A(),icon:D(),timestamp:F.timestamp?new Date(F.timestamp<1e12?F.timestamp*1e3:F.timestamp).toLocaleString():"Unknown date"}}),[f]);function G(F){var D,j;if(F!=null&&F.reason)return F.reason;if((D=F==null?void 0:F.data)!=null&&D.message)return F.data.message;const b=(F==null?void 0:F.message)||((j=F==null?void 0:F.data)==null?void 0:j.message)||(F==null?void 0:F.toString())||"",A=b.match(/execution reverted:?\s*([^\n]*)/i);return A&&A[1]?A[1].trim():b}const H=async F=>{let b=`Are you sure you want to delete "${F.name}"?`;if(F.ticketsSold>0&&(b+=`

This raffle has ${F.ticketsSold} sold tickets. Deletion will automatically process refunds for all participants.`),!!window.confirm(b))try{const A=s(F.address,"pool");if(!A)throw new Error("Failed to get raffle contract");const D=await o(A.deleteRaffle);if(D.success){const j=F.ticketsSold>0?`Raffle deleted successfully! Refunds have been processed automatically for ${F.ticketsSold} sold tickets.`:"Raffle deleted successfully!";te.success(j),setLoading(!0),await Promise.all([R(),S()]),setLoading(!1)}else throw new Error(D.error)}catch(A){te.error(G(A))}},K=F=>{P(F),setShowRevenueModal(!0)},J=async F=>{try{const b=s(F.raffleAddress,"pool");if(!b)throw new Error("Failed to get pool contract");let A;if(F.prizeAmount>1?A=await o(b.claimPrizes,F.prizeAmount):A=await o(b.claimPrize),A.success)te.success("Prize claimed successfully!"),setLoading(!0),await Promise.all([R(),S()]),setLoading(!1);else throw new Error(A.error)}catch(b){te.error(G(b))}},W=async F=>{try{const b=s(F.raffleAddress,"pool");if(!b)throw new Error("Failed to get pool contract");const A=await b.refundedNonWinningTickets(e),D=A&&A.gt&&A.gt(0),j=await o(b.claimRefund);if(j.success)te.success("Refund claimed successfully!"),setLoading(!0),await Promise.all([R(),S()]),setLoading(!1);else throw new Error(j.error)}catch(b){te.error(G(b))}};return t?l.jsxs(yl,{variant:"profile",className:"pt-8 pb-4",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:`${c?"mb-4":"flex items-center justify-between mb-4"}`,children:l.jsxs("div",{children:[l.jsx("h1",{className:`text-3xl font-bold mb-4 font-display ${c?"text-2xl mb-2":""}`,children:"Profile"}),l.jsx("p",{className:`text-muted-foreground ${c?"text-sm":"text-base"}`,children:"Track activities, manage your raffles, revenue and collections"})]})}),l.jsxs("div",{className:`mt-4 bg-muted/50 backdrop-blur-sm border border-border/30 rounded-lg ${c?"p-3":"p-4"}`,children:[l.jsx("p",{className:"text-sm font-medium",children:"Connected Account:"}),l.jsx("p",{className:`font-mono ${c?"text-xs break-all":"text-sm"}`,children:e})]})]}),!c&&l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:`font-semibold mb-4 ${c?"text-lg":"text-xl"}`,children:"Activity Overview"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-3 shadow-xl transition-all duration-300",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Zf,{className:"h-6 w-6 text-blue-500"}),l.jsxs("div",{children:[l.jsx("p",{className:`font-bold ${c?"text-lg":"text-xl"}`,children:Number(m.totalSlotsPurchased||0).toLocaleString()}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Slots Purchased"})]})]})}),l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-3 shadow-xl transition-all duration-300",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Is,{className:"h-6 w-6 text-green-500"}),l.jsxs("div",{children:[l.jsx("p",{className:`font-bold ${c?"text-lg":"text-xl"}`,children:Number(m.totalRafflesCreated||0).toLocaleString()}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Raffles Created"})]})]})}),l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-3 shadow-xl transition-all duration-300",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Bu,{className:"h-6 w-6 text-yellow-500"}),l.jsxs("div",{children:[l.jsx("p",{className:`font-bold ${c?"text-lg":"text-xl"}`,children:Number(m.totalPrizesWon||0).toLocaleString()}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Wins"})]})]})}),l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-3 shadow-xl transition-all duration-300",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Yo,{className:"h-6 w-6 text-orange-500"}),l.jsxs("div",{children:[l.jsx("p",{className:`font-bold ${c?"text-lg":"text-xl"}`,children:(()=>{const F=m.totalClaimableRefunds,b=d();if(!F||!F.toString)return`0 ${b}`;try{const j=parseFloat(Ir(F)).toFixed(8).replace(/\.0+$/,"").replace(/(\.\d*[1-9])0+$/,"$1");return`${j===""||j==="."?"0":j} ${b}`}catch{return`0 ${b}`}})()}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Claimable Refunds"})]})]})})]})]}),x&&l.jsxs("div",{className:"text-center py-4",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Loading on-chain data"})]}),l.jsx(Lue,{activities:q,createdRaffles:p,purchasedTickets:g,creatorStats:v,onDeleteRaffle:H,onViewRevenue:K,onClaimPrize:J,onClaimRefund:W}),w&&E&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-card/90 backdrop-blur-md border border-border/50 rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Revenue Details"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Raffle:"}),l.jsx("span",{className:"font-medium",children:E.name})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Total Revenue:"}),l.jsxs("span",{className:"font-medium",children:[Ir(E.totalRevenue)," ETH"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Tickets Sold:"}),l.jsx("span",{className:"font-medium",children:E.ticketsSold})]})]}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{onClick:()=>setShowRevenueModal(!1),className:"flex-1 bg-[#614E41] text-white px-4 py-2 rounded-md hover:bg-[#4a3a30] transition-colors",children:"Close"}),l.jsx("button",{onClick:()=>{setShowRevenueModal(!1)},className:"flex-1 bg-[#614E41] text-white px-4 py-2 rounded-md hover:bg-[#4a3a30] transition-colors",children:"Withdraw"})]})]})})]}):l.jsx("div",{className:"container mx-auto px-4 pt-8 pb-4",children:l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold mb-4 font-display",children:"Connect Your Wallet"}),l.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to view your profile and activity."})]})})};var Dv="Switch",[$ue,Wpe]=So(Dv),[Uue,Vue]=$ue(Dv),xz=C.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:o,disabled:a,value:c="on",onCheckedChange:d,form:f,...p}=t,[g,m]=C.useState(null),v=yr(e,R=>m(R)),x=C.useRef(!1),w=g?f||!!g.closest("form"):!0,[E,P]=ia({prop:i,defaultProp:s??!1,onChange:d,caller:Dv});return l.jsxs(Uue,{scope:r,checked:E,disabled:a,children:[l.jsx(Dt.button,{type:"button",role:"switch","aria-checked":E,"aria-required":o,"data-state":kz(E),"data-disabled":a?"":void 0,disabled:a,value:c,...p,ref:v,onClick:Ke(t.onClick,R=>{P(S=>!S),w&&(x.current=R.isPropagationStopped(),x.current||R.stopPropagation())})}),w&&l.jsx(wz,{control:g,bubbles:!x.current,name:n,value:c,checked:E,required:o,disabled:a,form:f,style:{transform:"translateX(-100%)"}})]})});xz.displayName=Dv;var vz="SwitchThumb",bz=C.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=Vue(vz,r);return l.jsx(Dt.span,{"data-state":kz(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});bz.displayName=vz;var Wue="SwitchBubbleInput",wz=C.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},s)=>{const o=C.useRef(null),a=yr(o,s),c=D3(r),d=S3(e);return C.useEffect(()=>{const f=o.current;if(!f)return;const p=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(p,"checked").set;if(c!==r&&m){const v=new Event("click",{bubbles:n});m.call(f,r),f.dispatchEvent(v)}},[c,r,n]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:a,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});wz.displayName=Wue;function kz(t){return t?"checked":"unchecked"}var que=xz,Hue=bz;function _z({className:t,size:e="default",...r}){const n={default:{root:"h-5 w-9 rounded-full",thumb:"h-4 w-4 rounded-full data-[state=checked]:translate-x-4"},mobile:{root:"h-7 w-12 rounded-full",thumb:"h-5 w-5 rounded-full data-[state=checked]:translate-x-5"},large:{root:"h-8 w-14 rounded-full",thumb:"h-7 w-7 rounded-full data-[state=checked]:translate-x-6"}},i=n[e]||n.default;return l.jsx(que,{"data-slot":"switch",className:et("peer inline-flex shrink-0 cursor-pointer items-center border-2 border-transparent transition-all duration-200 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-muted hover:data-[state=unchecked]:bg-muted/80 active:scale-95",i.root,t),...r,children:l.jsx(Hue,{"data-slot":"switch-thumb",className:et("pointer-events-none block bg-background shadow-lg ring-0 transition-all duration-200 ease-in-out data-[state=unchecked]:translate-x-0 data-[state=checked]:shadow-xl",i.thumb)})})}const Pl=({tokenGatedEnabled:t,onTokenGatedChange:e,formData:r,handleChange:n,required:i=!1,useFormDataEnabled:s=!1})=>{const{isMobile:o}=pn(),a=s?r.tokenGatedEnabled:t,c=s?d=>n("tokenGatedEnabled",d):e;return l.jsxs(l.Fragment,{children:[o?l.jsx("div",{className:"p-4 bg-card/50 rounded-xl border border-border/50 mb-4 shadow-sm",children:l.jsxs("div",{className:"flex items-center justify-between gap-4 cursor-pointer select-none transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 hover:bg-muted/10 active:bg-muted/20 rounded-lg p-1 -m-1",onClick:()=>c(!a),onKeyDown:d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),c(!a))},tabIndex:0,role:"button","aria-label":`${a?"Disable":"Enable"} token-gated access`,children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"font-medium block cursor-pointer text-base mb-1",children:"Enable Token-Gated Access"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Restrict raffle participation to token holders"})]}),l.jsx(jr,{className:`h-6 w-6 transition-colors duration-200 ${a?"text-green-600":"text-muted-foreground/40"}`})]})}):l.jsx("div",{className:"mb-2",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(_z,{checked:a,onCheckedChange:c,size:"default"}),l.jsx("div",{className:"flex-1 cursor-pointer select-none transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 hover:text-foreground/80 active:text-foreground",onClick:()=>c(!a),onKeyDown:d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),c(!a))},tabIndex:0,role:"button","aria-label":`${a?"Disable":"Enable"} token-gated access`,children:l.jsx("label",{className:"font-medium block cursor-pointer text-sm",children:"Enable Token-Gated Access"})})]})}),a&&l.jsx("div",{className:"p-4 border rounded-lg bg-muted/10 mb-4",children:l.jsxs("div",{className:`${o?"space-y-4":"grid grid-cols-1 md:grid-cols-2 gap-4"}`,children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1 text-base",children:"Token Address"}),l.jsx("input",{type:"text",value:r.holderTokenAddress||"",onChange:d=>n("holderTokenAddress",d.target.value),className:`w-full border border-border rounded-lg bg-background font-mono ${o?"px-4 py-3 text-base":"px-3 py-2.5 text-base"}`,placeholder:"0x...",required:i&&a})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1 text-base",children:"Token Standard"}),l.jsxs(rd,{value:r.holderTokenStandard||"0",onValueChange:d=>n("holderTokenStandard",d),required:i&&a,children:[l.jsx(id,{className:`w-full border border-border rounded-lg bg-background ${o?"px-4 py-3 text-base h-12":"px-3 py-2.5 text-base"}`,children:l.jsx(nd,{placeholder:"Select Token Standard"})}),l.jsxs(sd,{children:[l.jsx(ji,{value:"0",children:"ERC721"}),l.jsx(ji,{value:"1",children:"ERC1155"}),l.jsx(ji,{value:"2",children:"ERC20"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1 text-base",children:"Minimum Holder Balance"}),l.jsx("input",{type:"number",value:r.minHolderTokenBalance||"",onChange:d=>n("minHolderTokenBalance",d.target.value),className:`w-full border border-border rounded-lg bg-background ${o?"px-4 py-3 text-base":"px-3 py-2.5 text-base"}`,placeholder:"Minimum balance required to enter",required:i&&a})]}),r.holderTokenStandard==="1"&&l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1 text-base",children:"Token ID"}),l.jsx("input",{type:"number",value:r.holderTokenId||"",onChange:d=>n("holderTokenId",d.target.value),className:`w-full border border-border rounded-lg bg-background ${o?"px-4 py-3 text-base":"px-3 py-2.5 text-base"}`,placeholder:"Token ID (for ERC1155)",required:i&&a})]})]})})]})},Eu={MAX_TASKS:3,MAX_DESCRIPTION_LENGTH:1e3,TASK_SEPARATOR:"|"},xu=Eu.MAX_TASKS,Rl=({socialEngagementEnabled:t,onSocialEngagementChange:e,setSocialEngagementEnabled:r,formData:n,handleChange:i,required:s=!1,useFormDataEnabled:o=!1})=>{const{isMobile:a}=pn(),{getCurrencySymbol:c}=Sn(),{contracts:d}=Cr(),[f,p]=C.useState(null),[g,m]=C.useState(!0);C.useEffect(()=>{(async()=>{if(!(d!=null&&d.protocolManager)){m(!1);return}try{const H=await d.protocolManager.socialEngagementFee();p(H)}catch(H){console.error("Error fetching social engagement fee:",H),p(null)}finally{m(!1)}})()},[d]);const v=o?n.socialEngagementEnabled:t,x=o?G=>i("socialEngagementEnabled",G):e||r||(()=>{console.warn("No toggle change handler provided to SocialMediaTaskSection")}),w=n.socialTasks||[],E=()=>{if(w.length>=xu){console.warn(`Maximum of ${xu} social media tasks allowed`);return}const G=[...w,{id:Date.now(),platform:"twitter",action:"follow",target:"",description:""}];i("socialTasks",G)},P=G=>{const H=w.filter(K=>K.id!==G);i("socialTasks",H)},R=(G,H,K)=>{const J=w.map(W=>W.id===G?{...W,[H]:K}:W);i("socialTasks",J)},S=G=>{switch(G){case"twitter":return l.jsx(jm,{className:"h-4 w-4"});case"discord":return l.jsx(Df,{className:"h-4 w-4"});case"telegram":return l.jsx(Am,{className:"h-4 w-4"});default:return l.jsx(Df,{className:"h-4 w-4"})}},B=G=>{switch(G){case"twitter":return[{value:"follow",label:"Follow Account"},{value:"like",label:"Like Tweet"},{value:"retweet",label:"Retweet"},{value:"comment",label:"Comment on Tweet"},{value:"quote",label:"Quote Tweet"}];case"discord":return[{value:"join",label:"Join Server"},{value:"react",label:"React to Message"}];case"telegram":return[{value:"join",label:"Join Channel/Group"},{value:"follow",label:"Follow Channel"}];default:return[]}},$=()=>w.length===0?"":w.map(H=>{var J;const K=((J=B(H.platform).find(W=>W.value===H.action))==null?void 0:J.label)||H.action;return`${H.platform.toUpperCase()}: ${K} - ${H.target}`}).join(Eu.TASK_SEPARATOR),q=G=>{if(!G)return!0;if(G.length>Eu.MAX_DESCRIPTION_LENGTH)return console.warn(`Task description too long (max ${Eu.MAX_DESCRIPTION_LENGTH} characters)`),!1;const H=G.split(Eu.TASK_SEPARATOR).length;return H>Eu.MAX_TASKS?(console.warn(`Too many tasks (${H}/${Eu.MAX_TASKS})`),!1):!0};return be.useEffect(()=>{if(v){const G=$();q(G)?i("socialTaskDescription",G):console.warn("Generated task description failed validation")}else i("socialTaskDescription","")},[w,v]),l.jsxs(l.Fragment,{children:[a?l.jsx("div",{className:"p-4 bg-card/50 rounded-xl border border-border/50 mb-4 shadow-sm",children:l.jsxs("div",{className:"flex items-center justify-between gap-4 cursor-pointer select-none transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 hover:bg-muted/10 active:bg-muted/20 rounded-lg p-1 -m-1",onClick:()=>x(!v),onKeyDown:G=>{(G.key==="Enter"||G.key===" ")&&(G.preventDefault(),x(!v))},tabIndex:0,role:"button","aria-label":`${v?"Disable":"Enable"} social media tasks`,children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("label",{className:"font-medium block cursor-pointer text-base mb-1",children:["Enable Social Media Tasks",!g&&f&&l.jsxs("span",{className:"ml-2 text-base font-medium",children:["(Costs ",Ir(f)," ",c(),")"]})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Require participants to complete social media engagement tasks"})]}),l.jsx(jr,{className:`h-6 w-6 transition-colors duration-200 ${v?"text-green-600":"text-muted-foreground/40"}`})]})}):l.jsx("div",{className:"mb-2",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(_z,{checked:v,onCheckedChange:x,size:"default"}),l.jsx("div",{className:"flex-1 cursor-pointer select-none transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 hover:text-foreground/80 active:text-foreground",onClick:()=>x(!v),onKeyDown:G=>{(G.key==="Enter"||G.key===" ")&&(G.preventDefault(),x(!v))},tabIndex:0,role:"button","aria-label":`${v?"Disable":"Enable"} social media tasks`,children:l.jsxs("label",{className:"font-medium block cursor-pointer text-sm",children:["Enable Social Media Tasks",!g&&f&&l.jsxs("span",{className:"ml-2 text-sm font-medium",children:["(Costs ",Ir(f)," ",c(),")"]})]})})]})}),v&&l.jsx("div",{className:"p-4 border rounded-lg bg-muted/10 mb-4",children:l.jsxs("div",{className:"space-y-4",children:[w.map((G,H)=>l.jsxs("div",{className:"p-3 border rounded-lg bg-background/50",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[S(G.platform),l.jsxs("span",{className:"font-medium text-sm",children:["Task ",H+1]})]}),l.jsx("button",{type:"button",onClick:()=>P(G.id),className:"text-red-500 hover:text-red-700 transition-colors",children:l.jsx(dS,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:`${a?"space-y-3":"grid grid-cols-1 md:grid-cols-3 gap-3"}`,children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1 text-sm",children:"Platform"}),l.jsxs(rd,{value:G.platform,onValueChange:K=>R(G.id,"platform",K),children:[l.jsx(id,{className:`w-full border border-border rounded-lg bg-background ${a?"px-3 py-2 text-base h-10":"px-3 py-2 text-sm"}`,children:l.jsx(nd,{})}),l.jsxs(sd,{children:[l.jsx(ji,{value:"twitter",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(jm,{className:"h-4 w-4"}),"Twitter"]})}),l.jsx(ji,{value:"discord",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Df,{className:"h-4 w-4"}),"Discord"]})}),l.jsx(ji,{value:"telegram",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Am,{className:"h-4 w-4"}),"Telegram"]})})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1 text-sm",children:"Action"}),l.jsxs(rd,{value:G.action,onValueChange:K=>R(G.id,"action",K),children:[l.jsx(id,{className:`w-full border border-border rounded-lg bg-background ${a?"px-3 py-2 text-base h-10":"px-3 py-2 text-sm"}`,children:l.jsx(nd,{})}),l.jsx(sd,{children:B(G.platform).map(K=>l.jsx(ji,{value:K.value,children:K.label},K.value))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1 text-sm",children:"Target"}),l.jsx("input",{type:"text",value:G.target,onChange:K=>R(G.id,"target",K.target.value),className:`w-full border border-border rounded-lg bg-background ${a?"px-3 py-2 text-base":"px-3 py-2 text-sm"}`,placeholder:G.platform==="twitter"?"@username or tweet URL":G.platform==="discord"?"Server invite or message URL":"Channel username or URL",required:s&&v})]})]}),l.jsxs("div",{className:"mt-3",children:[l.jsx("label",{className:"block font-medium mb-1 text-sm",children:"Description (Optional)"}),l.jsx("input",{type:"text",value:G.description,onChange:K=>R(G.id,"description",K.target.value),className:`w-full border border-border rounded-lg bg-background ${a?"px-3 py-2 text-base":"px-3 py-2 text-sm"}`,placeholder:"Additional instructions for participants"})]})]},G.id)),l.jsxs("button",{type:"button",onClick:E,disabled:w.length>=xu,className:`w-full p-3 border-2 border-dashed rounded-lg flex items-center justify-center gap-2 transition-colors ${w.length>=xu?"border-border/50 bg-muted/10 text-muted-foreground/50 cursor-not-allowed":"border-border hover:border-primary/50 hover:bg-muted/20 text-muted-foreground hover:text-foreground cursor-pointer"}`,children:[l.jsx(Is,{className:"h-4 w-4"}),w.length>=xu?`Maximum ${xu} tasks reached`:`Add Social Media Task (${w.length}/${xu})`]}),w.length>0&&l.jsxs("div",{className:"mt-4 p-3 bg-muted/20 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-sm mb-2",children:"Task Summary:"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:$()||"No tasks configured"})]})]})})]})},Il=({formData:t,handleChange:e,isMobile:r=!1})=>{const[n,i]=C.useState(!1),s=c=>{const{name:d,value:f}=c.target;e(d,f)},o=`w-full px-4 py-3 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-background text-foreground ${r?"text-base":""}`,a="block text-base font-medium text-foreground mb-2";return l.jsxs("div",{className:"bg-card rounded-lg border border-border overflow-hidden",children:[l.jsxs("button",{type:"button",onClick:()=>i(!n),className:"w-full flex items-center justify-between px-4 py-3 hover:bg-muted/50 transition-colors",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("h3",{className:"font-semibold text-base text-foreground",children:"Pool Information (Optional)"})}),n?l.jsx(Xu,{className:"h-5 w-5 text-muted-foreground"}):l.jsx(ko,{className:"h-5 w-5 text-muted-foreground"})]}),l.jsx("div",{className:`transition-all duration-300 ease-in-out ${n?"max-h-[1000px] opacity-100":"max-h-0 opacity-0"} overflow-hidden`,children:l.jsxs("div",{className:"px-6 pb-6 space-y-6 border-t border-border pt-6",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"description",className:a,children:["Description",l.jsx("span",{className:"text-muted-foreground text-xs ml-2",children:"(Max 1000 characters)"})]}),l.jsx("textarea",{id:"description",name:"description",value:t.description||"",onChange:s,placeholder:"Describe your raffle, prizes, or any special details...",maxLength:1e3,rows:4,className:`${o} resize-none`}),l.jsxs("div",{className:"text-xs text-muted-foreground mt-1 text-right",children:[(t.description||"").length," / 1000"]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-sm font-medium text-foreground",children:"Social Media Links"}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"twitterLink",className:a,children:["Twitter / X",l.jsx("span",{className:"text-muted-foreground text-xs ml-2",children:"(Max 200 characters)"})]}),l.jsx("input",{type:"url",id:"twitterLink",name:"twitterLink",value:t.twitterLink||"",onChange:s,placeholder:"https://twitter.com/yourhandle or https://x.com/yourhandle",maxLength:200,className:o})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"discordLink",className:a,children:["Discord",l.jsx("span",{className:"text-muted-foreground text-xs ml-2",children:"(Max 200 characters)"})]}),l.jsx("input",{type:"url",id:"discordLink",name:"discordLink",value:t.discordLink||"",onChange:s,placeholder:"https://discord.gg/yourinvite",maxLength:200,className:o})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"telegramLink",className:a,children:["Telegram",l.jsx("span",{className:"text-muted-foreground text-xs ml-2",children:"(Max 200 characters)"})]}),l.jsx("input",{type:"url",id:"telegramLink",name:"telegramLink",value:t.telegramLink||"",onChange:s,placeholder:"https://t.me/yourchannel",maxLength:200,className:o})]})]}),l.jsxs("div",{className:"text-xs text-muted-foreground bg-muted p-3 rounded-lg",children:[l.jsx(Vt,{className:"h-3 w-3 inline mr-1"}),"These fields are optional but recommended. They help participants learn more about your project and connect with your community."]})]})})]})},Gue=({isOpen:t,onToggle:e,raffleType:r,setRaffleType:n,nftStandard:i,setNftStandard:s,erc721Source:o,setErc721Source:a,erc1155Source:c,setErc1155Source:d,className:f=""})=>{const{isMobile:p}=pn(),{getCurrencySymbol:g}=Sn(),v=(()=>{const[J,W]=C.useState({top:56,height:56});return C.useEffect(()=>{const F=document.querySelector("header"),b=F?F.getBoundingClientRect().height:56,A=()=>window.matchMedia&&window.matchMedia("(max-width: 640px)").matches,D=()=>{const j=window.scrollY||window.pageYOffset||0;A()?W({top:b,height:window.innerHeight-b}):j>=b?W({top:0,height:window.innerHeight}):W({top:b-j,height:window.innerHeight-(b-j)})};return D(),window.addEventListener("scroll",D,{passive:!0}),window.addEventListener("resize",D),()=>{window.removeEventListener("scroll",D),window.removeEventListener("resize",D)}},[]),J})(),[x,w]=C.useState({raffleType:!0,nftConfiguration:!0,collectionSource:!0}),E=C.useMemo(()=>{const J=g();return[{value:"Whitelist/Allowlist",label:"Whitelist/Allowlist",description:"Whitelist Campaigns"},{value:"NFTDrop",label:"NFT Drop",description:"Raffles with Mintable NFT Prizes"},{value:"Lucky Sale/NFT Pool",label:"Lucky Sale/NFT Giveaway",description:"Discounted NFT sales/NFT Giveaways"},{value:"Native Token Pool",label:`${J} Giveaway`,description:"Native Coin Giveaways"},{value:"ERC20 Token Pool",label:"ERC20 Token Giveaway",description:"Token Giveaways"}]},[g]),P=[{value:"ERC721",label:"ERC721"},{value:"ERC1155",label:"ERC1155"}],R=[{value:"New ERC721 Collection",label:"New ERC721 Collection",description:"Deploy new collection"},{value:"Existing ERC721 Collection",label:"Existing ERC721 Collection",description:"Use existing collection"}],S=[{value:"New ERC1155 Collection",label:"New ERC1155 Collection",description:"Deploy new collection"},{value:"Existing ERC1155 Collection",label:"Existing ERC1155 Collection",description:"Use existing collection"}],B=C.useCallback(J=>{w(W=>({...W,[J]:!W[J]}))},[]),$=C.useCallback(()=>{n("Whitelist/Allowlist"),s("ERC721"),a("New ERC721 Collection"),d("New ERC1155 Collection")},[n,s,a,d]),q=C.useMemo(()=>r!=="Whitelist/Allowlist"||i!=="ERC721"||o!=="New ERC721 Collection"||c!=="New ERC1155 Collection",[r,i,o,c]),G=r==="NFTDrop"||r==="Lucky Sale/NFT Pool",H=r==="NFTDrop",K=C.useCallback((J,W,F,b,A,D=!1)=>{const j=x[W];return l.jsxs("div",{className:"border-b border-border/30 last:border-b-0",children:[l.jsxs("button",{onClick:()=>B(W),className:"w-full flex items-center justify-between p-3 sm:p-4 text-left hover:bg-muted/50 transition-colors",disabled:D,children:[l.jsx("span",{className:`text-sm sm:text-base font-medium ${D?"text-muted-foreground":""}`,children:J}),j?l.jsx(Xu,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"}):l.jsx(ko,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"})]}),j&&!D&&l.jsx("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4 space-y-1 sm:space-y-2",children:F.map(k=>{const M=b===k.value;return l.jsxs("label",{className:"flex items-start space-x-2 sm:space-x-3 cursor-pointer hover:bg-muted/30 p-1.5 sm:p-2 rounded-md transition-colors",children:[l.jsx("input",{type:"radio",name:W,checked:M,onChange:()=>A(k.value),className:`mt-1 h-3 w-3 sm:h-4 sm:w-4 text-primary bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-full focus:ring-0 focus:outline-none checked:bg-primary checked:border-primary appearance-none relative ${M?'after:content-[""] after:absolute after:top-1/2 after:left-1/2 after:transform after:-translate-x-1/2 after:-translate-y-1/2 after:w-1 after:h-1 sm:after:w-1.5 sm:after:h-1.5 after:bg-white after:rounded-full':""}`,style:{minHeight:"12px",minWidth:"12px",maxHeight:"12px",maxWidth:"12px"}}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("span",{className:"text-xs sm:text-sm font-medium leading-tight",children:k.label}),k.description&&l.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:k.description})]})]},k.value)})}),D&&l.jsx("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4",children:l.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Select appropriate raffle type to enable this filter"})})]},W)},[x,B]);return l.jsxs(l.Fragment,{children:[t&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-30",onClick:e}),l.jsxs("div",{style:{top:v.top,height:v.height},className:`
        fixed left-0
        w-64 sm:w-72 md:w-80
        bg-background border-r border-border
        transform transition-transform duration-300 ease-in-out
        z-40
        flex flex-col
        ${t?"translate-x-0":"-translate-x-full"}
        ${f}
      `,children:[l.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between p-3 sm:p-4 border-b border-border bg-muted/80 backdrop-blur supports-[backdrop-filter]:bg-muted/60",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(uS,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),l.jsx("h2",{className:"font-semibold text-base sm:text-lg",children:"Create Raffle"})]}),l.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[q&&l.jsx(qe,{variant:"ghost",size:"sm",onClick:$,className:"text-xs px-2 sm:px-3 h-7 sm:h-8 hover:bg-destructive/10 hover:text-destructive",children:"Reset"}),l.jsx(qe,{variant:"ghost",size:"sm",onClick:e,className:"hover:bg-muted h-7 w-7 sm:h-8 sm:w-8 p-0",title:"Close filters",children:l.jsx(Pm,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})})]})]}),l.jsx("div",{className:"p-3 sm:p-4 bg-muted/30",children:l.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Configure Raffle type and Prizes"})}),l.jsxs("div",{className:"flex-1 overflow-y-auto",children:[K("Raffle Type","raffleType",E,r,n),G&&K("NFT Standard","nftConfiguration",P,i,s),H&&i==="ERC721"&&K("ERC721 Source","collectionSource",R,o,a),H&&i==="ERC1155"&&K("ERC1155 Source","collectionSource",S,c,d)]})]})]})};var[Ov,qpe]=So("Tooltip",[kh]),Lv=kh(),Cz="TooltipProvider",Kue=700,q_="tooltip.open",[Yue,U2]=Ov(Cz),Sz=t=>{const{__scopeTooltip:e,delayDuration:r=Kue,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=t,o=C.useRef(!0),a=C.useRef(!1),c=C.useRef(0);return C.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),l.jsx(Yue,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:C.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:C.useCallback(d=>{a.current=d},[]),disableHoverableContent:i,children:s})};Sz.displayName=Cz;var Km="Tooltip",[Jue,kg]=Ov(Km),Ez=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:i,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=t,c=U2(Km,t.__scopeTooltip),d=Lv(e),[f,p]=C.useState(null),g=qs(),m=C.useRef(0),v=o??c.disableHoverableContent,x=a??c.delayDuration,w=C.useRef(!1),[E,P]=ia({prop:n,defaultProp:i??!1,onChange:q=>{q?(c.onOpen(),document.dispatchEvent(new CustomEvent(q_))):c.onClose(),s==null||s(q)},caller:Km}),R=C.useMemo(()=>E?w.current?"delayed-open":"instant-open":"closed",[E]),S=C.useCallback(()=>{window.clearTimeout(m.current),m.current=0,w.current=!1,P(!0)},[P]),B=C.useCallback(()=>{window.clearTimeout(m.current),m.current=0,P(!1)},[P]),$=C.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{w.current=!0,P(!0),m.current=0},x)},[x,P]);return C.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),l.jsx(_S,{...d,children:l.jsx(Jue,{scope:e,contentId:g,open:E,stateAttribute:R,trigger:f,onTriggerChange:p,onTriggerEnter:C.useCallback(()=>{c.isOpenDelayedRef.current?$():S()},[c.isOpenDelayedRef,$,S]),onTriggerLeave:C.useCallback(()=>{v?B():(window.clearTimeout(m.current),m.current=0)},[B,v]),onOpen:S,onClose:B,disableHoverableContent:v,children:r})})};Ez.displayName=Km;var H_="TooltipTrigger",Tz=C.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=kg(H_,r),s=U2(H_,r),o=Lv(r),a=C.useRef(null),c=yr(e,a,i.onTriggerChange),d=C.useRef(!1),f=C.useRef(!1),p=C.useCallback(()=>d.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),l.jsx(CS,{asChild:!0,...o,children:l.jsx(Dt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:Ke(t.onPointerMove,g=>{g.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ke(t.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:Ke(t.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Ke(t.onFocus,()=>{d.current||i.onOpen()}),onBlur:Ke(t.onBlur,i.onClose),onClick:Ke(t.onClick,i.onClose)})})});Tz.displayName=H_;var V2="TooltipPortal",[Xue,Que]=Ov(V2,{forceMount:void 0}),Nz=t=>{const{__scopeTooltip:e,forceMount:r,children:n,container:i}=t,s=kg(V2,e);return l.jsx(Xue,{scope:e,forceMount:r,children:l.jsx(Eo,{present:r||s.open,children:l.jsx(pg,{asChild:!0,container:i,children:n})})})};Nz.displayName=V2;var dh="TooltipContent",Az=C.forwardRef((t,e)=>{const r=Que(dh,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=t,o=kg(dh,t.__scopeTooltip);return l.jsx(Eo,{present:n||o.open,children:o.disableHoverableContent?l.jsx(jz,{side:i,...s,ref:e}):l.jsx(Zue,{side:i,...s,ref:e})})}),Zue=C.forwardRef((t,e)=>{const r=kg(dh,t.__scopeTooltip),n=U2(dh,t.__scopeTooltip),i=C.useRef(null),s=yr(e,i),[o,a]=C.useState(null),{trigger:c,onClose:d}=r,f=i.current,{onPointerInTransitChange:p}=n,g=C.useCallback(()=>{a(null),p(!1)},[p]),m=C.useCallback((v,x)=>{const w=v.currentTarget,E={x:v.clientX,y:v.clientY},P=nde(E,w.getBoundingClientRect()),R=ide(E,P),S=sde(x.getBoundingClientRect()),B=ade([...R,...S]);a(B),p(!0)},[p]);return C.useEffect(()=>()=>g(),[g]),C.useEffect(()=>{if(c&&f){const v=w=>m(w,f),x=w=>m(w,c);return c.addEventListener("pointerleave",v),f.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",v),f.removeEventListener("pointerleave",x)}}},[c,f,m,g]),C.useEffect(()=>{if(o){const v=x=>{const w=x.target,E={x:x.clientX,y:x.clientY},P=(c==null?void 0:c.contains(w))||(f==null?void 0:f.contains(w)),R=!ode(E,o);P?g():R&&(g(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,f,o,d,g]),l.jsx(jz,{...t,ref:s})}),[ede,tde]=Ov(Km,{isInside:!1}),rde=vY("TooltipContent"),jz=C.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,c=kg(dh,r),d=Lv(r),{onClose:f}=c;return C.useEffect(()=>(document.addEventListener(q_,f),()=>document.removeEventListener(q_,f)),[f]),C.useEffect(()=>{if(c.trigger){const p=g=>{const m=g.target;m!=null&&m.contains(c.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[c.trigger,f]),l.jsx(fg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:l.jsxs(SS,{"data-state":c.stateAttribute,...d,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(rde,{children:n}),l.jsx(ede,{scope:r,isInside:!0,children:l.jsx(dX,{id:c.contentId,role:"tooltip",children:i||n})})]})})});Az.displayName=dh;var Pz="TooltipArrow",Rz=C.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=Lv(r);return tde(Pz,r).isInside?null:l.jsx(ES,{...i,...n,ref:e})});Rz.displayName=Pz;function nde(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function ide(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function sde(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function ode(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],c=e[o],d=a.x,f=a.y,p=c.x,g=c.y;f>n!=g>n&&r<(p-d)*(n-f)/(g-f)+d&&(i=!i)}return i}function ade(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),lde(e)}function lde(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var cde=Sz,ude=Ez,dde=Tz,fde=Nz,hde=Az,pde=Rz;function mde({delayDuration:t=0,...e}){return l.jsx(cde,{"data-slot":"tooltip-provider",delayDuration:t,...e})}function nr({...t}){return l.jsx(mde,{children:l.jsx(ude,{"data-slot":"tooltip",...t})})}const ir=C.forwardRef(({...t},e)=>l.jsx(dde,{ref:e,"data-slot":"tooltip-trigger",...t})),sr=C.forwardRef(({className:t,sideOffset:e=0,children:r,...n},i)=>l.jsx(fde,{children:l.jsxs(hde,{ref:i,"data-slot":"tooltip-content",sideOffset:e,className:et("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance","max-w-[240px] sm:max-w-xs","text-xs sm:text-xs",t),...n,children:[r,l.jsx(pde,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})),gde=()=>{const{connected:t,address:e}=xr(),{contracts:r,executeTransaction:n}=Cr(),i=Ml(r,!1),{extractRevertReason:s}=w4(),[o,a]=C.useState(!1),[c,d]=C.useState(!1),[f,p]=C.useState(!1),[g,m]=C.useState({name:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[],description:"",twitterLink:"",discordLink:"",telegramLink:""}),v=(w,E)=>{m(P=>({...P,[w]:E}))},x=async w=>{var E;if(w.preventDefault(),!t||!r.poolDeployer){te.error("Please connect your wallet and ensure contracts are configured");return}a(!0);try{const P=Math.floor(new Date(g.startTime).getTime()/1e3),R=parseInt(g.duration)*60,S=c&&g.holderTokenAddress?g.holderTokenAddress:He,B=c?parseInt(g.holderTokenStandard):0,$=c&&g.minHolderTokenBalance?Cn(g.minHolderTokenBalance,18):ue.from(0),q=c&&g.holderTokenId?parseInt(g.holderTokenId):0,G={name:g.name,startTime:P,duration:R,slotLimit:parseInt(g.slotLimit),winnersCount:parseInt(g.winnersCount),maxSlotsPerParticipant:1,isPrized:!1,customSlotFee:0,erc721Drop:!1,erc1155Drop:!1,prizeCollection:He,standard:0,prizeTokenId:0,amountPerWinner:0,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:He,maxSupply:0,erc20PrizeToken:He,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,holderTokenAddress:S,holderTokenStandard:B,minHolderTokenBalance:$,holderTokenBalance:$,holderTokenId:q,socialEngagementRequired:f,socialTaskDescription:f?g.socialTaskDescription:"",description:g.description||"",twitterLink:g.twitterLink||"",discordLink:g.discordLink||"",telegramLink:g.telegramLink||""};let H=ue.from(0);f&&(H=await r.protocolManager.socialEngagementFee(),console.log("Social engagement fee:",Ir(H),"ETH"));const K=await n(r.poolDeployer.createPool,G,{value:H});K.success?(te.success("Your raffle was created successfully!"),m({name:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxSlotsPerParticipant:"",holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialTaskDescription:"",socialTasks:[]}),d(!1),p(!1)):te.error(K.error||"Failed to create raffle")}catch(P){console.error("Error creating raffle:",P),(E=P.message)!=null&&E.includes("Transaction failed")||te.error(s(P))}finally{a(!1)}};return l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(cS,{className:"h-5 w-5"}),l.jsx("h3",{className:"font-display text-[length:var(--text-xl)] font-semibold",children:"Whitelist Raffle"})]}),l.jsxs("form",{onSubmit:x,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Pool Name"}),l.jsx("input",{type:"text",value:g.name||"",onChange:w=>v("name",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:g.startTime||"",onChange:w=>v("startTime",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",i.minDuration&&i.maxDuration&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(i.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(i.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:g.duration||"",onChange:w=>v("duration",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Slot Limit",i.minSlot&&i.maxSlot&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",i.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",i.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:g.slotLimit||"",onChange:w=>v("slotLimit",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Winner Count",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Winners must not exceed 25% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:g.winnersCount||"",onChange:w=>v("winnersCount",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Participants can only purchase one entry in Whitelist pools"})]})]}),l.jsx("input",{type:"number",value:1,disabled:!0,className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background opacity-60 cursor-not-allowed",required:!0})]})]}),l.jsx(Pl,{tokenGatedEnabled:c,onTokenGatedChange:d,formData:g,handleChange:v,required:!0}),l.jsx(Rl,{socialEngagementEnabled:f,onSocialEngagementChange:p,formData:g,handleChange:v,required:!1}),l.jsx(Il,{formData:g,handleChange:v}),l.jsx("div",{className:"flex gap-4",children:l.jsx(qe,{type:"submit",disabled:o||!t,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:o?"Creating...":"Create Raffle"})})]})]})},yde=()=>{const{connected:t,address:e,provider:r}=xr(),{contracts:n,executeTransaction:i}=Cr(),{getCurrencyLabel:s}=Sn(),o=Ml(n,!0),[a,c]=C.useState(!1),[d,f]=C.useState(!1),[p,g]=C.useState({name:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",customSlotFee:"",collectionName:"",collectionSymbol:"",baseURI:"",maxSupply:"",royaltyPercentage:"",revealType:"0",unrevealedBaseURI:"",revealTime:"",royaltyRecipient:e||"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[],description:"",twitterLink:"",discordLink:"",telegramLink:""});C.useEffect(()=>{e&&!p.royaltyRecipient&&g(x=>({...x,royaltyRecipient:e}))},[e]);const m=(x,w)=>{g(E=>({...E,[x]:w}))},v=async x=>{if(x.preventDefault(),!t||!n.poolDeployer||!r){te.error("Please connect your wallet and ensure contracts are configured");return}c(!0);try{console.log("NewERC721DropForm - Form data for debugging:",{customSlotFee:p.customSlotFee,royaltyPercentage:p.royaltyPercentage,maxSupply:p.maxSupply,winnersCount:p.winnersCount,minHolderTokenBalance:p.minHolderTokenBalance,holderTokenId:p.holderTokenId});const w=r.getSigner(),E=Math.floor(new Date(p.startTime).getTime()/1e3);let P=0;try{if(P=parseInt(p.duration)*60,isNaN(P)||P<=0)throw new Error("Invalid duration");console.log("duration parsed successfully:",P)}catch(k){console.error("Error parsing duration:",k,"Value:",p.duration),te.error("Invalid duration. Please enter a valid positive number."),c(!1);return}let R=0;try{p.customSlotFee&&p.customSlotFee.trim()!==""&&(R=Dc(p.customSlotFee),console.log("customSlotFee parsed successfully:",R.toString()))}catch(k){console.error("Error parsing customSlotFee:",k,"Value:",p.customSlotFee),te.error("Invalid slot fee value. Please enter a valid number."),c(!1);return}let S=parseInt(p.revealType),B=p.unrevealedBaseURI,$=0;S===2&&($=Math.floor(new Date(p.revealTime).getTime()/1e3)),S===0&&(B="",$=0);let q=0;try{p.royaltyPercentage&&p.royaltyPercentage.trim()!==""&&(q=parseInt(p.royaltyPercentage)*100,console.log("royaltyPercentage parsed successfully:",q))}catch(k){console.error("Error parsing royaltyPercentage:",k,"Value:",p.royaltyPercentage),te.error("Invalid royalty percentage. Please enter a valid number."),c(!1);return}let G=0;try{G=parseInt(p.maxSupply||p.winnersCount),console.log("maxSupply parsed successfully:",G)}catch(k){console.error("Error parsing maxSupply:",k,"Values:",{maxSupply:p.maxSupply,winnersCount:p.winnersCount}),te.error("Invalid max supply value."),c(!1);return}let H=0,K=0,J=0;try{if(H=parseInt(p.slotLimit),isNaN(H)||H<=0)throw new Error("Invalid slot limit");console.log("slotLimit parsed successfully:",H)}catch(k){console.error("Error parsing slotLimit:",k,"Value:",p.slotLimit),te.error("Invalid slot limit. Please enter a valid positive number."),c(!1);return}try{if(K=parseInt(p.winnersCount),isNaN(K)||K<=0)throw new Error("Invalid winners count");console.log("winnersCount parsed successfully:",K)}catch(k){console.error("Error parsing winnersCount:",k,"Value:",p.winnersCount),te.error("Invalid winners count. Please enter a valid positive number."),c(!1);return}try{if(J=parseInt(p.maxSlotsPerParticipant),isNaN(J)||J<=0)throw new Error("Invalid max slots per participant");console.log("maxSlotsPerParticipant parsed successfully:",J)}catch(k){console.error("Error parsing maxSlotsPerParticipant:",k,"Value:",p.maxSlotsPerParticipant),te.error("Invalid max slots per participant. Please enter a valid positive number."),c(!1);return}const W={name:p.name,startTime:E,duration:P,slotLimit:H,winnersCount:K,maxSlotsPerParticipant:J,isPrized:!0,customSlotFee:R,erc721Drop:!1,erc1155Drop:!1,prizeCollection:He,standard:0,prizeTokenId:0,amountPerWinner:1,collectionName:p.collectionName,collectionSymbol:p.collectionSymbol,collectionBaseURI:p.baseURI,creator:e,royaltyPercentage:q,royaltyRecipient:p.royaltyRecipient,maxSupply:G,erc20PrizeToken:He,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:S,unrevealedBaseURI:B,revealTime:$};let F=ue.from(0),b=ue.from(0),A=0;try{p.tokenGatedEnabled&&p.minHolderTokenBalance&&p.minHolderTokenBalance.trim()!==""&&(F=Cn(p.minHolderTokenBalance,18),b=Cn(p.minHolderTokenBalance,18),console.log("minHolderTokenBalance parsed successfully:",F.toString()))}catch(k){console.error("Error parsing minHolderTokenBalance:",k,"Value:",p.minHolderTokenBalance),te.error("Invalid minimum token balance. Please enter a valid number."),c(!1);return}try{p.tokenGatedEnabled&&p.holderTokenId&&p.holderTokenId.trim()!==""&&(A=parseInt(p.holderTokenId),console.log("holderTokenId parsed successfully:",A))}catch(k){console.error("Error parsing holderTokenId:",k,"Value:",p.holderTokenId),te.error("Invalid token ID. Please enter a valid number."),c(!1);return}W.holderTokenAddress=p.tokenGatedEnabled?p.holderTokenAddress:He,W.holderTokenStandard=p.tokenGatedEnabled?parseInt(p.holderTokenStandard):0,W.minHolderTokenBalance=F,W.holderTokenBalance=b,W.holderTokenId=A,W.socialEngagementRequired=d,W.socialTaskDescription=d?p.socialTaskDescription:"",W.description=p.description||"",W.twitterLink=p.twitterLink||"",W.discordLink=p.discordLink||"",W.telegramLink=p.telegramLink||"";let D=ue.from(0);d&&(D=await n.protocolManager.socialEngagementFee(),console.log("Social engagement fee:",Ir(D),"ETH")),await(await n.poolDeployer.connect(w).createPool(W,{value:D})).wait(),te.success("Your raffle was created successfully!"),g({name:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxSlotsPerParticipant:"",customSlotFee:"",collectionName:"",collectionSymbol:"",baseURI:"",maxSupply:"",royaltyPercentage:"",revealType:"0",unrevealedBaseURI:"",revealTime:"",royaltyRecipient:e||"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(w){console.error("Error creating raffle:",w),te.error(Th(w))}finally{c(!1)}};return l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(iv,{className:"h-5 w-5"}),l.jsx("h3",{className:"font-display text-[length:var(--text-xl)] font-semibold",children:"New ERC721 Collection Pool"})]}),l.jsxs("form",{onSubmit:v,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Pool Name"}),l.jsx("input",{type:"text",value:p.name||"",onChange:x=>m("name",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:p.startTime||"",onChange:x=>m("startTime",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",o.minDuration&&o.maxDuration&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(o.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(o.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:p.duration||"",onChange:x=>m("duration",x.target.value),onWheel:x=>x.target instanceof HTMLElement&&x.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Slot Limit",o.minSlot&&o.maxSlot&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",o.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",o.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:p.slotLimit||"",onChange:x=>m("slotLimit",x.target.value),onWheel:x=>x.target instanceof HTMLElement&&x.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Winner Count",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Winners must not exceed 25% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:p.winnersCount||"",onChange:x=>m("winnersCount",x.target.value),onWheel:x=>x.target instanceof HTMLElement&&x.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Max Slots Per Participant must not exceed 1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:p.maxSlotsPerParticipant||"",onChange:x=>m("maxSlotsPerParticipant",x.target.value),onWheel:x=>x.target instanceof HTMLElement&&x.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:s("ticket")}),l.jsx("input",{type:"number",step:"0.001",value:p.customSlotFee||"",onChange:x=>m("customSlotFee",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",placeholder:"Leave empty to use protocol default"})]})]}),l.jsxs("div",{className:"bg-muted/20 border border-border rounded-xl p-4 mt-4 shadow-md",children:[l.jsx("h4",{className:"font-semibold text-base mb-4",children:"NFT Collection Info"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Collection Name"}),l.jsx("input",{type:"text",value:p.collectionName||"",onChange:x=>m("collectionName",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Collection Symbol"}),l.jsx("input",{type:"text",value:p.collectionSymbol||"",onChange:x=>m("collectionSymbol",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Base URI"}),l.jsx("input",{type:"url",value:p.baseURI||"",onChange:x=>m("baseURI",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Max Supply"}),l.jsx("input",{type:"number",value:p.maxSupply||"",onChange:x=>m("maxSupply",x.target.value),onWheel:x=>x.target instanceof HTMLElement&&x.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Royalty Percentage (%)"}),l.jsx("input",{type:"number",value:p.royaltyPercentage||"",onChange:x=>m("royaltyPercentage",x.target.value),onWheel:x=>x.target instanceof HTMLElement&&x.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",min:"0",step:"0.01",placeholder:"e.g. 5 for 5%"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Enter as a percentage (e.g. 5 for 5%)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Royalty Recipient"}),l.jsx("input",{type:"text",value:p.royaltyRecipient||"",onChange:x=>m("royaltyRecipient",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0,pattern:"^0x[a-fA-F0-9]{40}$"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Must be a valid Ethereum address"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Reveal Type"}),l.jsxs(rd,{value:p.revealType,onValueChange:x=>m("revealType",x),required:!0,children:[l.jsx(id,{className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",children:l.jsx(nd,{placeholder:"Select Reveal Type"})}),l.jsxs(sd,{children:[l.jsx(ji,{value:"0",children:"Instant Reveal"}),l.jsx(ji,{value:"1",children:"Manual Reveal"}),l.jsx(ji,{value:"2",children:"Scheduled Reveal"})]})]})]}),l.jsx("div",{}),(p.revealType==="1"||p.revealType==="2")&&l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Unrevealed Base URI"}),l.jsx("input",{type:"url",value:p.unrevealedBaseURI||"",onChange:x=>m("unrevealedBaseURI",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:p.revealType==="1"||p.revealType==="2"})]}),p.revealType==="2"&&l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Reveal Time"}),l.jsx("input",{type:"datetime-local",value:p.revealTime||"",onChange:x=>m("revealTime",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:p.revealType==="2"})]})]})]}),l.jsx(Pl,{formData:p,handleChange:m,required:!0,useFormDataEnabled:!0}),l.jsx(Rl,{formData:p,handleChange:m,socialEngagementEnabled:d,setSocialEngagementEnabled:f}),l.jsx(Il,{formData:p,handleChange:m}),l.jsx("div",{className:"flex gap-4",children:l.jsx(qe,{type:"submit",disabled:a||!t,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:a?"Creating...":"Create Raffle"})})]})]})};function xde(){const{connected:t,address:e,provider:r}=xr(),{contracts:n,executeTransaction:i}=Cr(),{getCurrencyLabel:s}=Sn(),o=Ml(n,!0),[a,c]=C.useState(!1),[d,f]=C.useState(!1),[p,g]=C.useState(!1),[m,v]=C.useState({name:"",collection:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerUser:"",slotFee:"",holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[],description:"",twitterLink:"",discordLink:"",telegramLink:""}),x=(R,S)=>{v(B=>({...B,[R]:S}))},w=async R=>{if(R.preventDefault(),!t||!n.poolDeployer||!r){te.error("Please connect your wallet and ensure contracts are configured");return}c(!0);try{const S=r.getSigner(),B=Math.floor(new Date(m.startTime).getTime()/1e3),$=parseInt(m.duration)*60,q=m.slotFee?Dc(m.slotFee):0,G=d&&m.holderTokenAddress?m.holderTokenAddress:He,H=d?parseInt(m.holderTokenStandard):0,K=d&&m.minHolderTokenBalance?Cn(m.minHolderTokenBalance,18):0,J=d&&m.holderTokenId?parseInt(m.holderTokenId):0,W={name:m.name,startTime:B,duration:$,slotLimit:parseInt(m.slotLimit),winnersCount:parseInt(m.winnersCount),maxSlotsPerParticipant:parseInt(m.maxTicketsPerUser),isPrized:!0,customSlotFee:q,erc721Drop:!0,erc1155Drop:!1,prizeCollection:m.collection,standard:0,prizeTokenId:0,amountPerWinner:1,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:He,maxSupply:0,erc20PrizeToken:He,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,holderTokenAddress:G,holderTokenStandard:H,minHolderTokenBalance:K,holderTokenBalance:d&&m.minHolderTokenBalance?Cn(m.minHolderTokenBalance,18):0,holderTokenId:J,socialEngagementRequired:p,socialTaskDescription:p?m.socialTaskDescription:"",description:m.description||"",twitterLink:m.twitterLink||"",discordLink:m.discordLink||"",telegramLink:m.telegramLink||""};let F=ue.from(0);p&&(F=await n.protocolManager.socialEngagementFee(),console.log("Social engagement fee:",Ir(F),"ETH")),await(await n.poolDeployer.connect(S).createPool(W,{value:F})).wait(),te.success("Your raffle was created successfully!"),v({name:"",collection:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerUser:"",slotFee:"",holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),f(!1)}catch(S){console.error("Error creating raffle:",S),te.error(Th(S))}finally{c(!1)}},{status:E,checking:P}=Mz(m.collection,n);return C.useEffect(()=>{m.collection&&!P&&E!==null&&(E?te.success("This collection is approved"):te.error("This collection is not approved"))},[m.collection,P,E]),l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(s3,{className:"h-5 w-5"}),l.jsx("h3",{className:"font-display text-[length:var(--text-xl)] font-semibold",children:"Existing ERC721 Prize Pool"})]}),l.jsxs("form",{onSubmit:w,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Pool Name"}),l.jsx("input",{type:"text",value:m.name||"",onChange:R=>x("name",R.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Prize Collection Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:m.collection||"",onChange:R=>x("collection",R.target.value),className:"w-full px-3 py-2.5 pr-10 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),m.collection&&!P&&E===!0&&l.jsx(jr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-green-600"}),m.collection&&!P&&E===!1&&l.jsx(vh,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-red-600"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:m.startTime||"",onChange:R=>x("startTime",R.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",o.minDuration&&o.maxDuration&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(o.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(o.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",min:"1",value:m.duration||"",onChange:R=>x("duration",R.target.value),onWheel:R=>R.target instanceof HTMLElement&&R.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Slot Limit",o.minSlot&&o.maxSlot&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",o.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",o.maxSlot]})})]})]}),l.jsx("input",{type:"number",min:"1",value:m.slotLimit||"",onChange:R=>x("slotLimit",R.target.value),onWheel:R=>R.target instanceof HTMLElement&&R.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Winner Count",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Winners must not exceed 25% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:m.winnersCount||"",onChange:R=>x("winnersCount",R.target.value),onWheel:R=>R.target instanceof HTMLElement&&R.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Max Slots Per Participant must not exceed 1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",min:"1",value:m.maxTicketsPerUser||"",onChange:R=>x("maxTicketsPerUser",R.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:[s("ticket")," ",l.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"(Enter 0 for NFT giveaway)"})]}),l.jsx("input",{type:"number",min:"0",step:"any",value:m.slotFee||"",onChange:R=>x("slotFee",R.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsx(Pl,{tokenGatedEnabled:d,onTokenGatedChange:f,formData:m,handleChange:x,required:!0}),l.jsx(Rl,{formData:m,handleChange:x,socialEngagementEnabled:p,setSocialEngagementEnabled:g}),l.jsx(Il,{formData:m,handleChange:x}),l.jsx("div",{className:"flex gap-4",children:l.jsx(qe,{type:"submit",className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:"Create Raffle"})})]})]})}function vde(){const{connected:t,address:e,provider:r}=xr(),{contracts:n}=Cr(),{getCurrencyLabel:i}=Sn(),s=Ml(n,!0),[o,a]=C.useState(!1),[c,d]=C.useState(!1),[f,p]=C.useState({name:"",collectionAddress:"",tokenId:"",amountPerWinner:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",slotFee:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[],description:"",twitterLink:"",discordLink:"",telegramLink:""}),g=(w,E)=>{p(P=>({...P,[w]:E}))},m=async w=>{if(w.preventDefault(),!t||!n.poolDeployer||!r){te.error("Please connect your wallet and ensure contracts are configured");return}a(!0);try{const E=r.getSigner(),P=Math.floor(new Date(f.startTime).getTime()/1e3),R=parseInt(f.duration)*60,S=f.slotFee?Dc(f.slotFee):0,B={name:f.name,startTime:P,duration:R,slotLimit:parseInt(f.slotLimit),winnersCount:parseInt(f.winnersCount),maxSlotsPerParticipant:parseInt(f.maxTicketsPerParticipant),isPrized:!0,customSlotFee:S,erc721Drop:!1,erc1155Drop:!1,prizeCollection:f.collectionAddress,standard:1,prizeTokenId:parseInt(f.tokenId),amountPerWinner:parseInt(f.amountPerWinner),collectionSymbol:"",collectionBaseURI:"",collectionName:"",creator:e,royaltyPercentage:0,royaltyRecipient:He,maxSupply:0,erc20PrizeToken:He,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,holderTokenAddress:f.tokenGatedEnabled?f.holderTokenAddress:He,holderTokenStandard:f.tokenGatedEnabled?parseInt(f.holderTokenStandard):0,minHolderTokenBalance:f.tokenGatedEnabled?Cn(f.minHolderTokenBalance,18):0,holderTokenBalance:f.tokenGatedEnabled?Cn(f.minHolderTokenBalance,18):0,holderTokenId:f.tokenGatedEnabled&&(f.holderTokenStandard==="0"||f.holderTokenStandard==="1")?parseInt(f.holderTokenId):0,socialEngagementRequired:c,socialTaskDescription:c?f.socialTaskDescription:"",description:f.description||"",twitterLink:f.twitterLink||"",discordLink:f.discordLink||"",telegramLink:f.telegramLink||""};let $=ue.from(0);c&&($=await n.protocolManager.socialEngagementFee(),console.log("Social engagement fee:",Ir($),"ETH")),await(await n.poolDeployer.connect(E).createPool(B,{value:$})).wait(),te.success("Your raffle was created successfully!"),p({name:"",collectionAddress:"",tokenId:"",amountPerWinner:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",slotFee:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(E){console.error("Error creating raffle:",E),te.error(E.message||"Error creating raffle")}finally{a(!1)}},{status:v,checking:x}=Mz(f.collectionAddress,n);return C.useEffect(()=>{f.collectionAddress&&!x&&v!==null&&(v?te.success("This collection is approved"):te.error("This collection is not approved"))},[f.collectionAddress,x,v]),l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(s3,{className:"h-5 w-5"}),l.jsx("h3",{className:"font-display text-[length:var(--text-xl)] font-semibold",children:"Existing ERC1155 Collection Pool"})]}),l.jsxs("form",{onSubmit:m,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Pool Name"}),l.jsx("input",{type:"text",value:f.name||"",onChange:w=>g("name",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Prize Collection Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:f.collectionAddress||"",onChange:w=>g("collectionAddress",w.target.value),className:"w-full px-3 py-2.5 pr-10 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),f.collectionAddress&&!x&&v===!0&&l.jsx(jr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-green-600"}),f.collectionAddress&&!x&&v===!1&&l.jsx(vh,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-red-600"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Prize Token ID"}),l.jsx("input",{type:"number",min:"0",value:f.tokenId||"",onChange:w=>g("tokenId",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Amount Per Winner"}),l.jsx("input",{type:"number",min:"1",value:f.amountPerWinner||"",onChange:w=>g("amountPerWinner",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:f.startTime||"",onChange:w=>g("startTime",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",s.minDuration&&s.maxDuration&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(s.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(s.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:f.duration||"",onChange:w=>g("duration",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Slot Limit",s.minSlot&&s.maxSlot&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",s.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",s.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:f.slotLimit||"",onChange:w=>g("slotLimit",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Winner Count",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Winners must not exceed 25% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:f.winnersCount||"",onChange:w=>g("winnersCount",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Max Slots Per Participant must not exceed 1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:f.maxSlotsPerParticipant||"",onChange:w=>g("maxSlotsPerParticipant",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:i("ticket")}),l.jsx("input",{type:"number",step:"0.001",value:f.slotFee||"",onChange:w=>g("slotFee",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",placeholder:"Leave empty to use protocol default"})]})]}),l.jsx(Pl,{formData:f,handleChange:g,required:!0,useFormDataEnabled:!0}),l.jsx(Rl,{formData:f,handleChange:g,socialEngagementEnabled:c,setSocialEngagementEnabled:d}),l.jsx(Il,{formData:f,handleChange:g}),l.jsx("div",{className:"flex gap-4",children:l.jsx(qe,{type:"submit",disabled:o||!t,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:o?"Creating...":"Create Raffle"})})]})]})}const bde=()=>{const{connected:t,chainId:e}=xr(),{contracts:r}=Cr();Sn();const n=()=>{if(!e||!Ht[e])return!1;const K=Ht[e].contractAddresses;return(K==null?void 0:K.poolDeployer)&&K.poolDeployer!=="0x..."&&(K==null?void 0:K.protocolManager)&&K.protocolManager!=="0x..."},[i,s]=C.useState(null),[o,a]=C.useState("Whitelist/Allowlist"),[c,d]=C.useState("ERC721"),[f,p]=C.useState("New ERC721 Collection"),[g,m]=C.useState("Internal NFT Prize"),[v,x]=C.useState("Internal NFT Prize"),[w,E]=C.useState("Internal NFT Prize"),[P,R]=C.useState("New ERC1155 Collection"),[S,B]=C.useState(""),[$,q]=C.useState(!1);C.useEffect(()=>{(async()=>{if(o==="NFTDrop"&&c==="ERC721"&&f==="Existing ERC721 Collection"&&r.protocolManager)try{const J=await r.protocolManager.toggleAllowExistingCollection();s(!!J)}catch{s(!1)}})()},[o,c,f,r.protocolManager]),C.useEffect(()=>{o==="NFTDrop"&&c==="ERC721"&&f==="New ERC721 Collection"&&B("")},[o,c,f]);const G=()=>{if(o==="Whitelist/Allowlist")return l.jsx(gde,{});if(o==="NFTDrop"){if(c==="ERC721"){if(f==="New ERC721 Collection")return l.jsx(yde,{});if(f==="Existing ERC721 Collection")return l.jsx(xde,{collectionAddress:S,setCollectionAddress:B})}if(c==="ERC1155"){if(P==="New ERC1155 Collection")return l.jsx(Ede,{});if(P==="Existing ERC1155 Collection")return l.jsx(vde,{})}}if(o==="Lucky Sale/NFT Pool"){if(c==="ERC721")return l.jsx(wde,{});if(c==="ERC1155")return l.jsx(kde,{})}return o==="Native Token Pool"?l.jsx(_de,{}):o==="ERC20 Token Pool"?l.jsx(Cde,{}):null},{isMobile:H}=pn();return t?n()?l.jsx("div",{className:"min-h-screen bg-background pb-6",children:l.jsxs("div",{className:`${H?"px-4":"container mx-auto px-8"} pt-8 pb-4`,children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:`text-3xl font-bold mb-4 font-display ${H?"text-2xl mb-2":""}`,children:"Create an on-chain raffle for your community"}),l.jsxs("p",{className:"text-muted-foreground text-[length:var(--text-base)] leading-relaxed",children:["Click ",l.jsx("a",{href:"#",onClick:K=>{K.preventDefault(),q(!0)},className:"text-primary hover:text-primary/90 no-underline font-medium transition-colors",children:"here"})," to configure your pool"]})]}),l.jsx("div",{className:`max-w-7xl mx-auto ${H?"mt-6":"mt-16"}`,children:H?l.jsx("div",{className:"space-y-4",children:l.jsx("div",{className:"w-full",children:G()})}):l.jsx("div",{className:"flex gap-2 items-start",children:l.jsx("div",{className:"flex-1",children:G()})})}),l.jsx(Gue,{isOpen:$,onToggle:()=>q(!$),raffleType:o,setRaffleType:a,nftStandard:c,setNftStandard:d,erc721Source:f,setErc721Source:p,erc1155Source:P,setErc1155Source:R})]})}):l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsx(z2,{error:"CONTRACTS_NOT_AVAILABLE",onRetry:null,isMobile:H,showCreateButton:!1})}):l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Is,{className:`mx-auto mb-4 text-muted-foreground ${H?"h-12 w-12":"h-16 w-16"}`}),l.jsx("h2",{className:`font-bold mb-2 ${H?"text-xl":"text-2xl"}`,children:"Connect Your Wallet"}),l.jsx("p",{className:`text-muted-foreground ${H?"text-sm":"text-base"}`,children:"Please connect your wallet to create pools and deploy collections."})]})})};function wde(){const{connected:t,address:e,provider:r}=xr(),{contracts:n}=Cr(),{isMobile:i}=pn(),{getCurrencyLabel:s}=Sn(),o=Ml(n,!0),[a,c]=C.useState(!1),[d,f]=C.useState(!1),[p,g]=C.useState({name:"",collectionAddress:"",tokenId:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",slotFee:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[],description:"",twitterLink:"",discordLink:"",telegramLink:""}),m=(E,P)=>{g(R=>({...R,[E]:P}))},v=async E=>{if(E.preventDefault(),!t||!n.poolDeployer||!r){te.error("Please connect your wallet and ensure contracts are configured");return}c(!0);try{const P=r.getSigner(),R=await W2({signer:P,tokenAddress:p.collectionAddress,prizeType:"erc721",spender:n.poolDeployer.address,tokenId:p.tokenId});if(!R.success){te.error("Token approval failed: "+R.error),c(!1);return}R.alreadyApproved||(te.success("ERC721 approval successful!"),await new Promise(K=>setTimeout(K,2e3)));const S=Math.floor(new Date(p.startTime).getTime()/1e3),B=parseInt(p.duration)*60,$=p.slotFee?Dc(p.slotFee):0,q={name:p.name,startTime:S,duration:B,slotLimit:parseInt(p.slotLimit),winnersCount:parseInt(p.winnersCount),maxSlotsPerParticipant:parseInt(p.maxSlotsPerParticipant),isPrized:!0,customSlotFee:$,erc721Drop:!1,prizeCollection:p.collectionAddress,standard:0,prizeTokenId:parseInt(p.tokenId),amountPerWinner:1,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:He,maxSupply:0,erc20PrizeToken:He,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,holderTokenAddress:p.tokenGatedEnabled?p.holderTokenAddress:He,holderTokenStandard:p.tokenGatedEnabled?parseInt(p.holderTokenStandard):0,minHolderTokenBalance:p.tokenGatedEnabled&&p.minHolderTokenBalance!==""&&p.minHolderTokenBalance!==void 0?Cn(p.minHolderTokenBalance,18):ue.from(0),holderTokenBalance:p.tokenGatedEnabled&&p.minHolderTokenBalance!==""&&p.minHolderTokenBalance!==void 0?Cn(p.minHolderTokenBalance,18):ue.from(0),holderTokenId:p.tokenGatedEnabled&&(p.holderTokenStandard==="0"||p.holderTokenStandard==="1")?parseInt(p.holderTokenId):0,socialEngagementRequired:d,socialTaskDescription:d?p.socialTaskDescription:"",description:p.description||"",twitterLink:p.twitterLink||"",discordLink:p.discordLink||"",telegramLink:p.telegramLink||""};let G=ue.from(0);d&&(G=await n.protocolManager.socialEngagementFee(),console.log("Social engagement fee:",Ir(G),"ETH")),await(await n.poolDeployer.connect(P).createPool(q,{value:G})).wait(),te.success("Your raffle was created successfully!"),g({name:"",collectionAddress:"",tokenId:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",slotFee:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(P){console.error("Error creating raffle:",P),te.error(Th(P))}finally{c(!1)}},{status:x,checking:w}=Iz(p.collectionAddress,n);return C.useEffect(()=>{p.collectionAddress&&!w&&x!==null&&(x?te.success("This collection is approved"):te.error("This collection is not approved"))},[p.collectionAddress,w,x]),l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(iv,{className:"h-5 w-5"}),l.jsx("h3",{className:`font-semibold ${i?"text-lg":"text-xl"}`,children:"Lucky Sale (ERC721 Escrowed Prize)"})]}),l.jsxs("form",{onSubmit:v,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Pool Name"}),l.jsx("input",{type:"text",value:p.name||"",onChange:E=>m("name",E.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Prize Collection Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:p.collectionAddress||"",onChange:E=>m("collectionAddress",E.target.value),className:"w-full px-3 py-2.5 pr-10 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),p.collectionAddress&&!w&&x===!0&&l.jsx(jr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-green-600"}),p.collectionAddress&&!w&&x===!1&&l.jsx(vh,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-red-600"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Prize Token ID"}),l.jsx("input",{type:"number",min:"0",value:p.tokenId||"",onChange:E=>m("tokenId",E.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:p.startTime||"",onChange:E=>m("startTime",E.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",o.minDuration&&o.maxDuration&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(o.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(o.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:p.duration||"",onChange:E=>m("duration",E.target.value),onWheel:E=>E.target instanceof HTMLElement&&E.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Slot Limit",o.minSlot&&o.maxSlot&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",o.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",o.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:p.slotLimit||"",onChange:E=>m("slotLimit",E.target.value),onWheel:E=>E.target instanceof HTMLElement&&E.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Winner Count",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"This raffle type supports only one Winner"})]})]}),l.jsx("input",{type:"number",value:p.winnersCount||"",onChange:E=>m("winnersCount",E.target.value),onWheel:E=>E.target instanceof HTMLElement&&E.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Max Slots Per Participant must not exceed 1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:p.maxSlotsPerParticipant||"",onChange:E=>m("maxSlotsPerParticipant",E.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:[s("ticket")," ",l.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"(Enter 0 for NFT giveaway)"})]}),l.jsx("input",{type:"number",step:"any",value:p.slotFee||"",onChange:E=>m("slotFee",E.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsx(Pl,{formData:p,handleChange:m,required:!0,useFormDataEnabled:!0}),l.jsx(Rl,{formData:p,handleChange:m,socialEngagementEnabled:d,setSocialEngagementEnabled:f}),l.jsx(Il,{formData:p,handleChange:m}),l.jsx("div",{className:"flex gap-4",children:l.jsx(qe,{type:"submit",disabled:a||!t,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:a?"Approving & Creating...":"Approve Prize & Create Raffle"})})]})]})}function kde(){const{connected:t,address:e,provider:r}=xr(),{contracts:n}=Cr(),{getCurrencyLabel:i}=Sn(),s=Ml(n,!0),[o,a]=C.useState(!1),[c,d]=C.useState(!1),[f,p]=C.useState({name:"",collectionAddress:"",tokenId:"",unitsPerWinner:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",slotFee:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[],description:"",twitterLink:"",discordLink:"",telegramLink:""}),g=(w,E)=>{p(P=>({...P,[w]:E}))},m=async w=>{if(w.preventDefault(),!t||!n.poolDeployer||!r){te.error("Please connect your wallet and ensure contracts are configured");return}a(!0);try{const E=r.getSigner(),P=await W2({signer:E,tokenAddress:f.collectionAddress,prizeType:"erc1155",spender:n.poolDeployer.address});if(!P.success){te.error("Token approval failed: "+P.error),a(!1);return}P.alreadyApproved||(te.success("ERC1155 approval successful!"),await new Promise(K=>setTimeout(K,2e3)));const R=Math.floor(new Date(f.startTime).getTime()/1e3),S=parseInt(f.duration)*60,B=f.slotFee?Dc(f.slotFee):0,$=f.unitsPerWinner?parseInt(f.unitsPerWinner):1,q={name:f.name,startTime:R,duration:S,slotLimit:parseInt(f.slotLimit),winnersCount:parseInt(f.winnersCount),maxSlotsPerParticipant:parseInt(f.maxSlotsPerParticipant),isPrized:!0,customSlotFee:B,erc721Drop:!1,prizeCollection:f.collectionAddress,standard:1,prizeTokenId:parseInt(f.tokenId),amountPerWinner:$,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:He,maxSupply:0,erc20PrizeToken:He,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,holderTokenAddress:f.tokenGatedEnabled?f.holderTokenAddress:He,holderTokenStandard:f.tokenGatedEnabled?parseInt(f.holderTokenStandard):0,minHolderTokenBalance:f.tokenGatedEnabled&&f.minHolderTokenBalance!==""&&f.minHolderTokenBalance!==void 0?Cn(f.minHolderTokenBalance,18):ue.from(0),holderTokenBalance:f.tokenGatedEnabled&&f.minHolderTokenBalance!==""&&f.minHolderTokenBalance!==void 0?Cn(f.minHolderTokenBalance,18):ue.from(0),holderTokenId:f.tokenGatedEnabled&&(f.holderTokenStandard==="0"||f.holderTokenStandard==="1")?parseInt(f.holderTokenId):0,socialEngagementRequired:c,socialTaskDescription:c?f.socialTaskDescription:"",description:f.description||"",twitterLink:f.twitterLink||"",discordLink:f.discordLink||"",telegramLink:f.telegramLink||""};let G=ue.from(0);c&&(G=await n.protocolManager.socialEngagementFee(),console.log("Social engagement fee:",Ir(G),"ETH")),await(await n.poolDeployer.connect(E).createPool(q,{value:G})).wait(),te.success("Your raffle was created successfully!"),p({name:"",collectionAddress:"",tokenId:"",unitsPerWinner:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",slotFee:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(E){console.error("Error creating raffle:",E),te.error(Th(E))}finally{a(!1)}},{status:v,checking:x}=Iz(f.collectionAddress,n);return C.useEffect(()=>{f.collectionAddress&&!x&&v!==null&&(v?te.success("This collection is approved"):te.error("This collection is not approved"))},[f.collectionAddress,x,v]),l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(iv,{className:"h-5 w-5"}),l.jsx("h3",{className:"font-display text-[length:var(--text-xl)] font-semibold",children:"Lucky Sale (ERC1155 Escrowed Prize)"})]}),l.jsxs("form",{onSubmit:m,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Raffle Name"}),l.jsx("input",{type:"text",value:f.name||"",onChange:w=>g("name",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Prize Collection Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:f.collectionAddress||"",onChange:w=>g("collectionAddress",w.target.value),className:"w-full px-3 py-2.5 pr-10 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),f.collectionAddress&&!x&&v===!0&&l.jsx(jr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-green-600"}),f.collectionAddress&&!x&&v===!1&&l.jsx(vh,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-red-600"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Prize Token ID"}),l.jsx("input",{type:"number",min:"0",value:f.tokenId||"",onChange:w=>g("tokenId",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Units Per Winner"}),l.jsx("input",{type:"number",min:"1",value:f.unitsPerWinner||"",onChange:w=>g("unitsPerWinner",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:f.startTime||"",onChange:w=>g("startTime",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",s.minDuration&&s.maxDuration&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(s.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(s.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:f.duration||"",onChange:w=>g("duration",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Slot Limit",s.minSlot&&s.maxSlot&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",s.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",s.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:f.slotLimit||"",onChange:w=>g("slotLimit",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Winner Count",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Winners must not exceed 25% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:f.winnersCount||"",onChange:w=>g("winnersCount",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Max Slots Per Participant must not exceed 1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:f.maxSlotsPerParticipant||"",onChange:w=>g("maxSlotsPerParticipant",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:[i("ticket")," ",l.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"(Enter 0 for NFT giveaway)"})]}),l.jsx("input",{type:"number",step:"any",value:f.slotFee||"",onChange:w=>g("slotFee",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsx(Pl,{formData:f,handleChange:g,required:!0,useFormDataEnabled:!0}),l.jsx(Rl,{formData:f,handleChange:g,socialEngagementEnabled:c,setSocialEngagementEnabled:d}),l.jsx(Il,{formData:f,handleChange:g}),l.jsx("div",{className:"flex gap-4",children:l.jsx(qe,{type:"submit",disabled:o||!t,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:o?"Approving & Creating...":"Approve Prize & Create Raffle"})})]})]})}function _de(){const{connected:t,address:e,provider:r}=xr(),{contracts:n,executeTransaction:i}=Cr(),{isMobile:s}=pn(),{getCurrencyLabel:o}=Sn(),a=Ml(n,!0),[c,d]=C.useState(!1),[f,p]=C.useState(!1),[g,m]=C.useState({name:"",ethAmount:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[],description:"",twitterLink:"",discordLink:"",telegramLink:""}),v=(w,E)=>{m(P=>({...P,[w]:E}))},x=async w=>{if(w.preventDefault(),!t||!n.poolDeployer||!r){te.error("Please connect your wallet and ensure contracts are configured");return}d(!0);try{const E=r.getSigner(),P=Math.floor(new Date(g.startTime).getTime()/1e3),R=parseInt(g.duration)*60,S=g.ethAmount?Dc(g.ethAmount):ue.from(0),B={name:g.name,startTime:P,duration:R,slotLimit:parseInt(g.slotLimit),winnersCount:parseInt(g.winnersCount),maxSlotsPerParticipant:parseInt(g.maxSlotsPerParticipant),isPrized:!0,customSlotFee:0,erc721Drop:!1,prizeCollection:He,standard:3,prizeTokenId:0,amountPerWinner:0,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:He,maxSupply:0,erc20PrizeToken:He,erc20PrizeAmount:ue.from(0),nativePrizeAmount:S,revealType:0,unrevealedBaseURI:"",revealTime:0,holderTokenAddress:g.tokenGatedEnabled?g.holderTokenAddress:He,holderTokenStandard:g.tokenGatedEnabled?parseInt(g.holderTokenStandard):0,minHolderTokenBalance:g.tokenGatedEnabled&&g.minHolderTokenBalance!==""&&g.minHolderTokenBalance!==void 0?Cn(g.minHolderTokenBalance,18):ue.from(0),holderTokenBalance:g.tokenGatedEnabled&&g.minHolderTokenBalance!==""&&g.minHolderTokenBalance!==void 0?Cn(g.minHolderTokenBalance,18):ue.from(0),holderTokenId:g.tokenGatedEnabled&&(g.holderTokenStandard==="0"||g.holderTokenStandard==="1")?parseInt(g.holderTokenId):0,socialEngagementRequired:f,socialTaskDescription:f?g.socialTaskDescription:"",description:g.description||"",twitterLink:g.twitterLink||"",discordLink:g.discordLink||"",telegramLink:g.telegramLink||""};let $=ue.from(0);f&&($=await n.protocolManager.socialEngagementFee(),console.log("Social engagement fee:",Ir($),"ETH"));const q=S.add($);console.log("Native prize amount:",Ir(S),"ETH"),console.log("Total value to send:",Ir(q),"ETH");let G={success:!1};try{const H=await n.poolDeployer.connect(E).createPool(B,{value:q});G={success:!0,receipt:await H.wait(),hash:H.hash}}catch(H){G={success:!1,error:H.message}}if(G.success)te.success("Your raffle was created successfully!"),m({name:"",ethAmount:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:""});else throw new Error(G.error)}catch(E){console.error("Error creating raffle:",E),te.error(Th(E))}finally{d(!1)}};return l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(cS,{className:"h-5 w-5"}),l.jsxs("h3",{className:`font-semibold ${s?"text-lg":"text-xl"}`,children:[o()," Giveaway"]})]}),l.jsxs("form",{onSubmit:x,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Raffle Name"}),l.jsx("input",{type:"text",value:g.name||"",onChange:w=>v("name",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:o("prize")}),l.jsx("input",{type:"number",min:"0.00000001",step:"any",value:g.ethAmount||"",onChange:w=>v("ethAmount",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:g.startTime||"",onChange:w=>v("startTime",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",a.minDuration&&a.maxDuration&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(a.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(a.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:g.duration||"",onChange:w=>v("duration",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Slot Limit",a.minSlot&&a.maxSlot&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",a.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",a.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:g.slotLimit||"",onChange:w=>v("slotLimit",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Winner Count",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Winners must not exceed 25% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:g.winnersCount||"",onChange:w=>v("winnersCount",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Max Slots Per Participant must not exceed 1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:g.maxSlotsPerParticipant||"",onChange:w=>v("maxSlotsPerParticipant",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]})]}),l.jsx(Pl,{formData:g,handleChange:v,required:!0,useFormDataEnabled:!0}),l.jsx(Rl,{formData:g,handleChange:v,socialEngagementEnabled:f,setSocialEngagementEnabled:p}),l.jsx(Il,{formData:g,handleChange:v}),l.jsx("div",{className:"flex gap-4",children:l.jsx(qe,{type:"submit",disabled:c||!t,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:c?"Creating...":"Create Raffle"})})]})]})}function Cde(){const{connected:t,address:e,provider:r}=xr(),{contracts:n}=Cr(),{isMobile:i}=pn(),s=Ml(n,!0),[o,a]=C.useState(!1),[c,d]=C.useState(!1),[f,p]=C.useState({name:"",tokenAddress:"",tokenAmount:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxSlotsPerParticipant:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[],description:"",twitterLink:"",discordLink:"",telegramLink:""}),[g,m]=C.useState(null),[v,x]=C.useState(!1);C.useEffect(()=>{let P=!1;async function R(S){if(!(n!=null&&n.protocolManager)||!S||S.length!==42){m(null);return}x(!0);try{const B=await n.protocolManager.isERC20PrizeWhitelisted(S);P||m(B)}catch{P||m(!1)}finally{P||x(!1)}}return R(f.tokenAddress),()=>{P=!0}},[f.tokenAddress,n]),C.useEffect(()=>{f.tokenAddress&&!v&&g!==null&&(g?te.success("This token is approved"):te.error("This token is not approved"))},[f.tokenAddress,v,g]);const w=(P,R)=>{p(S=>({...S,[P]:R}))},E=async P=>{if(P.preventDefault(),!t||!n.poolDeployer||!r){te.error("Please connect your wallet and ensure contracts are configured");return}a(!0);try{const R=r.getSigner(),S=await W2({signer:R,tokenAddress:f.tokenAddress,prizeType:"erc20",spender:n.poolDeployer.address,amount:f.tokenAmount});if(!S.success){te.error("Token approval failed: "+S.error),a(!1);return}S.alreadyApproved||(te.success("ERC20 approval successful!"),await new Promise(W=>setTimeout(W,2e3)));const B=await new At(f.tokenAddress,ht.erc20,R).decimals(),$=Math.floor(new Date(f.startTime).getTime()/1e3),q=parseInt(f.duration)*60,G=f.tokenAmount?Cn(f.tokenAmount,B):ue.from(0),H={name:f.name,startTime:$,duration:q,slotLimit:parseInt(f.slotLimit),winnersCount:parseInt(f.winnersCount),maxSlotsPerParticipant:parseInt(f.maxSlotsPerParticipant),isPrized:!0,customSlotFee:ue.from(0),erc721Drop:!1,prizeCollection:He,standard:2,prizeTokenId:0,amountPerWinner:0,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:He,maxSupply:0,erc20PrizeToken:f.tokenAddress,erc20PrizeAmount:G,nativePrizeAmount:ue.from(0),revealType:0,unrevealedBaseURI:"",revealTime:0,holderTokenAddress:f.tokenGatedEnabled?f.holderTokenAddress:He,holderTokenStandard:f.tokenGatedEnabled?parseInt(f.holderTokenStandard):0,minHolderTokenBalance:f.tokenGatedEnabled&&f.minHolderTokenBalance!==""&&f.minHolderTokenBalance!==void 0?Cn(f.minHolderTokenBalance,18):ue.from(0),holderTokenBalance:f.tokenGatedEnabled&&f.minHolderTokenBalance!==""&&f.minHolderTokenBalance!==void 0?Cn(f.minHolderTokenBalance,18):ue.from(0),holderTokenId:f.tokenGatedEnabled&&(f.holderTokenStandard==="0"||f.holderTokenStandard==="1")?parseInt(f.holderTokenId):0,socialEngagementRequired:c,socialTaskDescription:c?f.socialTaskDescription:"",description:f.description||"",twitterLink:f.twitterLink||"",discordLink:f.discordLink||"",telegramLink:f.telegramLink||""};let K=ue.from(0);c&&(K=await n.protocolManager.socialEngagementFee(),console.log("Social engagement fee:",Ir(K),"ETH")),await(await n.poolDeployer.connect(R).createPool(H,{value:K})).wait(),te.success("Your raffle was created successfully!"),p({name:"",tokenAddress:"",tokenAmount:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxSlotsPerParticipant:""})}catch(R){console.error("Error creating raffle:",R),te.error(Th(R))}finally{a(!1)}};return l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(cS,{className:"h-5 w-5"}),l.jsx("h3",{className:`font-semibold ${i?"text-lg":"text-xl"}`,children:"ERC20 Token Giveaway"})]}),l.jsxs("form",{onSubmit:E,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Raffle Name"}),l.jsx("input",{type:"text",value:f.name||"",onChange:P=>w("name",P.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"ERC20 Token Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:f.tokenAddress||"",onChange:P=>w("tokenAddress",P.target.value),className:"w-full px-3 py-2.5 pr-10 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),f.tokenAddress&&!v&&g===!0&&l.jsx(jr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-green-600"}),f.tokenAddress&&!v&&g===!1&&l.jsx(vh,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-red-600"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Total Token Amount"}),l.jsx("input",{type:"number",min:"0.00000001",step:"any",value:f.tokenAmount||"",onChange:P=>w("tokenAmount",P.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:f.startTime||"",onChange:P=>w("startTime",P.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",s.minDuration&&s.maxDuration&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(s.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(s.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:f.duration||"",onChange:P=>w("duration",P.target.value),onWheel:P=>P.target instanceof HTMLElement&&P.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Slot Limit",s.minSlot&&s.maxSlot&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",s.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",s.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:f.slotLimit||"",onChange:P=>w("slotLimit",P.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Winner Count",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Winners must not exceed 25% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:f.winnersCount||"",onChange:P=>w("winnersCount",P.target.value),onWheel:P=>P.target instanceof HTMLElement&&P.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Max Slots Per Participant must not exceed 1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:f.maxSlotsPerParticipant||"",onChange:P=>w("maxSlotsPerParticipant",P.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]})]}),l.jsx(Pl,{formData:f,handleChange:w,required:!0,useFormDataEnabled:!0}),l.jsx(Rl,{formData:f,handleChange:w,socialEngagementEnabled:c,setSocialEngagementEnabled:d}),l.jsx(Il,{formData:f,handleChange:w}),l.jsx("div",{className:"flex gap-4",children:l.jsx(qe,{type:"submit",disabled:o||!t,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:o?"Approving & Creating...":"Approve Prize & Create Raffle"})})]})]})}async function Sde(t,e,r,n,i,s){try{let o;const a=await t.getAddress();if(r==="erc20"){o=new At(e,ht.erc20,t);const c=await o.decimals(),d=Cn(i,c),f=await o.allowance(a,n);if(f.gte(d))return!0;if(f.isZero())try{const p=await t.provider.getBlockNumber(),g=Math.max(0,p-1e3),m="0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925",v="0x"+a.slice(2).padStart(64,"0"),x="0x"+n.slice(2).padStart(64,"0"),w=await t.provider.getLogs({address:e,topics:[m,v,x],fromBlock:g,toBlock:p});for(const E of w)if(ue.from(E.data).gte(d))return!0}catch{}return!1}else if(r==="erc721"){o=new At(e,ht.erc721Prize,t);const c=await o.getApproved(s);return c&&c.toLowerCase()===n.toLowerCase()}else if(r==="erc1155")return o=new At(e,ht.erc1155Prize,t),await o.isApprovedForAll(a,n);return!1}catch{return!1}}async function W2({signer:t,tokenAddress:e,prizeType:r,spender:n,amount:i,tokenId:s}){try{if(await Sde(t,e,r,n,i,s))return{success:!0,alreadyApproved:!0};let a,c;if(r==="erc20"){a=new At(e,ht.erc20,t);const d=await a.decimals(),f=Cn(i,d);c=await a.approve(n,f)}else r==="erc721"?(a=new At(e,ht.erc721Prize,t),c=await a.approve(n,s)):r==="erc1155"&&(a=new At(e,ht.erc1155Prize,t),c=await a.setApprovalForAll(n,!0));return await c.wait(),await new Promise(d=>setTimeout(d,2e3)),{success:!0}}catch(o){return{success:!1,error:o.message}}}function Th(t){var n,i;if(t!=null&&t.reason)return t.reason;if((n=t==null?void 0:t.data)!=null&&n.message)return t.data.message;const e=(t==null?void 0:t.message)||((i=t==null?void 0:t.data)==null?void 0:i.message)||(t==null?void 0:t.toString())||"",r=e.match(/execution reverted:?\s*([^\n]*)/i);return r&&r[1]?r[1].trim():e}function Ede(){const{connected:t,address:e,provider:r}=xr(),{contracts:n}=Cr(),{getCurrencyLabel:i}=Sn(),s=Ml(n,!0),[o,a]=C.useState(!1),[c,d]=C.useState(!1),[f,p]=C.useState({name:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",customSlotFee:"",baseURI:"",maxSupply:"",royaltyPercentage:"",prizeTokenId:"1",amountPerWinner:"",revealType:"0",unrevealedBaseURI:"",revealTime:"",royaltyRecipient:e||"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[],description:"",twitterLink:"",discordLink:"",telegramLink:""});C.useEffect(()=>{e&&!f.royaltyRecipient&&p(v=>({...v,royaltyRecipient:e}))},[e]);const g=(v,x)=>{p(w=>({...w,[v]:x}))},m=async v=>{if(v.preventDefault(),!t||!n.poolDeployer||!r){te.error("Please connect your wallet and ensure contracts are configured");return}a(!0);try{const x=r.getSigner(),w=Math.floor(new Date(f.startTime).getTime()/1e3),E=parseInt(f.duration)*60,P=f.customSlotFee&&f.customSlotFee.trim()!==""?Dc(f.customSlotFee):0;let R=parseInt(f.revealType),S=f.unrevealedBaseURI,B=0;R===2&&(B=Math.floor(new Date(f.revealTime).getTime()/1e3)),R===0&&(S="",B=0);const $={name:f.name,startTime:w,duration:E,slotLimit:parseInt(f.slotLimit),winnersCount:parseInt(f.winnersCount),maxSlotsPerParticipant:parseInt(f.maxSlotsPerParticipant),isPrized:!0,customSlotFee:P,erc721Drop:!1,erc1155Drop:!1,prizeCollection:He,standard:1,prizeTokenId:parseInt(f.prizeTokenId),amountPerWinner:parseInt(f.amountPerWinner),collectionName:"",collectionSymbol:"",collectionBaseURI:f.baseURI,creator:e,royaltyPercentage:f.royaltyPercentage?parseInt(f.royaltyPercentage)*100:0,royaltyRecipient:f.royaltyRecipient,maxSupply:parseInt(f.maxSupply||f.winnersCount),erc20PrizeToken:He,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:R,unrevealedBaseURI:S,revealTime:B,holderTokenAddress:f.tokenGatedEnabled?f.holderTokenAddress:He,holderTokenStandard:f.tokenGatedEnabled?parseInt(f.holderTokenStandard):0,minHolderTokenBalance:f.tokenGatedEnabled&&f.minHolderTokenBalance&&f.minHolderTokenBalance.trim()!==""?Cn(f.minHolderTokenBalance,18):ue.from(0),holderTokenBalance:f.tokenGatedEnabled&&f.minHolderTokenBalance&&f.minHolderTokenBalance.trim()!==""?Cn(f.minHolderTokenBalance,18):ue.from(0),holderTokenId:f.tokenGatedEnabled&&f.holderTokenId&&f.holderTokenId.trim()!==""?parseInt(f.holderTokenId):0,socialEngagementRequired:c,socialTaskDescription:c?f.socialTaskDescription:"",description:f.description||"",twitterLink:f.twitterLink||"",discordLink:f.discordLink||"",telegramLink:f.telegramLink||""};let q=ue.from(0);c&&(q=await n.protocolManager.socialEngagementFee(),console.log("Social engagement fee:",Ir(q),"ETH")),await(await n.poolDeployer.connect(x).createPool($,{value:q})).wait(),te.success("Your raffle was created successfully!"),p({name:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",customSlotFee:"",baseURI:"",maxSupply:"",royaltyPercentage:"",prizeTokenId:"1",amountPerWinner:"",revealType:"0",unrevealedBaseURI:"",revealTime:"",royaltyRecipient:e||"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(x){console.error("Error creating raffle:",x),te.error(x.message||"Error creating raffle")}finally{a(!1)}};return l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(iv,{className:"h-5 w-5"}),l.jsx("h3",{className:"font-display text-[length:var(--text-xl)] font-semibold",children:"New ERC1155 Collection Raffle"})]}),l.jsxs("form",{onSubmit:m,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Raffle Name"}),l.jsx("input",{type:"text",value:f.name||"",onChange:v=>g("name",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:f.startTime||"",onChange:v=>g("startTime",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",s.minDuration&&s.maxDuration&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(s.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(s.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:f.duration||"",onChange:v=>g("duration",v.target.value),onWheel:v=>v.target instanceof HTMLElement&&v.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Slot Limit",s.minSlot&&s.maxSlot&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",s.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",s.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:f.slotLimit||"",onChange:v=>g("slotLimit",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Winner Count",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Winners must not exceed 25% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:f.winnersCount||"",onChange:v=>g("winnersCount",v.target.value),onWheel:v=>v.target instanceof HTMLElement&&v.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Max Slots Per Participant must not exceed 1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:f.maxSlotsPerParticipant||"",onChange:v=>g("maxSlotsPerParticipant",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:i("ticket")}),l.jsx("input",{type:"number",step:"0.001",value:f.customSlotFee||"",onChange:v=>g("customSlotFee",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",placeholder:"Leave empty to use protocol default"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Prize Token ID"}),l.jsx("input",{type:"number",value:f.prizeTokenId||"",onChange:v=>g("prizeTokenId",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Amount Per Winner"}),l.jsx("input",{type:"number",value:f.amountPerWinner||"",onChange:v=>g("amountPerWinner",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]})]}),l.jsxs("div",{className:"bg-muted/20 border border-border rounded-xl p-4 mt-4 shadow-md",children:[l.jsx("h4",{className:"font-semibold text-base mb-4",children:"NFT Collection Info"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Base URI"}),l.jsx("input",{type:"url",value:f.baseURI||"",onChange:v=>g("baseURI",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Max Supply"}),l.jsx("input",{type:"number",value:f.maxSupply||"",onChange:v=>g("maxSupply",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Royalty Percentage (%)"}),l.jsx("input",{type:"number",value:f.royaltyPercentage||"",onChange:v=>g("royaltyPercentage",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",min:"0",step:"0.01",placeholder:"e.g. 5 for 5%"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Enter as a percentage (e.g. 5 for 5%)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Royalty Recipient"}),l.jsx("input",{type:"text",value:f.royaltyRecipient||"",onChange:v=>g("royaltyRecipient",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0,pattern:"^0x[a-fA-F0-9]{40}$"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Must be a valid Ethereum address"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Reveal Type"}),l.jsxs(rd,{value:f.revealType,onValueChange:v=>g("revealType",v),required:!0,children:[l.jsx(id,{className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",children:l.jsx(nd,{placeholder:"Select Reveal Type"})}),l.jsxs(sd,{children:[l.jsx(ji,{value:"0",children:"Instant Reveal"}),l.jsx(ji,{value:"1",children:"Manual Reveal"}),l.jsx(ji,{value:"2",children:"Scheduled Reveal"})]})]})]}),(f.revealType==="1"||f.revealType==="2")&&l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Unrevealed Base URI"}),l.jsx("input",{type:"url",value:f.unrevealedBaseURI||"",onChange:v=>g("unrevealedBaseURI",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:f.revealType==="1"||f.revealType==="2"})]}),f.revealType==="2"&&l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Reveal Time"}),l.jsx("input",{type:"datetime-local",value:f.revealTime||"",onChange:v=>g("revealTime",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:f.revealType==="2"})]})]})]}),l.jsx(Pl,{formData:f,handleChange:g,required:!0,useFormDataEnabled:!0}),l.jsx(Rl,{formData:f,handleChange:g,socialEngagementEnabled:c,setSocialEngagementEnabled:d}),l.jsx(Il,{formData:f,handleChange:g}),l.jsx("div",{className:"flex gap-4",children:l.jsx(qe,{type:"submit",disabled:o||!t,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:o?"Creating...":"Create Raffle"})})]})]})}function Ml(t,e){const[r,n]=C.useState({minSlot:void 0,maxSlot:void 0,minDuration:void 0,maxDuration:void 0,maxTicketsPerParticipant:void 0});return C.useEffect(()=>{if(!(t!=null&&t.protocolManager))return;async function i(){var s,o,a,c,d,f,p,g,m,v;try{if(e){const[x,w,E]=await Promise.all([t.protocolManager.getAllSlotLimits(),t.protocolManager.getDurationLimits(),t.protocolManager.getMaxSlotsPerParticipant()]);n({minSlot:(s=x.minPrized)==null?void 0:s.toString(),maxSlot:(o=x.max)==null?void 0:o.toString(),minDuration:(a=w.min)==null?void 0:a.toString(),maxDuration:(c=w.max)==null?void 0:c.toString(),maxTicketsPerParticipant:(d=E.max)==null?void 0:d.toString()})}else{const[x,w,E]=await Promise.all([t.protocolManager.getAllSlotLimits(),t.protocolManager.getDurationLimits(),t.protocolManager.getMaxSlotsPerParticipant()]);n({minSlot:(f=x.minNonPrized)==null?void 0:f.toString(),maxSlot:(p=x.max)==null?void 0:p.toString(),minDuration:(g=w.min)==null?void 0:g.toString(),maxDuration:(m=w.max)==null?void 0:m.toString(),maxTicketsPerParticipant:(v=E.max)==null?void 0:v.toString()})}}catch{}}i()},[t,e]),r}function Iz(t,e){const[r,n]=C.useState(null),[i,s]=C.useState(!1);return C.useEffect(()=>{let o=!1;async function a(c){if(!(e!=null&&e.protocolManager)||!c||c.length!==42){n(null);return}s(!0);try{const d=await e.protocolManager.isCollectionApproved(c);o||n(d)}catch(d){console.warn("[useCollectionWhitelistStatus] Failed to check collection approval:",d.message),o||n(!1)}finally{o||s(!1)}}return a(t),()=>{o=!0}},[t,e]),{status:r,checking:i}}function Mz(t,e){const[r,n]=C.useState(null),[i,s]=C.useState(!1);return C.useEffect(()=>{let o=!1;async function a(c){if(!(e!=null&&e.protocolManager)||!c||c.length!==42){n(null);return}s(!0);try{const d=await e.protocolManager.isInternalCollection(c);o||n(d)}catch{o||n(!1)}finally{o||s(!1)}}return a(t),()=>{o=!0}},[t,e]),{status:r,checking:i}}function f0(t){if(!t)return null;if(/^\d+$/.test(t))return parseInt(t,10);const e=Object.entries(Ht),r=t.toLowerCase();for(const[n,i]of e)if(i.name.toLowerCase().replace(/[^a-z0-9]+/g,"-")===r)return parseInt(n,10);return null}const ek=new Map,Tde=300*1e3;async function Nde(t,e,r){try{const n=Math.max(0,r-1e4),i=e.filters.PoolCreated(t);let s=await e.queryFilter(i,n,r);if(s.length>0)return s[0].blockNumber;let o=0,a=n;const c=5e3;for(;o<=a;){const d=Math.max(0,a-c),f=a;try{if(s=await e.queryFilter(i,d,f),s.length>0)return s[0].blockNumber;a=d-1}catch(p){console.warn(`Error searching blocks ${d}-${f}:`,p.message),a=d-1}if(r-a>1e5)break}return null}catch(n){return console.error("Error finding pool creation block:",n),null}}async function Ade(t,e){if(!t||!e)return null;const r=t.toLowerCase(),n=ek.get(r);if(n&&Date.now()-n.timestamp<Tde)return n.data;try{const s=await e.provider.getBlockNumber(),o=e.filters.PoolMetadataSet(t),a=Math.max(0,s-1e4);let c=await e.queryFilter(o,a,s);if(c.length===0){const p=await Nde(t,e,s);if(p!==null){const g=p,m=Math.min(p+100,s);try{c=await e.queryFilter(o,g,m)}catch(v){console.warn("Error querying metadata from creation block:",v.message)}}}if(c.length===0){const p={description:"",twitterLink:"",discordLink:"",telegramLink:"",hasMetadata:!1};return ek.set(r,{data:p,timestamp:Date.now()}),p}const d=c[c.length-1],f={description:d.args.description||"",twitterLink:d.args.twitterLink||"",discordLink:d.args.discordLink||"",telegramLink:d.args.telegramLink||"",hasMetadata:!0,blockNumber:d.blockNumber,transactionHash:d.transactionHash};return ek.set(r,{data:f,timestamp:Date.now()}),f}catch(i){return console.error("Error fetching pool metadata:",i),null}}function jde(t){return t?!!(t.description||t.twitterLink||t.discordLink||t.telegramLink):!1}function tk(t,e){if(!t)return"";try{const n=new URL(t).pathname;switch(e){case"twitter":const i=n.match(/\/@?([a-zA-Z0-9_]+)/);return i?`@${i[1]}`:t;case"discord":const s=n.match(/\/([a-zA-Z0-9]+)$/);return s?`discord.gg/${s[1]}`:t;case"telegram":const o=n.match(/\/([a-zA-Z0-9_]+)/);return o?`t.me/${o[1]}`:t;default:return t}}catch{return t}}const Pde="modulepreload",Rde=function(t){return"/"+t},TI={},Nh=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let o=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(r.map(d=>{if(d=Rde(d),d in TI)return;TI[d]=!0;const f=d.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":Pde,f||(g.as="script"),g.crossOrigin="",g.href=d,c&&g.setAttribute("nonce",c),document.head.appendChild(g),f)return new Promise((m,v)=>{g.addEventListener("load",m),g.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},Ide=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Nh(async()=>{const{default:n}=await Promise.resolve().then(()=>bd);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class q2 extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class NI extends q2{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class AI extends q2{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class jI extends q2{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var G_;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(G_||(G_={}));class Mde{constructor(e,{headers:r={},customFetch:n,region:i=G_.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=Ide(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return at(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:s,method:o,body:a,signal:c}=n;let d={},{region:f}=n;f||(f=this.region);const p=new URL(`${this.url}/${r}`);f&&f!=="any"&&(d["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let g;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",g=a):typeof a=="string"?(d["Content-Type"]="text/plain",g=a):typeof FormData<"u"&&a instanceof FormData?g=a:(d["Content-Type"]="application/json",g=JSON.stringify(a)):g=a;const m=yield this.fetch(p.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:g,signal:c}).catch(E=>{throw E.name==="AbortError"?E:new NI(E)}),v=m.headers.get("x-relay-error");if(v&&v==="true")throw new AI(m);if(!m.ok)throw new jI(m);let x=((i=m.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),w;return x==="application/json"?w=yield m.json():x==="application/octet-stream"||x==="application/pdf"?w=yield m.blob():x==="text/event-stream"?w=m:x==="multipart/form-data"?w=yield m.formData():w=yield m.text(),{data:w,error:null,response:m}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new NI(s)}:{data:null,error:s,response:s instanceof jI||s instanceof AI?s.context:void 0}}})}}var wi={};const Ah=aC(xX);var h0={},p0={},m0={},g0={},y0={},Dde=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},fh=Dde();const Ode=fh.fetch,Dz=fh.fetch.bind(fh),Oz=fh.Headers,Lde=fh.Request,Fde=fh.Response,bd=Object.freeze(Object.defineProperty({__proto__:null,Headers:Oz,Request:Lde,Response:Fde,default:Dz,fetch:Ode},Symbol.toStringTag,{value:"Module"})),zde=aC(bd);var x0={},PI;function Lz(){if(PI)return x0;PI=1,Object.defineProperty(x0,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return x0.default=t,x0}var RI;function Fz(){if(RI)return y0;RI=1,Object.defineProperty(y0,"__esModule",{value:!0});const t=Ah,e=t.__importDefault(zde),r=t.__importDefault(Lz());class n{constructor(s){var o,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(o=s.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=new Headers(this.headers),this.headers.set(s,o),this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let c=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,p,g,m;let v=null,x=null,w=null,E=d.status,P=d.statusText;if(d.ok){if(this.method!=="HEAD"){const $=await d.text();$===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?x=$:x=JSON.parse($))}const S=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),B=(g=d.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");S&&B&&B.length>1&&(w=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(v={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,w=null,E=406,P="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const S=await d.text();try{v=JSON.parse(S),Array.isArray(v)&&d.status===404&&(x=[],v=null,E=200,P="OK")}catch{d.status===404&&S===""?(E=204,P="No Content"):v={message:S}}if(v&&this.isMaybeSingle&&(!((m=v==null?void 0:v.details)===null||m===void 0)&&m.includes("0 rows"))&&(v=null,E=200,P="OK"),v&&this.shouldThrowOnError)throw new r.default(v)}return{error:v,data:x,count:w,status:E,statusText:P}});return this.shouldThrowOnError||(c=c.catch(d=>{var f,p,g;return{error:{message:`${(f=d==null?void 0:d.name)!==null&&f!==void 0?f:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(p=d==null?void 0:d.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(g=d==null?void 0:d.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),c.then(s,o)}returns(){return this}overrideTypes(){return this}}return y0.default=n,y0}var II;function zz(){if(II)return g0;II=1,Object.defineProperty(g0,"__esModule",{value:!0});const e=Ah.__importDefault(Fz());class r extends e.default{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a,referencedTable:c=a}={}){const d=c?`${c}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:a=o}={}){const c=typeof a>"u"?"offset":`${a}.offset`,d=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(d,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:c=!1,format:d="text"}={}){var f;const p=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${g}"; options=${p};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return g0.default=r,g0}var MI;function H2(){if(MI)return m0;MI=1,Object.defineProperty(m0,"__esModule",{value:!0});const e=Ah.__importDefault(zz()),r=new RegExp("[,()]");class n extends e.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}in(s,o){const a=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(s,`in.(${a})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:a,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const f=a===void 0?"":`(${a})`;return this.url.searchParams.append(s,`${d}fts${f}.${o}`),this}match(s){return Object.entries(s).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(s,o,a){return this.url.searchParams.append(s,`not.${o}.${a}`),this}or(s,{foreignTable:o,referencedTable:a=o}={}){const c=a?`${a}.or`:"or";return this.url.searchParams.append(c,`(${s})`),this}filter(s,o,a){return this.url.searchParams.append(s,`${o}.${a}`),this}}return m0.default=n,m0}var DI;function Bz(){if(DI)return p0;DI=1,Object.defineProperty(p0,"__esModule",{value:!0});const e=Ah.__importDefault(H2());class r{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=new Headers(s),this.schema=o,this.fetch=a}select(i,s){const{head:o=!1,count:a}=s??{},c=o?"HEAD":"GET";let d=!1;const f=(i??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",f),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:o=!0}={}){var a;const c="POST";if(s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(d.length>0){const f=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:c=!0}={}){var d;const f="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),a&&this.headers.append("Prefer",`count=${a}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((g,m)=>g.concat(Object.keys(m)),[]);if(p.length>0){const g=[...new Set(p)].map(m=>`"${m}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:s}={}){var o;const a="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var s;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return p0.default=r,p0}var OI;function Bde(){if(OI)return h0;OI=1,Object.defineProperty(h0,"__esModule",{value:!0});const t=Ah,e=t.__importDefault(Bz()),r=t.__importDefault(H2());class n{constructor(s,{headers:o={},schema:a,fetch:c}={}){this.url=s,this.headers=new Headers(o),this.schemaName=a,this.fetch=c}from(s){const o=new URL(`${this.url}/${s}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,o={},{head:a=!1,get:c=!1,count:d}={}){var f;let p;const g=new URL(`${this.url}/rpc/${s}`);let m;a||c?(p=a?"HEAD":"GET",Object.entries(o).filter(([x,w])=>w!==void 0).map(([x,w])=>[x,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([x,w])=>{g.searchParams.append(x,w)})):(p="POST",m=o);const v=new Headers(this.headers);return d&&v.set("Prefer",`count=${d}`),new r.default({method:p,url:g,headers:v,schema:this.schemaName,body:m,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return h0.default=n,h0}var LI;function $de(){if(LI)return wi;LI=1,Object.defineProperty(wi,"__esModule",{value:!0}),wi.PostgrestError=wi.PostgrestBuilder=wi.PostgrestTransformBuilder=wi.PostgrestFilterBuilder=wi.PostgrestQueryBuilder=wi.PostgrestClient=void 0;const t=Ah,e=t.__importDefault(Bde());wi.PostgrestClient=e.default;const r=t.__importDefault(Bz());wi.PostgrestQueryBuilder=r.default;const n=t.__importDefault(H2());wi.PostgrestFilterBuilder=n.default;const i=t.__importDefault(zz());wi.PostgrestTransformBuilder=i.default;const s=t.__importDefault(Fz());wi.PostgrestBuilder=s.default;const o=t.__importDefault(Lz());return wi.PostgrestError=o.default,wi.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},wi}var $z=$de();const Uz=El($z),Ude=aM({__proto__:null,default:Uz},[$z]),{PostgrestClient:Vde,PostgrestQueryBuilder:Hpe,PostgrestFilterBuilder:Gpe,PostgrestTransformBuilder:Kpe,PostgrestBuilder:Ype,PostgrestError:Jpe}=Uz||Ude;class Wde{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const qde="2.78.0",Hde=`realtime-js/${qde}`,Gde="1.0.0",K_=1e4,Kde=1e3,Yde=100;var am;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(am||(am={}));var Un;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Un||(Un={}));var Ko;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ko||(Ko={}));var Y_;(function(t){t.websocket="websocket"})(Y_||(Y_={}));var ju;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ju||(ju={}));class Jde{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+i));o=o+i;const c=n.decode(e.slice(o,o+s));o=o+s;const d=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:d}}}class Vz{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Br;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Br||(Br={}));const FI=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=Xde(o,t,e,i),s),{}):{}},Xde=(t,e,r,n)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=r[t];return s&&!n.includes(s)?Wz(s,o):J_(o)},Wz=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return tfe(e,r)}switch(t){case Br.bool:return Qde(e);case Br.float4:case Br.float8:case Br.int2:case Br.int4:case Br.int8:case Br.numeric:case Br.oid:return Zde(e);case Br.json:case Br.jsonb:return efe(e);case Br.timestamp:return rfe(e);case Br.abstime:case Br.date:case Br.daterange:case Br.int4range:case Br.int8range:case Br.money:case Br.reltime:case Br.text:case Br.time:case Br.timestamptz:case Br.timetz:case Br.tsrange:case Br.tstzrange:return J_(e);default:return J_(e)}},J_=t=>t,Qde=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Zde=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},efe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},tfe=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const o=t.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>Wz(e,a))}return t},rfe=t=>typeof t=="string"?t.replace(" ","T"):t,qz=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class rk{constructor(e,r,n={},i=K_){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var zI;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(zI||(zI={}));class lm{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lm.syncState(this.state,i,s,o),this.pendingDiffs.forEach(c=>{this.state=lm.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=lm.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),o=this.transformState(r),a={},c={};return this.map(s,(d,f)=>{o[d]||(c[d]=f)}),this.map(o,(d,f)=>{const p=s[d];if(p){const g=f.map(w=>w.presence_ref),m=p.map(w=>w.presence_ref),v=f.filter(w=>m.indexOf(w.presence_ref)<0),x=p.filter(w=>g.indexOf(w.presence_ref)<0);v.length>0&&(a[d]=v),x.length>0&&(c[d]=x)}else a[d]=f}),this.syncDiff(s,{joins:a,leaves:c},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(a,c)=>{var d;const f=(d=e[a])!==null&&d!==void 0?d:[];if(e[a]=this.cloneDeep(c),f.length>0){const p=e[a].map(m=>m.presence_ref),g=f.filter(m=>p.indexOf(m.presence_ref)<0);e[a].unshift(...g)}n(a,f,c)}),this.map(o,(a,c)=>{let d=e[a];if(!d)return;const f=c.map(p=>p.presence_ref);d=d.filter(p=>f.indexOf(p.presence_ref)<0),e[a]=d,i(a,d,c),d.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var BI;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(BI||(BI={}));var cm;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(cm||(cm={}));var ll;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ll||(ll={}));class G2{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Un.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new rk(this,Ko.join,this.params,this.timeout),this.rejoinTimer=new Vz(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Un.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Un.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ko.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new lm(this),this.broadcastEndpointURL=qz(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Un.closed){const{config:{broadcast:o,presence:a,private:c}}=this.params,d=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[cm.PRESENCE]&&this.bindings[cm.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},g={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:f}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(ll.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(ll.CLOSED)),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket.setAuth(),m===void 0){e==null||e(ll.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,w=(v=x==null?void 0:x.length)!==null&&v!==void 0?v:0,E=[];for(let P=0;P<w;P++){const R=x[P],{filter:{event:S,schema:B,table:$,filter:q}}=R,G=m&&m[P];if(G&&G.event===S&&G.schema===B&&G.table===$&&G.filter===q)E.push(Object.assign(Object.assign({},R),{id:G.id}));else{this.unsubscribe(),this.state=Un.errored,e==null||e(ll.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(ll.SUBSCRIBED);return}}).receive("error",m=>{this.state=Un.errored,e==null||e(ll.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ll.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Un.joined&&e===cm.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{const d=await a.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,c;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Un.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ko.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new rk(this,Ko.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Un.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new rk(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Yde){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:c,leave:d,join:f}=Ko;if(n&&[a,c,d,f].indexOf(o)>=0&&n!==this._joinRef())return;let g=this._onMessage(o,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var v,x,w;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((w=(x=m.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(m=>m.callback(g,n)):(s=this.bindings[o])===null||s===void 0||s.filter(m=>{var v,x,w,E,P,R;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const S=m.id,B=(v=m.filter)===null||v===void 0?void 0:v.event;return S&&((x=r.ids)===null||x===void 0?void 0:x.includes(S))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const S=(P=(E=m==null?void 0:m.filter)===null||E===void 0?void 0:E.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return S==="*"||S===((R=r==null?void 0:r.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof g=="object"&&"ids"in g){const v=g.data,{schema:x,table:w,commit_timestamp:E,type:P,errors:R}=v;g=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:E,eventType:P,new:{},old:{},errors:R}),this._getPayloadRecords(v))}m.callback(g,n)})}_isClosed(){return this.state===Un.closed}_isJoined(){return this.state===Un.joined}_isJoining(){return this.state===Un.joining}_isLeaving(){return this.state===Un.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&G2.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ko.close,{},e)}_onError(e){this._on(Ko.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Un.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=FI(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=FI(e.columns,e.old_record)),r}}const nk=()=>{},v0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},nfe=[1e3,2e3,5e3,1e4],ife=1e4,sfe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ofe{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=K_,this.transport=null,this.heartbeatIntervalMs=v0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=nk,this.ref=0,this.reconnectTimer=null,this.logger=nk,this.conn=null,this.sendBuffer=[],this.serializer=new Jde,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>Nh(async()=>{const{default:a}=await Promise.resolve().then(()=>bd);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Y_.websocket}`,this.httpEndpoint=qz(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Wde.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Gde}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case am.connecting:return ju.Connecting;case am.open:return ju.Open;case am.closing:return ju.Closing;default:return ju.Closed}}isConnected(){return this.connectionState()===ju.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new G2(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Kde,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},v0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:o}=r,a=o?`(${o})`:"",c=s.status||"";this.log("receive",`${c} ${n} ${i} ${a}`.trim(),s),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(i,s,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ko.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([sfe],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:Hde};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Ko.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Vz(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},v0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,o,a,c,d,f;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:K_,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:v0.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:nk,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:p=>nfe[p-1]||ife,this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(p,g)=>g(JSON.stringify(p)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class K2 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function sn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class afe extends K2{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class X_ extends K2{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Y2=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Nh(async()=>{const{default:n}=await Promise.resolve().then(()=>bd);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},lfe=()=>at(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Nh(()=>Promise.resolve().then(()=>bd),void 0)).Response:Response}),Q_=t=>{if(Array.isArray(t))return t.map(r=>Q_(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Q_(n)}),e},cfe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ik=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},ufe=(t,e,r)=>at(void 0,void 0,void 0,function*(){const n=yield lfe();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const s=t.status||500,o=(i==null?void 0:i.statusCode)||s+"";e(new afe(ik(i),s,o))}).catch(i=>{e(new X_(ik(i),i))}):e(new X_(ik(t),t))}),dfe=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(cfe(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function _g(t,e,r,n,i,s){return at(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,dfe(e,n,i,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>ufe(c,a,n))})})}function Ym(t,e,r,n){return at(this,void 0,void 0,function*(){return _g(t,"GET",e,r,n)})}function Go(t,e,r,n,i){return at(this,void 0,void 0,function*(){return _g(t,"POST",e,n,i,r)})}function Z_(t,e,r,n,i){return at(this,void 0,void 0,function*(){return _g(t,"PUT",e,n,i,r)})}function ffe(t,e,r,n){return at(this,void 0,void 0,function*(){return _g(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function J2(t,e,r,n,i){return at(this,void 0,void 0,function*(){return _g(t,"DELETE",e,n,i,r)})}class hfe{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return at(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(sn(e))return{data:null,error:e};throw e}})}}var Hz;class pfe{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Hz]="BlobDownloadBuilder",this.promise=null}asStream(){return new hfe(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return at(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(sn(e))return{data:null,error:e};throw e}})}}Hz=Symbol.toStringTag;const mfe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$I={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gfe{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Y2(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return at(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},$I),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const d=this._removeEmptyFolders(r),f=this._getFinalPath(d),p=yield(e=="PUT"?Z_:Go)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(sn(s))return{data:null,error:s};throw s}})}upload(e,r,n){return at(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return at(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:$I.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType);const p=yield Z_(this.fetch,a.toString(),c,{headers:f});return{data:{path:s,fullPath:p.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(sn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return at(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Go(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new K2("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}update(e,r,n){return at(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return at(this,void 0,void 0,function*(){try{return{data:yield Go(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(sn(i))return{data:null,error:i};throw i}})}copy(e,r,n){return at(this,void 0,void 0,function*(){try{return{data:{path:(yield Go(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(sn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return at(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Go(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(sn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return at(this,void 0,void 0,function*(){try{const i=yield Go(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(sn(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"",a=this._getFinalPath(e),c=()=>Ym(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new pfe(c,this.shouldThrowOnError)}info(e){return at(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Ym(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Q_(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}exists(e){return at(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield ffe(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n)&&n instanceof X_){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${d}`)}}}remove(e){return at(this,void 0,void 0,function*(){try{return{data:yield J2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}list(e,r,n){return at(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},mfe),r),{prefix:e||""});return{data:yield Go(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(sn(i))return{data:null,error:i};throw i}})}listV2(e,r){return at(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Go(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Gz="2.78.0",Kz={"X-Client-Info":`storage-js/${Gz}`};class yfe{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Kz),r),this.fetch=Y2(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return at(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Ym(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}getBucket(e){return at(this,void 0,void 0,function*(){try{return{data:yield Ym(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}createBucket(e){return at(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Go(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(sn(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return at(this,void 0,void 0,function*(){try{return{data:yield Z_(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return at(this,void 0,void 0,function*(){try{return{data:yield Go(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return at(this,void 0,void 0,function*(){try{return{data:yield J2(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class xfe{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Kz),r),this.fetch=Y2(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return at(this,void 0,void 0,function*(){try{return{data:yield Go(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}listBuckets(e){return at(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Ym(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return at(this,void 0,void 0,function*(){try{return{data:yield J2(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}}const X2={"X-Client-Info":`storage-js/${Gz}`,"Content-Type":"application/json"};class Yz extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Fs(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class sk extends Yz{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vfe extends Yz{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var UI;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(UI||(UI={}));const Q2=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Nh(async()=>{const{default:n}=await Promise.resolve().then(()=>bd);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},bfe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},VI=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),wfe=(t,e,r)=>at(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";e(new sk(VI(o),i,a))}).catch(()=>{const o=i+"",a=s.statusText||`HTTP ${i} error`;e(new sk(a,i,o))});else{const o=i+"",a=s.statusText||`HTTP ${i} error`;e(new sk(a,i,o))}}else e(new vfe(VI(t),t))}),kfe=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(bfe(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function _fe(t,e,r,n,i,s){return at(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,kfe(e,n,i,s)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>wfe(c,a,n))})})}function zs(t,e,r,n,i){return at(this,void 0,void 0,function*(){return _fe(t,"POST",e,n,i,r)})}class Cfe{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},X2),r),this.fetch=Q2(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return at(this,void 0,void 0,function*(){try{return{data:(yield zs(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fs(r))return{data:null,error:r};throw r}})}getIndex(e,r){return at(this,void 0,void 0,function*(){try{return{data:yield zs(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fs(n))return{data:null,error:n};throw n}})}listIndexes(e){return at(this,void 0,void 0,function*(){try{return{data:yield zs(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fs(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return at(this,void 0,void 0,function*(){try{return{data:(yield zs(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fs(n))return{data:null,error:n};throw n}})}}class Sfe{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},X2),r),this.fetch=Q2(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return at(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield zs(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fs(r))return{data:null,error:r};throw r}})}getVectors(e){return at(this,void 0,void 0,function*(){try{return{data:yield zs(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fs(r))return{data:null,error:r};throw r}})}listVectors(e){return at(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield zs(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fs(r))return{data:null,error:r};throw r}})}queryVectors(e){return at(this,void 0,void 0,function*(){try{return{data:yield zs(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fs(r))return{data:null,error:r};throw r}})}deleteVectors(e){return at(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield zs(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fs(r))return{data:null,error:r};throw r}})}}class Efe{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},X2),r),this.fetch=Q2(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return at(this,void 0,void 0,function*(){try{return{data:(yield zs(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fs(r))return{data:null,error:r};throw r}})}getBucket(e){return at(this,void 0,void 0,function*(){try{return{data:yield zs(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fs(r))return{data:null,error:r};throw r}})}listBuckets(){return at(this,arguments,void 0,function*(e={}){try{return{data:yield zs(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fs(r))return{data:null,error:r};throw r}})}deleteBucket(e){return at(this,void 0,void 0,function*(){try{return{data:(yield zs(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fs(r))return{data:null,error:r};throw r}})}}class Tfe extends Efe{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Nfe(this.url,this.headers,e,this.fetch)}}class Nfe extends Cfe{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return at(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return at(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return at(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return at(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Afe(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Afe extends Sfe{constructor(e,r,n,i,s){super(e,r,s),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return at(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return at(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return at(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return at(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return at(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class jfe extends yfe{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new gfe(this.url,this.headers,e,this.fetch)}get vectors(){return new Tfe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new xfe(this.url+"/iceberg",this.headers,this.fetch)}}const Pfe="2.78.0";let Dp="";typeof Deno<"u"?Dp="deno":typeof document<"u"?Dp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Dp="react-native":Dp="node";const Rfe={"X-Client-Info":`supabase-js-${Dp}/${Pfe}`},Ife={headers:Rfe},Mfe={schema:"public"},Dfe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ofe={},Lfe=t=>{let e;return t?e=t:typeof fetch>"u"?e=Dz:e=fetch,(...r)=>e(...r)},Ffe=()=>typeof Headers>"u"?Oz:Headers,zfe=(t,e,r)=>{const n=Lfe(r),i=Ffe();return async(s,o)=>{var a;const c=(a=await e())!==null&&a!==void 0?a:t;let d=new i(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},o),{headers:d}))}};function Bfe(t){return t.endsWith("/")?t:t+"/"}function $fe(t,e){var r,n;const{db:i,auth:s,realtime:o,global:a}=t,{db:c,auth:d,realtime:f,global:p}=e,g={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},d),s),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),a),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function Ufe(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Bfe(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Jz="2.78.0",pf=30*1e3,eC=3,ok=eC*pf,Vfe="http://localhost:9999",Wfe="supabase.auth.token",qfe={"X-Client-Info":`gotrue-js/${Jz}`},tC="X-Supabase-Api-Version",Xz={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Hfe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Gfe=600*1e3;class Jm extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function dt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Kfe extends Jm{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Yfe(t){return dt(t)&&t.name==="AuthApiError"}class Pu extends Jm{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Uc extends Jm{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class $o extends Uc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Jfe(t){return dt(t)&&t.name==="AuthSessionMissingError"}class nf extends Uc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class b0 extends Uc{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class w0 extends Uc{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Xfe(t){return dt(t)&&t.name==="AuthImplicitGrantRedirectError"}class WI extends Uc{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rC extends Uc{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ak(t){return dt(t)&&t.name==="AuthRetryableFetchError"}class qI extends Uc{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class nC extends Uc{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),HI=` 	
\r=`.split(""),Qfe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<HI.length;e+=1)t[HI[e].charCodeAt(0)]=-2;for(let e=0;e<Bx.length;e+=1)t[Bx[e].charCodeAt(0)]=e;return t})();function GI(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Bx[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Bx[n]),e.queuedBits-=6}}function Qz(t,e,r){const n=Qfe[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function KI(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{the(o,n,r)};for(let o=0;o<t.length;o+=1)Qz(t.charCodeAt(o),i,s);return e.join("")}function Zfe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function ehe(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Zfe(n,e)}}function the(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Hf(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Qz(t.charCodeAt(i),r,n);return new Uint8Array(e)}function rhe(t){const e=[];return ehe(t,r=>e.push(r)),new Uint8Array(e)}function Ou(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>GI(i,r,n)),GI(null,r,n),e.join("")}function nhe(t){return Math.round(Date.now()/1e3)+t}function ihe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const $i=()=>typeof window<"u"&&typeof document<"u",vu={tested:!1,writable:!1},Zz=()=>{if(!$i())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vu.tested)return vu.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),vu.tested=!0,vu.writable=!0}catch{vu.tested=!0,vu.writable=!1}return vu.writable};function she(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const eB=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Nh(async()=>{const{default:n}=await Promise.resolve().then(()=>bd);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},ohe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",mf=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},bu=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},rc=async(t,e)=>{await t.removeItem(e)};class Fv{constructor(){this.promise=new Fv.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Fv.promiseConstructor=Promise;function lk(t){const e=t.split(".");if(e.length!==3)throw new nC("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Hfe.test(e[n]))throw new nC("JWT not in base64url format");return{header:JSON.parse(KI(e[0])),payload:JSON.parse(KI(e[1])),signature:Hf(e[2]),raw:{header:e[0],payload:e[1]}}}async function ahe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function lhe(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function che(t){return("0"+t.toString(16)).substr(-2)}function uhe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,che).join("")}async function dhe(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function fhe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await dhe(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sf(t,e,r=!1){const n=uhe();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await mf(t,`${e}-code-verifier`,i);const s=await fhe(n);return[s,n===s?"plain":"s256"]}const hhe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function phe(t){const e=t.headers.get(tC);if(!e||!e.match(hhe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function mhe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function ghe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yhe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function of(t){if(!yhe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ck(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function xhe(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function YI(t){return JSON.parse(JSON.stringify(t))}const Tu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),vhe=[502,503,504];async function JI(t){var e;if(!ohe(t))throw new rC(Tu(t),0);if(vhe.includes(t.status))throw new rC(Tu(t),t.status);let r;try{r=await t.json()}catch(s){throw new Pu(Tu(s),s)}let n;const i=phe(t);if(i&&i.getTime()>=Xz["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new qI(Tu(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new $o}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new qI(Tu(r),t.status,r.weak_password.reasons);throw new Kfe(Tu(r),t.status||500,n)}const bhe=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Pt(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[tC]||(s[tC]=Xz["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await whe(t,e,r+a,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function whe(t,e,r,n,i,s){const o=bhe(e,n,i,s);let a;try{a=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new rC(Tu(c),0)}if(a.ok||await JI(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(c){await JI(c)}}function Uo(t){var e;let r=null;Che(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=nhe(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function XI(t){const e=Uo(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function cc(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function khe(t){return{data:t,error:null}}function _he(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,o=Lc(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function QI(t){return t}function Che(t){return t.access_token&&t.refresh_token&&t.expires_in}const uk=["global","local","others"];class She{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=eB(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=uk[0]){if(uk.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${uk.join(", ")}`);try{return await Pt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Pt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:cc})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Lc(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Pt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:_he,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(dt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Pt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:cc})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,o,a,c;try{const d={nextPage:null,lastPage:0,total:0},f=await Pt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:QI});if(f.error)throw f.error;const p=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);d[`${w}Page`]=x}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(dt(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){of(e);try{return await Pt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:cc})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){of(e);try{return await Pt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:cc})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){of(e);try{return await Pt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:cc})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){of(e.userId);try{const{data:r,error:n}=await Pt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){of(e.userId),of(e.id);try{return{data:await Pt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,o,a,c;try{const d={nextPage:null,lastPage:0,total:0},f=await Pt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:QI});if(f.error)throw f.error;const p=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);d[`${w}Page`]=x}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(dt(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await Pt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Pt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Pt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Pt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Pt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}}function ZI(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const af={debug:!!(globalThis&&Zz()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tB extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ehe extends tB{}async function The(t,e,r){af.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),af.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){af.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{af.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw af.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Ehe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(af.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Nhe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function rB(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Ahe(t){return parseInt(t,16)}function jhe(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Phe(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:c,resources:d,scheme:f,uri:p,version:g}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=rB(t.address),v=f?`${f}://${n}`:n,x=t.statement?`${t.statement}
`:"",w=`${v} wants you to sign in with your Ethereum account:
${m}

${x}`;let E=`URI: ${p}
Version: ${g}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(E+=`
Expiration Time: ${i.toISOString()}`),a&&(E+=`
Not Before: ${a.toISOString()}`),c&&(E+=`
Request ID: ${c}`),d){let P=`
Resources:`;for(const R of d){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);P+=`
- ${R}`}E+=P}return`${w}
${E}`}class jn extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class $x extends jn{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Rhe({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new jn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new jn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new jn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new jn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new jn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new jn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new jn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new jn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(nB(o)){if(s.rp.id!==o)return new jn({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new jn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new jn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new jn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new jn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Ihe({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new jn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new jn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(nB(n)){if(r.rpId!==n)return new jn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new jn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new jn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new jn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Mhe{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Dhe=new Mhe;function Ohe(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=Lc(t,["challenge","user","excludeCredentials"]),s=Hf(e).buffer,o=Object.assign(Object.assign({},r),{id:Hf(r.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:s,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];a.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:Hf(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return a}function Lhe(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Lc(t,["challenge","allowCredentials"]),i=Hf(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];s.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Hf(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function Fhe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ou(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ou(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function zhe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ou(new Uint8Array(i.authenticatorData)),clientDataJSON:Ou(new Uint8Array(i.clientDataJSON)),signature:Ou(new Uint8Array(i.signature)),userHandle:i.userHandle?Ou(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function nB(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function eM(){var t,e;return!!($i()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Bhe(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new $x("Browser returned unexpected credential type",e)}:{data:null,error:new $x("Empty credential response",e)}}catch(e){return{data:null,error:Rhe({error:e,options:t})}}}async function $he(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new $x("Browser returned unexpected credential type",e)}:{data:null,error:new $x("Empty credential response",e)}}catch(e){return{data:null,error:Ihe({error:e,options:t})}}}const Uhe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Vhe={userVerification:"preferred",hints:["security-key"]};function Ux(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))n[s]=o;else if(r(o))n[s]=o;else if(e(o)){const a=n[s];e(a)?n[s]=Ux(a,o):n[s]=Ux(o)}else n[s]=o}return n}function Whe(t,e){return Ux(Uhe,t,e||{})}function qhe(t,e){return Ux(Vhe,t,e||{})}class Hhe{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const c=i??Dhe.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=Whe(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:f,error:p}=await Bhe({publicKey:d,signal:c});return f?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}case"request":{const d=qhe(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:f,error:p}=await $he(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:c}));return f?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}}}catch(o){return dt(o)?{data:null,error:o}:{data:null,error:new Pu("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!r)return{data:null,error:new Jm("rpId is required for WebAuthn authentication")};try{if(!eM())return{data:null,error:new Pu("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!o)return{data:null,error:a};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return dt(o)?{data:null,error:o}:{data:null,error:new Pu("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!r)return{data:null,error:new Jm("rpId is required for WebAuthn registration")};try{if(!eM())return{data:null,error:new Pu("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(f=>{var p;return(p=f.data)===null||p===void 0?void 0:p.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:a};const{data:c,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(o){return dt(o)?{data:null,error:o}:{data:null,error:new Pu("Unexpected error in register",o)}}}}Nhe();const Ghe={url:Vfe,storageKey:Wfe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qfe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function tM(t,e,r){return await r()}const lf={};class Xm{get jwks(){var e,r;return(r=(e=lf[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){lf[this.storageKey]=Object.assign(Object.assign({},lf[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=lf[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){lf[this.storageKey]=Object.assign(Object.assign({},lf[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xm.nextInstanceID,Xm.nextInstanceID+=1,this.instanceID>0&&$i()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Ghe),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new She({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=eB(i.fetch),this.lock=i.lock||tM,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:$i()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=The:this.lock=tM,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Hhe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Zz()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ZI(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=ZI(this.memoryStorage)),$i()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Jz}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=she(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),$i()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Xfe(s)){const c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return dt(r)?{error:r}:{error:new Pu("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await Pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Uo}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(dt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:f,password:p,options:g}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await sf(this.storage,this.storageKey)),s=await Pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:f,password:p,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:m,code_challenge_method:v},xform:Uo})}else if("phone"in e){const{phone:f,password:p,options:g}=e;s=await Pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Uo})}else throw new b0("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(dt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:o,options:a}=e;r=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:XI})}else if("phone"in e){const{phone:s,password:o,options:a}=e;r=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:XI})}else throw new b0("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new nf}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,o,a,c,d,f,p,g;let m,v;if("message"in e)m=e.message,v=e.signature;else{const{chain:x,wallet:w,statement:E,options:P}=e;let R;if($i())if(typeof w=="object")R=w;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")R=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=w}const S=new URL((r=P==null?void 0:P.url)!==null&&r!==void 0?r:window.location.href),B=await R.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!B||B.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const $=rB(B[0]);let q=(n=P==null?void 0:P.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!q){const H=await R.request({method:"eth_chainId"});q=Ahe(H)}const G={domain:S.host,address:$,statement:E,uri:S.href,version:"1",chainId:q,nonce:(i=P==null?void 0:P.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=P==null?void 0:P.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=P==null?void 0:P.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(c=P==null?void 0:P.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=P==null?void 0:P.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(f=P==null?void 0:P.signInWithEthereum)===null||f===void 0?void 0:f.resources};m=Phe(G),v=await R.request({method:"personal_sign",params:[jhe(m),$]})}try{const{data:x,error:w}=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Uo});if(w)throw w;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new nf}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:w})}catch(x){if(dt(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(e){var r,n,i,s,o,a,c,d,f,p,g,m;let v,x;if("message"in e)v=e.message,x=e.signature;else{const{chain:w,wallet:E,statement:P,options:R}=e;let S;if($i())if(typeof E=="object")S=E;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))S=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=E}const B=new URL((r=R==null?void 0:R.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const $=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R==null?void 0:R.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),P?{statement:P}:null));let q;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")q=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)q=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)v=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),x=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${B.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(i=(n=R==null?void 0:R.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=R==null?void 0:R.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((o=R==null?void 0:R.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((a=R==null?void 0:R.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((c=R==null?void 0:R.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((d=R==null?void 0:R.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((p=(f=R==null?void 0:R.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...R.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);const $=await S.signMessage(new TextEncoder().encode(v),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=$}}try{const{data:w,error:E}=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Ou(x)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Uo});if(E)throw E;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new nf}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:E})}catch(w){if(dt(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const r=await bu(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:o}=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Uo});if(await rc(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new nf}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(dt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=e,a=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Uo}),{data:c,error:d}=a;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new nf}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,s,o;try{if("email"in e){const{email:a,options:c}=e;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await sf(this.storage,this.storageKey));const{error:p}=await Pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:a,options:c}=e,{data:d,error:f}=await Pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f}}throw new b0("You must provide either an email or phone number.")}catch(a){if(dt(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await Pt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Uo});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(dt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await sf(this.storage,this.storageKey)),await Pt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:khe})}catch(s){if(dt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new $o;const{error:i}=await Pt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(dt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:o}=await Pt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:o,error:a}=await Pt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new b0("You must provide either an email or phone number and a type")}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await bu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ok:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await bu(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=ck()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=xhe(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:cc}):await this._useSession(async r=>{var n,i,s;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $o}:await Pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:cc})})}catch(r){if(dt(r))return Jfe(r)&&(await this._removeSession(),await rc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new $o;const o=i.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await sf(this.storage,this.storageKey));const{data:d,error:f}=await Pt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:cc});if(f)throw f;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $o;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:o}=lk(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(dt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new $o;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!$i())throw new w0("No browser detected.");if(e.error||e.error_description||e.error_code)throw new w0(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new WI("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new w0("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new WI("No code detected.");const{data:P,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:c,token_type:d}=e;if(!s||!a||!o||!d)throw new w0("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(a);let g=f+p;c&&(g=parseInt(c));const m=g-f;m*1e3<=pf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${p}s`);const v=g-p;f-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,g,f):f-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,g,f);const{data:x,error:w}=await this._getUser(s);if(w)throw w;const E={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:g,refresh_token:o,token_type:d,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:e.type},error:null}}catch(n){if(dt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await bu(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Yfe(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await rc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=ihe(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await sf(this.storage,this.storageKey,!0));try{return await Pt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(dt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,a,c,d,f;const{data:p,error:g}=s;if(g)throw g;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Pt(this.fetch,"GET",m,{headers:this.headers,jwt:(f=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return $i()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(dt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:o,provider:a,token:c,access_token:d,nonce:f}=e,p=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:c,access_token:d,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Uo}),{data:g,error:m}=p;return m?{data:{user:null,session:null},error:m}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new nf}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),{data:g,error:m})}catch(i){if(dt(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await Pt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await lhe(async i=>(i>0&&await ahe(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Pt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Uo})),(i,s)=>{const o=200*Math.pow(2,i);return s&&ak(s)&&Date.now()+o-n<pf})}catch(n){if(this._debug(r,"error",n),dt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),$i()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await bu(this.storage,this.storageKey);if(i&&this.userStorage){let o=await bu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await mf(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:ck()}else if(i&&!i.user&&!i.user){const o=await bu(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await rc(this.storage,this.storageKey+"-user"),await mf(this.storage,this.storageKey,i)):i.user=ck()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ok;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${ok}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),ak(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new $o;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Fv;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new $o;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={data:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),dt(s)){const o={data:null,error:s};return ak(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(c){s.push(c)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await mf(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=YI(i);await mf(this.storage,this.storageKey,s)}else{const i=YI(r);await mf(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await rc(this.storage,this.storageKey),await rc(this.storage,this.storageKey+"-code-verifier"),await rc(this.storage,this.storageKey+"-user"),this.userStorage&&await rc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&$i()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),pf);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/pf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${pf}ms, refresh threshold is ${eC} ticks`),i<=eC&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof tB)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$i()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await sf(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Pt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:d}=await Pt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Fhe(e.webauthn.credential_response):zhe(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:c}=await Pt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})})}catch(r){if(dt(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const o=await Pt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Ohe(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Lhe(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(dt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=lk(n.access_token);let o=null;s.aal&&(o=s.aal);let a=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const d=s.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?{data:null,error:i}:n?await Pt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):{data:null,error:new $o}})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return{data:null,error:s};if(!i)return{data:null,error:new $o};const o=await Pt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&$i()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return{data:null,error:s};if(!i)return{data:null,error:new $o};const o=await Pt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&$i()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(dt(n))return{data:null,error:n};throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+Gfe>i)return n;const{data:s,error:o}=await Pt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};n=m.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:c}}=lk(n);r!=null&&r.allowExpired||mhe(s.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:s,header:i,signature:o},error:null}}const f=ghe(i.alg),p=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,o,rhe(`${a}.${c}`)))throw new nC("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}}}Xm.nextInstanceID=0;const Khe=Xm;class Yhe extends Khe{constructor(e){super(e)}}class Jhe{constructor(e,r,n){var i,s,o;this.supabaseUrl=e,this.supabaseKey=r;const a=Ufe(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const c=`sb-${a.hostname.split(".")[0]}-auth-token`,d={db:Mfe,realtime:Ofe,auth:Object.assign(Object.assign({},Dfe),{storageKey:c}),global:Ife},f=$fe(n??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=zfe(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Vde(new URL("rest/v1",a).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new jfe(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new Mde(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:o,flowType:a,lock:c,debug:d},f,p){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Yhe({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),f),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:a,lock:c,debug:d,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new ofe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Xhe=(t,e,r)=>new Jhe(t,e,r);function Qhe(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Qhe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const iB="http://127.0.0.1:54321",Z2="sb_publishable_ACJWlzQHlZjBrEguHvfOxg_3BJgxAaH",Zhe=Z2==="your-supabase-anon-key",Ln=Xhe(iB,Z2,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}}),dl={USER_SOCIAL_ACCOUNTS:"user_social_accounts",VERIFICATION_RECORDS:"social_media_verifications",PURCHASE_SIGNATURES:"purchase_signatures"},xn={TWITTER:"twitter",DISCORD:"discord",TELEGRAM:"telegram"},il={PENDING:"pending",VERIFIED:"completed",FAILED:"failed",EXPIRED:"expired"},wu={TWITTER_LIKE:"twitter_like",TWITTER_RETWEET:"twitter_retweet",TWITTER_FOLLOW:"twitter_follow",TWITTER_MENTION:"twitter_mention",DISCORD_JOIN:"discord_join",DISCORD_ROLE:"discord_role",TELEGRAM_JOIN:"telegram_join"},sB={VERIFY_TWITTER:"verify-twitter",VERIFY_DISCORD:"verify-discord",VERIFY_TELEGRAM:"verify-telegram",GENERATE_SIGNATURE:"generate-signature",OAUTH_TWITTER:"oauth-twitter",OAUTH_DISCORD:"oauth-discord"},Ea=async(t,e={})=>{try{const{data:r,error:n}=await Ln.functions.invoke(t,{body:e});if(n)throw n;return{data:r,error:null}}catch(r){return console.error(`Error calling edge function ${t}:`,r),{data:null,error:r}}};class epe{constructor(){this.authenticatedAccounts=new Map}async initiateTwitterAuth(e){try{const{data:r,error:n}=await Ea("oauth-twitter",{user_address:e,action:"initiate"});if(n)throw n;return{success:!0,authUrl:r.auth_url,error:null}}catch(r){return console.error("Twitter OAuth initiation failed:",r),{success:!1,authUrl:null,error:r.message}}}async handleTwitterCallback(e,r,n){try{const{data:i,error:s}=await Ea("oauth-twitter",{code:e,state:r,user_address:n,action:"callback"});if(s)throw s;return await this.storeSocialAccount({walletAddress:n,platform:xn.TWITTER,platformUserId:i.user_id,platformUsername:i.username,accessToken:i.access_token,refreshToken:i.refresh_token,expiresAt:i.expires_at}),this.authenticatedAccounts.set(`${n}_${xn.TWITTER}`,i),{success:!0,error:null}}catch(i){return console.error("Twitter OAuth callback failed:",i),{success:!1,error:i.message}}}async initiateDiscordAuth(e){try{const{data:r,error:n}=await Ea("oauth-discord",{user_address:e,action:"initiate"});if(n)throw n;return{success:!0,authUrl:r.auth_url,error:null}}catch(r){return console.error("Discord OAuth initiation failed:",r),{success:!1,authUrl:null,error:r.message}}}async handleDiscordCallback(e,r,n){try{const{data:i,error:s}=await Ea("oauth-discord",{code:e,state:r,user_address:n,action:"callback"});if(s)throw s;return await this.storeSocialAccount({walletAddress:n,platform:xn.DISCORD,platformUserId:i.user_id,platformUsername:i.username,accessToken:i.access_token,refreshToken:i.refresh_token,expiresAt:i.expires_at}),this.authenticatedAccounts.set(`${n}_${xn.DISCORD}`,i),{success:!0,error:null}}catch(i){return console.error("Discord OAuth callback failed:",i),{success:!1,error:i.message}}}async initiateTelegramAuth(e,r){try{const{data:n,error:i}=await Ea("oauth-telegram",{user_address:e,telegram_username:r,action:"initiate"});if(i)throw i;return{success:!0,verificationCode:n.verification_code,botUsername:n.bot_username,error:null}}catch(n){return console.error("Telegram auth initiation failed:",n),{success:!1,verificationCode:null,error:n.message}}}async verifyTelegramAuth(e,r){try{const{data:n,error:i}=await Ea("oauth-telegram",{user_address:e,verification_code:r,action:"verify"});if(i)throw i;return await this.storeSocialAccount({walletAddress:e,platform:xn.TELEGRAM,platformUserId:n.user_id,platformUsername:n.username,accessToken:null,refreshToken:null,expiresAt:null}),this.authenticatedAccounts.set(`${e}_${xn.TELEGRAM}`,n),{success:!0,error:null}}catch(n){return console.error("Telegram auth verification failed:",n),{success:!1,error:n.message}}}async storeSocialAccount(e){const{walletAddress:r,platform:n,platformUserId:i,platformUsername:s,accessToken:o,refreshToken:a,expiresAt:c}=e,{data:d}=await Ln.from(dl.USER_SOCIAL_ACCOUNTS).select("id").eq("user_address",r).eq("platform",n).single(),f={user_address:r,platform:n,platform_user_id:i,platform_username:s,access_token:o,refresh_token:a,expires_at:c,updated_at:new Date().toISOString()};if(d){const{error:p}=await Ln.from(dl.USER_SOCIAL_ACCOUNTS).update(f).eq("id",d.id);if(p)throw p}else{const{error:p}=await Ln.from(dl.USER_SOCIAL_ACCOUNTS).insert(f);if(p)throw p}}async getAuthenticatedAccounts(e){try{console.log("Fetching authenticated accounts for wallet:",e);const{data:r,error:n}=await Ln.from(dl.USER_SOCIAL_ACCOUNTS).select("*").eq("user_address",e);if(console.log("Supabase query result:",{data:r,error:n}),n)throw console.error("Supabase query error:",n),n;const i=r.filter(s=>!(s.token_expires_at&&new Date(s.token_expires_at)<new Date));return console.log("Valid accounts found:",i.length),{accounts:i,error:null}}catch(r){return console.error("Failed to get authenticated accounts:",r),{accounts:[],error:r.message}}}async isAuthenticated(e,r){try{console.log("Checking authentication for platform:",r,"wallet:",e);const{data:n,error:i}=await Ln.from(dl.USER_SOCIAL_ACCOUNTS).select("*").eq("user_address",e).eq("platform",r).maybeSingle();return console.log("Authentication check result:",{data:n,error:i}),i&&i.code!=="PGRST116"?(console.error("Authentication check error:",i),{success:!1,error:i.message,isAuthenticated:!1}):n?n.token_expires_at&&new Date(n.token_expires_at)<new Date?{success:!0,isAuthenticated:!1,account:null}:{success:!0,isAuthenticated:!0,account:n}:{success:!0,isAuthenticated:!1,account:null}}catch(n){return console.error("Failed to check authentication status:",n),{success:!1,error:n.message,isAuthenticated:!1}}}async refreshToken(e,r){try{const{account:n}=await this.isAuthenticated(e,r);if(!n||!n.refresh_token)throw new Error("No refresh token available");const{data:i,error:s}=await Ea(`oauth-${r}`,{user_address:e,refresh_token:n.refresh_token,action:"refresh"});if(s)throw s;return await this.storeSocialAccount({walletAddress:e,platform:r,platformUserId:n.platform_user_id,platformUsername:n.platform_username,accessToken:i.access_token,refreshToken:i.refresh_token||n.refresh_token,expiresAt:i.expires_at}),{success:!0,error:null}}catch(n){return console.error("Token refresh failed:",n),{success:!1,error:n.message}}}async disconnectAccount(e,r){try{const{error:n}=await Ln.from(dl.USER_SOCIAL_ACCOUNTS).delete().eq("user_address",e).eq("platform",r);if(n)throw n;return this.authenticatedAccounts.delete(`${e}_${r}`),{success:!0,error:null}}catch(n){return console.error("Failed to disconnect account:",n),{success:!1,error:n.message}}}getAuthInstructions(e){return{[xn.TWITTER]:{title:"Connect Twitter/X Account",description:"Connect your Twitter/X account to verify social media tasks",steps:['Click "Connect Twitter" button',"You will be redirected to Twitter/X","Authorize Dropr to access your account","You will be redirected back to complete the connection"]},[xn.DISCORD]:{title:"Connect Discord Account",description:"Connect your Discord account to verify server membership and roles",steps:['Click "Connect Discord" button',"You will be redirected to Discord","Authorize Dropr to access your account","You will be redirected back to complete the connection"]},[xn.TELEGRAM]:{title:"Connect Telegram Account",description:"Connect your Telegram account to verify group membership",steps:["Enter your Telegram username",'Click "Connect Telegram" button',"Send the verification code to our bot","Your account will be connected automatically"]}}[e]||null}}const Vs=new epe;class tpe{constructor(){this.verificationCache=new Map}async verifyTwitterTask(e,r,n,i){try{const{isAuthenticated:s,account:o}=await Vs.isAuthenticated(e,xn.TWITTER);if(!s)throw new Error("Twitter account not authenticated. Please connect your Twitter account first.");const a=await this.createVerificationRecord({walletAddress:e,raffleAddress:r,platform:xn.TWITTER,taskType:n,taskData:i}),{data:c,error:d}=await Ea("verify-twitter",{user_address:e,raffle_id:r,verification_id:a.id,task_type:n,task_data:i,twitter_user_id:o.platform_user_id,access_token:o.access_token});if(d)throw await this.updateVerificationStatus(a.id,il.FAILED,d.message),d;return await this.updateVerificationStatus(a.id,il.VERIFIED),{success:!0,verificationId:a.id,error:null,details:c}}catch(s){return console.error("Twitter verification failed:",s),{success:!1,verificationId:null,error:s.message}}}async verifyDiscordTask(e,r,n,i){try{const{isAuthenticated:s,account:o}=await Vs.isAuthenticated(e,xn.DISCORD);if(!s)throw new Error("Discord account not authenticated. Please connect your Discord account first.");const a=await this.createVerificationRecord({walletAddress:e,raffleAddress:r,platform:xn.DISCORD,taskType:n,taskData:i}),{data:c,error:d}=await Ea("verify-discord",{user_address:e,raffle_id:r,verification_id:a.id,task_type:n,task_data:i,discord_user_id:o.platform_user_id,access_token:o.access_token});if(d)throw await this.updateVerificationStatus(a.id,il.FAILED,d.message),d;return await this.updateVerificationStatus(a.id,il.VERIFIED),{success:!0,verificationId:a.id,error:null,details:c}}catch(s){return console.error("Discord verification failed:",s),{success:!1,verificationId:null,error:s.message}}}async verifyTelegramTask(e,r,n,i){try{const{isAuthenticated:s,account:o}=await Vs.isAuthenticated(e,xn.TELEGRAM);if(!s)throw new Error("Telegram account not authenticated. Please connect your Telegram account first.");const a=await this.createVerificationRecord({walletAddress:e,raffleAddress:r,platform:xn.TELEGRAM,taskType:n,taskData:i}),{data:c,error:d}=await Ea("verify-telegram",{user_address:e,raffle_id:r,verification_id:a.id,task_type:n,task_data:i,telegram_user_id:o.platform_user_id});if(d)throw await this.updateVerificationStatus(a.id,il.FAILED,d.message),d;return await this.updateVerificationStatus(a.id,il.VERIFIED),{success:!0,verificationId:a.id,error:null,details:c}}catch(s){return console.error("Telegram verification failed:",s),{success:!1,verificationId:null,error:s.message}}}async createVerificationRecord(e){const{walletAddress:r,raffleAddress:n,platform:i,taskType:s,taskData:o}=e,a={user_address:r,raffle_id:n,platform:i,task_type:s,task_data:o,status:il.PENDING,updated_at:new Date().toISOString(),created_at:new Date().toISOString()},{data:c,error:d}=await Ln.from(dl.VERIFICATION_RECORDS).upsert(a,{onConflict:"user_address,raffle_id,platform,task_type",ignoreDuplicates:!1}).select().single();if(d)throw d;return c}async updateVerificationStatus(e,r,n=null){const i={status:r,updated_at:new Date().toISOString()};r===il.VERIFIED&&(i.verified_at=new Date().toISOString()),n&&(i.error_message=n);const{error:s}=await Ln.from(dl.VERIFICATION_RECORDS).update(i).eq("id",e);if(s)throw s}async getVerificationRecords(e,r){try{const{data:n,error:i}=await Ln.from(dl.VERIFICATION_RECORDS).select("*").eq("user_address",e).eq("raffle_id",r).order("created_at",{ascending:!1});if(i)throw i;return{records:n,error:null}}catch(n){return console.error("Failed to get verification records:",n),{records:[],error:n.message}}}async checkAllTasksVerified(e,r,n){try{const{records:i}=await this.getVerificationRecords(e,r),s=i.filter(c=>c.status===il.VERIFIED),o=s.map(c=>`${c.platform}_${c.task_type}_${JSON.stringify(c.task_data)}`),a=n.filter(c=>{const d=`${c.platform}_${c.type}_${JSON.stringify(c.data)}`;return!o.includes(d)});return{allVerified:a.length===0,verifiedTasks:s,missingTasks:a}}catch(i){return console.error("Failed to check task verification status:",i),{allVerified:!1,verifiedTasks:[],missingTasks:n}}}async verifyTask(e,r,n,i){switch(e){case xn.TWITTER:return await this.verifyTwitterTask(r,n,i);case xn.DISCORD:return await this.verifyDiscordTask(r,n,i);case xn.TELEGRAM:return await this.verifyTelegramTask(r,n,i);default:return{success:!1,verificationId:null,error:`Unsupported platform: ${e}`}}}getTaskInstructions(e,r){var i;return((i={[xn.TWITTER]:{[wu.TWITTER_LIKE]:{title:"Like Tweet",description:"Like the specified tweet to complete this task",steps:["Click the heart icon on the tweet","Ensure the heart is filled (red color)",'Click "Verify" to check completion']},[wu.TWITTER_RETWEET]:{title:"Retweet",description:"Retweet the specified tweet to complete this task",steps:["Click the retweet icon on the tweet",'Choose "Retweet" or "Quote Tweet"','Click "Verify" to check completion']},[wu.TWITTER_FOLLOW]:{title:"Follow Account",description:"Follow the specified Twitter account",steps:["Visit the Twitter profile",'Click the "Follow" button','Click "Verify" to check completion']},[wu.TWITTER_MENTION]:{title:"Mention in Tweet",description:"Create a tweet mentioning the specified account",steps:["Create a new tweet","Include the required mention (@username)","Post the tweet",'Click "Verify" to check completion']}},[xn.DISCORD]:{[wu.DISCORD_JOIN]:{title:"Join Discord Server",description:"Join the specified Discord server",steps:["Click the Discord invite link","Accept the server invitation","Ensure you remain in the server",'Click "Verify" to check membership']},[wu.DISCORD_ROLE]:{title:"Obtain Discord Role",description:"Get the specified role in the Discord server",steps:["Join the Discord server first","Follow server instructions to get the role","Check that you have the required role",'Click "Verify" to check role assignment']}},[xn.TELEGRAM]:{[wu.TELEGRAM_JOIN]:{title:"Join Telegram Group",description:"Join the specified Telegram group or channel",steps:["Click the Telegram invite link","Join the group or channel","Ensure you remain a member",'Click "Verify" to check membership']}}}[e])==null?void 0:i[r])||{title:"Unknown Task",description:"Task instructions not available",steps:["Contact support for assistance"]}}clearCache(){this.verificationCache.clear()}getCachedResult(e){return this.verificationCache.get(e)||null}setCachedResult(e,r,n=3e5){this.verificationCache.set(e,r),setTimeout(()=>{this.verificationCache.delete(e)},n)}}const uc=new tpe;class rpe{constructor(){this.subscriptions=new Map,this.listeners=new Map}subscribeToVerification(e,r,n={}){const i=`${e}-${r}`;this.subscriptions.has(i)&&this.unsubscribe(i),console.log(`[RealTime] Subscribing to verification updates for ${e} on raffle ${r}`);const s=Ln.channel(`verification-events-${i}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"verification_events",filter:`user_address=eq.${e.toLowerCase()},raffle_id=eq.${r}`},a=>{console.log("[RealTime] Verification event received:",a),this.handleVerificationEvent(a.new,n)}).subscribe(a=>{console.log(`[RealTime] Events subscription status: ${a}`)}),o=Ln.channel(`verifications-${i}`).on("postgres_changes",{event:"*",schema:"public",table:"social_media_verifications",filter:`user_address=eq.${e.toLowerCase()},raffle_id=eq.${r}`},a=>{console.log("[RealTime] Verification status changed:",a),this.handleVerificationStatusChange(a,n)}).subscribe(a=>{console.log(`[RealTime] Verifications subscription status: ${a}`)});return this.subscriptions.set(i,{eventsChannel:s,verificationsChannel:o,userAddress:e,raffleId:r}),()=>this.unsubscribe(i)}handleVerificationEvent(e,r){const{event_type:n,task_type:i,metadata:s}=e;switch(n){case"task_completed":r.onTaskCompleted&&r.onTaskCompleted({taskType:i,metadata:s});break;case"all_completed":r.onAllTasksCompleted&&r.onAllTasksCompleted({totalTasks:s.total_tasks,completedAt:s.completed_at});break;case"verification_ready":r.onVerificationReady&&r.onVerificationReady({canPurchase:s.can_purchase,readyAt:s.ready_at});break;default:console.log("[RealTime] Unknown event type:",n)}r.onUpdate&&r.onUpdate(e)}handleVerificationStatusChange(e,r){const{eventType:n,new:i,old:s}=e;n==="UPDATE"&&(s==null?void 0:s.status)!==(i==null?void 0:i.status)&&i.status==="completed"&&r.onTaskCompleted&&r.onTaskCompleted({taskType:i.task_type,platform:i.platform,verificationId:i.id}),r.onStatusChange&&r.onStatusChange({eventType:n,newRecord:i,oldRecord:s})}unsubscribe(e){const r=this.subscriptions.get(e);r&&(console.log(`[RealTime] Unsubscribing from ${e}`),r.eventsChannel.unsubscribe(),r.verificationsChannel.unsubscribe(),this.subscriptions.delete(e))}unsubscribeAll(){console.log("[RealTime] Unsubscribing from all verification updates"),this.subscriptions.forEach((e,r)=>{this.unsubscribe(r)}),this.subscriptions.clear(),this.listeners.clear()}async getVerificationProgress(e,r){try{const{data:n,error:i}=await Ln.rpc("get_verification_progress",{p_user_address:e.toLowerCase(),p_raffle_id:r});if(i)throw i;return{success:!0,data:(n==null?void 0:n[0])||{total_tasks:0,completed_tasks:0,pending_tasks:0,progress_percentage:0,all_completed:!1,tasks:[]}}}catch(n){return console.error("[RealTime] Error fetching verification progress:",n),{success:!1,error:n.message}}}async areAllTasksCompleted(e,r){const n=await this.getVerificationProgress(e,r);return n.success&&n.data.all_completed}async getRecentEvents(e,r,n=10){try{const{data:i,error:s}=await Ln.from("verification_events").select("*").eq("user_address",e.toLowerCase()).eq("raffle_id",r).order("created_at",{ascending:!1}).limit(n);if(s)throw s;return{success:!0,events:i||[]}}catch(i){return console.error("[RealTime] Error fetching recent events:",i),{success:!1,error:i.message,events:[]}}}}const npe=new rpe,rM={twitter:jm,discord:Df,telegram:Am,instagram:iY,youtube:mY,facebook:rY,linkedin:sY,website:Tm,default:Tm},nM={follow:Xo,like:i3,retweet:uY,comment:cY,mention:JK,join:Xo,share:zu,default:zu},ipe=t=>{if(!t)return[];try{const e=JSON.parse(t);console.log("Parsed JSON tasks:",e);const r=Array.isArray(e)?e.map(ope):[];return console.log("Enhanced JSON tasks:",r),r}catch{console.log("Parsing text-based tasks from:",t);const e=spe(t);return console.log("Parsed text tasks:",e),e}},spe=t=>{const e=[],r=[{pattern:/twitter[:\s]+follow(?:\s+account)?[:\s\-]+@?([a-zA-Z0-9_]+)/gi,platform:"twitter",action:"follow",extractTarget:i=>i[1]},{pattern:/twitter[:\s]+like[:\s\-]+(https?:\/\/(?:twitter\.com|x\.com)\/[^\s]+)/gi,platform:"twitter",action:"like",extractTarget:i=>i[1]},{pattern:/twitter[:\s]+retweet[:\s\-]+(https?:\/\/(?:twitter\.com|x\.com)\/[^\s]+)/gi,platform:"twitter",action:"retweet",extractTarget:i=>i[1]},{pattern:/twitter[:\s]+comment(?:\s+on\s+tweet)?[:\s\-]+(https?:\/\/(?:twitter\.com|x\.com)\/[^\s]+)/gi,platform:"twitter",action:"comment",extractTarget:i=>i[1]},{pattern:/discord[:\s]+join[:\s]+(https?:\/\/discord\.gg\/[^\s]+)/gi,platform:"discord",action:"join",extractTarget:i=>i[1]},{pattern:/telegram[:\s]+join[:\s]+(https?:\/\/t\.me\/[^\s]+)/gi,platform:"telegram",action:"join",extractTarget:i=>i[1]},{pattern:/telegram[:\s]+join[:\s]+@?([a-zA-Z0-9_]+)/gi,platform:"telegram",action:"join",extractTarget:i=>i[1]}];let n=1;return r.forEach(({pattern:i,platform:s,action:o,extractTarget:a})=>{let c;for(;(c=i.exec(t))!==null;){const d=a(c);e.push({id:`${s}_${o}_${n++}`,platform:s,action:o,target:d,title:`${s.charAt(0).toUpperCase()+s.slice(1)} ${o.charAt(0).toUpperCase()+o.slice(1)}`,description:`${o.charAt(0).toUpperCase()+o.slice(1)} ${d}`,actionData:oB(s,o,d)})}}),e.length===0&&e.push({id:"generic_task",platform:"default",action:"complete",target:"",title:"Social Media Engagement",description:t,actionData:null}),e},ope=t=>{console.log("Enhancing task with action data:",t);const e=oB(t.platform,t.action||t.type,t.target||t.data);console.log("Generated action data:",e);const r={...t,actionData:e};return console.log("Enhanced task:",r),r},oB=(t,e,r)=>{switch(t==null?void 0:t.toLowerCase()){case"twitter":return ape(e,r);case"discord":return lpe(e,r);case"telegram":return cpe(e,r);default:return null}},ape=(t,e)=>{switch(t==null?void 0:t.toLowerCase()){case"follow":return{type:"follow",url:`https://twitter.com/${e.replace("@","")}`,buttonText:"Follow on Twitter",icon:"follow"};case"like":case"twitter_like":const r=dk(e);return{type:"like",url:e.startsWith("http")?e:`https://twitter.com/i/status/${r}`,buttonText:"Like Tweet",icon:"like"};case"retweet":case"twitter_retweet":const n=dk(e);return{type:"retweet",url:e.startsWith("http")?e:`https://twitter.com/i/status/${n}`,buttonText:"Retweet",icon:"retweet"};case"comment":case"twitter_comment":const i=dk(e);return{type:"comment",url:e.startsWith("http")?e:`https://twitter.com/i/status/${i}`,buttonText:"Comment on Tweet",icon:"comment"};case"mention":case"twitter_mention":return{type:"mention",url:`https://twitter.com/compose/tweet?text=${encodeURIComponent(`@${e.replace("@","")} `)}`,buttonText:"Create Mention Tweet",icon:"mention"};default:return{type:"generic",url:`https://twitter.com/${e.replace("@","")}`,buttonText:"Open on Twitter",icon:"default"}}},lpe=(t,e)=>{switch(t==null?void 0:t.toLowerCase()){case"join":case"discord_join":return{type:"join",url:e.startsWith("http")?e:`https://discord.gg/${e}`,buttonText:"Join Discord Server",icon:"join"};default:return{type:"generic",url:e.startsWith("http")?e:`https://discord.gg/${e}`,buttonText:"Open Discord",icon:"default"}}},cpe=(t,e)=>{switch(t==null?void 0:t.toLowerCase()){case"join":case"telegram_join":return{type:"join",url:e.startsWith("http")?e:`https://t.me/${e.replace("@","")}`,buttonText:"Join Telegram",icon:"join"};default:return{type:"generic",url:e.startsWith("http")?e:`https://t.me/${e.replace("@","")}`,buttonText:"Open Telegram",icon:"default"}}},dk=t=>{if(typeof t!="string")return"";const e=t.match(/status\/(\d+)/);return e?e[1]:t},upe=({task:t,onComplete:e,onAuthenticate:r,isCompleted:n,isVerifying:i,isAuthenticated:s,userAddress:o,raffleId:a,taskStatus:c,onRetry:d,authenticatedAccounts:f})=>{var q,G,H;const[p,g]=C.useState(!1),[m,v]=C.useState(!1),x=rM[(q=t.platform)==null?void 0:q.toLowerCase()]||rM.default,w=nM[(G=t.actionData)==null?void 0:G.icon]||nM.default,E=(c==null?void 0:c.status)==="verifying",P=(c==null?void 0:c.status)==="failed",R=async()=>{var K;if(!o){te.error("Please connect your wallet first");return}g(!0);try{let J;switch((K=t.platform)==null?void 0:K.toLowerCase()){case"twitter":J=await Vs.initiateTwitterAuth(o);break;case"discord":J=await Vs.initiateDiscordAuth(o);break;case"telegram":J=await Vs.initiateTelegramAuth(o);break;default:throw new Error(`Unsupported platform: ${t.platform}`)}if(J.success){if(J.authUrl){console.log("Opening OAuth popup for platform:",t.platform);const W=window.open(J.authUrl,"_blank","width=600,height=600");te.success("Authentication window opened. Please complete the OAuth process.");const F=setInterval(()=>{console.log("Checking if popup is closed...",W==null?void 0:W.closed),W&&W.closed&&(console.log("Popup closed, refreshing authentication status for:",t.platform),clearInterval(F),r(t.platform))},1e3);setTimeout(()=>{console.log("Fallback timeout reached, forcing popup close and refresh"),clearInterval(F),W&&!W.closed&&(W.close(),r(t.platform))},3e5)}}else te.error(J.error||"Authentication failed")}catch(J){console.error("Authentication error:",J),te.error("Failed to initiate authentication")}finally{g(!1)}},S=()=>{var K;(K=t.actionData)!=null&&K.url&&(window.open(t.actionData.url,"_blank","noreferrer"),te.success("Task page opened in new tab. Complete the action and return to verify."))},B=async()=>{if(!o||!t.platform){te.error("Missing required information");return}v(!0);try{const K=await Vs.disconnectAccount(o,t.platform.toLowerCase());K.success?(te.success(`${t.platform.charAt(0).toUpperCase()+t.platform.slice(1)} account disconnected successfully!`),r&&r(t.platform.toLowerCase())):te.error(K.error||"Failed to disconnect account")}catch(K){console.error("Disconnect error:",K),te.error("Failed to disconnect account")}finally{v(!1)}},$=async()=>{var K;if(!o||!a){te.error("Missing required information");return}console.log("Task data for verification:",{task:t,taskType:t.type,taskAction:t.action,taskData:t.data,taskTarget:t.target});try{let J;switch((K=t.platform)==null?void 0:K.toLowerCase()){case"twitter":let W=t.type||t.action||"follow";W==="following"?W="follow":W==="liking"?W="like":W==="retweeting"&&(W="retweet");const F=t.data||{target:t.target};console.log("Calling verification with:",{userAddress:o,raffleId:a,taskType:W,taskData:F}),J=await uc.verifyTwitterTask(o,a,W,F);break;case"discord":const b=t.type||t.action||"follow",A=t.data||{target:t.target};J=await uc.verifyDiscordTask(o,a,b,A);break;case"telegram":const D=t.type||t.action||"follow",j=t.data||{target:t.target};J=await uc.verifyTelegramTask(o,a,D,j);break;default:throw new Error(`Unsupported platform: ${t.platform}`)}J.success?(te.success("Task verified successfully!"),e(t.id,J.data)):te.error(J.error||"Verification failed")}catch(J){console.error("Verification error:",J),te.error("Failed to verify task")}};return l.jsxs("div",{className:"border border-border rounded-lg p-3 bg-card",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(x,{className:"h-5 w-5 text-muted-foreground flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h4",{className:"font-medium text-sm",children:t.title}),t.platform&&l.jsx(ea,{variant:"outline",className:"text-xs",children:t.platform.charAt(0).toUpperCase()+t.platform.slice(1)})]}),l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:t.description}),t.platform&&["twitter","discord","telegram"].includes(t.platform.toLowerCase())&&l.jsx("div",{className:"flex items-center gap-1 mt-1",children:s?l.jsxs(l.Fragment,{children:[l.jsx(ml,{className:"h-3 w-3 text-green-600"}),l.jsx("span",{className:"text-xs text-green-700",children:((H=f[t.platform.toLowerCase()])==null?void 0:H.platform_username)==="pending"?"Connecting...":"Authenticated"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Nm,{className:"h-3 w-3 text-orange-600"}),l.jsx("span",{className:"text-xs text-orange-700",children:"Auth Required"})]})})]}),l.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:!n&&l.jsxs(l.Fragment,{children:[(()=>{const K=t.platform&&["twitter","discord","telegram"].includes(t.platform.toLowerCase())&&!s;return console.log("Connect button display check:",{taskPlatform:t.platform,platformIncluded:t.platform&&["twitter","discord","telegram"].includes(t.platform.toLowerCase()),isAuthenticated:s,shouldShow:K}),K})()&&l.jsx(qe,{onClick:R,disabled:p,size:"sm",variant:"outline",className:"text-xs whitespace-nowrap",children:p?"Connecting...":"Connect"}),s&&t.actionData&&l.jsxs(qe,{variant:"outline",size:"sm",onClick:S,className:"text-xs whitespace-nowrap",children:[l.jsx(w,{className:"h-3 w-3 mr-1"}),t.actionData.buttonText.replace("on Twitter","").replace("on Discord","").replace("on Telegram","").trim()]}),s&&t.platform&&["twitter","discord","telegram"].includes(t.platform.toLowerCase())&&l.jsx(qe,{onClick:B,disabled:m,size:"sm",variant:"outline",className:"text-xs whitespace-nowrap text-red-600 hover:text-red-700 hover:border-red-300",children:m?"Disconnecting...":"Disconnect"}),s&&!n&&t.platform&&["twitter","discord","telegram"].includes(t.platform.toLowerCase())&&l.jsx(qe,{onClick:$,disabled:i,size:"sm",variant:"default",className:"text-xs whitespace-nowrap bg-green-600 hover:bg-green-700",children:i?"Verifying...":"Verify Task"}),s&&t.actionUrl&&!t.actionData&&l.jsxs(qe,{variant:"outline",size:"sm",onClick:()=>window.open(t.actionUrl,"_blank"),className:"text-xs whitespace-nowrap",children:[l.jsx(zu,{className:"h-3 w-3 mr-1"}),"Complete"]})]})}),l.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[P&&l.jsx(qe,{onClick:()=>d(t.id),size:"sm",variant:"ghost",className:"text-xs h-6 px-2",title:"Retry verification",children:l.jsx(Qf,{className:"h-3 w-3"})}),l.jsx(ea,{variant:n?"default":P?"destructive":"secondary",className:"text-xs",children:n?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(jr,{className:"h-3 w-3"}),"Done"]}):P?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(vh,{className:"h-3 w-3"}),"Failed"]}):E?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(oY,{className:"h-3 w-3 animate-spin"}),"Verifying"]}):l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Em,{className:"h-3 w-3"}),"Pending"]})})]})]}),P&&(c==null?void 0:c.error)&&l.jsxs("div",{className:"mt-2 flex items-start gap-2 p-2 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded text-xs",children:[l.jsx(dr,{className:"h-3 w-3 text-red-600 flex-shrink-0 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-red-700 dark:text-red-300",children:c.error}),l.jsx("button",{onClick:()=>d(t.id),className:"text-red-600 dark:text-red-400 underline hover:no-underline mt-1",children:"Click to retry"})]})]})]})},dpe=({raffle:t,userAddress:e,socialEngagementRequired:r,hasCompletedSocialEngagement:n,onVerificationComplete:i})=>{const{connected:s}=xr(),{contracts:o,executeTransaction:a}=Cr(),[c,d]=C.useState([]),[f,p]=C.useState(new Set),[g,m]=C.useState(!1),[v,x]=C.useState(!1),[w,E]=C.useState({}),[P,R]=C.useState([]),[S,B]=C.useState(!1),[$,q]=C.useState(!1),[G,H]=C.useState({}),[K,J]=C.useState(new Set);C.useEffect(()=>{if(t!=null&&t.socialTaskDescription){const k=ipe(t.socialTaskDescription);d(k)}else d([])},[t==null?void 0:t.socialTaskDescription]),C.useEffect(()=>{s&&e&&W()},[s,e,t==null?void 0:t.address]),C.useEffect(()=>{s&&e&&(o!=null&&o.socialEngagementManager)&&F()},[s,e,o==null?void 0:o.socialEngagementManager,t==null?void 0:t.address,P]),C.useEffect(()=>{if(!e||!(t!=null&&t.address))return;const k=npe.subscribeToVerification(e,t.address,{onTaskCompleted:M=>{te.success(`Task completed: ${M.taskType}`),H(T=>({...T,[M.taskId]:{status:"completed",timestamp:Date.now()}})),W()},onAllTasksCompleted:M=>{te.success(" All tasks completed! You can now purchase slots."),W(),i&&i()},onVerificationReady:()=>{te.success(" Verification complete! Purchase slots button is now active.")},onTaskFailed:M=>{H(T=>({...T,[M.taskId]:{status:"failed",error:M.error,timestamp:Date.now()}})),te.error(`Task verification failed: ${M.error}`)}});return()=>{k()}},[e,t==null?void 0:t.address,i]);const W=async()=>{if(e){B(!0);try{const k=await Vs.getAuthenticatedAccounts(e);if(console.log("Accounts result from service:",k),k&&!k.error&&Array.isArray(k.accounts)){const M={};k.accounts.forEach(T=>{M[T.platform]=T}),E(M)}else k&&k.error?(console.warn("Failed to load authenticated accounts:",k.error),E({})):(console.warn("Unexpected response format from getAuthenticatedAccounts"),E({}));if(t!=null&&t.address)try{const M=await uc.getVerificationRecords(e,t.address);if(console.log("Verification records result:",M),M&&!M.error&&Array.isArray(M.records)){R(M.records);const T=new Set;M.records.forEach(O=>{if(O.status==="completed"){const N=c.find(I=>I.platform===O.platform&&I.type===O.task_type);N&&T.add(N.id)}}),p(T)}else console.warn("No verification records found or invalid format"),R([])}catch(M){console.error("Error loading verification records:",M),R([]),M.message&&M.message.includes("fetch")&&te.error("Unable to connect to verification service. Please check your connection.")}}catch(k){console.error("Error loading user data:",k),E({}),R([]),k.message&&k.message.includes("fetch")?te.error("Unable to connect to backend services. Please check your internet connection."):k.message&&k.message.includes("Supabase")?te.error("Backend service temporarily unavailable. Please try again later."):te.error("Failed to load verification data. Please refresh the page.")}finally{B(!1)}}},F=async()=>{try{if(!(o!=null&&o.socialEngagementManager)||!(t!=null&&t.address)||!e)return;let k=!1;try{k=await o.socialEngagementManager.hasCompletedSocialEngagement(t.address,e)}catch(T){console.error("Error checking blockchain completion status:",T)}let M={success:!1};try{M=await uc.checkAllTasksVerified(e,t.address)}catch(T){console.error("Error checking Supabase verification status:",T),T.message&&T.message.includes("fetch")&&console.warn("Unable to connect to verification service")}(k||M.success)&&p(new Set(c.map(T=>T.id)))}catch(k){console.error("Error checking completion status:",k)}},b=async k=>{console.log("Starting authentication status refresh for platform:",k);try{console.log("Fetching authenticated accounts for user:",e);const M=await Vs.getAuthenticatedAccounts(e);if(console.log("Received accounts result:",M),M&&!M.error&&Array.isArray(M.accounts)){const T={};M.accounts.forEach(O=>{console.log("Found authenticated account:",O.platform,O),T[O.platform]=O}),console.log("Setting authenticated accounts map:",T),E(T);try{console.log("Checking if platform is authenticated:",k);const O=await Vs.isAuthenticated(e,k);console.log("Authentication check result:",O),O.success&&O.isAuthenticated?te.success(`${k.charAt(0).toUpperCase()+k.slice(1)} account connected successfully!`):O.error&&console.warn("Authentication check failed:",O.error)}catch(O){console.error("Error checking authentication status:",O)}}else M&&M.error&&(console.warn("Failed to refresh authenticated accounts:",M.error),M.error.includes("fetch")&&te.error("Unable to verify authentication status. Please check your connection."))}catch(M){console.error("Error refreshing authentication status:",M),M.message&&M.message.includes("fetch")&&te.error("Unable to connect to authentication service. Please try again.")}finally{console.log("Authentication status refresh completed for platform:",k)}},A=async k=>{var T;const M=c.find(O=>O.id===k);if(M){H(O=>({...O,[k]:{status:"verifying",timestamp:Date.now()}})),J(O=>new Set([...O,k]));try{let O;switch((T=M.platform)==null?void 0:T.toLowerCase()){case"twitter":O=await uc.verifyTwitterTask(e,t.address,M.type||M.action,M.data||{target:M.target});break;case"discord":O=await uc.verifyDiscordTask(e,t.address,M.type||M.action,M.data||{target:M.target});break;case"telegram":O=await uc.verifyTelegramTask(e,t.address,M.type||M.action,M.data||{target:M.target});break;default:throw new Error(`Unsupported platform: ${M.platform}`)}O.success?(H(N=>({...N,[k]:{status:"completed",timestamp:Date.now()}})),te.success("Task verified successfully!"),W()):(H(N=>({...N,[k]:{status:"failed",error:O.error,timestamp:Date.now()}})),te.error(O.error||"Verification failed"))}catch(O){console.error("Retry verification error:",O),H(N=>({...N,[k]:{status:"failed",error:O.message,timestamp:Date.now()}})),te.error("Failed to retry verification")}finally{J(O=>{const N=new Set(O);return N.delete(k),N})}}},D=async(k,M)=>{if(!s||!e){te.error("Please connect your wallet");return}x(!0);try{if(!c.find(O=>O.id===k))throw new Error("Task not found");if(typeof M=="object"&&M.verified){p(N=>new Set([...N,k]));try{await W()}catch(N){console.warn("Failed to refresh user data after task completion:",N)}c.every(N=>f.has(N.id)||N.id===k)&&i&&i(),te.success("Task verification completed!");return}}catch(T){console.error("Error completing task:",T),T.message&&T.message.includes("fetch")?te.error("Unable to connect to verification service. Please check your connection and try again."):T.message&&T.message.includes("Task not found")?te.error("Task not found. Please refresh the page and try again."):te.error("Failed to complete task. Please try again.")}finally{x(!1)}},j=async k=>{try{const M=await Vs.disconnectAccount(e,k);M.success?(E(T=>{const O={...T};return delete O[k],O}),te.success(`${k.charAt(0).toUpperCase()+k.slice(1)} account disconnected`)):M.error&&M.error.includes("fetch")?te.error("Unable to connect to authentication service. Please check your connection and try again."):te.error(M.error||"Failed to disconnect account")}catch(M){console.error("Error disconnecting account:",M),M.message&&M.message.includes("fetch")?te.error("Connection failed. Please check your internet connection and try again."):te.error("Failed to disconnect account. Please try again.")}};return r?n?l.jsx(Pr,{className:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800",children:l.jsx(Rr,{className:"pt-6",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(jr,{className:"h-6 w-6 text-green-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-green-800 dark:text-green-200",children:"Social Media Tasks Completed"}),l.jsx("p",{className:"text-sm text-green-600 dark:text-green-300",children:"You have successfully completed all required social media tasks for this raffle."})]})]})})}):l.jsxs(Pr,{className:"bg-card/80 backdrop-blur-sm border border-border",children:[l.jsx(wn,{className:"pb-0",children:l.jsxs(kn,{className:"flex items-center justify-between cursor-pointer",onClick:()=>q(!$),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(dr,{className:"h-5 w-5 text-orange-500"}),"Social Media Tasks Required"]}),$?l.jsx(Xu,{className:"h-4 w-4 text-muted-foreground"}):l.jsx(ko,{className:"h-4 w-4 text-muted-foreground"})]})}),l.jsxs(Rr,{className:"pt-3 space-y-4",children:[l.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-3",children:l.jsx("p",{className:"text-sm text-orange-800 dark:text-orange-200",children:"Complete the following social media tasks to participate in this raffle:"})}),$&&l.jsxs(l.Fragment,{children:[Object.keys(w).length>0&&l.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3",children:[l.jsx("h4",{className:"text-sm font-medium text-green-800 dark:text-green-200 mb-2",children:"Connected Accounts:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(w).map(([k,M])=>l.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 rounded-full px-3 py-1 text-xs",children:[l.jsx(ml,{className:"h-3 w-3 text-green-600"}),l.jsx("span",{children:k.charAt(0).toUpperCase()+k.slice(1)}),l.jsxs("span",{className:"text-muted-foreground",children:["@",M.platform_username]}),l.jsx(qe,{variant:"ghost",size:"sm",onClick:()=>j(k),className:"h-4 w-4 p-0 text-red-500 hover:text-red-700",children:""})]},k))})]}),S&&l.jsxs("div",{className:"text-center py-4",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Loading verification data..."})]}),l.jsx("div",{className:"space-y-3",children:c.map(k=>l.jsx(upe,{task:k,onComplete:D,onAuthenticate:b,isCompleted:f.has(k.id),isVerifying:v,isAuthenticated:(()=>{var O;const M=(O=k.platform)==null?void 0:O.toLowerCase(),T=M?!!w[M]:!1;return console.log("Task authentication check:",{taskPlatform:k.platform,normalizedPlatform:M,authenticatedAccounts:Object.keys(w),isAuthenticated:T}),T})(),userAddress:e,raffleId:t==null?void 0:t.address,taskStatus:G[k.id],onRetry:A,authenticatedAccounts:w},k.id))}),c.length>0&&l.jsxs("div",{className:"pt-4 border-t border-border",children:[c.some(k=>!f.has(k.id))&&l.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Complete all tasks above. Verification happens automatically."}),l.jsxs("div",{className:"mt-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Progress: ",f.size," of ",c.length," tasks completed"]}),l.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-green-50 dark:bg-green-900/20 rounded-full",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),l.jsx("span",{className:"text-xs font-medium text-green-700 dark:text-green-300",children:"Live"})]})]}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 overflow-hidden",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-2.5 rounded-full transition-all duration-500 ease-out",style:{width:`${f.size/c.length*100}%`}})}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1.5 text-center",children:"Updates automatically when you complete tasks"})]})]})]})]})]}):null},fpe=({metadata:t,loading:e})=>e?l.jsxs("div",{className:"bg-card rounded-lg border border-border p-6 animate-pulse",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-1/4 mb-4"}),l.jsx("div",{className:"h-20 bg-muted rounded"})]}):!t||!t.description&&!t.twitterLink&&!t.discordLink&&!t.telegramLink?null:l.jsxs("div",{className:"space-y-3",children:[t.description&&l.jsx("p",{className:"text-foreground/80 whitespace-pre-wrap leading-relaxed text-base",children:t.description}),(t.twitterLink||t.discordLink||t.telegramLink)&&l.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.twitterLink&&l.jsxs("a",{href:t.twitterLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-1.5 bg-[#1DA1F2] hover:bg-[#1a8cd8] text-white rounded-lg transition-colors text-sm",children:[l.jsx(jm,{className:"h-3.5 w-3.5"}),l.jsx("span",{className:"text-xs font-medium",children:tk(t.twitterLink,"twitter")}),l.jsx(zu,{className:"h-3 w-3"})]}),t.discordLink&&l.jsxs("a",{href:t.discordLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-1.5 bg-[#5865F2] hover:bg-[#4752c4] text-white rounded-lg transition-colors text-sm",children:[l.jsx(Df,{className:"h-3.5 w-3.5"}),l.jsx("span",{className:"text-xs font-medium",children:tk(t.discordLink,"discord")}),l.jsx(zu,{className:"h-3 w-3"})]}),t.telegramLink&&l.jsxs("a",{href:t.telegramLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-1.5 bg-[#0088cc] hover:bg-[#0077b3] text-white rounded-lg transition-colors text-sm",children:[l.jsx(Am,{className:"h-3.5 w-3.5"}),l.jsx("span",{className:"text-xs font-medium",children:tk(t.telegramLink,"telegram")}),l.jsx(zu,{className:"h-3 w-3"})]})]})]}),aB=async(t,e,r=1,n={})=>{try{if(!t||!e)throw new Error("User address and raffle ID are required");if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error("Invalid user address format");const i={user_address:t.toLowerCase(),raffle_id:e,raffle_address:e,slot_count:r,...n},{data:s,error:o}=await Ln.functions.invoke(sB.GENERATE_SIGNATURE,{body:i});if(o)throw console.error("Signature generation error:",o),new Error(`Failed to generate signature: ${o.message}`);return await gpe({userAddress:i.user_address,raffleId:i.raffle_id,slotCount:i.slot_count,signature:s.signature,nonce:s.nonce,deadline:s.deadline,signatureData:JSON.stringify(i),expiresAt:new Date(Date.now()+900*1e3)}),{success:!0,signature:s.signature,nonce:s.nonce,deadline:s.deadline,signatureData:i,expiresAt:s.expires_at,metadata:s.metadata||{}}}catch(i){return console.error("Error generating purchase signature:",i),{success:!1,error:i.message}}},hpe=async(t,e)=>{try{const{data:r,error:n}=await Ln.functions.invoke(sB.VERIFY_SIGNATURE,{body:{signature:t,signatureData:e}});if(n)throw new Error(`Signature verification failed: ${n.message}`);return{success:!0,isValid:r.isValid,metadata:r.metadata||{}}}catch(r){return console.error("Error verifying signature:",r),{success:!1,error:r.message,isValid:!1}}},ppe=async(t,e=10)=>{try{const{data:r,error:n}=await Ln.from("purchase_signatures").select("*").eq("user_address",t.toLowerCase()).order("created_at",{ascending:!1}).limit(e);if(n)throw new Error(`Failed to fetch signature history: ${n.message}`);return r||[]}catch(r){return console.error("Error fetching signature history:",r),[]}},mpe=async(t,e)=>{try{const{data:r,error:n}=await Ln.from("purchase_signatures").select("*").eq("user_address",t.toLowerCase()).eq("raffle_id",e).gt("expires_at",new Date().toISOString()).order("created_at",{ascending:!1}).limit(1);if(n)throw new Error(`Failed to fetch existing signature: ${n.message}`);return r&&r.length>0?r[0]:null}catch(r){return console.error("Error fetching existing signature:",r),null}},gpe=async t=>{try{const{data:e,error:r}=await Ln.from("purchase_signatures").insert([{user_address:t.userAddress,raffle_id:t.raffleId,slot_count:t.slotCount,signature:t.signature,signature_data:t.signatureData,expires_at:t.expiresAt,created_at:new Date().toISOString()}]).select();if(r)throw new Error(`Failed to store signature: ${r.message}`);return e[0]}catch(e){throw console.error("Error storing signature:",e),e}},ype=t=>new Date>new Date(t),xpe=async t=>{try{return(await Promise.allSettled(t.map(r=>aB(r.userAddress,r.raffleId,r.slotCount)))).map((r,n)=>({purchase:t[n],success:r.status==="fulfilled",data:r.status==="fulfilled"?r.value:null,error:r.status==="rejected"?r.reason.message:null}))}catch(e){throw console.error("Error in batch signature generation:",e),e}},vpe=async()=>{try{const{data:t,error:e}=await Ln.from("purchase_signatures").delete().lt("expires_at",new Date().toISOString()).select();if(e)throw new Error(`Failed to cleanup expired signatures: ${e.message}`);return t?t.length:0}catch(t){return console.error("Error cleaning up expired signatures:",t),0}},bpe={generatePurchaseSignature:aB,verifyPurchaseSignature:hpe,getUserSignatureHistory:ppe,getExistingSignature:mpe,isSignatureExpired:ype,batchGenerateSignatures:xpe,cleanupExpiredSignatures:vpe},iM={"0xd92e233d":"ZeroAddress","0xf4f5b733":"ZeroQuantity","0xd2100d73":"ZeroSlotFee","0xfd2a413d":"PoolDurationElapsed","0x7145fa7b":"ExceedsMaxSlots","0x569e8c11":"IncorrectPayment","0x176f75b8":"ExceedsSlotLimit","0x1889eae0":"ContractsCannotPurchase","0xbe54005a":"ProtocolAdminNotAllowed","0x194d5060":"CreatorNotAllowed","0x93a7d4e8":"InvalidNonPrizedPurchase","0x43361aaf":"SocialEngagementNotConfigured","0xbaf3f0f7":"InvalidState","0x27e1f1e5":"OnlyOperator","0xb19a9f82":"NotAWinner","0xccaf35d0":"NoPrizesToClaim","0x327ee3e0":"InvalidPrizeAmount","0x880a1491":"PrizeTransferFailed","0x424ca239":"InvalidPrizeCollection","0x1a1889b7":"InvalidPoolState","0x5c427cd9":"UnauthorizedCaller","0x170554d5":"ExceedsWinnersCount","0xfd34e505":"MintingNotSupported","0x955c501b":"UnauthorizedMinter","0xc30436e9":"ExceedsMaxSupply","0x0fee82b1":"SupplyNotSet"},wpe=(t,e="complete transaction")=>{var o,a,c,d,f,p;console.group(" Parsing Contract Error"),console.log("Full error object:",t),console.log("error.reason:",t==null?void 0:t.reason),console.log("error.code:",t==null?void 0:t.code),console.log("error.data:",t==null?void 0:t.data),console.log("error.error:",t==null?void 0:t.error),console.log("error.message:",t==null?void 0:t.message),console.groupEnd();let r="";t!=null&&t.reason?r=t.reason:(o=t==null?void 0:t.data)!=null&&o.message?r=t.data.message:(a=t==null?void 0:t.error)!=null&&a.message?r=t.error.message:(d=(c=t==null?void 0:t.error)==null?void 0:c.data)!=null&&d.message?r=t.error.data.message:r=t.message||t.toString(),console.log(" Extracted error message:",r);let n=null;if((p=(f=t==null?void 0:t.error)==null?void 0:f.data)!=null&&p.data&&typeof t.error.data.data=="string"?(n=t.error.data.data.slice(0,10),console.log(" Found error selector in error.error.data.data:",n)):t!=null&&t.data&&typeof t.data=="string"&&t.data.startsWith("0x")&&(n=t.data.slice(0,10),console.log(" Found error selector in error.data:",n)),n&&iM[n]){const g=iM[n];console.log(" Decoded custom error from selector:",g),r=g}const i=r.match(/execution reverted:?\s*([A-Z][a-zA-Z0-9]*)/);i&&i[1]&&(console.log(" Matched custom error (format 1):",i[1]),r=i[1]);const s=r.match(/custom error '([A-Z][a-zA-Z0-9]*)\(/);return s&&s[1]&&(console.log(" Matched custom error (format 2):",s[1]),r=s[1]),console.log(" Final error message to parse:",r),r.includes("NotAWinner")?"You are not a winner of this raffle. Only winners can claim prizes.":r.includes("NoPrizesToClaim")?"You have already claimed all your prizes. No prizes remaining to claim.":r.includes("InvalidPrizeAmount")?"Invalid prize amount calculated. Please contact support for assistance.":r.includes("PrizeTransferFailed")?"Prize transfer failed. Please ensure your wallet can receive the prize and try again.":r.includes("InvalidPrizeCollection")?"Invalid prize collection address. Please contact the raffle creator.":r.includes("InvalidPoolState")?"Raffle is not in the correct state for this action. Please wait for winner selection to complete.":r.includes("UnauthorizedCaller")?"You are not authorized to perform this action. Only the creator, operators, or prize contract owner can mint prizes.":r.includes("ExceedsWinnersCount")?"Cannot mint more prizes than the total number of winners.":r.includes("MintingNotSupported")?"Minting is not supported for this prize type. This prize may be escrowed.":r.includes("UnauthorizedMinter")?"You are not authorized to mint NFTs from this collection. Only the designated minter can mint.":r.includes("ZeroQuantity")?"Mint quantity must be greater than 0. Please specify a valid quantity.":r.includes("ExceedsMaxSupply")?"Minting would exceed the maximum supply for this collection. No more NFTs can be minted.":r.includes("SupplyNotSet")?"Maximum supply has not been set for this token ID. Please contact the collection owner.":r.includes("ZeroAddress")?"Invalid address provided. Address cannot be zero.":r.includes("ZeroQuantity")?"Quantity must be greater than 0.":r.includes("ZeroSlotFee")?"Slot fee cannot be zero.":r.includes("PoolDurationElapsed")?"Raffle duration has elapsed. No more tickets can be purchased.":r.includes("ExceedsMaxSlots")?"Purchase exceeds the maximum number of available slots.":r.includes("IncorrectPayment")?"Incorrect payment amount. Please ensure you send the exact amount required.":r.includes("ExceedsSlotLimit")?"Purchase exceeds your personal slot limit for this raffle.":r.includes("ContractsCannotPurchase")?"Smart contracts cannot purchase raffle tickets. Please use a regular wallet.":r.includes("ProtocolAdminNotAllowed")?"Protocol administrators cannot participate in raffles.":r.includes("CreatorNotAllowed")?"Raffle creators cannot purchase tickets in their own raffles.":r.includes("InvalidNonPrizedPurchase")?"Cannot purchase tickets in a non-prized raffle.":r.includes("SocialEngagementNotConfigured")?"Social engagement is required but not properly configured. Please contact support.":r.includes("InvalidState")?"Raffle is not in a valid state for this action.":r.includes("OnlyOperator")?"Only protocol operators can perform this action.":r.includes("user rejected")||r.includes("User denied")||r.includes("user cancelled")?"Transaction was cancelled. You rejected the transaction in your wallet.":r.includes("insufficient funds")?"Insufficient funds in your wallet to complete this transaction.":r.includes("gas required exceeds allowance")||r.includes("out of gas")?"Transaction requires more gas than available. Please try again with a higher gas limit.":r.includes("nonce too low")?"Transaction nonce is too low. Please reset your wallet or wait for pending transactions to complete.":r.includes("replacement transaction underpriced")?"Replacement transaction has too low gas price. Please increase the gas price.":r.includes("network changed")||r.includes("wrong network")?"Wrong network selected. Please switch to the correct network in your wallet.":r.includes("execution reverted")?"Transaction failed during execution. Please check the transaction details and try again.":`Failed to ${e}. Please try again or contact support if the issue persists.`},kpe=t=>{const e=t.message||t.toString();return["NotAWinner","NoPrizesToClaim","InvalidPrizeAmount","PrizeTransferFailed","InvalidPrizeCollection","InvalidPoolState","UnauthorizedCaller","ExceedsWinnersCount","MintingNotSupported","UnauthorizedMinter","ZeroQuantity","ExceedsMaxSupply","SupplyNotSet","ZeroAddress","ZeroSlotFee","PoolDurationElapsed","ExceedsMaxSlots","IncorrectPayment","ExceedsSlotLimit","ContractsCannotPurchase","ProtocolAdminNotAllowed","CreatorNotAllowed","InvalidNonPrizedPurchase","SocialEngagementNotConfigured","InvalidState","OnlyOperator"].some(n=>e.includes(n))},_pe=t=>{const e=t.message||t.toString();return e.includes("user rejected")||e.includes("User denied")||e.includes("user cancelled")?"info":e.includes("NoPrizesToClaim")||e.includes("NotAWinner")||e.includes("ExceedsSlotLimit")||e.includes("PoolDurationElapsed")?"warning":"error"},Cpe=t=>{const e=t.message||t.toString();return e.includes("NotAWinner")?"Check the winners list to see if you won.":e.includes("NoPrizesToClaim")?"You have already claimed your prizes. Check your wallet for the received prizes.":e.includes("InvalidPoolState")?"Wait for the raffle to complete winner selection, then try again.":e.includes("UnauthorizedCaller")?"Contact the raffle creator or a protocol operator to mint your prize.":e.includes("insufficient funds")?"Add more funds to your wallet and try again.":e.includes("wrong network")?"Switch to the correct network in your wallet settings.":e.includes("ExceedsMaxSupply")?"This collection has reached its maximum supply. No more NFTs can be minted.":e.includes("PoolDurationElapsed")?"This raffle has ended. You can no longer purchase tickets.":e.includes("ExceedsSlotLimit")?"You have reached your maximum ticket limit for this raffle.":null},xl=(t,e="complete transaction")=>{const r=wpe(t,e),n=_pe(t),i=Cpe(t),s=kpe(t);return{message:r,severity:n,suggestedAction:i,isCustomError:s,originalError:t.message||t.toString()}},Ta=(t,e,r={})=>{const n=xl(t,e);return console.group(` Contract Error: ${e}`),console.error("User Message:",n.message),console.error("Severity:",n.severity),n.suggestedAction&&console.info("Suggested Action:",n.suggestedAction),console.error("Original Error:",n.originalError),console.error("Is Custom Error:",n.isCustomError),Object.keys(r).length>0&&console.error("Additional Data:",r),console.groupEnd(),n},iC=["Pending","Active","Ended","Drawing","Completed","Deleted","AllPrizesClaimed","Unengaged"];function lB(t){return ue.isBigNumber(t)?t:t!=null?ue.from(t):ue.from(0)}const Spe=be.memo(({raffle:t,onPurchase:e,timeRemaining:r,winners:n,shouldShowClaimPrize:i,prizeAlreadyClaimed:s,claimingPrize:o,handleClaimPrize:a,shouldShowClaimRefund:c,claimingRefund:d,handleClaimRefund:f,refundableAmount:p,isMintableERC721:g,showMintInput:m,setShowMintInput:v,mintWinnerAddress:x,setMintWinnerAddress:w,mintingToWinner:E,handleMintToWinner:P,isEscrowedPrize:R,isCollabPool:S,isPrized:B,isMobile:$,onStateChange:q,socialEngagementRequired:G,hasCompletedSocialEngagement:H})=>{var st,ft;const{connected:K,address:J}=xr(),{getContractInstance:W,executeTransaction:F}=Cr(),{formatSlotFee:b,getCurrencySymbol:A}=Sn(),[D,j]=C.useState(1),[k,M]=C.useState(!1),[T,O]=C.useState(0),[N,I]=C.useState(null),[Q,z]=C.useState(!1),[V,Y]=C.useState(!1),[Z,ee]=C.useState(!1);C.useEffect(()=>{ae()},[t.address,J]);const ae=async()=>{if(!t.address||!J){O(0),I(null);return}try{const Ie=W(t.address,"pool");if(!Ie)return;const se=await Ie.slotsPurchased(J);O(se.toNumber?se.toNumber():Number(se));let he=0;try{he=(await Ie.getParticipantsCount()).toNumber()}catch{let Ae=0;for(;;)try{await Ie.participants(Ae),he++,Ae++}catch{break}}he>0&&se>0?I((se/he*100).toFixed(2)):I(null)}catch{O(0),I(null)}},ne=async()=>{if(!K){te.error("Please connect your wallet first");return}M(!0);try{await e(D)}catch(Ie){const se=xl(Ie,"purchase tickets");Ta(Ie,"Purchase Tickets",{quantity:D}),te.error(se.message)}finally{M(!1)}},de=()=>{var Ie;return((Ie=t.state)==null?void 0:Ie.toLowerCase())==="active"},xe=()=>{const Ie=Math.floor(Date.now()/1e3),se=t.startTime+t.duration;return t.state==="Active"&&Ie>=se||r==="Ended"},me=async()=>{z(!0);try{const Ie=W(t.address,"pool");if(!Ie)throw new Error("Failed to get pool contract");const se=await F(Ie.activate);if(se.success)te.success("Pool activated successfully!"),q&&q();else throw new Error(se.error)}catch(Ie){const se=xl(Ie,"activate raffle");Ta(Ie,"Activate Raffle"),te.error(se.message)}finally{z(!1)}},Ce=async()=>{ee(!0);try{const Ie=W(t.address,"pool");if(!Ie)throw new Error("Failed to get pool contract");const se=await F(Ie.requestRandomWords);if(se.success)te.success("Randomness requested successfully!"),q&&q();else throw new Error(se.error)}catch(Ie){const se=xl(Ie,"request randomness");Ta(Ie,"Request Randomness"),te.error(se.message)}finally{ee(!1)}},ct=async()=>{Y(!0);try{const Ie=W(t.address,"pool");if(!Ie)throw new Error("Failed to get pool contract");const se=await F(Ie.endPool);if(se.success)te.success("Pool ended successfully!"),q&&q();else throw new Error(se.error)}catch(Ie){const se=xl(Ie,"end raffle");Ta(Ie,"End Raffle"),te.error(se.message)}finally{Y(!1)}},le=()=>i&&!s,Ye=()=>{const Ie=!t.usesCustomFee,se=B===!0||S===!0||t.isPrized||t.isCollabPool,he=[4,5,7,8].includes(t.stateNum);return(Ie||se)&&he&&p&&p.gt&&p.gt(0)},jt=Math.floor(Date.now()/1e3),it=t&&t.startTime?jt>=t.startTime:!1,De=t.slotLimit-t.slotsSold,Jt=Math.min(De,t.maxSlotsPerParticipant);return l.jsxs("div",{className:"detail-beige-card bg-card/80 text-foreground backdrop-blur-sm border border-border rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 h-full flex flex-col min-h-[360px] sm:min-h-[380px] lg:min-h-[420px]",children:[l.jsxs("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold mb-4 flex items-center gap-2",children:[l.jsx(Zf,{className:"h-5 w-5"}),"Purchase Slots"]}),l.jsxs("div",{className:"flex-1 flex flex-col h-full gap-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsxs("span",{className:"text-muted-foreground flex items-center gap-2",children:["Slot Fee:",typeof t.usesCustomFee=="boolean"&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx("span",{className:"inline-flex items-center cursor-help","aria-label":"Slot Fee info",children:l.jsx(Vt,{className:"h-3.5 w-3.5 opacity-70",tabIndex:0})})}),l.jsx(sr,{side:"top",align:"center",children:t.usesCustomFee===!0?"Set by Creator":"Protocol Slot Fee"})]})]}),l.jsx("p",{className:"font-body text-[length:var(--text-base)] font-medium",children:b(t.slotFee||"0")})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Remaining slots:"}),l.jsx("p",{className:"font-body text-[length:var(--text-base)] font-medium",children:t.slotLimit-t.slotsSold})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Your slots:"}),l.jsx("p",{className:"font-body text-[length:var(--text-base)] font-medium",children:T||0})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Winning Chance:"}),l.jsx("p",{className:"font-body text-[length:var(--text-base)] font-medium",children:N!==null?`${N}%`:"N/A"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Max per user:"}),l.jsx("p",{className:"font-body text-[length:var(--text-base)] font-medium",children:t.maxSlotsPerParticipant})]}),Ye()&&p&&p.gt&&p.gt(0)&&l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Your Refundable Amount:"}),l.jsxs("p",{className:"font-body text-[length:var(--text-base)] font-medium",children:[Ir(p)," ",A()]})]}),l.jsx("div",{})]}),t.stateNum===4||t.stateNum===5||t.stateNum===6||t.stateNum===7?l.jsx(l.Fragment,{children:l.jsx("div",{className:"mt-auto",children:le()||Ye()?l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full",children:[le()&&l.jsx("button",{onClick:a,disabled:o||!K,className:"w-full bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50",children:o?R?"Claiming...":"Minting...":R?"Claim Prize":"Mint"}),Ye()&&l.jsx("button",{onClick:f,disabled:d||!K,className:"w-full bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50",children:d?"Claiming...":"Claim Refund"})]}):l.jsx("button",{disabled:!0,className:"w-full bg-muted text-muted-foreground px-6 py-3 rounded-lg opacity-60 cursor-not-allowed flex items-center justify-center gap-2",children:t.state==="Deleted"||t.stateNum===5?"Pool Deleted":"Pool Closed"})})}):l.jsxs("div",{className:"mt-auto",children:[((st=t.state)==null?void 0:st.toLowerCase())==="pending"&&it?l.jsx("button",{onClick:me,disabled:Q,className:"w-full bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:Q?"Activating...":"Activate Pool"}):((ft=t.state)==null?void 0:ft.toLowerCase())==="pending"&&!it?l.jsx("div",{className:"text-center py-4",children:l.jsx("p",{className:"text-muted-foreground text-sm",children:"Pool will be available for activation at the scheduled start time."})}):(t.stateNum===2||t.stateNum===3&&t.winnersSelected<t.winnersCount)&&((J==null?void 0:J.toLowerCase())===t.creator.toLowerCase()||T>0)?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:Ce,disabled:Z,className:"w-full bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:Z?"Requesting...":"Request Randomness"}),l.jsx("p",{className:"text-muted-foreground mt-4 text-center text-sm",children:t.stateNum===3?`Batch ${Math.ceil(t.winnersSelected/25)} complete. ${t.winnersCount-t.winnersSelected} more winner${t.winnersCount-t.winnersSelected!==1?"s":""} needed. ${(J==null?void 0:J.toLowerCase())===t.creator.toLowerCase()?"As the creator":"As a participant"}, you can request the next batch.`:`The pool has ended. ${(J==null?void 0:J.toLowerCase())===t.creator.toLowerCase()?"As the creator":"As a participant"}, you can request the randomness to initiate winner selection.`})]}):t.state==="Completed"||t.stateNum===4||t.stateNum===6||t.state==="Deleted"||t.stateNum===5?l.jsx("button",{disabled:!0,className:"w-full bg-muted text-muted-foreground px-6 py-3 rounded-lg opacity-60 cursor-not-allowed flex items-center justify-center gap-2",children:t.state==="Deleted"||t.stateNum===5?"Pool Deleted":"Pool Closed"}):xe()?l.jsx("button",{onClick:ct,disabled:V,className:"w-full bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:V?"Ending...":"End Pool"}):Jt<=0?l.jsx("button",{disabled:!0,className:"w-full bg-muted text-muted-foreground px-6 py-3 rounded-lg opacity-60 cursor-not-allowed flex items-center justify-center gap-2",children:t.state==="Deleted"||t.stateNum===5?"Pool Deleted":"Pool Closed"}):T>=t.maxSlotsPerParticipant?l.jsx("button",{disabled:!0,className:"w-full bg-muted text-muted-foreground px-6 py-3 rounded-lg opacity-60 cursor-not-allowed flex items-center justify-center gap-2",children:"Limit Reached"}):l.jsxs(l.Fragment,{children:[de()?l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Quantity"}),l.jsx(Om,{type:"number",min:1,max:t.maxSlotsPerParticipant,value:D,onChange:Ie=>{const se=Ie.target.value;if(se===""||se===null||se===void 0)j(1);else{const he=parseInt(se);isNaN(he)?j(1):j(Math.max(1,Math.min(t.maxSlotsPerParticipant,he)))}},className:"focus:outline-none focus:ring-0 focus-visible:ring-0"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:l.jsxs("span",{className:"cursor-pointer hover:text-primary hover:underline transition-colors",onClick:()=>j(t.maxSlotsPerParticipant),title:"Click to set quantity to maximum",children:["Max: ",t.maxSlotsPerParticipant," slots"]})})]}),l.jsx("div",{className:"p-4 bg-muted/50 backdrop-blur-sm border border-border/30 rounded-lg",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-medium",children:"Total Cost:"}),l.jsx("span",{className:"font-body text-[length:var(--text-base)] font-bold",children:b(lB(t.slotFee).mul(isNaN(D)?1:D))})]})})]}):null,l.jsxs("button",{onClick:ne,disabled:k||!K||!de()||G&&!H,className:"w-full bg-primary text-primary-foreground px-6 py-3 rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 shadow-sm",children:[l.jsx(Zf,{className:"h-4 w-4"}),k?"Processing...":`Purchase ${D} Slot${D>1?"s":""}`]}),G&&!H&&l.jsx("div",{className:"text-center py-2",children:l.jsx("p",{className:"text-muted-foreground text-sm",children:"Complete social media verification to enable slot purchase."})})]}),!K&&l.jsx("div",{className:"text-center py-4",children:l.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to purchase slots."})})]})]})]})}),Epe=({raffle:t,isMintableERC721:e,isEscrowedPrize:r})=>{const{getContractInstance:n}=Cr(),[i,s]=C.useState(null),[o,a]=C.useState(!0),[c,d]=C.useState(null),[f,p]=C.useState(!1),[g,m]=C.useState([]),[v,x]=C.useState(0),w=["https://ipfs.io/ipfs/","https://gateway.pinata.cloud/ipfs/","https://cloudflare-ipfs.com/ipfs/","https://dweb.link/ipfs/"],E=w.map(J=>J.replace("/ipfs/","/ipns/")),P=["https://arweave.net/"],R=(J,W,F,b={})=>{const A=[],D=/\/$/.test(J),j=J.replace(/\/$/,""),k=W!=null?W.toString():"0",T=(W!=null?BigInt(W):0n).toString(16).padStart(64,"0"),O=T.toUpperCase(),N=F===1,I=F===0,Q=V=>{const Y=[],Z=V.replace(/\/?(?:[0-9]+|[a-fA-F0-9]{64})(?:\.json)?$/,"");return Z&&Z!==V&&(Y.push(Z),Y.push(`${Z}/`),Y.push(`${Z}/index.json`),Y.push(`${Z}/metadata.json`)),Y};if(J.match(/\/(?:[0-9]+|[a-fA-F0-9]{64})(?:\.json)?$/)!==null){if((N||b.prioritizeRoot)&&A.push(...Q(J)),A.push(J),J.includes(".json")||A.push(`${J}.json`),I&&A.push(...Q(J)),N){const V=(Y,Z=!0)=>{const ee=[];return Y.match(new RegExp(`/${k}(?:\\.json)?$`))&&(ee.push(Y.replace(new RegExp(`/${k}(?:\\.json)?$`),`/${T}`)),Z&&ee.push(Y.replace(new RegExp(`/${k}(?:\\.json)?$`),`/${T}.json`)),ee.push(Y.replace(new RegExp(`/${k}(?:\\.json)?$`),`/${O}`)),Z&&ee.push(Y.replace(new RegExp(`/${k}(?:\\.json)?$`),`/${O}.json`))),Y.match(new RegExp(`${k}(?:\\.json)?$`))&&(ee.push(Y.replace(new RegExp(`${k}(?:\\.json)?$`),`${T}`)),Z&&ee.push(Y.replace(new RegExp(`${k}(?:\\.json)?$`),`${T}.json`)),ee.push(Y.replace(new RegExp(`${k}(?:\\.json)?$`),`${O}`)),Z&&ee.push(Y.replace(new RegExp(`${k}(?:\\.json)?$`),`${O}.json`))),ee};A.push(...V(J,!0))}}else N?(A.push(J),D&&A.push(j+"/"),A.push(`${j}.json`),A.push(`${j}/index.json`),A.push(`${j}/metadata.json`),A.push(`${j}/${T}`),A.push(`${j}${T}`),A.push(`${j}/${T}.json`),A.push(`${j}${T}.json`),A.push(`${j}/${O}`),A.push(`${j}${O}`),A.push(`${j}/${O}.json`),A.push(`${j}${O}.json`),A.push(`${j}/${k}`),A.push(`${j}${k}`),A.push(`${j}/${k}.json`),A.push(`${j}${k}.json`)):(A.push(J),D&&A.push(j+"/"),A.push(`${j}.json`),A.push(`${j}/index.json`),A.push(`${j}/metadata.json`),A.push(`${j}/${k}`),A.push(`${j}${k}`),A.push(`${j}/${k}.json`),A.push(`${j}${k}.json`)),J.includes("{id}")&&(A.push(J.replace("{id}",T)),A.push(J.replace("{id}",k)),A.push(J.replace("{id}",O)));return[...new Set(A)]},S=J=>{if(!J)return[];if(J.startsWith("ipfs://")){let W=J.replace("ipfs://","");return W.startsWith("ipfs/")&&(W=W.slice(5)),w.map(F=>`${F}${W}`)}if(J.startsWith("ipns://")){let W=J.replace("ipns://","");return W.startsWith("ipns/")&&(W=W.slice(5)),E.map(F=>`${F}${W}`)}if(J.startsWith("ar://")){const W=J.replace("ar://","");return P.map(F=>`${F}${W}`)}try{const W=new URL(J),b=W.pathname.replace(/\/ipfs\/ipfs\//,"/ipfs/").split("/").filter(Boolean),A=b.indexOf("ipfs");if(A!==-1&&b[A+1]){const j=b.slice(A+1).join("/");return w.map(k=>`${k}${j}`)}const D=b.indexOf("ipns");if(D!==-1&&b[D+1]){const j=b.slice(D+1).join("/");return E.map(k=>`${k}${j}`)}if(W.hostname.endsWith("arweave.net")||W.hostname==="arweave.net"){const j=b.join("/");return P.map(k=>`${k}${j}`)}}catch{}return[J]},B=J=>{const W=["image","image_url","imageUrl","animation_url","animationUrl","media","artwork"],F=b=>{if(!b)return null;if(b.startsWith("ipfs://")){let A=b.slice(7);return A.startsWith("ipfs/")&&(A=A.slice(5)),w.map(j=>`${j}${A}`)}if(b.startsWith("ipns://")){let A=b.slice(7);return A.startsWith("ipns/")&&(A=A.slice(5)),E.map(j=>`${j}${A}`)}if(b.startsWith("ar://")){const A=b.slice(5);return P.map(j=>`${j}${A}`)}return[b]};for(const b of W)if(J[b]){const A=J[b];return F(String(A))}return null},$=()=>{Array.isArray(g)&&v+1<g.length?(x(v+1),s(g[v+1])):s(null)},q=async(J,W=1e4)=>{const F=new AbortController,b=setTimeout(()=>F.abort(),W);try{const A=await fetch(J,{signal:F.signal,headers:{Accept:"application/json, text/plain, */*"}});return clearTimeout(b),A}catch(A){throw clearTimeout(b),A}},G=async(J,W=1e4)=>{for(const F of J)try{if(F.startsWith("data:")){const[A,D]=F.split(",",2),[,j,k]=A.match(/^data:([^;]+);([^,]+)$/)||[];if(j!=null&&j.includes("application/json")&&k==="base64"){const M=JSON.parse(atob(D)),T=B(M)||null;if(T)return{metadata:M,imageUrl:T,sourceUri:F}}else if(j!=null&&j.startsWith("image/")||j!=null&&j.startsWith("video/"))return{metadata:{image:F},imageUrl:F,sourceUri:F};continue}const b=await q(F,W);if(b.ok){const A=b.headers.get("content-type");try{const D=await b.text(),j=JSON.parse(D);if(j&&typeof j=="object"){const k=B(j);if(k)return{metadata:j,imageUrl:k,sourceUri:F}}}catch{if(A!=null&&A.startsWith("image/")||A!=null&&A.startsWith("video/")||F.match(/\.(jpg|jpeg|png|gif|svg|webp|mp4|webm|ogg)$/i))return{metadata:{image:F},imageUrl:F,sourceUri:F}}}}catch{continue}throw new Error("All metadata fetch attempts failed")};if(C.useEffect(()=>{async function J(){if(t.isPrized||t.prizeCollection&&t.prizeCollection!==He||t.standard!==void 0&&t.prizeTokenId!==void 0){a(!0),s(null),d(null);try{let b=null;const A=t.standard===0?"erc721Prize":"erc1155Prize",D=n(t.prizeCollection,A),j=!r;if(!D){s(null),a(!1);return}if(t.standard===0)if(j)try{if(b=await D.unrevealedBaseURI(),!b||b.trim()===""){p(!0),s(null),a(!1);return}}catch{p(!0),s(null),a(!1);return}else try{b=await D.tokenURI(t.prizeTokenId)}catch{s(null),a(!1);return}else if(t.standard===1)if(j){let I=null,Q=null,z=null;try{I=await D.unrevealedURI()}catch{}try{Q=await D.tokenURI(t.prizeTokenId)}catch{}try{z=await D.isRevealed()}catch{z=null}if(z===!1)if(I&&I.trim()!=="")b=I;else if(Q&&Q.trim()!=="")b=Q;else try{const V=t==null?void 0:t.prizeTokenId;b=await D.uri(V)}catch{s(null),a(!1);return}else if(z===!0)if(Q&&Q.trim()!=="")b=Q;else try{b=await D.uri(t.prizeTokenId)}catch{if(I&&I.trim()!=="")b=I;else{s(null),a(!1);return}}else if(Q&&Q.trim()!=="")b=Q;else if(I&&I.trim()!=="")b=I;else try{b=await D.uri(t.prizeTokenId)}catch{s(null),a(!1);return}}else try{b=await D.uri(t.prizeTokenId)}catch{s(null),a(!1);return}else{s(null),a(!1);return}if(!b||b.trim()===""){s(null),a(!1);return}const k=R(b,t.prizeTokenId,t.standard),M=[];for(const I of k)M.push(...S(I));const T=t.standard===0&&j?5e3:1e4,O=await G(M,T),N=Array.isArray(O.imageUrl)?O.imageUrl:[O.imageUrl];m(N),x(0),s(N[0]),d(O.sourceUri)}catch{s(null),d(null)}a(!1)}}(t==null?void 0:t.isPrized)===!0&&(t==null?void 0:t.prizeCollection)&&t.prizeCollection!==He&&((t==null?void 0:t.standard)===0||(t==null?void 0:t.standard)===1)&&J()},[t,n,r]),!((t==null?void 0:t.isPrized)===!0&&(t==null?void 0:t.prizeCollection)&&t.prizeCollection!==He&&((t==null?void 0:t.standard)===0||(t==null?void 0:t.standard)===1)))return null;if(o)return l.jsx(Pr,{className:"detail-beige-card h-full flex flex-col items-center justify-center text-foreground border border-border rounded-xl",children:l.jsx(Rr,{className:"flex flex-col items-center justify-center",children:l.jsx("div",{className:"w-64 h-64 flex items-center justify-center border rounded-lg bg-muted/30",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading prize media..."})]})})})});if(!i)return null;const K=typeof i=="string"&&/\.(mp4|webm|ogg)$/i.test(i);return l.jsx(Pr,{className:"detail-beige-card h-full flex flex-col items-center justify-center text-foreground border border-border rounded-xl",children:l.jsx(Rr,{className:"flex flex-col items-center justify-center",children:K?l.jsx("video",{src:i,className:"w-64 h-64 object-contain rounded-lg border",style:{background:"#000"},controls:!0,playsInline:!0,onError:$}):l.jsx("img",{src:i,alt:"Prize Art",className:"w-64 h-64 object-contain rounded-lg border",style:{background:"#fff"},onError:$})})})},sM=({winner:t,index:e,raffle:r,connectedAddress:n,onToggleExpand:i,isExpanded:s,stats:o,onLoadStats:a,collectionName:c,isEscrowedPrize:d})=>{const f=n&&t.address.toLowerCase()===n.toLowerCase(),{formatPrizeAmount:p}=Sn(),[g,m]=be.useState("TOKEN"),[v,x]=be.useState(null),[w,E]=be.useState(null),{getContractInstance:P}=Cr();be.useEffect(()=>{let q=!0;async function G(){if(!(!r.erc20PrizeToken||r.erc20PrizeToken===He))try{if(window.__erc20SymbolCache||(window.__erc20SymbolCache={}),window.__erc20SymbolCache[r.erc20PrizeToken]){q&&m(window.__erc20SymbolCache[r.erc20PrizeToken]);return}const H=window.ethereum?new bc(window.ethereum):Rf(),K=["function symbol() view returns (string)"],W=await new At(r.erc20PrizeToken,K,H).symbol();q&&(m(W),window.__erc20SymbolCache[r.erc20PrizeToken]=W)}catch{q&&m("TOKEN")}}return G(),()=>{q=!1}},[r.erc20PrizeToken]),be.useEffect(()=>{let q=!0;return(async()=>{if(!r.isPrized){q&&x(null);return}try{const H=P(r.address,"pool");if(!H){console.warn("Failed to get pool contract instance"),q&&x(r.amountPerWinner||1);return}const K=await H.amountPerWinner(),J=K.toNumber?K.toNumber():Number(K);q&&(x(J),console.log(` Successfully fetched amountPerWinner from contract ${r.address}:`,J))}catch(H){if(console.warn(` Failed to fetch amountPerWinner from contract ${r.address}, using fallback:`,H.message),q){const K=r.amountPerWinner||1;x(K),console.log(` Using fallback amountPerWinner for ${r.address}:`,K)}}})(),()=>{q=!1}},[r.address,r.isPrized,r.amountPerWinner,P]),be.useEffect(()=>{(async()=>{if(!r||!r.prizeCollection||r.prizeCollection===He){E(null);return}try{let G=null,H=null;if(typeof r.standard<"u"){const K=r.standard===0?"erc721Prize":"erc1155Prize";if(G=P(r.prizeCollection,K),G)try{typeof G.symbol=="function"&&(H=await G.symbol())}catch{H=null}}else try{G=P(r.prizeCollection,"erc721Prize"),G&&typeof G.symbol=="function"&&(H=await G.symbol())}catch{try{G=P(r.prizeCollection,"erc1155Prize"),G&&typeof G.symbol=="function"&&(H=await G.symbol())}catch{}}E(H),H&&console.log(` Successfully fetched collection symbol for ${r.prizeCollection}:`,H)}catch(G){console.warn("Failed to fetch collection symbol:",G),E(null)}})()},[r,P]);const R=q=>q,S=()=>{var G;if(!r.isPrized)return"No Prize";if(v===null&&r.isPrized)return"Loading prize info...";const q=v!==null?v:r.amountPerWinner||1;if(r.nativePrizeAmount&&r.nativePrizeAmount.gt&&r.nativePrizeAmount.gt(0)){console.log(" Native Prize Debug:",{totalPrizeAmount:r.nativePrizeAmount.toString(),winnersCount:r.winnersCount,amountPerWinnerFromContract:q,amountPerWinnerType:typeof q});const H=r.winnersCount||1,K=r.nativePrizeAmount.div(H);console.log(` Native calculation: ${r.nativePrizeAmount.toString()} / ${H} = ${K.toString()}`);const J=p(K);return console.log(` Native prize display: ${J} (prizePerWinner: ${K.toString()})`),J}if(r.erc20PrizeToken&&r.erc20PrizeToken!==He&&r.erc20PrizeAmount&&r.erc20PrizeAmount.gt&&r.erc20PrizeAmount.gt(0)){console.log(" ERC20 Prize Debug:",{totalPrizeAmount:r.erc20PrizeAmount.toString(),winnersCount:r.winnersCount,amountPerWinnerFromContract:q,amountPerWinnerType:typeof q});const H=r.winnersCount||1,K=r.erc20PrizeAmount.div(H);console.log(` ERC20 calculation: ${r.erc20PrizeAmount.toString()} / ${H} = ${K.toString()}`);const J=og(K,18),W=`${J} ${g}`;return console.log(` ERC20 prize display: ${W} (prizePerWinner: ${K.toString()}, formatted: ${J})`),W}if(r.prizeCollection&&r.prizeCollection!==He){if(r.standard===0)if(d){const H=(G=r.prizeTokenId)!=null&&G.toString?r.prizeTokenId.toString():r.prizeTokenId,K=H!=null&&H!=="0"?`#${H}`:"#Unknown";console.log(" Escrowed ERC721 token ID debug:",{rawTokenId:r.prizeTokenId,stringTokenId:H,prizeId:K,isEscrowedPrize:d});let J;return w?J=`${w} ${K}`:c?J=`${c} ${K}`:J=`ERC721 NFT ${K}`,console.log(` Escrowed ERC721 prize display: ${J} (symbol: ${w}, name: ${c}, tokenId: ${r.prizeTokenId})`),J}else{const K=`${q} ${w||c||"ERC721 NFT"}`;return console.log(` Mintable ERC721 prize display: ${K} (symbol: ${w}, name: ${c}, amount: ${q})`),K}if(r.standard===1)return`${q} ${c||"ERC1155 Token"}`}return"Prize Available"},$=r.isPrized?t.prizeClaimed?{text:"Claimed",color:"text-green-700",icon:"green-dot",bgColor:"bg-green-100"}:{text:"Unclaimed",color:"text-orange-700",icon:"",bgColor:"bg-orange-100"}:{text:"No Prize",color:"text-muted-foreground",icon:"",bgColor:"bg-muted/20"};return l.jsx("div",{className:`detail-beige-card text-foreground bg-card border-2 rounded-xl transition-all duration-200 hover:shadow-md ${f?"border-yellow-400 winner-card-highlight":"border-[#614E41]"}`,children:l.jsxs("div",{className:"px-2 py-3 sm:px-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2.5 min-w-0 flex-1",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${f?"bg-yellow-400":"bg-primary"}`})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("div",{className:"font-mono text-sm font-medium break-all",title:t.address,children:R(t.address)}),f&&l.jsx("div",{className:"text-xs winner-text-highlight font-medium mt-0.5",children:"Your Address"})]})]}),l.jsx("button",{onClick:()=>i(t,e),className:"winner-card-expand flex-shrink-0 p-1 sm:p-1.5 rounded-md hover:bg-transparent active:bg-transparent focus:bg-transparent transition-colors focus-visible:outline-none focus-visible:ring-0",title:s?"Hide details":"View details",children:l.jsx(ko,{className:`h-4 w-4 transition-transform duration-200 ${s?"rotate-180":""}`})})]}),r.isPrized&&l.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-3 text-sm",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Prize"}),l.jsx("div",{className:"font-medium",children:S()})]}),l.jsxs("div",{className:"space-y-0.5 sm:text-right",children:[l.jsx("span",{className:"text-muted-foreground text-xs tracking-wide block",children:"Status"}),l.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs font-medium ${$.bgColor} ${$.color}`,children:[$.icon==="green-dot"?l.jsx("div",{className:"w-2 h-2 rounded-full bg-green-600 dark:bg-green-400"}):l.jsx("span",{children:$.icon}),l.jsx("span",{children:$.text})]})]})]}),s&&l.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:o?o.error?l.jsxs("div",{className:"text-center py-4",children:[l.jsx(dr,{className:"h-6 w-6 text-red-500 mx-auto mb-2"}),l.jsx("div",{className:"text-red-500 text-sm font-medium",children:o.error})]}):l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Participation Details"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Tickets Purchased"}),l.jsx("div",{className:"font-semibold text-base",children:o.ticketsPurchased})]}),l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Winning Tickets"}),l.jsx("div",{className:"font-semibold text-base text-green-600",children:o.winningTickets})]}),l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Losing Tickets"}),l.jsx("div",{className:"font-semibold text-base text-red-600",children:o.losingTickets})]}),l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Win Rate"}),l.jsx("div",{className:"font-semibold text-base",children:o.ticketsPurchased>0?`${(o.winningTickets/o.ticketsPurchased*100).toFixed(1)}%`:"0%"})]})]})]}):l.jsxs("div",{className:"text-center py-4",children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary mx-auto mb-2"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading participation details..."})]})})]})})},Tpe=be.memo(({raffle:t,isMintableERC721:e,isEscrowedPrize:r,isMobile:n,onWinnerCountChange:i,onWinnersSelectedChange:s})=>{var A;const{getContractInstance:o,executeTransaction:a}=Cr(),{address:c}=xr();Sn();const[d,f]=C.useState([]),[p,g]=C.useState(!1),[m,v]=C.useState(null),[x,w]=C.useState({}),[E,P]=C.useState(null),[R,S]=C.useState(null),[B,$]=C.useState(null),[q,G]=C.useState((t==null?void 0:t.winnersSelected)||0),H=(t==null?void 0:t.stateNum)===4||(t==null?void 0:t.stateNum)===6,K=!!t&&!H,{isListening:J}=YF(t==null?void 0:t.address,{onWinnersSelected:(D,j)=>{P(j==null?void 0:j.transactionHash),$(Date.now()),W(),setTimeout(()=>{W()},5e3)},onStateChange:(D,j)=>{(D===4||D===6)&&($(Date.now()),setTimeout(()=>{W()},1e3),setTimeout(()=>{W()},6e3))},onPrizeClaimed:(D,j,k)=>{setTimeout(()=>{W()},1e3)},onRpcError:D=>{console.warn("WinnersSection RPC error:",D)},enablePolling:!0,pollingInterval:(t==null?void 0:t.stateNum)===3?8e3:12e3,autoStart:K,raffleState:(t==null?void 0:t.stateNum)||null,enableStateConditionalListening:!0,stopOnCompletion:!0});C.useEffect(()=>{P(null)},[t]),C.useEffect(()=>{(async()=>{if(!t||!t.prizeCollection||t.prizeCollection===He){S(null);return}try{const k=await o(t.prizeCollection,t.standard===0?"erc721Prize":"erc1155Prize").name();S(k)}catch{S(null)}})()},[t,o]);const W=C.useCallback(async()=>{if(!t){f([]),i==null||i(0);return}if(![3,4,6].includes(t.stateNum)){f([]),i==null||i(0);return}g(!0);try{const j=o&&o(t.address,"pool");if(!j){f([]),i==null||i(0),g(!1);return}const k=await j.winnersCount(),M=k.toNumber?k.toNumber():Number(k);if(M===0){f([]),i==null||i(0),g(!1);return}const T=[];for(let O=0;O<M;O++)try{const N=await j.winners(O);if(N===He||N==="0x0000000000000000000000000000000000000000")continue;const I=await j.claimedWins(N),Q=await j.prizeClaimed(N);T.push({address:N,index:O,claimedWins:I.toNumber?I.toNumber():Number(I),prizeClaimed:Q&&(Q.toNumber?Q.toNumber()>0:Number(Q)>0)})}catch{continue}f(T),i==null||i(T.length)}catch{f([]),i==null||i(0)}finally{g(!1)}},[t,o]);C.useEffect(()=>{W()},[W,B]),C.useEffect(()=>{(t==null?void 0:t.winnersSelected)!==void 0&&G(t.winnersSelected)},[t==null?void 0:t.winnersSelected]),C.useEffect(()=>{if(!t||t.stateNum!==3)return;console.log(" WinnersSection: Starting winner polling for Drawing state");let D=q;const j=setInterval(async()=>{try{const k=o&&o(t.address,"pool");if(!k)return;const M=await k.winnersSelected(),T=M.toNumber?M.toNumber():Number(M);console.log(` Polling: ${T} winners on-chain, ${D} in local state`),T>D&&(console.log(" New winners detected! Fetching updated list..."),G(T),s==null||s(T),await W(),D=T)}catch(k){console.warn("Winner polling error:",k)}},15e3);return()=>{console.log(" WinnersSection: Stopping winner polling"),clearInterval(j)}},[t,t==null?void 0:t.stateNum,q,o,W,s]);const F=()=>{switch(iC[t.stateNum]||"Unknown"){case"Pending":return l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Em,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold mb-2",children:"Raffle Pending"}),l.jsx("p",{className:"text-muted-foreground",children:"Winners will be announced after the raffle ends and drawing is complete."})]});case"Active":return l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Tc,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold mb-2",children:"Raffle Active"}),l.jsx("p",{className:"text-muted-foreground",children:"Raffle is currently active. Winners will be announced after it ends."})]});case"Ended":return l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Em,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold mb-2",children:"Raffle Ended"}),l.jsx("p",{className:"text-muted-foreground",children:"Raffle has ended. Waiting for winner selection to begin."})]});case"Drawing":return l.jsx("div",{className:"space-y-4",children:p?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold mb-2",children:"Drawing in Progress"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading winners..."})]}):d.length>0?l.jsx(l.Fragment,{children:l.jsx("div",{className:"max-h-96 overflow-y-auto pr-2",children:l.jsx("div",{className:"space-y-3 pb-4",children:d.map((j,k)=>l.jsx(sM,{winner:j,index:k,raffle:t,connectedAddress:c,onToggleExpand:b,isExpanded:m===k,stats:x[j.address],onLoadStats:b,collectionName:R,isEscrowedPrize:r},j.index))})})}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold mb-2",children:"Drawing in Progress"}),l.jsx("p",{className:"text-muted-foreground",children:"Winners are being selected. Please wait..."})]})});case"Completed":case"Prizes Claimed":case"AllPrizesClaimed":return l.jsx("div",{className:"space-y-4",children:p?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading winners..."})]}):d.length>0?l.jsx(l.Fragment,{children:l.jsx("div",{className:"max-h-96 overflow-y-auto pr-2",children:l.jsx("div",{className:"space-y-3 pb-4",children:d.map((j,k)=>l.jsx(sM,{winner:j,index:k,raffle:t,connectedAddress:c,onToggleExpand:b,isExpanded:m===k,stats:x[j.address],onLoadStats:b,collectionName:R,isEscrowedPrize:r},j.index))})})}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Bu,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"No winners data available."})]})});case"Deleted":return l.jsxs("div",{className:"text-center py-8",children:[l.jsx(dS,{className:"h-12 w-12 text-foreground/60 mx-auto mb-4"}),l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold mb-2",children:"Raffle Deleted"}),l.jsx("p",{className:"text-muted-foreground",children:"This raffle has been deleted and is no longer active."})]});case"Activation Failed":return l.jsxs("div",{className:"text-center py-8",children:[l.jsx(dr,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold mb-2",children:"Activation Failed"}),l.jsx("p",{className:"text-muted-foreground",children:"Raffle activation failed. Please contact support or try again."})]});case"Unengaged":return l.jsxs("div",{className:"text-center py-8",children:[l.jsx(dr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold mb-2",children:"Unengaged Raffle"}),l.jsx("p",{className:"text-muted-foreground",children:"This raffle had fewer participants than the required number of winners before its duration elapsed."})]});default:return l.jsxs("div",{className:"text-center py-8",children:[l.jsx(dr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Unknown raffle state."})]})}},b=async(D,j)=>{if(m===j){v(null);return}if(v(j),!x[D.address])try{const k=o(t.address,"pool"),M=await k.slotsPurchased(D.address),T=await k.winsPerAddress(D.address),O=await k.prizeClaimed(D.address),N=M.toNumber?M.toNumber():Number(M),I=T.toNumber?T.toNumber():Number(T),Q=O.toNumber?O.toNumber():Number(O);w(z=>({...z,[D.address]:{ticketsPurchased:N,winningTickets:I,losingTickets:N-I,prizeClaimed:Q>0}}))}catch{w(M=>({...M,[D.address]:{error:"Failed to fetch stats"}}))}};return l.jsxs("div",{className:"detail-beige-card bg-card/80 text-foreground backdrop-blur-sm border border-border rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx("div",{className:"mb-4",children:l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsxs("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold flex items-center gap-2",children:[l.jsx(Bu,{className:"h-5 w-5"}),"Winners",E&&l.jsxs("a",{href:sC(E),target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 underline flex items-center gap-1 ml-2",title:"View winner selection transaction",children:[l.jsx(Bu,{className:"h-4 w-4"}),"Transaction"]}),J&&((A=t==null?void 0:t.state)==null?void 0:A.toLowerCase())!=="pending"&&l.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ml-2 ${d.length>0?"bg-green-500":"bg-orange-500"}`,title:d.length>0?"Real-time updates active - Winners displayed":"Real-time updates active - Waiting for winners"})]}),(t==null?void 0:t.stateNum)===3&&d.length>0&&l.jsxs("div",{className:"flex items-center gap-2 flex-1 max-w-md ml-auto",children:[l.jsx("div",{className:"flex-1",children:l.jsx("div",{className:"relative w-full h-2 bg-muted rounded-full overflow-hidden",children:l.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 to-blue-600 transition-all duration-500 ease-out rounded-full",style:{width:`${Math.min(q/t.winnersCount*100,100)}%`},children:l.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})})}),l.jsxs("div",{className:"text-xs font-semibold text-foreground whitespace-nowrap",children:[q,"/",t.winnersCount]})]}),((t==null?void 0:t.stateNum)===4||(t==null?void 0:t.stateNum)===6)&&d.length>0&&l.jsxs("div",{className:"flex items-center gap-2 flex-1 max-w-md ml-auto",children:[l.jsx("div",{className:"flex-1",children:l.jsx("div",{className:"relative w-full h-2 bg-muted rounded-full overflow-hidden",children:l.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-green-500 to-green-600 transition-all duration-500 ease-out rounded-full",style:{width:"100%"},children:l.jsx("div",{className:"absolute inset-0 bg-white/20"})})})}),l.jsxs("div",{className:"text-xs font-semibold text-green-600 dark:text-green-400 whitespace-nowrap flex items-center gap-1",children:[l.jsx(jr,{className:"h-3 w-3"}),t.winnersCount,"/",t.winnersCount]})]})]})}),l.jsx("div",{className:"overflow-y-auto",children:F()})]})});function Npe({token:t,amount:e}){const[r,n]=be.useState("TOKEN");return be.useEffect(()=>{let i=!0;async function s(){try{if(window.__erc20SymbolCache||(window.__erc20SymbolCache={}),window.__erc20SymbolCache[t]){n(window.__erc20SymbolCache[t]);return}const o=window.ethereum?new bc(window.ethereum):Rf(),a=["function symbol() view returns (string)"],d=await new At(t,a,o).symbol();i&&(n(d),window.__erc20SymbolCache[t]=d)}catch{i&&n("TOKEN")}}return s(),()=>{i=!1}},[t]),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-foreground/80 dark:text-foreground",children:"Prize Amount:"}),l.jsxs("span",{children:[og(e,18)," ",r]})]})}function Ape(t){return t?t.state==="Deleted"?{label:"All Slots Refundable",refundable:!0,reason:"Raffle was deleted before ending. All slots are refundable."}:t.usesCustomFee?t.isPrized&&t.winnersCount===1&&t.standard!==void 0&&(t.standard===0||t.standard===1)?{label:"Slots Refundable if Deleted",refundable:!1,reason:"Single-winner NFT raffles are not refundable unless deleted before ending."}:{label:"Non-winning Slots Refundable",refundable:!0,reason:"This raffle supports refunds for non-winning slots."}:{label:"Slot Fees Refundable",refundable:!0,reason:"This raffle uses the global slot fee. All participants can claim 80% refunds after completion."}:{label:"Non-Refundable",refundable:!1,reason:"Unknown"}}function sC(t,e){let r=1;typeof e=="number"?r=e:window.ethereum&&window.ethereum.chainId&&(r=parseInt(window.ethereum.chainId,16));const n={1:"https://etherscan.io",5:"https://goerli.etherscan.io",11155111:"https://sepolia.etherscan.io",137:"https://polygonscan.com",80001:"https://mumbai.polygonscan.com",10:"https://optimistic.etherscan.io",420:"https://goerli-optimism.etherscan.io",42161:"https://arbiscan.io",56:"https://bscscan.com",97:"https://testnet.bscscan.com",43114:"https://snowtrace.io",43113:"https://testnet.snowtrace.io",8453:"https://basescan.org",84531:"https://goerli.basescan.org",84532:"https://sepolia.basescan.org",11155420:"https://sepolia-optimism.etherscan.io"};return`${n[r]||n[1]}/address/${t}`}const oM=()=>{var Wc,Cg,Sg,_d;const{raffleAddress:t}=_N(),r=_N().chainSlug,n=Ua(),{connected:i,address:s,provider:o,isInitialized:a,isReconnecting:c}=xr(),{getContractInstance:d,executeTransaction:f,isContractsReady:p,contracts:g}=Cr(),{isMobile:m}=pn(),{formatSlotFee:v,formatPrizeAmount:x}=Sn(),w=C.useCallback(()=>{var Ve;const ve=(Ve=o==null?void 0:o.network)==null?void 0:Ve.chainId,ye=ve&&Ht[ve]?Ht[ve].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):ve||"";return`${ye?`/${ye}`:""}/raffle/${t}`},[o,t]),{refreshTrigger:E,triggerRefresh:P}=Yce(),{handleError:R}=w4(),[S,B]=C.useState(null),[$,q]=C.useState(!0),[G,H]=C.useState(null),[K,J]=C.useState(""),[W,F]=C.useState(!1),[b,A]=C.useState(!1),[D,j]=C.useState(!1),[k,M]=C.useState(null),[T,O]=C.useState(!1),[N,I]=C.useState(!1),[Q,z]=C.useState(!1),[V,Y]=C.useState(!1),[Z,ee]=C.useState(!1),[ae,ne]=C.useState(null),[de,xe]=C.useState(0),[me,Ce]=C.useState(!1),[ct,le]=C.useState(!1),[Ye,jt]=C.useState(!1),[it,De]=C.useState(!1),[Jt,st]=C.useState(!1),[ft,Ie]=C.useState(!1),[se]=C.useState(!1),[he,Le]=C.useState(null),[Ae,Me]=C.useState(!1),[Gt,Xe]=C.useState(null),[_t,Wt]=C.useState(!1);C.useEffect(()=>{async function ve(){var Ve;if(!r)return;const ye=f0(r);if(ye&&!(!i||!window.ethereum))try{if(((Ve=o==null?void 0:o.network)==null?void 0:Ve.chainId)!==ye)try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${ye.toString(16)}`}]})}catch(Bt){if((Bt==null?void 0:Bt.code)===4902&&Ht[ye]){const or=Ht[ye];await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${ye.toString(16)}`,chainName:or.name,rpcUrls:[or.rpcUrl],blockExplorerUrls:[or.explorer],nativeCurrency:or.nativeCurrency||{name:"ETH",symbol:"ETH",decimals:18}}]}),await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${ye.toString(16)}`}]})}}}catch(Bt){console.warn("Network switch via URL failed (non-fatal):",Bt)}}ve()},[r,i,o]);const[Ct,rt]=C.useState(!1),[Xt,xt]=C.useState(""),[Fe,Vr]=C.useState(!1),Tt=C.useRef(null);C.useEffect(()=>{if(!Ct)return;function ve(ye){Tt.current&&!Tt.current.contains(ye.target)&&rt(!1)}return document.addEventListener("mousedown",ve),()=>{document.removeEventListener("mousedown",ve)}},[Ct]);const St=async()=>{Vr(!0);try{const ve=d(S.address,"pool");if(!ve)throw new Error("Failed to get pool contract");if(!Xt||Xt.length!==42)throw new Error("Please enter a valid address");const ye=await f(()=>ve.mintToWinner(Xt));if(ye.success)te.success("mintToWinner() executed successfully!"),window.location.reload();else throw new Error(ye.error)}catch(ve){const ye=Ta(ve,"mint prize to winner",{raffleAddress:S.address,winnerAddress:Xt,prizeType:S.standard});te.error(ye.message),ye.suggestedAction&&setTimeout(()=>{te.info(ye.suggestedAction)},500)}finally{Vr(!1)}},pr=C.useMemo(()=>i,[i]),qt=C.useMemo(()=>s,[s]),Pe=C.useMemo(()=>t,[t]),yt=C.useRef(null),ot=C.useCallback(async()=>{try{const ve=d(Pe||t,"pool");if(!ve)return;const ye=await ve.getActualPoolDuration(),Ve=ye!=null&&ye.toNumber?ye.toNumber():Number(ye);Ve&&Ve>0&&B(Bt=>Bt&&{...Bt,actualDuration:Ve})}catch{}},[d,Pe,t]),Re=(S==null?void 0:S.stateNum)===4||(S==null?void 0:S.stateNum)===6,Be=!!S&&!Re;YF(t,{onWinnersSelected:(ve,ye)=>{te.success(`Winners have been selected! ${ve.length} winner${ve.length!==1?"s":""} chosen.`),xe(0),ne(null),P(),setTimeout(()=>{P()},5e3)},onStateChange:(ve,ye)=>{ve!==3&&(xe(0),ne(null)),[2,3,4,5,6,7,8].includes(ve)&&(yt.current&&clearTimeout(yt.current),yt.current=setTimeout(()=>{ot()},600)),P()},onPrizeClaimed:(ve,ye,Ve)=>{te.success(`Prize claimed by ${ve.slice(0,6)}...${ve.slice(-4)}!`),P()},onTicketsPurchased:(ve,ye,Ve)=>{ve.toLowerCase()!==(s==null?void 0:s.toLowerCase())&&te.info(`${ye.toString()} slot${ye.toString()!=="1"?"s":""} purchased by ${ve.slice(0,6)}...${ve.slice(-4)}`),P()},onRpcError:ve=>{console.warn("RPC error detected:",ve)},enablePolling:!0,pollingInterval:(S==null?void 0:S.stateNum)===3?1e4:15e3,autoStart:Be,raffleState:(S==null?void 0:S.stateNum)||null,enableStateConditionalListening:!0,stopOnCompletion:!0});const ze=C.useCallback(async()=>{var ve,ye,Ve,Bt,or,Nt,En,Zi,No,ni;q(!0),H(null);try{if(!Pe)throw new Error("No raffle address provided");if(!a||c)throw new Error("Wallet is initializing, please wait...");if(!d)throw new Error("Contract context not ready");const bs=EC(),jh=SC(),ar=d(Pe,"pool");if(!ar)throw new Error("Failed to create contract instance - no signer/provider available");const Cd=f0(r)||((ve=o==null?void 0:o.network)==null?void 0:ve.chainId),Ao=d((Ve=(ye=Ht[Cd])==null?void 0:ye.contractAddresses)==null?void 0:Ve.socialEngagementManager,"socialEngagementManager"),jo=await ax(()=>ar.name(),"name",{timeout:bs.timeout,retries:bs.retries,required:!0});if(!jo.success)throw new Error(`Contract connectivity test failed: ${jo.error}`);const la=[{method:()=>ar.name(),name:"name",required:!0,fallback:"Unknown Pool"},{method:()=>ar.creator(),name:"creator",required:!0,fallback:He},{method:()=>ar.startTime(),name:"startTime",required:!0,fallback:ue.from(0)},{method:()=>ar.duration(),name:"duration",required:!0,fallback:ue.from(0)},{method:()=>ar.slotFee(),name:"slotFee",required:!0,fallback:ue.from(0)},{method:()=>ar.slotLimit(),name:"slotLimit",required:!0,fallback:ue.from(0)},{method:()=>ar.winnersCount(),name:"winnersCount",required:!0,fallback:ue.from(0)},{method:()=>ar.winnersSelected(),name:"winnersSelected",required:!0,fallback:ue.from(0)},{method:()=>ar.maxSlotsPerParticipant(),name:"maxSlotsPerParticipant",required:!0,fallback:ue.from(0)},{method:()=>ar.isPrized(),name:"isPrized",required:!0,fallback:!1},{method:()=>ar.prizeCollection(),name:"prizeCollection",required:!0,fallback:He},{method:()=>ar.prizeTokenId(),name:"prizeTokenId",required:!0,fallback:ue.from(0)},{method:()=>ar.standard(),name:"standard",required:!0,fallback:ue.from(0)},{method:()=>ar.state(),name:"state",required:!0,fallback:ue.from(0)},{method:rl(ar,"erc20PrizeToken",He),name:"erc20PrizeToken",required:!1,fallback:He},{method:rl(ar,"erc20PrizeAmount",ue.from(0)),name:"erc20PrizeAmount",required:!1,fallback:ue.from(0)},{method:rl(ar,"nativePrizeAmount",ue.from(0)),name:"nativePrizeAmount",required:!1,fallback:ue.from(0)},{method:rl(ar,"usesCustomFee",!1),name:"usesCustomFee",required:!1,fallback:!1},{method:()=>s?ar.hasClaimedGlobalFeeRefund(s):!1,name:"hasClaimedGlobalFeeRefund",required:!1,fallback:!1},{method:rl(ar,"isRefundable",!1),name:"isRefundable",required:!1,fallback:!1},{method:rl(ar,"isCollabPool",!1),name:"isCollabPool",required:!1,fallback:!1},{method:rl(ar,"amountPerWinner",ue.from(1)),name:"amountPerWinner",required:!1,fallback:ue.from(1)},{method:async()=>{try{const Dr=await ar.state();if(typeof Dr=="number"?Dr>=2:Dr.toNumber?Dr.toNumber()>=2:Number(Dr)>=2)return await ar.getActualPoolDuration()}catch{}return ue.from(0)},name:"actualDuration",required:!1,fallback:ue.from(0)},{method:rl(ar,"getUniqueParticipantsCount",ue.from(0)),name:"uniqueParticipants",required:!1,fallback:ue.from(0)},{method:rl(ar,"socialEngagementRequired",!1),name:"socialEngagementRequired",required:!1,fallback:!1},{method:async()=>{try{if(Ao)return await Ao.tasks(Pe)||""}catch(Dr){console.error("Error fetching socialTaskDescription:",Dr)}return""},name:"socialTaskDescription",required:!1,fallback:""}],[qc,Hc,ca,$v,Eg,Gc,Uv,Tg,Ha,Ph,Ng,Kc,Yc,ua,Sd,Vv,Wv,Rh,Ih,Mh,Dh,ws,Dl,da,Ag,Ed]=await oW(la,{timeout:bs.timeout,useSequential:bs.useSequential,batchSize:bs.batchSize,delayBetweenCalls:bs.delayBetweenCalls});let Ga=0;try{Ga=(await ar.getParticipantsCount()).toNumber()}catch{let es=0;for(;;)try{await ar.participants(es),Ga++,es++}catch{break}}let Jc=0,gi=Ha.toNumber();if(i&&s)try{Jc=(await ar.slotsPurchased(s)).toNumber(),gi=Math.max(0,Ha.toNumber()-Jc)}catch{let es=0;for(;es<Ga;)try{(await ar.participants(es)).toLowerCase()===s.toLowerCase()&&Jc++,es++}catch{break}gi=Math.max(0,Ha.toNumber()-Jc)}const Xc=!!Ph,Qc=[2,3,4,5,6,7,8].includes(ua)&&Dl?Dl.toNumber?Dl.toNumber():Number(Dl):void 0,fa={address:t,name:qc,creator:Hc,startTime:ca.toNumber(),duration:$v.toNumber(),actualDuration:Qc,uniqueParticipants:(da!=null&&da.toNumber?da.toNumber():Number(da))||0,slotFee:Eg,slotLimit:Gc.toNumber(),slotsSold:Ga,winnersCount:Uv.toNumber(),winnersSelected:Tg.toNumber(),maxSlotsPerParticipant:Ha.toNumber(),isPrized:Ph,prizeCollection:Ng,prizeTokenId:Kc,standard:Yc,stateNum:ua,state:iC[ua]||"Unknown",erc20PrizeToken:Sd,erc20PrizeAmount:Vv,nativePrizeAmount:Wv,usesCustomFee:Rh,amountPerWinner:ws?ws.toNumber?ws.toNumber():Number(ws):1,socialEngagementRequired:!!Ag,socialTaskDescription:Ed||""};console.log("[VRF Debug] Checking isVRFConsumer",{chainSlug:r,providerChainId:(Bt=o==null?void 0:o.network)==null?void 0:Bt.chainId,resolvedChainId:f0(r)||((or=o==null?void 0:o.network)==null?void 0:or.chainId),raffleAddress:t});let Oi=!1;try{const Dr=f0(r)||((Nt=o==null?void 0:o.network)==null?void 0:Nt.chainId),es=Dr?(Zi=(En=Ht[Dr])==null?void 0:En.contractAddresses)==null?void 0:Zi.protocolManager:void 0;if(es){const Ol=d(es,"protocolManager");console.log("[VRF Debug] Built manager contract?",{hasContract:!!Ol}),Ol&&Ol.isVRFConsumer&&(Oi=await Ol.isVRFConsumer(t),console.log("[VRF Debug] manager.isVRFConsumer result",{isVrfConsumer:Oi}))}}catch{}console.log("[VRF Debug] Setting raffle.isVrfConsumer",{isVrfConsumer:!!Oi}),fa.isVrfConsumer=!!Oi,B(fa);try{if(!Oi&&((No=g==null?void 0:g.protocolManager)!=null&&No.isVRFConsumer)){try{!Oi&&((ni=g==null?void 0:g.protocolManager)!=null&&ni.isVRFConsumer)&&(console.log("[VRF Debug] Using context manager to check isVRFConsumer",{manager:g.protocolManager.address,raffleAddress:t}),Oi=await g.protocolManager.isVRFConsumer(t),console.log("[VRF Debug] Context manager isVRFConsumer result",{isVrfConsumer:Oi}),fa.isVrfConsumer=!!Oi)}catch(Dr){console.warn("[VRF Debug] Context manager isVRFConsumer check failed",Dr)}B(fa),console.log("[VRF Debug] Final isVrfConsumer for raffle",{raffleAddress:t,isVrfConsumer:fa.isVrfConsumer}),console.log("[VRF Debug] Final isVrfConsumer for raffle (post-set)",{raffleAddress:t,isVrfConsumer:fa.isVrfConsumer}),Oi=await g.protocolManager.isVRFConsumer(t),fa.isVrfConsumer=!!Oi}}catch{}Le(Mh),Me(Dh);let Td=Ng;if(Dh)try{Td=await ar.prizeCollection()}catch{}B({...fa,prizeCollection:Td})}catch(bs){const jh=R(bs,{context:{operation:"fetchRaffleData",isReadOnly:!0},fallbackMessage:"Failed to load raffle data"});H(jh)}finally{q(!1)}},[Pe,d,pr,qt,a,c,E]),we=C.useCallback(async()=>{if(!i||!s||!(S!=null&&S.address)||!d){ee(!1);return}try{const ve=d(S.address,"pool");if(!ve){ee(!1);return}const ye=await ve.hasCompletedSocialEngagement(s);ee(!!ye)}catch(ve){console.error("Error checking social engagement status:",ve),ee(!1)}},[i,s,S==null?void 0:S.address,d]);C.useEffect(()=>{S!=null&&S.socialEngagementRequired&&i&&s&&we()},[S==null?void 0:S.socialEngagementRequired,i,s,we]),C.useEffect(()=>{Pe&&d&&a&&!c&&ze()},[ze,Pe,d,a,c,E]),C.useEffect(()=>{(async()=>{if(!S||!S.prizeCollection||S.prizeCollection===He){M(null);return}try{const Ve=await d(S.prizeCollection,S.standard===0?"erc721Prize":"erc1155Prize").name();M(Ve)}catch{M(null)}})()},[S,d]);const Ue=C.useCallback(ve=>{const ye=Math.floor(ve/86400),Ve=Math.floor(ve%86400/3600),Bt=Math.floor(ve%3600/60),or=ve%60;let Nt="";return ye>0&&(Nt+=`${ye}d `),(Ve>0||ye>0)&&(Nt+=`${Ve}h `),(Bt>0||Ve>0||ye>0)&&(Nt+=`${Bt}m `),Nt+=`${or}s`,Nt.trim()},[]),Te=C.useCallback(ve=>{const ye=Math.floor(ve/86400),Ve=Math.floor(ve%86400/3600),Bt=Math.floor(ve%3600/60);let or="";return ye>0&&(or+=`${ye}d `),(Ve>0||ye>0)&&(or+=`${Ve}h `),(Bt>0||Ve>0||ye>0)&&(or+=`${Bt}m`),or||(or="0m"),or.trim()},[]),Oe=C.useCallback(()=>{if(!S)return;const ve=Math.floor(Date.now()/1e3);let ye="",Ve=0;if([2,3,4,5,6,7,8].includes(S.stateNum)){ye="Duration";const Bt=S.actualDuration&&(S.actualDuration.toNumber?S.actualDuration.toNumber():Number(S.actualDuration)),or=S.duration,Nt=Bt&&Bt>0?Bt>or?or:Bt:or;zt(ye),Mr(Te(Nt));return}ve<S.startTime?(ye="Starts In",Ve=S.startTime-ve):(ye="Remaining",Ve=S.startTime+S.duration-ve),zt(ye),Mr(Ve>0?Ue(Ve):"Ended")},[S,Ue,Te]);C.useEffect(()=>{if(!S)return;Oe();const ve=setInterval(Oe,1e3);return()=>clearInterval(ve)},[Oe]),C.useEffect(()=>{async function ve(){if(t&&d)try{const ye=d(t,"pool");if(ye){const Ve=await ye.isEscrowedPrize();F(Ve)}}catch{F(!1)}}ve()},[t,d]),C.useEffect(()=>{(async()=>{if(!t||!(g!=null&&g.poolDeployer)){Xe(null);return}Wt(!0);try{const ye=await Ade(t,g.poolDeployer);Xe(ye)}catch(ye){console.error("Error fetching pool metadata:",ye),Xe(null)}finally{Wt(!1)}})()},[t,g==null?void 0:g.poolDeployer]),C.useEffect(()=>{(async()=>{if(S&&S.standard===1&&S.prizeCollection&&s&&s.toLowerCase()===S.creator.toLowerCase()){z(!0);try{const Ve=(window.ethereum?new bc(window.ethereum):Rf()).getSigner(),or=await new At(S.prizeCollection,ht.erc1155Prize,Ve).isApprovedForAll(s,S.address);I(or)}catch{I(!1)}finally{z(!1)}}})()},[S,s]),C.useEffect(()=>{(async()=>{if(S&&S.erc20PrizeToken&&S.erc20PrizeToken!==He&&S.erc20PrizeAmount&&s&&s.toLowerCase()===S.creator.toLowerCase()){jt(!0);try{const Ve=(window.ethereum?new bc(window.ethereum):Rf()).getSigner(),or=await new At(S.erc20PrizeToken,ht.erc20,Ve).allowance(s,S.address);le(or.gte(S.erc20PrizeAmount))}catch{le(!1)}finally{jt(!1)}}})()},[S,s]),C.useEffect(()=>{(async()=>{if(S&&S.standard===0&&S.prizeCollection&&typeof S.prizeTokenId<"u"&&s&&s.toLowerCase()===S.creator.toLowerCase()){Ie(!0);try{const Ve=(window.ethereum?new bc(window.ethereum):Rf()).getSigner(),Bt=new At(S.prizeCollection,ht.erc721Prize,Ve),or=await Bt.getApproved(S.prizeTokenId);if(or&&or.toLowerCase()===S.address.toLowerCase())st(!0);else{const Nt=await Bt.isApprovedForAll(s,S.address);st(Nt)}}catch{st(!1)}finally{Ie(!1)}}})()},[S,s]);const mr=async ve=>{if(!i||!S)throw new Error("Wallet not connected or raffle not loaded");const ye=d(S.address,"pool");if(!ye)throw new Error("Failed to get pool contract");const Bt=lB(S.slotFee).mul(ve);let or=null,Nt=0,En=0,Zi="0x";if(S.socialEngagementRequired)try{console.log("Generating signature for social engagement required pool...");const ni=await bpe.generatePurchaseSignature(s,S.address,ve);if(ni.success)or=ni.signature,Nt=ni.nonce,En=ni.deadline,Zi=or,console.log("Signature generated successfully with nonce:",Nt,"deadline:",En);else throw new Error(ni.error||"Failed to generate signature")}catch(ni){throw console.error("Signature generation failed:",ni),Z?new Error("Failed to generate signature. Please try again."):new Error("Please complete all social media tasks before purchasing slots")}await(await ye.purchaseSlots(ve,Nt,En,Zi,{value:Bt})).wait(),te.success(`Successfully purchased ${ve} slot${ve>1?"s":""}!`),P()},Ge=async()=>{if(!(!S||!d)){O(!0);try{const ve=d(S.address,"pool");if(!ve)throw new Error("Contract instance not available");await(await ve.deletePool()).wait(),te.success("Raffle deleted successfully!"),n("/")}catch(ve){const ye=xl(ve,"delete raffle");Ta(ve,"Delete Raffle"),te.error(ye.message)}finally{O(!1)}}},pt=()=>i&&(s==null?void 0:s.toLowerCase())===(S==null?void 0:S.creator.toLowerCase())&&((S==null?void 0:S.state)==="Pending"||(S==null?void 0:S.state)==="Active")&&(S==null?void 0:S.usesCustomFee)===!0,Nr=()=>{if(!S)return null;const ye=(Bt=>Bt===6?mn===1?"Prize Claimed":"Prizes Claimed":iC[Bt]||"Unknown")(S.stateNum),Ve={Pending:"bg-yellow-100 text-yellow-800",Active:"bg-green-100 text-green-800",Ended:"bg-red-100 text-red-800",Drawing:"bg-purple-100 text-purple-800",Completed:"bg-blue-100 text-blue-800",Deleted:"bg-gray-200 text-gray-800","Activation Failed":"bg-red-200 text-red-900","Prizes Claimed":"bg-blue-200 text-blue-900","Prize Claimed":"bg-blue-200 text-blue-900",Unengaged:"bg-gray-100 text-gray-800",Unknown:"bg-gray-100 text-gray-800"};return l.jsx("span",{className:`inline-flex max-w-[60vw] items-center px-2 py-0.5 sm:px-3 sm:py-1 rounded-full text-xs sm:text-sm font-medium whitespace-nowrap ${Ve[ye]||Ve.Unknown}`,children:ye})};async function vt(){A(!0);try{await(await d(t,"pool").withdrawEscrowedPrize()).wait(),te.success("Prize withdrawn successfully!")}catch(ve){const ye=xl(ve,"withdraw prize");Ta(ve,"Withdraw Prize"),te.error(ye.message)}finally{A(!1)}}const mt=Math.floor(Date.now()/1e3);S&&S.startTime&&mt>=S.startTime;const[Ot,zt]=C.useState(""),[gt,Mr]=C.useState(""),[Gr,vr]=C.useState(!1),[kr,_r]=C.useState(!1),[Di,Qi]=C.useState(!1),[Lt,Sr]=C.useState(!1),[zn,To]=C.useState(!1),[hi,pi]=C.useState(null),[Zr,Hn]=C.useState(null),[mn,mi]=C.useState(0);C.useEffect(()=>{(async()=>{if(!S||!s||![4,5,7,8].includes(S.stateNum)){Qi(!1),Sr(!1),pi(null),Hn(null);return}try{const ye=d&&d(S.address,"pool");if(!ye)return;const Ve=await ye.winnersCount(),Bt=Ve.toNumber?Ve.toNumber():Number(Ve);let or=!1,Nt=null;for(let En=0;En<Bt;En++)try{const Zi=await ye.winners(En);if(Zi.toLowerCase()===s.toLowerCase()){const No=await ye.claimedWins(Zi),ni=await ye.prizeClaimed(Zi),bs=ni.toNumber?ni.toNumber():Number(ni);or=!0,Nt={address:Zi,index:En,claimedWins:No.toNumber?No.toNumber():Number(No),prizeClaimed:bs>0};break}}catch{continue}Qi(or),Hn(Nt);try{const En=await ye.getRefundableAmount(s);pi(En),Sr(En&&En.gt&&En.gt(0))}catch{pi(null),Sr(!1)}}catch{Qi(!1),Sr(!1),pi(null),Hn(null)}})()},[S,d,s]);const ri=C.useCallback(ve=>{B(ye=>ye&&{...ye,winnersSelected:ve})},[]);C.useEffect(()=>{S&&(S.stateNum===3?ae||(ne(Date.now()),console.log(" Raffle entered Drawing state - starting auto-refresh monitoring")):ae&&(ne(null),xe(0),console.log(" Raffle left Drawing state - stopping auto-refresh monitoring")))},[S==null?void 0:S.stateNum,ae]),C.useEffect(()=>{if(!ae||(S==null?void 0:S.stateNum)!==3)return;console.log(" Drawing state active - visual indicator enabled");const ve=setInterval(async()=>{Ce(!0),xe(ye=>ye+1),console.log(` Drawing state monitoring active (${de+1})`);try{const ye=d&&d(S.address,"pool");if(ye){const Ve=await ye.state(),Bt=Ve.toNumber?Ve.toNumber():Number(Ve);Bt!==3&&(console.log(` State changed from Drawing to ${Bt}, triggering refresh`),P())}}catch(ye){console.warn("State polling error:",ye)}setTimeout(()=>{Ce(!1)},3e3)},15e3);return()=>{console.log(" Drawing state monitoring stopped"),clearInterval(ve)}},[ae,S==null?void 0:S.stateNum,S==null?void 0:S.address,de,d,P]);const Vc=!!Zr&&((S==null?void 0:S.isPrized)&&((S==null?void 0:S.stateNum)===4||(S==null?void 0:S.stateNum)===6)||(S==null?void 0:S.isPrized)===!1&&(Ae===!0||(S==null?void 0:S.isCollabPool)===!0)&&(S==null?void 0:S.stateNum)===4),zv=Zr&&Zr.prizeClaimed,Bv=(!(S!=null&&S.usesCustomFee)||(S==null?void 0:S.isPrized)||(S==null?void 0:S.isCollabPool))&&[4,5,6,7].includes(S==null?void 0:S.stateNum)&&Lt&&hi&&hi.gt&&hi.gt(0),wd=async()=>{if(!s||!S||!d){te.error("Please connect your wallet to claim your prize");return}if(!Di||!Zr){te.error("You are not a winner of this raffle");return}if(Zr.prizeClaimed){te.error("You have already claimed your prize");return}vr(!0);try{const ve=d(S.address,"pool");if(!ve)throw new Error("Failed to get pool contract");const ye=await f(ve.claimPrize);if(ye.success){let Ve="prize";S.nativePrizeAmount&&S.nativePrizeAmount.gt&&S.nativePrizeAmount.gt(0)?Ve=x(S.nativePrizeAmount):S.erc20PrizeToken&&S.erc20PrizeToken!==He&&S.erc20PrizeAmount&&S.erc20PrizeAmount.gt&&S.erc20PrizeAmount.gt(0)?Ve=`${og(S.erc20PrizeAmount,18)} ERC20 tokens`:S.prizeCollection&&S.prizeCollection!==He&&(Ve=S.standard===0?"ERC721 NFT":"ERC1155 NFT"),te.success(`Successfully claimed your ${Ve}!`),window.location.reload()}else throw new Error(ye.error)}catch(ve){const ye=Ta(ve,"claim prize",{raffleAddress:S.address,userAddress:s,prizeType:S.standard});te.error(ye.message),ye.suggestedAction&&setTimeout(()=>{te.info(ye.suggestedAction)},500)}finally{vr(!1)}},kd=async()=>{if(!s||!S||!d){te.error("Please connect your wallet to claim your refund");return}_r(!0);try{const ve=d(S.address,"pool");if(!ve)throw new Error("Failed to get pool contract");const ye=await f(ve.claimRefund);if(ye.success)te.success("Successfully claimed your refund!"),P();else throw new Error(ye.error)}catch(ve){const ye=xl(ve,"claim refund");Ta(ve,"Claim Refund"),te.error(ye.message)}finally{_r(!1)}};if($||c)return l.jsx(yl,{className:"max-w-[85rem]",children:l.jsx(JF,{message:c?"Reconnecting wallet...":"Loading raffle details...",isMobile:m})});if(G&&!$&&!c){const ve=G.toLowerCase().includes("wallet")||G.toLowerCase().includes("signer")||G.toLowerCase().includes("initializing");return l.jsx(yl,{variant:"wide",className:"max-w-[85rem] pt-8 pb-4",children:l.jsxs("div",{className:"text-center py-16",children:[l.jsx(dr,{className:"h-16 w-16 text-destructive mx-auto mb-4"}),l.jsx("h2",{className:"font-display text-[length:var(--text-3xl)] font-bold mb-4 leading-tight",children:ve?"Wallet Connection Issue":"Failed to Load Raffle"}),l.jsx("p",{className:"text-muted-foreground mb-4 max-w-md mx-auto",children:ve?"Please ensure your wallet is connected and try again.":G}),l.jsxs("div",{className:"flex gap-4 justify-center",children:[l.jsx("button",{onClick:ze,className:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90 transition-colors",children:"Try Again"}),l.jsx("button",{onClick:()=>n("/"),className:"bg-muted text-muted-foreground px-4 py-2 rounded-md hover:bg-muted/80 transition-colors",children:"Back to Home"})]})]})})}if(!S)return l.jsx(yl,{variant:"wide",className:"max-w-[85rem] pt-8 pb-4",children:l.jsxs("div",{className:"text-center py-16",children:[l.jsx(dr,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),l.jsx("h2",{className:"font-display text-[length:var(--text-3xl)] font-bold mb-4 leading-tight",children:"Raffle Not Found"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"The raffle you're looking for doesn't exist or has been removed."}),l.jsx("button",{onClick:()=>n("/"),className:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90 transition-colors",children:"Back to Home"})]})});const aa=S&&S.prizeCollection&&S.prizeCollection!==He&&S.standard===0&&S.isCollabPool===!0;return l.jsxs(yl,{variant:"wide",className:"max-w-[85rem] pt-8 pb-4",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("button",{onClick:()=>n("/app"),className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors mb-4",children:[l.jsx(YK,{className:"h-4 w-4"}),"Back to Raffles"]}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h1",{className:"font-display text-[length:var(--text-3xl)] font-bold mb-2 leading-tight",children:S.name}),l.jsx("button",{onClick:()=>{const ve=`${window.location.origin}${w()}`;navigator.clipboard.writeText(ve).then(()=>{te.success("Share link copied to clipboard")}).catch(()=>{te.error("Failed to copy link")})},title:"Copy share link",className:"ml-2 p-1 rounded text-muted-foreground hover:text-foreground focus:outline-none active:outline-none hover:bg-transparent active:bg-transparent",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:l.jsx("path",{d:"M3.9 12a5 5 0 0 1 5-5h2v2h-2a3 3 0 0 0 0 6h2v2h-2a5 5 0 0 1-5-5zm7-1h2v2h-2v-2zm4.1-4a5 5 0 0 1 0 10h-2v-2h2a3 3 0 0 0 0-6h-2V7h2z"})})})]}),Gt&&jde(Gt)&&l.jsx("div",{className:"mt-3",children:l.jsx(fpe,{metadata:Gt,loading:_t})})]}),l.jsxs("div",{className:"flex flex-col items-start sm:flex-row sm:items-center sm:gap-3 gap-2 w-full sm:w-auto",children:[l.jsx("div",{className:"self-start sm:self-auto",children:Nr()}),(me||(S==null?void 0:S.stateNum)===3&&ae)&&l.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-sm",children:[l.jsx("div",{className:"animate-spin h-3 w-3 border border-blue-500 border-t-transparent rounded-full"}),m?"Checking for winners...":"Checking for winner selection..."]}),pt()&&l.jsxs(qe,{onClick:Ge,className:"flex items-center gap-2 bg-[#614E41] text-white px-4 py-2 rounded-md hover:bg-[#4a3a30] transition-colors text-sm font-medium",title:S.slotsSold>0?"Delete pool (refunds will be processed automatically)":"Delete this pool",disabled:T,children:[l.jsx(dS,{className:"h-4 w-4"}),T?"Deleting...":"Delete Pool"]}),i&&(s==null?void 0:s.toLowerCase())===S.creator.toLowerCase()&&(S.isPrized||aa||!S.isPrized&&Ae)&&S.prizeCollection&&S.prizeCollection!==He&&(!S.erc20PrizeAmount||((Cg=(Wc=S.erc20PrizeAmount).isZero)==null?void 0:Cg.call(Wc))||S.erc20PrizeAmount==="0")&&(!S.nativePrizeAmount||((_d=(Sg=S.nativePrizeAmount).isZero)==null?void 0:_d.call(Sg))||S.nativePrizeAmount==="0")&&!W&&S.stateNum===4&&l.jsx("div",{className:"flex flex-col sm:flex-row gap-2 items-center",children:Ct?l.jsxs("div",{ref:Tt,className:"flex flex-col sm:flex-row gap-2 items-center",children:[l.jsx("input",{type:"text",placeholder:"Enter winner address",value:Xt,onChange:ve=>xt(ve.target.value),className:"px-3 py-2.5 border-2 border-[#614E41] rounded-md bg-background w-72 font-mono focus:outline-none focus:ring-0",disabled:Fe}),l.jsx(qe,{onClick:St,disabled:Fe||!Xt||Xt.length!==42,className:"bg-[#614E41] text-white px-4 py-2 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50",children:Fe?"Minting...":"Submit"}),l.jsx(qe,{variant:"outline",onClick:()=>rt(!1),disabled:Fe,className:"sm:ml-2 border-2 border-[#614E41]",children:"Cancel"})]}):l.jsx(qe,{onClick:()=>rt(!0),className:"bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:"Mint to Winner"})}),i&&(s==null?void 0:s.toLowerCase())===S.creator.toLowerCase()&&W&&S.stateNum===7&&l.jsx(qe,{onClick:vt,className:"sm:ml-2 bg-warning text-warning-foreground hover:bg-warning/90",disabled:b,children:b?"Withdrawing...":"Withdraw Prize"}),[4,5,6,7,8].includes(S.stateNum)&&(S==null?void 0:S.isVrfConsumer)===!0&&l.jsx(qe,{onClick:async()=>{try{j(!0);const ve=d(S.address,"pool");if(!ve)throw new Error("Failed to get raffle contract");const ye=await f(ve.removeFromVRFSubscription);if(ye!=null&&ye.success)te.success("VRF status updated successfully"),B(Ve=>Ve&&{...Ve,isVrfConsumer:!1}),P==null||P();else if(ye!=null&&ye.error)throw new Error(ye.error)}catch(ve){const ye=xl(ve,"update VRF status");Ta(ve,"Update VRF Status"),te.error(ye.message)}finally{j(!1)}},disabled:D,className:"sm:ml-2 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:D?"Updating...":"Update VRF Status"})]})]}),pt()&&S.slotsSold>0&&l.jsx("div",{className:"mt-4 p-4 bg-blue-50/80 dark:bg-blue-900/20 backdrop-blur-sm border border-blue-200/50 dark:border-blue-700/50 rounded-lg",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[" As the pool creator, you can delete this pool. Deletion will automatically process refunds for all ",S.slotsSold," sold slots."]})})]}),l.jsx("div",{className:"detail-beige-card mb-8 p-4 bg-card/80 text-foreground backdrop-blur-sm border border-border rounded-xl shadow-lg",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-3 text-center items-center text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-body text-[length:var(--text-base)] font-medium mb-1",children:S.slotsSold}),l.jsx("p",{className:"text-xs text-foreground/70 dark:text-foreground/80",children:"Slots Sold"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-body text-[length:var(--text-base)] font-medium mb-1",children:S.slotLimit}),l.jsx("p",{className:"text-xs text-foreground/70 dark:text-foreground/80",children:"Total Slots"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-body text-[length:var(--text-base)] font-medium mb-1",children:S.winnersCount}),l.jsx("p",{className:"text-xs text-foreground/70 dark:text-foreground/80",children:"Winners"})]}),l.jsxs("div",{children:[l.jsx("p",{className:`font-medium mb-1 ${m?"text-base":"text-lg"}`,children:gt}),l.jsx("p",{className:"text-xs text-foreground/70 dark:text-foreground/80",children:Ot})]}),l.jsx("div",{className:"flex justify-center lg:justify-end items-center h-full w-full",children:(he||!(S!=null&&S.usesCustomFee))&&S&&(()=>{const{refundable:ve,reason:ye,label:Ve}=Ape(S);return l.jsxs("span",{className:`px-3 py-1 rounded-full font-semibold ${ve?"bg-green-100 text-green-800":"bg-gray-200 text-gray-800"} text-xs`,title:ye,style:{whiteSpace:"nowrap"},children:[Ve,l.jsx(Vt,{className:"inline-block ml-1 h-4 w-4 text-gray-400 align-middle",title:ye})]})})()})]})}),(S==null?void 0:S.socialEngagementRequired)&&l.jsx("div",{className:"mb-8",children:l.jsx(dpe,{raffle:S,userAddress:s,socialEngagementRequired:S.socialEngagementRequired,hasCompletedSocialEngagement:Z,onVerificationComplete:()=>{P()}})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx(Spe,{raffle:S,onPurchase:mr,timeRemaining:K,winners:[],shouldShowClaimPrize:Vc,prizeAlreadyClaimed:zv,claimingPrize:Gr,handleClaimPrize:wd,shouldShowClaimRefund:Bv,claimingRefund:kr,handleClaimRefund:kd,refundableAmount:hi,isMintableERC721:aa,showMintInput:Ct,setShowMintInput:rt,mintWinnerAddress:Xt,setMintWinnerAddress:xt,mintingToWinner:Fe,handleMintToWinner:St,isEscrowedPrize:W,isCollabPool:Ae,isPrized:S.isPrized,isMobile:m,onStateChange:P,socialEngagementRequired:S==null?void 0:S.socialEngagementRequired,hasCompletedSocialEngagement:Z}),l.jsx(Tpe,{raffle:S,isMintableERC721:aa,isEscrowedPrize:W,isMobile:m,onWinnerCountChange:mi,onWinnersSelectedChange:ri})]}),l.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"detail-beige-card bg-card/80 text-foreground backdrop-blur-sm border border-border rounded-xl p-6 shadow-lg h-full",children:[l.jsx("h3",{className:`font-semibold mb-4 ${m?"text-base":"text-lg"}`,children:"Raffle Details"}),l.jsxs("div",{className:"space-y-3 text-sm",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground",children:"Creator:"}),l.jsx("span",{className:"font-mono text-foreground",title:S.creator,children:m?`${S.creator.slice(0,12)}...`:`${S.creator.slice(0,16)}...`})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground",children:"Pool Contract:"}),l.jsx("a",{href:sC(S.address,S.chainId),target:"_blank",rel:"noopener noreferrer",className:"font-mono text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",title:S.address,children:m?`${S.address.slice(0,12)}...`:`${S.address.slice(0,16)}...`})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground",children:"Start Time:"}),l.jsx("span",{children:new Date(S.startTime*1e3).toLocaleString()})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:["Raffle Duration",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx("span",{className:"inline-flex items-center cursor-help","aria-label":"Raffle Duration info",children:l.jsx(Vt,{className:"h-3.5 w-3.5 opacity-70"})})}),l.jsx(sr,{side:"top",align:"center",children:"Shows the default duration until the raffle ends, then shows the actual duration taken."})]})]}),l.jsx("span",{children:(()=>{const ve=[2,3,4,5,6,7,8].includes(S.stateNum),ye=(S==null?void 0:S.actualDuration)&&(S.actualDuration.toNumber?S.actualDuration.toNumber():Number(S.actualDuration)),Ve=S==null?void 0:S.duration,Bt=ve&&ye&&ye>0?ye>Ve?Ve:ye:Ve;return Te(Bt)})()})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground",children:"End Time:"}),l.jsx("span",{children:v(S.slotFee)})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground",children:"Total Participants:"}),l.jsx("span",{children:Number(S.uniqueParticipants||0).toLocaleString()})]}),S.nativePrizeAmount&&S.nativePrizeAmount.gt&&S.nativePrizeAmount.gt(0)&&l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground",children:"Prize Amount:"}),l.jsx("span",{children:x(S.nativePrizeAmount)})]}),S.erc20PrizeToken&&S.erc20PrizeToken!==He&&S.erc20PrizeAmount&&S.erc20PrizeAmount.gt&&S.erc20PrizeAmount.gt(0)&&l.jsx(Npe,{token:S.erc20PrizeToken,amount:S.erc20PrizeAmount}),S.prizeCollection&&S.prizeCollection!==He&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Prize Collection:"}),l.jsx("a",{href:sC(S.prizeCollection,S.chainId),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 underline hover:text-blue-800 dark:hover:text-blue-200",title:S.prizeCollection,children:k||`${S.prizeCollection.slice(0,10)}...${S.prizeCollection.slice(-8)}`})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-foreground/80 dark:text-foreground",children:W?"Prize Type:":"Collection Type:"}),l.jsx("span",{className:"font-semibold",children:(()=>{if(typeof W=="boolean"&&typeof S.standard<"u"){if(!W&&S.standard===0)return"Mintable ERC721";if(!W&&S.standard===1)return"Mintable ERC1155";if(W&&S.standard===0)return"Escrowed ERC721";if(W&&S.standard===1)return"Escrowed ERC1155"}return"Unknown"})()})]}),W&&S.prizeTokenId!==void 0&&S.prizeTokenId!==null&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-foreground/80 dark:text-foreground",children:"Prize Token ID:"}),l.jsx("span",{className:"font-mono font-semibold",children:S.prizeTokenId.toString?S.prizeTokenId.toString():S.prizeTokenId})]})]})]})]}),l.jsx(Epe,{raffle:S,isMintableERC721:aa,isEscrowedPrize:W})]})]})]})};function fk(){const[t]=K$(),e=Ua(),[r,n]=C.useState("processing"),[i,s]=C.useState("Processing authentication...");C.useEffect(()=>{o()},[]);const o=async()=>{try{const a=t.get("code"),c=t.get("state"),d=t.get("error"),f=t.get("error_description");if(d){n("error"),s(`Authentication failed: ${f||d}`),qi.error(`Authentication failed: ${f||d}`),setTimeout(()=>{window.close(),e("/")},3e3);return}if(!a||!c){n("error"),s("Missing authorization code or state parameter"),qi.error("Invalid callback parameters"),setTimeout(()=>{window.close(),e("/")},3e3);return}let p;try{p=JSON.parse(atob(c))}catch{n("error"),s("Invalid state parameter"),qi.error("Invalid authentication state"),setTimeout(()=>{window.close(),e("/")},3e3);return}const{wallet_address:g}=p;if(!g){n("error"),s("Missing wallet address in state"),qi.error("Invalid authentication state"),setTimeout(()=>{window.close(),e("/")},3e3);return}const m=window.location.pathname;let v="twitter";m.includes("/discord")?v="discord":m.includes("/telegram")&&(v="telegram"),s(`Completing ${v} authentication...`);let x;switch(v){case"twitter":x=await Vs.handleTwitterCallback(a,c,g);break;case"discord":x=await Vs.handleDiscordCallback(a,c,g);break;default:throw new Error(`Unsupported platform: ${v}`)}x.success?(n("success"),s(`${v.charAt(0).toUpperCase()+v.slice(1)} account connected successfully!`),qi.success(`${v.charAt(0).toUpperCase()+v.slice(1)} account connected!`),localStorage.setItem("oauth_success",JSON.stringify({platform:v,timestamp:Date.now()})),setTimeout(()=>{window.close()},2e3)):(n("error"),s(x.error||"Authentication failed"),qi.error(x.error||"Authentication failed"),setTimeout(()=>{window.close(),e("/")},3e3))}catch(a){console.error("Callback error:",a),n("error"),s(a.message||"An unexpected error occurred"),qi.error("Authentication failed"),setTimeout(()=>{window.close(),e("/")},3e3)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsx("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-8",children:l.jsxs("div",{className:"text-center",children:[r==="processing"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Processing..."}),l.jsx("p",{className:"text-gray-600",children:i})]}),r==="success"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-green-600 mb-4",children:l.jsx("svg",{className:"h-16 w-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Success!"}),l.jsx("p",{className:"text-gray-600",children:i}),l.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"This window will close automatically..."})]}),r==="error"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-red-600 mb-4",children:l.jsx("svg",{className:"h-16 w-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error"}),l.jsx("p",{className:"text-gray-600",children:i}),l.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"This window will close automatically..."})]})]})})})}const jpe=()=>{const{isMobile:t,isInitialized:e}=pn(),{component:r}=Fte();return C.useEffect(()=>{Bte();const n=Ute();return()=>{$te(),n&&n()}},[]),e?l.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[l.jsx(mte,{}),l.jsx("main",{className:"flex-1 min-h-0 pt-20 pb-8",children:l.jsxs(O$,{children:[l.jsx(va,{path:"/",element:l.jsx(Kce,{})}),l.jsx(va,{path:"/app",element:l.jsx(lue,{})}),l.jsx(va,{path:"/profile",element:l.jsx(zue,{})}),l.jsx(va,{path:"/create-raffle",element:l.jsx(bde,{})}),l.jsx(va,{path:"/raffle/:raffleAddress",element:l.jsx(oM,{})}),l.jsx(va,{path:"/:chainSlug/raffle/:raffleAddress",element:l.jsx(oM,{})}),l.jsx(va,{path:"/auth/callback/twitter",element:l.jsx(fk,{})}),l.jsx(va,{path:"/auth/callback/discord",element:l.jsx(fk,{})}),l.jsx(va,{path:"/auth/callback/telegram",element:l.jsx(fk,{})})]})}),l.jsx(Dte,{}),l.jsx(sW,{}),r]}):l.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold mb-2",style:{fontFamily:"Orbitron, monospace"},children:"Dropr"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading..."})]})})};function Ppe(){return l.jsx(Ote,{children:l.jsx(dW,{children:l.jsx(wV,{children:l.jsx(uW,{children:l.jsx(fW,{children:l.jsx(W$,{children:l.jsx(jpe,{})})})})})})})}const Rpe=console.error;console.error=(...t)=>{const e=t.join(" ");e.includes("Invalid Sentry Dsn")||e.includes("Sentry")||Rpe.apply(console,t)};console.log("main.jsx is executing...");const oC=document.getElementById("root");console.log("Root element found:",oC);if(oC){const t=q8.createRoot(oC);console.log("React root created"),t.render(l.jsx(Ppe,{})),console.log("React app rendered")}else console.error("Root element not found!");
